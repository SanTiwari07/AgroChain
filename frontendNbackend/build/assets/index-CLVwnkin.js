function cz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kE={exports:{}},am={},ME={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function xee(){if(I4)return on;I4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function w(ue){return ue===null||typeof ue!="object"?null:(ue=m&&ue[m]||ue["@@iterator"],typeof ue=="function"?ue:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,_={};function C(ue,he,xe){this.props=ue,this.context=he,this.refs=_,this.updater=xe||A}C.prototype.isReactComponent={},C.prototype.setState=function(ue,he){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,he,"setState")},C.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function R(){}R.prototype=C.prototype;function j(ue,he,xe){this.props=ue,this.context=he,this.refs=_,this.updater=xe||A}var k=j.prototype=new R;k.constructor=j,I(k,C.prototype),k.isPureReactComponent=!0;var U=Array.isArray,D=Object.prototype.hasOwnProperty,B={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function M(ue,he,xe){var Re,Ue={},Me=null,ke=null;if(he!=null)for(Re in he.ref!==void 0&&(ke=he.ref),he.key!==void 0&&(Me=""+he.key),he)D.call(he,Re)&&!O.hasOwnProperty(Re)&&(Ue[Re]=he[Re]);var De=arguments.length-2;if(De===1)Ue.children=xe;else if(1<De){for(var Pe=Array(De),Fe=0;Fe<De;Fe++)Pe[Fe]=arguments[Fe+2];Ue.children=Pe}if(ue&&ue.defaultProps)for(Re in De=ue.defaultProps,De)Ue[Re]===void 0&&(Ue[Re]=De[Re]);return{$$typeof:t,type:ue,key:Me,ref:ke,props:Ue,_owner:B.current}}function V(ue,he){return{$$typeof:t,type:ue.type,key:he,ref:ue.ref,props:ue.props,_owner:ue._owner}}function K(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===t}function W(ue){var he={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(xe){return he[xe]})}var G=/\/+/g;function $(ue,he){return typeof ue=="object"&&ue!==null&&ue.key!=null?W(""+ue.key):he.toString(36)}function ce(ue,he,xe,Re,Ue){var Me=typeof ue;(Me==="undefined"||Me==="boolean")&&(ue=null);var ke=!1;if(ue===null)ke=!0;else switch(Me){case"string":case"number":ke=!0;break;case"object":switch(ue.$$typeof){case t:case e:ke=!0}}if(ke)return ke=ue,Ue=Ue(ke),ue=Re===""?"."+$(ke,0):Re,U(Ue)?(xe="",ue!=null&&(xe=ue.replace(G,"$&/")+"/"),ce(Ue,he,xe,"",function(Fe){return Fe})):Ue!=null&&(K(Ue)&&(Ue=V(Ue,xe+(!Ue.key||ke&&ke.key===Ue.key?"":(""+Ue.key).replace(G,"$&/")+"/")+ue)),he.push(Ue)),1;if(ke=0,Re=Re===""?".":Re+":",U(ue))for(var De=0;De<ue.length;De++){Me=ue[De];var Pe=Re+$(Me,De);ke+=ce(Me,he,xe,Pe,Ue)}else if(Pe=w(ue),typeof Pe=="function")for(ue=Pe.call(ue),De=0;!(Me=ue.next()).done;)Me=Me.value,Pe=Re+$(Me,De++),ke+=ce(Me,he,xe,Pe,Ue);else if(Me==="object")throw he=String(ue),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.");return ke}function J(ue,he,xe){if(ue==null)return ue;var Re=[],Ue=0;return ce(ue,Re,"","",function(Me){return he.call(xe,Me,Ue++)}),Re}function oe(ue){if(ue._status===-1){var he=ue._result;he=he(),he.then(function(xe){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=xe)},function(xe){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=xe)}),ue._status===-1&&(ue._status=0,ue._result=he)}if(ue._status===1)return ue._result.default;throw ue._result}var ae={current:null},re={transition:null},pe={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:re,ReactCurrentOwner:B};function we(){throw Error("act(...) is not supported in production builds of React.")}return on.Children={map:J,forEach:function(ue,he,xe){J(ue,function(){he.apply(this,arguments)},xe)},count:function(ue){var he=0;return J(ue,function(){he++}),he},toArray:function(ue){return J(ue,function(he){return he})||[]},only:function(ue){if(!K(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},on.Component=C,on.Fragment=n,on.Profiler=i,on.PureComponent=j,on.StrictMode=r,on.Suspense=c,on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,on.act=we,on.cloneElement=function(ue,he,xe){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var Re=I({},ue.props),Ue=ue.key,Me=ue.ref,ke=ue._owner;if(he!=null){if(he.ref!==void 0&&(Me=he.ref,ke=B.current),he.key!==void 0&&(Ue=""+he.key),ue.type&&ue.type.defaultProps)var De=ue.type.defaultProps;for(Pe in he)D.call(he,Pe)&&!O.hasOwnProperty(Pe)&&(Re[Pe]=he[Pe]===void 0&&De!==void 0?De[Pe]:he[Pe])}var Pe=arguments.length-2;if(Pe===1)Re.children=xe;else if(1<Pe){De=Array(Pe);for(var Fe=0;Fe<Pe;Fe++)De[Fe]=arguments[Fe+2];Re.children=De}return{$$typeof:t,type:ue.type,key:Ue,ref:Me,props:Re,_owner:ke}},on.createContext=function(ue){return ue={$$typeof:o,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:s,_context:ue},ue.Consumer=ue},on.createElement=M,on.createFactory=function(ue){var he=M.bind(null,ue);return he.type=ue,he},on.createRef=function(){return{current:null}},on.forwardRef=function(ue){return{$$typeof:a,render:ue}},on.isValidElement=K,on.lazy=function(ue){return{$$typeof:g,_payload:{_status:-1,_result:ue},_init:oe}},on.memo=function(ue,he){return{$$typeof:u,type:ue,compare:he===void 0?null:he}},on.startTransition=function(ue){var he=re.transition;re.transition={};try{ue()}finally{re.transition=he}},on.unstable_act=we,on.useCallback=function(ue,he){return ae.current.useCallback(ue,he)},on.useContext=function(ue){return ae.current.useContext(ue)},on.useDebugValue=function(){},on.useDeferredValue=function(ue){return ae.current.useDeferredValue(ue)},on.useEffect=function(ue,he){return ae.current.useEffect(ue,he)},on.useId=function(){return ae.current.useId()},on.useImperativeHandle=function(ue,he,xe){return ae.current.useImperativeHandle(ue,he,xe)},on.useInsertionEffect=function(ue,he){return ae.current.useInsertionEffect(ue,he)},on.useLayoutEffect=function(ue,he){return ae.current.useLayoutEffect(ue,he)},on.useMemo=function(ue,he){return ae.current.useMemo(ue,he)},on.useReducer=function(ue,he,xe){return ae.current.useReducer(ue,he,xe)},on.useRef=function(ue){return ae.current.useRef(ue)},on.useState=function(ue){return ae.current.useState(ue)},on.useSyncExternalStore=function(ue,he,xe){return ae.current.useSyncExternalStore(ue,he,xe)},on.useTransition=function(){return ae.current.useTransition()},on.version="18.3.1",on}var P4;function cO(){return P4||(P4=1,ME.exports=xee()),ME.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4;function bee(){if(N4)return am;N4=1;var t=cO(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var g,m={},w=null,A=null;u!==void 0&&(w=""+u),c.key!==void 0&&(w=""+c.key),c.ref!==void 0&&(A=c.ref);for(g in c)r.call(c,g)&&!s.hasOwnProperty(g)&&(m[g]=c[g]);if(a&&a.defaultProps)for(g in c=a.defaultProps,c)m[g]===void 0&&(m[g]=c[g]);return{$$typeof:e,type:a,key:w,ref:A,props:m,_owner:i.current}}return am.Fragment=n,am.jsx=o,am.jsxs=o,am}var O4;function Aee(){return O4||(O4=1,kE.exports=bee()),kE.exports}var P=Aee(),L1={},DE={exports:{}},mo={},LE={exports:{}},BE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R4;function Eee(){return R4||(R4=1,(function(t){function e(re,pe){var we=re.length;re.push(pe);e:for(;0<we;){var ue=we-1>>>1,he=re[ue];if(0<i(he,pe))re[ue]=pe,re[we]=he,we=ue;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var pe=re[0],we=re.pop();if(we!==pe){re[0]=we;e:for(var ue=0,he=re.length,xe=he>>>1;ue<xe;){var Re=2*(ue+1)-1,Ue=re[Re],Me=Re+1,ke=re[Me];if(0>i(Ue,we))Me<he&&0>i(ke,Ue)?(re[ue]=ke,re[Me]=we,ue=Me):(re[ue]=Ue,re[Re]=we,ue=Re);else if(Me<he&&0>i(ke,we))re[ue]=ke,re[Me]=we,ue=Me;else break e}}return pe}function i(re,pe){var we=re.sortIndex-pe.sortIndex;return we!==0?we:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],g=1,m=null,w=3,A=!1,I=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(re){for(var pe=n(u);pe!==null;){if(pe.callback===null)r(u);else if(pe.startTime<=re)r(u),pe.sortIndex=pe.expirationTime,e(c,pe);else break;pe=n(u)}}function U(re){if(_=!1,k(re),!I)if(n(c)!==null)I=!0,oe(D);else{var pe=n(u);pe!==null&&ae(U,pe.startTime-re)}}function D(re,pe){I=!1,_&&(_=!1,R(M),M=-1),A=!0;var we=w;try{for(k(pe),m=n(c);m!==null&&(!(m.expirationTime>pe)||re&&!W());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,w=m.priorityLevel;var he=ue(m.expirationTime<=pe);pe=t.unstable_now(),typeof he=="function"?m.callback=he:m===n(c)&&r(c),k(pe)}else r(c);m=n(c)}if(m!==null)var xe=!0;else{var Re=n(u);Re!==null&&ae(U,Re.startTime-pe),xe=!1}return xe}finally{m=null,w=we,A=!1}}var B=!1,O=null,M=-1,V=5,K=-1;function W(){return!(t.unstable_now()-K<V)}function G(){if(O!==null){var re=t.unstable_now();K=re;var pe=!0;try{pe=O(!0,re)}finally{pe?$():(B=!1,O=null)}}else B=!1}var $;if(typeof j=="function")$=function(){j(G)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,J=ce.port2;ce.port1.onmessage=G,$=function(){J.postMessage(null)}}else $=function(){C(G,0)};function oe(re){O=re,B||(B=!0,$())}function ae(re,pe){M=C(function(){re(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){I||A||(I=!0,oe(D))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var we=w;w=pe;try{return re()}finally{w=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var we=w;w=re;try{return pe()}finally{w=we}},t.unstable_scheduleCallback=function(re,pe,we){var ue=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?ue+we:ue):we=ue,re){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=we+he,re={id:g++,callback:pe,priorityLevel:re,startTime:we,expirationTime:he,sortIndex:-1},we>ue?(re.sortIndex=we,e(u,re),n(c)===null&&re===n(u)&&(_?(R(M),M=-1):_=!0,ae(U,we-ue))):(re.sortIndex=he,e(c,re),I||A||(I=!0,oe(D))),re},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(re){var pe=w;return function(){var we=w;w=pe;try{return re.apply(this,arguments)}finally{w=we}}}})(BE)),BE}var k4;function See(){return k4||(k4=1,LE.exports=Eee()),LE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M4;function _ee(){if(M4)return mo;M4=1;var t=cO(),e=See();function n(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(f,p){o(f,p),o(f+"Capture",p)}function o(f,p){for(i[f]=p,f=0;f<p.length;f++)r.add(p[f])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function w(f){return c.call(m,f)?!0:c.call(g,f)?!1:u.test(f)?m[f]=!0:(g[f]=!0,!1)}function A(f,p,b,T){if(b!==null&&b.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return T?!1:b!==null?!b.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function I(f,p,b,T){if(p===null||typeof p>"u"||A(f,p,b,T))return!0;if(T)return!1;if(b!==null)switch(b.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function _(f,p,b,T,F,H,ee){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=T,this.attributeNamespace=F,this.mustUseProperty=b,this.propertyName=f,this.type=p,this.sanitizeURL=H,this.removeEmptyString=ee}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){C[f]=new _(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];C[p]=new _(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){C[f]=new _(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){C[f]=new _(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){C[f]=new _(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){C[f]=new _(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){C[f]=new _(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){C[f]=new _(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){C[f]=new _(f,5,!1,f.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function j(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(R,j);C[p]=new _(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(R,j);C[p]=new _(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(R,j);C[p]=new _(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){C[f]=new _(f,1,!1,f.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){C[f]=new _(f,1,!1,f.toLowerCase(),null,!0,!0)});function k(f,p,b,T){var F=C.hasOwnProperty(p)?C[p]:null;(F!==null?F.type!==0:T||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(I(p,b,F,T)&&(b=null),T||F===null?w(p)&&(b===null?f.removeAttribute(p):f.setAttribute(p,""+b)):F.mustUseProperty?f[F.propertyName]=b===null?F.type===3?!1:"":b:(p=F.attributeName,T=F.attributeNamespace,b===null?f.removeAttribute(p):(F=F.type,b=F===3||F===4&&b===!0?"":""+b,T?f.setAttributeNS(T,p,b):f.setAttribute(p,b))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),B=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),W=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(f){return f===null||typeof f!="object"?null:(f=re&&f[re]||f["@@iterator"],typeof f=="function"?f:null)}var we=Object.assign,ue;function he(f){if(ue===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);ue=p&&p[1]||""}return`
`+ue+f}var xe=!1;function Re(f,p){if(!f||xe)return"";xe=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ne){var T=Ne}Reflect.construct(f,[],p)}else{try{p.call()}catch(Ne){T=Ne}f.call(p.prototype)}else{try{throw Error()}catch(Ne){T=Ne}f()}}catch(Ne){if(Ne&&T&&typeof Ne.stack=="string"){for(var F=Ne.stack.split(`
`),H=T.stack.split(`
`),ee=F.length-1,fe=H.length-1;1<=ee&&0<=fe&&F[ee]!==H[fe];)fe--;for(;1<=ee&&0<=fe;ee--,fe--)if(F[ee]!==H[fe]){if(ee!==1||fe!==1)do if(ee--,fe--,0>fe||F[ee]!==H[fe]){var ge=`
`+F[ee].replace(" at new "," at ");return f.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",f.displayName)),ge}while(1<=ee&&0<=fe);break}}}finally{xe=!1,Error.prepareStackTrace=b}return(f=f?f.displayName||f.name:"")?he(f):""}function Ue(f){switch(f.tag){case 5:return he(f.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 2:case 15:return f=Re(f.type,!1),f;case 11:return f=Re(f.type.render,!1),f;case 1:return f=Re(f.type,!0),f;default:return""}}function Me(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case O:return"Fragment";case B:return"Portal";case V:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case ce:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case W:return(f.displayName||"Context")+".Consumer";case K:return(f._context.displayName||"Context")+".Provider";case G:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case J:return p=f.displayName||null,p!==null?p:Me(f.type)||"Memo";case oe:p=f._payload,f=f._init;try{return Me(f(p))}catch{}}return null}function ke(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(p);case 8:return p===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function De(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Pe(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Fe(f){var p=Pe(f)?"checked":"value",b=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),T=""+f[p];if(!f.hasOwnProperty(p)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var F=b.get,H=b.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return F.call(this)},set:function(ee){T=""+ee,H.call(this,ee)}}),Object.defineProperty(f,p,{enumerable:b.enumerable}),{getValue:function(){return T},setValue:function(ee){T=""+ee},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function Ge(f){f._valueTracker||(f._valueTracker=Fe(f))}function Te(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var b=p.getValue(),T="";return f&&(T=Pe(f)?f.checked?"true":"false":f.value),f=T,f!==b?(p.setValue(f),!0):!1}function et(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function dt(f,p){var b=p.checked;return we({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??f._wrapperState.initialChecked})}function Ft(f,p){var b=p.defaultValue==null?"":p.defaultValue,T=p.checked!=null?p.checked:p.defaultChecked;b=De(p.value!=null?p.value:b),f._wrapperState={initialChecked:T,initialValue:b,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Yt(f,p){p=p.checked,p!=null&&k(f,"checked",p,!1)}function kt(f,p){Yt(f,p);var b=De(p.value),T=p.type;if(b!=null)T==="number"?(b===0&&f.value===""||f.value!=b)&&(f.value=""+b):f.value!==""+b&&(f.value=""+b);else if(T==="submit"||T==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?xt(f,p.type,b):p.hasOwnProperty("defaultValue")&&xt(f,p.type,De(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function Kt(f,p,b){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var T=p.type;if(!(T!=="submit"&&T!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,b||p===f.value||(f.value=p),f.defaultValue=p}b=f.name,b!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,b!==""&&(f.name=b)}function xt(f,p,b){(p!=="number"||et(f.ownerDocument)!==f)&&(b==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+b&&(f.defaultValue=""+b))}var ii=Array.isArray;function nt(f,p,b,T){if(f=f.options,p){p={};for(var F=0;F<b.length;F++)p["$"+b[F]]=!0;for(b=0;b<f.length;b++)F=p.hasOwnProperty("$"+f[b].value),f[b].selected!==F&&(f[b].selected=F),F&&T&&(f[b].defaultSelected=!0)}else{for(b=""+De(b),p=null,F=0;F<f.length;F++){if(f[F].value===b){f[F].selected=!0,T&&(f[F].defaultSelected=!0);return}p!==null||f[F].disabled||(p=f[F])}p!==null&&(p.selected=!0)}}function _n(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return we({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function wi(f,p){var b=p.value;if(b==null){if(b=p.children,p=p.defaultValue,b!=null){if(p!=null)throw Error(n(92));if(ii(b)){if(1<b.length)throw Error(n(93));b=b[0]}p=b}p==null&&(p=""),b=p}f._wrapperState={initialValue:De(b)}}function si(f,p){var b=De(p.value),T=De(p.defaultValue);b!=null&&(b=""+b,b!==f.value&&(f.value=b),p.defaultValue==null&&f.defaultValue!==b&&(f.defaultValue=b)),T!=null&&(f.defaultValue=""+T)}function so(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function ln(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nr(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?ln(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var oi,vr=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,b,T,F){MSApp.execUnsafeLocalFunction(function(){return f(p,b,T,F)})}:f})(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=oi.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function Hi(f,p){if(p){var b=f.firstChild;if(b&&b===f.lastChild&&b.nodeType===3){b.nodeValue=p;return}}f.textContent=p}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ws=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(f){ws.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),Us[p]=Us[f]})});function Qn(f,p,b){return p==null||typeof p=="boolean"||p===""?"":b||typeof p!="number"||p===0||Us.hasOwnProperty(f)&&Us[f]?(""+p).trim():p+"px"}function Xe(f,p){f=f.style;for(var b in p)if(p.hasOwnProperty(b)){var T=b.indexOf("--")===0,F=Qn(b,p[b],T);b==="float"&&(b="cssFloat"),T?f.setProperty(b,F):f[b]=F}}var Xn=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cn(f,p){if(p){if(Xn[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Ln(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var is=null;function Pi(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Aa=null,Vt=null,ai=null;function Wo(f){if(f=qg(f)){if(typeof Aa!="function")throw Error(n(280));var p=f.stateNode;p&&(p=Xy(p),Aa(f.stateNode,f.type,p))}}function At(f){Vt?ai?ai.push(f):ai=[f]:Vt=f}function un(){if(Vt){var f=Vt,p=ai;if(ai=Vt=null,Wo(f),p)for(f=0;f<p.length;f++)Wo(p[f])}}function Zn(f,p){return f(p)}function fn(){}var li=!1;function Jn(f,p,b){if(li)return f(p,b);li=!0;try{return Zn(f,p,b)}finally{li=!1,(Vt!==null||ai!==null)&&(fn(),un())}}function $t(f,p){var b=f.stateNode;if(b===null)return null;var T=Xy(b);if(T===null)return null;b=T[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(f=f.type,T=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!T;break e;default:f=!1}if(f)return null;if(b&&typeof b!="function")throw Error(n(231,p,typeof b));return b}var _o=!1;if(a)try{var On={};Object.defineProperty(On,"passive",{get:function(){_o=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{_o=!1}function jr(f,p,b,T,F,H,ee,fe,ge){var Ne=Array.prototype.slice.call(arguments,3);try{p.apply(b,Ne)}catch(qe){this.onError(qe)}}var wr=!1,qr=null,xr=!1,rt=null,Za={onError:function(f){wr=!0,qr=f}};function Ja(f,p,b,T,F,H,ee,fe,ge){wr=!1,qr=null,jr.apply(Za,arguments)}function Ni(f,p,b,T,F,H,ee,fe,ge){if(Ja.apply(this,arguments),wr){if(wr){var Ne=qr;wr=!1,qr=null}else throw Error(n(198));xr||(xr=!0,rt=Ne)}}function $i(f){var p=f,b=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(b=p.return),f=p.return;while(f)}return p.tag===3?b:null}function Ko(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function xs(f){if($i(f)!==f)throw Error(n(188))}function zs(f){var p=f.alternate;if(!p){if(p=$i(f),p===null)throw Error(n(188));return p!==f?null:f}for(var b=f,T=p;;){var F=b.return;if(F===null)break;var H=F.alternate;if(H===null){if(T=F.return,T!==null){b=T;continue}break}if(F.child===H.child){for(H=F.child;H;){if(H===b)return xs(F),f;if(H===T)return xs(F),p;H=H.sibling}throw Error(n(188))}if(b.return!==T.return)b=F,T=H;else{for(var ee=!1,fe=F.child;fe;){if(fe===b){ee=!0,b=F,T=H;break}if(fe===T){ee=!0,T=F,b=H;break}fe=fe.sibling}if(!ee){for(fe=H.child;fe;){if(fe===b){ee=!0,b=H,T=F;break}if(fe===T){ee=!0,T=H,b=F;break}fe=fe.sibling}if(!ee)throw Error(n(189))}}if(b.alternate!==T)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?f:p}function yf(f){return f=zs(f),f!==null?Gc(f):null}function Gc(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=Gc(f);if(p!==null)return p;f=f.sibling}return null}var ss=e.unstable_scheduleCallback,ci=e.unstable_cancelCallback,$n=e.unstable_shouldYield,td=e.unstable_requestPaint,vn=e.unstable_now,qc=e.unstable_getCurrentPriorityLevel,Be=e.unstable_ImmediatePriority,el=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Yo=e.unstable_LowPriority,nd=e.unstable_IdlePriority,sn=null,Gt=null;function Zt(f){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(sn,f,void 0,(f.current.flags&128)===128)}catch{}}var Oi=Math.clz32?Math.clz32:Or,Fl=Math.log,Wc=Math.LN2;function Or(f){return f>>>=0,f===0?32:31-(Fl(f)/Wc|0)|0}var Hs=64,Kc=4194304;function Bn(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function bs(f,p){var b=f.pendingLanes;if(b===0)return 0;var T=0,F=f.suspendedLanes,H=f.pingedLanes,ee=b&268435455;if(ee!==0){var fe=ee&~F;fe!==0?T=Bn(fe):(H&=ee,H!==0&&(T=Bn(H)))}else ee=b&~F,ee!==0?T=Bn(ee):H!==0&&(T=Bn(H));if(T===0)return 0;if(p!==0&&p!==T&&(p&F)===0&&(F=T&-T,H=p&-p,F>=H||F===16&&(H&4194240)!==0))return p;if((T&4)!==0&&(T|=b&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=T;0<p;)b=31-Oi(p),F=1<<b,T|=f[b],p&=~F;return T}function jg(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(f,p){for(var b=f.suspendedLanes,T=f.pingedLanes,F=f.expirationTimes,H=f.pendingLanes;0<H;){var ee=31-Oi(H),fe=1<<ee,ge=F[ee];ge===-1?((fe&b)===0||(fe&T)!==0)&&(F[ee]=jg(fe,p)):ge<=p&&(f.expiredLanes|=fe),H&=~fe}}function Jt(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Rr(){var f=Hs;return Hs<<=1,(Hs&4194240)===0&&(Hs=64),f}function Ae(f){for(var p=[],b=0;31>b;b++)p.push(f);return p}function ie(f,p,b){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-Oi(p),f[p]=b}function tt(f,p){var b=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var T=f.eventTimes;for(f=f.expirationTimes;0<b;){var F=31-Oi(b),H=1<<F;p[F]=0,T[F]=-1,f[F]=-1,b&=~H}}function ir(f,p){var b=f.entangledLanes|=p;for(f=f.entanglements;b;){var T=31-Oi(b),F=1<<T;F&p|f[T]&p&&(f[T]|=p),b&=~F}}var Mt=0;function tl(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var Yc,Ri,wt,er,vf,wf=!1,oo=[],Wr=null,$s=null,To=null,sr=new Map,Gi=new Map,ki=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(f,p){switch(f){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":sr.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(p.pointerId)}}function Et(f,p,b,T,F,H){return f===null||f.nativeEvent!==H?(f={blockedOn:p,domEventName:b,eventSystemFlags:T,nativeEvent:H,targetContainers:[F]},p!==null&&(p=qg(p),p!==null&&Ri(p)),f):(f.eventSystemFlags|=T,p=f.targetContainers,F!==null&&p.indexOf(F)===-1&&p.push(F),f)}function ui(f,p,b,T,F){switch(p){case"focusin":return Wr=Et(Wr,f,p,b,T,F),!0;case"dragenter":return $s=Et($s,f,p,b,T,F),!0;case"mouseover":return To=Et(To,f,p,b,T,F),!0;case"pointerover":var H=F.pointerId;return sr.set(H,Et(sr.get(H)||null,f,p,b,T,F)),!0;case"gotpointercapture":return H=F.pointerId,Gi.set(H,Et(Gi.get(H)||null,f,p,b,T,F)),!0}return!1}function id(f){var p=Ef(f.target);if(p!==null){var b=$i(p);if(b!==null){if(p=b.tag,p===13){if(p=Ko(b),p!==null){f.blockedOn=p,vf(f.priority,function(){wt(b)});return}}else if(p===3&&b.stateNode.current.memoizedState.isDehydrated){f.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Co(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var b=Ul(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(b===null){b=f.nativeEvent;var T=new b.constructor(b.type,b);is=T,b.target.dispatchEvent(T),is=null}else return p=qg(b),p!==null&&Ri(p),f.blockedOn=b,!1;p.shift()}return!0}function nl(f,p,b){Co(f)&&b.delete(p)}function Qo(){wf=!1,Wr!==null&&Co(Wr)&&(Wr=null),$s!==null&&Co($s)&&($s=null),To!==null&&Co(To)&&(To=null),sr.forEach(nl),Gi.forEach(nl)}function Io(f,p){f.blockedOn===p&&(f.blockedOn=null,wf||(wf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qo)))}function os(f){function p(F){return Io(F,f)}if(0<oo.length){Io(oo[0],f);for(var b=1;b<oo.length;b++){var T=oo[b];T.blockedOn===f&&(T.blockedOn=null)}}for(Wr!==null&&Io(Wr,f),$s!==null&&Io($s,f),To!==null&&Io(To,f),sr.forEach(p),Gi.forEach(p),b=0;b<ki.length;b++)T=ki[b],T.blockedOn===f&&(T.blockedOn=null);for(;0<ki.length&&(b=ki[0],b.blockedOn===null);)id(b),b.blockedOn===null&&ki.shift()}var Gs=U.ReactCurrentBatchConfig,ao=!0;function or(f,p,b,T){var F=Mt,H=Gs.transition;Gs.transition=null;try{Mt=1,Ea(f,p,b,T)}finally{Mt=F,Gs.transition=H}}function Vl(f,p,b,T){var F=Mt,H=Gs.transition;Gs.transition=null;try{Mt=4,Ea(f,p,b,T)}finally{Mt=F,Gs.transition=H}}function Ea(f,p,b,T){if(ao){var F=Ul(f,p,b,T);if(F===null)EA(f,p,T,Kr,b),rd(f,T);else if(ui(F,f,p,b,T))T.stopPropagation();else if(rd(f,T),p&4&&-1<_t.indexOf(f)){for(;F!==null;){var H=qg(F);if(H!==null&&Yc(H),H=Ul(f,p,b,T),H===null&&EA(f,p,T,Kr,b),H===F)break;F=H}F!==null&&T.stopPropagation()}else EA(f,p,T,null,b)}}var Kr=null;function Ul(f,p,b,T){if(Kr=null,f=Pi(T),f=Ef(f),f!==null)if(p=$i(f),p===null)f=null;else if(b=p.tag,b===13){if(f=Ko(p),f!==null)return f;f=null}else if(b===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return Kr=f,null}function Qc(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qc()){case Be:return 1;case el:return 4;case wn:case Yo:return 16;case nd:return 536870912;default:return 16}default:return 16}}var Es=null,Xc=null,Ss=null;function xf(){if(Ss)return Ss;var f,p=Xc,b=p.length,T,F="value"in Es?Es.value:Es.textContent,H=F.length;for(f=0;f<b&&p[f]===F[f];f++);var ee=b-f;for(T=1;T<=ee&&p[b-T]===F[H-T];T++);return Ss=F.slice(f,1<T?1-T:void 0)}function xn(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function Po(){return!0}function rl(){return!1}function ur(f){function p(b,T,F,H,ee){this._reactName=b,this._targetInst=F,this.type=T,this.nativeEvent=H,this.target=ee,this.currentTarget=null;for(var fe in f)f.hasOwnProperty(fe)&&(b=f[fe],this[fe]=b?b(H):H[fe]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Po:rl,this.isPropagationStopped=rl,this}return we(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),p}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ce=ur(No),Pt=we({},No,{view:0,detail:0}),fi=ur(Pt),Sa,Xo,il,zl=we({},Pt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==il&&(il&&f.type==="mousemove"?(Sa=f.screenX-il.screenX,Xo=f.screenY-il.screenY):Xo=Sa=0,il=f),Sa)},movementY:function(f){return"movementY"in f?f.movementY:Xo}}),Zc=ur(zl),Hl=we({},zl,{dataTransfer:0}),kr=ur(Hl),sl=we({},Pt,{relatedTarget:0}),Gn=ur(sl),$l=we({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),as=ur($l),Tn=we({},No,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),bt=ur(Tn),sd=we({},No,{data:0}),Rn=ur(sd),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qs(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=od[f])?!!p[f]:!1}function co(){return qs}var S=we({},Pt,{key:function(f){if(f.key){var p=lo[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=xn(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Yr[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(f){return f.type==="keypress"?xn(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?xn(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),z=ur(S),Y=we({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ne=ur(Y),Ee=we({},Pt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),Oe=ur(Ee),Ze=we({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),kn=ur(Ze),br=we({},zl,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),hn=ur(br),ar=[9,13,27,32],Ar=a&&"CompositionEvent"in window,Er=null;a&&"documentMode"in document&&(Er=document.documentMode);var _s=a&&"TextEvent"in window&&!Er,qi=a&&(!Ar||Er&&8<Er&&11>=Er),Jc=" ",ad=!1;function Gy(f,p){switch(f){case"keyup":return ar.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fg(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ls=!1;function wA(f,p){switch(f){case"compositionend":return Fg(p);case"keypress":return p.which!==32?null:(ad=!0,Jc);case"textInput":return f=p.data,f===Jc&&ad?null:f;default:return null}}function Vg(f,p){if(ls)return f==="compositionend"||!Ar&&Gy(f,p)?(f=xf(),Ss=Xc=Es=null,ls=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return qi&&p.locale!=="ko"?null:p.data;default:return null}}var bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!bf[f.type]:p==="textarea"}function Af(f,p,b,T){At(T),p=Ky(p,"onChange"),0<p.length&&(b=new Ce("onChange","change",null,b,T),f.push({event:b,listeners:p}))}var X=null,l=null;function h(f){$k(f,0)}function d(f){var p=ud(f);if(Te(p))return f}function y(f,p){if(f==="change")return p}var v=!1;if(a){var x;if(a){var E="oninput"in document;if(!E){var N=document.createElement("div");N.setAttribute("oninput","return;"),E=typeof N.oninput=="function"}x=E}else x=!1;v=x&&(!document.documentMode||9<document.documentMode)}function L(){X&&(X.detachEvent("onpropertychange",q),l=X=null)}function q(f){if(f.propertyName==="value"&&d(l)){var p=[];Af(p,l,f,Pi(f)),Jn(h,p)}}function Z(f,p,b){f==="focusin"?(L(),X=p,l=b,X.attachEvent("onpropertychange",q)):f==="focusout"&&L()}function te(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return d(l)}function le(f,p){if(f==="click")return d(p)}function de(f,p){if(f==="input"||f==="change")return d(p)}function me(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var be=typeof Object.is=="function"?Object.is:me;function Ie(f,p){if(be(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var b=Object.keys(f),T=Object.keys(p);if(b.length!==T.length)return!1;for(T=0;T<b.length;T++){var F=b[T];if(!c.call(p,F)||!be(f[F],p[F]))return!1}return!0}function Ke(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Ye(f,p){var b=Ke(f);f=0;for(var T;b;){if(b.nodeType===3){if(T=f+b.textContent.length,f<=p&&T>=p)return{node:b,offset:p-f};f=T}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Ke(b)}}function $e(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?$e(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function tn(){for(var f=window,p=et();p instanceof f.HTMLIFrameElement;){try{var b=typeof p.contentWindow.location.href=="string"}catch{b=!1}if(b)f=p.contentWindow;else break;p=et(f.document)}return p}function Ut(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function Ts(f){var p=tn(),b=f.focusedElem,T=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&$e(b.ownerDocument.documentElement,b)){if(T!==null&&Ut(b)){if(p=T.start,f=T.end,f===void 0&&(f=p),"selectionStart"in b)b.selectionStart=p,b.selectionEnd=Math.min(f,b.value.length);else if(f=(p=b.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var F=b.textContent.length,H=Math.min(T.start,F);T=T.end===void 0?H:Math.min(T.end,F),!f.extend&&H>T&&(F=T,T=H,H=F),F=Ye(b,H);var ee=Ye(b,T);F&&ee&&(f.rangeCount!==1||f.anchorNode!==F.node||f.anchorOffset!==F.offset||f.focusNode!==ee.node||f.focusOffset!==ee.offset)&&(p=p.createRange(),p.setStart(F.node,F.offset),f.removeAllRanges(),H>T?(f.addRange(p),f.extend(ee.node,ee.offset)):(p.setEnd(ee.node,ee.offset),f.addRange(p)))}}for(p=[],f=b;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<p.length;b++)f=p[b],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Oo=a&&"documentMode"in document&&11>=document.documentMode,hi=null,Mn=null,Fr=null,cs=!1;function Gl(f,p,b){var T=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;cs||hi==null||hi!==et(T)||(T=hi,"selectionStart"in T&&Ut(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Fr&&Ie(Fr,T)||(Fr=T,T=Ky(Mn,"onSelect"),0<T.length&&(p=new Ce("onSelect","select",null,p,b),f.push({event:p,listeners:T}),p.target=hi)))}function _a(f,p){var b={};return b[f.toLowerCase()]=p.toLowerCase(),b["Webkit"+f]="webkit"+p,b["Moz"+f]="moz"+p,b}var eu={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionend:_a("Transition","TransitionEnd")},Ug={},Lk={};a&&(Lk=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function qy(f){if(Ug[f])return Ug[f];if(!eu[f])return f;var p=eu[f],b;for(b in p)if(p.hasOwnProperty(b)&&b in Lk)return Ug[f]=p[b];return f}var Bk=qy("animationend"),jk=qy("animationiteration"),Fk=qy("animationstart"),Vk=qy("transitionend"),Uk=new Map,zk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tu(f,p){Uk.set(f,p),s(p,[f])}for(var xA=0;xA<zk.length;xA++){var bA=zk[xA],PJ=bA.toLowerCase(),NJ=bA[0].toUpperCase()+bA.slice(1);tu(PJ,"on"+NJ)}tu(Bk,"onAnimationEnd"),tu(jk,"onAnimationIteration"),tu(Fk,"onAnimationStart"),tu("dblclick","onDoubleClick"),tu("focusin","onFocus"),tu("focusout","onBlur"),tu(Vk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(zg));function Hk(f,p,b){var T=f.type||"unknown-event";f.currentTarget=b,Ni(T,p,void 0,f),f.currentTarget=null}function $k(f,p){p=(p&4)!==0;for(var b=0;b<f.length;b++){var T=f[b],F=T.event;T=T.listeners;e:{var H=void 0;if(p)for(var ee=T.length-1;0<=ee;ee--){var fe=T[ee],ge=fe.instance,Ne=fe.currentTarget;if(fe=fe.listener,ge!==H&&F.isPropagationStopped())break e;Hk(F,fe,Ne),H=ge}else for(ee=0;ee<T.length;ee++){if(fe=T[ee],ge=fe.instance,Ne=fe.currentTarget,fe=fe.listener,ge!==H&&F.isPropagationStopped())break e;Hk(F,fe,Ne),H=ge}}}if(xr)throw f=rt,xr=!1,rt=null,f}function Sr(f,p){var b=p[PA];b===void 0&&(b=p[PA]=new Set);var T=f+"__bubble";b.has(T)||(Gk(p,f,2,!1),b.add(T))}function AA(f,p,b){var T=0;p&&(T|=4),Gk(b,f,T,p)}var Wy="_reactListening"+Math.random().toString(36).slice(2);function Hg(f){if(!f[Wy]){f[Wy]=!0,r.forEach(function(b){b!=="selectionchange"&&(OJ.has(b)||AA(b,!1,f),AA(b,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[Wy]||(p[Wy]=!0,AA("selectionchange",!1,p))}}function Gk(f,p,b,T){switch(Qc(p)){case 1:var F=or;break;case 4:F=Vl;break;default:F=Ea}b=F.bind(null,p,b,f),F=void 0,!_o||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(F=!0),T?F!==void 0?f.addEventListener(p,b,{capture:!0,passive:F}):f.addEventListener(p,b,!0):F!==void 0?f.addEventListener(p,b,{passive:F}):f.addEventListener(p,b,!1)}function EA(f,p,b,T,F){var H=T;if((p&1)===0&&(p&2)===0&&T!==null)e:for(;;){if(T===null)return;var ee=T.tag;if(ee===3||ee===4){var fe=T.stateNode.containerInfo;if(fe===F||fe.nodeType===8&&fe.parentNode===F)break;if(ee===4)for(ee=T.return;ee!==null;){var ge=ee.tag;if((ge===3||ge===4)&&(ge=ee.stateNode.containerInfo,ge===F||ge.nodeType===8&&ge.parentNode===F))return;ee=ee.return}for(;fe!==null;){if(ee=Ef(fe),ee===null)return;if(ge=ee.tag,ge===5||ge===6){T=H=ee;continue e}fe=fe.parentNode}}T=T.return}Jn(function(){var Ne=H,qe=Pi(b),We=[];e:{var He=Uk.get(f);if(He!==void 0){var st=Ce,pt=f;switch(f){case"keypress":if(xn(b)===0)break e;case"keydown":case"keyup":st=z;break;case"focusin":pt="focus",st=Gn;break;case"focusout":pt="blur",st=Gn;break;case"beforeblur":case"afterblur":st=Gn;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=kr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Oe;break;case Bk:case jk:case Fk:st=as;break;case Vk:st=kn;break;case"scroll":st=fi;break;case"wheel":st=hn;break;case"copy":case"cut":case"paste":st=bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=ne}var yt=(p&4)!==0,di=!yt&&f==="scroll",Se=yt?He!==null?He+"Capture":null:He;yt=[];for(var ve=Ne,_e;ve!==null;){_e=ve;var Qe=_e.stateNode;if(_e.tag===5&&Qe!==null&&(_e=Qe,Se!==null&&(Qe=$t(ve,Se),Qe!=null&&yt.push($g(ve,Qe,_e)))),di)break;ve=ve.return}0<yt.length&&(He=new st(He,pt,null,b,qe),We.push({event:He,listeners:yt}))}}if((p&7)===0){e:{if(He=f==="mouseover"||f==="pointerover",st=f==="mouseout"||f==="pointerout",He&&b!==is&&(pt=b.relatedTarget||b.fromElement)&&(Ef(pt)||pt[ql]))break e;if((st||He)&&(He=qe.window===qe?qe:(He=qe.ownerDocument)?He.defaultView||He.parentWindow:window,st?(pt=b.relatedTarget||b.toElement,st=Ne,pt=pt?Ef(pt):null,pt!==null&&(di=$i(pt),pt!==di||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(st=null,pt=Ne),st!==pt)){if(yt=Zc,Qe="onMouseLeave",Se="onMouseEnter",ve="mouse",(f==="pointerout"||f==="pointerover")&&(yt=ne,Qe="onPointerLeave",Se="onPointerEnter",ve="pointer"),di=st==null?He:ud(st),_e=pt==null?He:ud(pt),He=new yt(Qe,ve+"leave",st,b,qe),He.target=di,He.relatedTarget=_e,Qe=null,Ef(qe)===Ne&&(yt=new yt(Se,ve+"enter",pt,b,qe),yt.target=_e,yt.relatedTarget=di,Qe=yt),di=Qe,st&&pt)t:{for(yt=st,Se=pt,ve=0,_e=yt;_e;_e=ld(_e))ve++;for(_e=0,Qe=Se;Qe;Qe=ld(Qe))_e++;for(;0<ve-_e;)yt=ld(yt),ve--;for(;0<_e-ve;)Se=ld(Se),_e--;for(;ve--;){if(yt===Se||Se!==null&&yt===Se.alternate)break t;yt=ld(yt),Se=ld(Se)}yt=null}else yt=null;st!==null&&qk(We,He,st,yt,!1),pt!==null&&di!==null&&qk(We,di,pt,yt,!0)}}e:{if(He=Ne?ud(Ne):window,st=He.nodeName&&He.nodeName.toLowerCase(),st==="select"||st==="input"&&He.type==="file")var vt=y;else if(dn(He))if(v)vt=de;else{vt=te;var Tt=Z}else(st=He.nodeName)&&st.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(vt=le);if(vt&&(vt=vt(f,Ne))){Af(We,vt,b,qe);break e}Tt&&Tt(f,He,Ne),f==="focusout"&&(Tt=He._wrapperState)&&Tt.controlled&&He.type==="number"&&xt(He,"number",He.value)}switch(Tt=Ne?ud(Ne):window,f){case"focusin":(dn(Tt)||Tt.contentEditable==="true")&&(hi=Tt,Mn=Ne,Fr=null);break;case"focusout":Fr=Mn=hi=null;break;case"mousedown":cs=!0;break;case"contextmenu":case"mouseup":case"dragend":cs=!1,Gl(We,b,qe);break;case"selectionchange":if(Oo)break;case"keydown":case"keyup":Gl(We,b,qe)}var Ct;if(Ar)e:{switch(f){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else ls?Gy(f,b)&&(jt="onCompositionEnd"):f==="keydown"&&b.keyCode===229&&(jt="onCompositionStart");jt&&(qi&&b.locale!=="ko"&&(ls||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ls&&(Ct=xf()):(Es=qe,Xc="value"in Es?Es.value:Es.textContent,ls=!0)),Tt=Ky(Ne,jt),0<Tt.length&&(jt=new Rn(jt,f,null,b,qe),We.push({event:jt,listeners:Tt}),Ct?jt.data=Ct:(Ct=Fg(b),Ct!==null&&(jt.data=Ct)))),(Ct=_s?wA(f,b):Vg(f,b))&&(Ne=Ky(Ne,"onBeforeInput"),0<Ne.length&&(qe=new Rn("onBeforeInput","beforeinput",null,b,qe),We.push({event:qe,listeners:Ne}),qe.data=Ct))}$k(We,p)})}function $g(f,p,b){return{instance:f,listener:p,currentTarget:b}}function Ky(f,p){for(var b=p+"Capture",T=[];f!==null;){var F=f,H=F.stateNode;F.tag===5&&H!==null&&(F=H,H=$t(f,b),H!=null&&T.unshift($g(f,H,F)),H=$t(f,p),H!=null&&T.push($g(f,H,F))),f=f.return}return T}function ld(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function qk(f,p,b,T,F){for(var H=p._reactName,ee=[];b!==null&&b!==T;){var fe=b,ge=fe.alternate,Ne=fe.stateNode;if(ge!==null&&ge===T)break;fe.tag===5&&Ne!==null&&(fe=Ne,F?(ge=$t(b,H),ge!=null&&ee.unshift($g(b,ge,fe))):F||(ge=$t(b,H),ge!=null&&ee.push($g(b,ge,fe)))),b=b.return}ee.length!==0&&f.push({event:p,listeners:ee})}var RJ=/\r\n?/g,kJ=/\u0000|\uFFFD/g;function Wk(f){return(typeof f=="string"?f:""+f).replace(RJ,`
`).replace(kJ,"")}function Yy(f,p,b){if(p=Wk(p),Wk(f)!==p&&b)throw Error(n(425))}function Qy(){}var SA=null,_A=null;function TA(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var CA=typeof setTimeout=="function"?setTimeout:void 0,MJ=typeof clearTimeout=="function"?clearTimeout:void 0,Kk=typeof Promise=="function"?Promise:void 0,DJ=typeof queueMicrotask=="function"?queueMicrotask:typeof Kk<"u"?function(f){return Kk.resolve(null).then(f).catch(LJ)}:CA;function LJ(f){setTimeout(function(){throw f})}function IA(f,p){var b=p,T=0;do{var F=b.nextSibling;if(f.removeChild(b),F&&F.nodeType===8)if(b=F.data,b==="/$"){if(T===0){f.removeChild(F),os(p);return}T--}else b!=="$"&&b!=="$?"&&b!=="$!"||T++;b=F}while(b);os(p)}function nu(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function Yk(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var b=f.data;if(b==="$"||b==="$!"||b==="$?"){if(p===0)return f;p--}else b==="/$"&&p++}f=f.previousSibling}return null}var cd=Math.random().toString(36).slice(2),ol="__reactFiber$"+cd,Gg="__reactProps$"+cd,ql="__reactContainer$"+cd,PA="__reactEvents$"+cd,BJ="__reactListeners$"+cd,jJ="__reactHandles$"+cd;function Ef(f){var p=f[ol];if(p)return p;for(var b=f.parentNode;b;){if(p=b[ql]||b[ol]){if(b=p.alternate,p.child!==null||b!==null&&b.child!==null)for(f=Yk(f);f!==null;){if(b=f[ol])return b;f=Yk(f)}return p}f=b,b=f.parentNode}return null}function qg(f){return f=f[ol]||f[ql],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function ud(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function Xy(f){return f[Gg]||null}var NA=[],fd=-1;function ru(f){return{current:f}}function _r(f){0>fd||(f.current=NA[fd],NA[fd]=null,fd--)}function fr(f,p){fd++,NA[fd]=f.current,f.current=p}var iu={},Cs=ru(iu),uo=ru(!1),Sf=iu;function hd(f,p){var b=f.type.contextTypes;if(!b)return iu;var T=f.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===p)return T.__reactInternalMemoizedMaskedChildContext;var F={},H;for(H in b)F[H]=p[H];return T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=F),F}function fo(f){return f=f.childContextTypes,f!=null}function Zy(){_r(uo),_r(Cs)}function Qk(f,p,b){if(Cs.current!==iu)throw Error(n(168));fr(Cs,p),fr(uo,b)}function Xk(f,p,b){var T=f.stateNode;if(p=p.childContextTypes,typeof T.getChildContext!="function")return b;T=T.getChildContext();for(var F in T)if(!(F in p))throw Error(n(108,ke(f)||"Unknown",F));return we({},b,T)}function Jy(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||iu,Sf=Cs.current,fr(Cs,f),fr(uo,uo.current),!0}function Zk(f,p,b){var T=f.stateNode;if(!T)throw Error(n(169));b?(f=Xk(f,p,Sf),T.__reactInternalMemoizedMergedChildContext=f,_r(uo),_r(Cs),fr(Cs,f)):_r(uo),fr(uo,b)}var Wl=null,e1=!1,OA=!1;function Jk(f){Wl===null?Wl=[f]:Wl.push(f)}function FJ(f){e1=!0,Jk(f)}function su(){if(!OA&&Wl!==null){OA=!0;var f=0,p=Mt;try{var b=Wl;for(Mt=1;f<b.length;f++){var T=b[f];do T=T(!0);while(T!==null)}Wl=null,e1=!1}catch(F){throw Wl!==null&&(Wl=Wl.slice(f+1)),ss(Be,su),F}finally{Mt=p,OA=!1}}return null}var dd=[],pd=0,t1=null,n1=0,Zo=[],Jo=0,_f=null,Kl=1,Yl="";function Tf(f,p){dd[pd++]=n1,dd[pd++]=t1,t1=f,n1=p}function eM(f,p,b){Zo[Jo++]=Kl,Zo[Jo++]=Yl,Zo[Jo++]=_f,_f=f;var T=Kl;f=Yl;var F=32-Oi(T)-1;T&=~(1<<F),b+=1;var H=32-Oi(p)+F;if(30<H){var ee=F-F%5;H=(T&(1<<ee)-1).toString(32),T>>=ee,F-=ee,Kl=1<<32-Oi(p)+F|b<<F|T,Yl=H+f}else Kl=1<<H|b<<F|T,Yl=f}function RA(f){f.return!==null&&(Tf(f,1),eM(f,1,0))}function kA(f){for(;f===t1;)t1=dd[--pd],dd[pd]=null,n1=dd[--pd],dd[pd]=null;for(;f===_f;)_f=Zo[--Jo],Zo[Jo]=null,Yl=Zo[--Jo],Zo[Jo]=null,Kl=Zo[--Jo],Zo[Jo]=null}var Ro=null,ko=null,Mr=!1,Ta=null;function tM(f,p){var b=ra(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=f,p=f.deletions,p===null?(f.deletions=[b],f.flags|=16):p.push(b)}function nM(f,p){switch(f.tag){case 5:var b=f.type;return p=p.nodeType!==1||b.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,Ro=f,ko=nu(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,Ro=f,ko=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(b=_f!==null?{id:Kl,overflow:Yl}:null,f.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=ra(18,null,null,0),b.stateNode=p,b.return=f,f.child=b,Ro=f,ko=null,!0):!1;default:return!1}}function MA(f){return(f.mode&1)!==0&&(f.flags&128)===0}function DA(f){if(Mr){var p=ko;if(p){var b=p;if(!nM(f,p)){if(MA(f))throw Error(n(418));p=nu(b.nextSibling);var T=Ro;p&&nM(f,p)?tM(T,b):(f.flags=f.flags&-4097|2,Mr=!1,Ro=f)}}else{if(MA(f))throw Error(n(418));f.flags=f.flags&-4097|2,Mr=!1,Ro=f}}}function rM(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Ro=f}function r1(f){if(f!==Ro)return!1;if(!Mr)return rM(f),Mr=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!TA(f.type,f.memoizedProps)),p&&(p=ko)){if(MA(f))throw iM(),Error(n(418));for(;p;)tM(f,p),p=nu(p.nextSibling)}if(rM(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var b=f.data;if(b==="/$"){if(p===0){ko=nu(f.nextSibling);break e}p--}else b!=="$"&&b!=="$!"&&b!=="$?"||p++}f=f.nextSibling}ko=null}}else ko=Ro?nu(f.stateNode.nextSibling):null;return!0}function iM(){for(var f=ko;f;)f=nu(f.nextSibling)}function gd(){ko=Ro=null,Mr=!1}function LA(f){Ta===null?Ta=[f]:Ta.push(f)}var VJ=U.ReactCurrentBatchConfig;function Wg(f,p,b){if(f=b.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(n(309));var T=b.stateNode}if(!T)throw Error(n(147,f));var F=T,H=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===H?p.ref:(p=function(ee){var fe=F.refs;ee===null?delete fe[H]:fe[H]=ee},p._stringRef=H,p)}if(typeof f!="string")throw Error(n(284));if(!b._owner)throw Error(n(290,f))}return f}function i1(f,p){throw f=Object.prototype.toString.call(p),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function sM(f){var p=f._init;return p(f._payload)}function oM(f){function p(Se,ve){if(f){var _e=Se.deletions;_e===null?(Se.deletions=[ve],Se.flags|=16):_e.push(ve)}}function b(Se,ve){if(!f)return null;for(;ve!==null;)p(Se,ve),ve=ve.sibling;return null}function T(Se,ve){for(Se=new Map;ve!==null;)ve.key!==null?Se.set(ve.key,ve):Se.set(ve.index,ve),ve=ve.sibling;return Se}function F(Se,ve){return Se=du(Se,ve),Se.index=0,Se.sibling=null,Se}function H(Se,ve,_e){return Se.index=_e,f?(_e=Se.alternate,_e!==null?(_e=_e.index,_e<ve?(Se.flags|=2,ve):_e):(Se.flags|=2,ve)):(Se.flags|=1048576,ve)}function ee(Se){return f&&Se.alternate===null&&(Se.flags|=2),Se}function fe(Se,ve,_e,Qe){return ve===null||ve.tag!==6?(ve=CE(_e,Se.mode,Qe),ve.return=Se,ve):(ve=F(ve,_e),ve.return=Se,ve)}function ge(Se,ve,_e,Qe){var vt=_e.type;return vt===O?qe(Se,ve,_e.props.children,Qe,_e.key):ve!==null&&(ve.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===oe&&sM(vt)===ve.type)?(Qe=F(ve,_e.props),Qe.ref=Wg(Se,ve,_e),Qe.return=Se,Qe):(Qe=I1(_e.type,_e.key,_e.props,null,Se.mode,Qe),Qe.ref=Wg(Se,ve,_e),Qe.return=Se,Qe)}function Ne(Se,ve,_e,Qe){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==_e.containerInfo||ve.stateNode.implementation!==_e.implementation?(ve=IE(_e,Se.mode,Qe),ve.return=Se,ve):(ve=F(ve,_e.children||[]),ve.return=Se,ve)}function qe(Se,ve,_e,Qe,vt){return ve===null||ve.tag!==7?(ve=Mf(_e,Se.mode,Qe,vt),ve.return=Se,ve):(ve=F(ve,_e),ve.return=Se,ve)}function We(Se,ve,_e){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=CE(""+ve,Se.mode,_e),ve.return=Se,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case D:return _e=I1(ve.type,ve.key,ve.props,null,Se.mode,_e),_e.ref=Wg(Se,null,ve),_e.return=Se,_e;case B:return ve=IE(ve,Se.mode,_e),ve.return=Se,ve;case oe:var Qe=ve._init;return We(Se,Qe(ve._payload),_e)}if(ii(ve)||pe(ve))return ve=Mf(ve,Se.mode,_e,null),ve.return=Se,ve;i1(Se,ve)}return null}function He(Se,ve,_e,Qe){var vt=ve!==null?ve.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return vt!==null?null:fe(Se,ve,""+_e,Qe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case D:return _e.key===vt?ge(Se,ve,_e,Qe):null;case B:return _e.key===vt?Ne(Se,ve,_e,Qe):null;case oe:return vt=_e._init,He(Se,ve,vt(_e._payload),Qe)}if(ii(_e)||pe(_e))return vt!==null?null:qe(Se,ve,_e,Qe,null);i1(Se,_e)}return null}function st(Se,ve,_e,Qe,vt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Se=Se.get(_e)||null,fe(ve,Se,""+Qe,vt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case D:return Se=Se.get(Qe.key===null?_e:Qe.key)||null,ge(ve,Se,Qe,vt);case B:return Se=Se.get(Qe.key===null?_e:Qe.key)||null,Ne(ve,Se,Qe,vt);case oe:var Tt=Qe._init;return st(Se,ve,_e,Tt(Qe._payload),vt)}if(ii(Qe)||pe(Qe))return Se=Se.get(_e)||null,qe(ve,Se,Qe,vt,null);i1(ve,Qe)}return null}function pt(Se,ve,_e,Qe){for(var vt=null,Tt=null,Ct=ve,jt=ve=0,Yi=null;Ct!==null&&jt<_e.length;jt++){Ct.index>jt?(Yi=Ct,Ct=null):Yi=Ct.sibling;var Cn=He(Se,Ct,_e[jt],Qe);if(Cn===null){Ct===null&&(Ct=Yi);break}f&&Ct&&Cn.alternate===null&&p(Se,Ct),ve=H(Cn,ve,jt),Tt===null?vt=Cn:Tt.sibling=Cn,Tt=Cn,Ct=Yi}if(jt===_e.length)return b(Se,Ct),Mr&&Tf(Se,jt),vt;if(Ct===null){for(;jt<_e.length;jt++)Ct=We(Se,_e[jt],Qe),Ct!==null&&(ve=H(Ct,ve,jt),Tt===null?vt=Ct:Tt.sibling=Ct,Tt=Ct);return Mr&&Tf(Se,jt),vt}for(Ct=T(Se,Ct);jt<_e.length;jt++)Yi=st(Ct,Se,jt,_e[jt],Qe),Yi!==null&&(f&&Yi.alternate!==null&&Ct.delete(Yi.key===null?jt:Yi.key),ve=H(Yi,ve,jt),Tt===null?vt=Yi:Tt.sibling=Yi,Tt=Yi);return f&&Ct.forEach(function(pu){return p(Se,pu)}),Mr&&Tf(Se,jt),vt}function yt(Se,ve,_e,Qe){var vt=pe(_e);if(typeof vt!="function")throw Error(n(150));if(_e=vt.call(_e),_e==null)throw Error(n(151));for(var Tt=vt=null,Ct=ve,jt=ve=0,Yi=null,Cn=_e.next();Ct!==null&&!Cn.done;jt++,Cn=_e.next()){Ct.index>jt?(Yi=Ct,Ct=null):Yi=Ct.sibling;var pu=He(Se,Ct,Cn.value,Qe);if(pu===null){Ct===null&&(Ct=Yi);break}f&&Ct&&pu.alternate===null&&p(Se,Ct),ve=H(pu,ve,jt),Tt===null?vt=pu:Tt.sibling=pu,Tt=pu,Ct=Yi}if(Cn.done)return b(Se,Ct),Mr&&Tf(Se,jt),vt;if(Ct===null){for(;!Cn.done;jt++,Cn=_e.next())Cn=We(Se,Cn.value,Qe),Cn!==null&&(ve=H(Cn,ve,jt),Tt===null?vt=Cn:Tt.sibling=Cn,Tt=Cn);return Mr&&Tf(Se,jt),vt}for(Ct=T(Se,Ct);!Cn.done;jt++,Cn=_e.next())Cn=st(Ct,Se,jt,Cn.value,Qe),Cn!==null&&(f&&Cn.alternate!==null&&Ct.delete(Cn.key===null?jt:Cn.key),ve=H(Cn,ve,jt),Tt===null?vt=Cn:Tt.sibling=Cn,Tt=Cn);return f&&Ct.forEach(function(wee){return p(Se,wee)}),Mr&&Tf(Se,jt),vt}function di(Se,ve,_e,Qe){if(typeof _e=="object"&&_e!==null&&_e.type===O&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case D:e:{for(var vt=_e.key,Tt=ve;Tt!==null;){if(Tt.key===vt){if(vt=_e.type,vt===O){if(Tt.tag===7){b(Se,Tt.sibling),ve=F(Tt,_e.props.children),ve.return=Se,Se=ve;break e}}else if(Tt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===oe&&sM(vt)===Tt.type){b(Se,Tt.sibling),ve=F(Tt,_e.props),ve.ref=Wg(Se,Tt,_e),ve.return=Se,Se=ve;break e}b(Se,Tt);break}else p(Se,Tt);Tt=Tt.sibling}_e.type===O?(ve=Mf(_e.props.children,Se.mode,Qe,_e.key),ve.return=Se,Se=ve):(Qe=I1(_e.type,_e.key,_e.props,null,Se.mode,Qe),Qe.ref=Wg(Se,ve,_e),Qe.return=Se,Se=Qe)}return ee(Se);case B:e:{for(Tt=_e.key;ve!==null;){if(ve.key===Tt)if(ve.tag===4&&ve.stateNode.containerInfo===_e.containerInfo&&ve.stateNode.implementation===_e.implementation){b(Se,ve.sibling),ve=F(ve,_e.children||[]),ve.return=Se,Se=ve;break e}else{b(Se,ve);break}else p(Se,ve);ve=ve.sibling}ve=IE(_e,Se.mode,Qe),ve.return=Se,Se=ve}return ee(Se);case oe:return Tt=_e._init,di(Se,ve,Tt(_e._payload),Qe)}if(ii(_e))return pt(Se,ve,_e,Qe);if(pe(_e))return yt(Se,ve,_e,Qe);i1(Se,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,ve!==null&&ve.tag===6?(b(Se,ve.sibling),ve=F(ve,_e),ve.return=Se,Se=ve):(b(Se,ve),ve=CE(_e,Se.mode,Qe),ve.return=Se,Se=ve),ee(Se)):b(Se,ve)}return di}var md=oM(!0),aM=oM(!1),s1=ru(null),o1=null,yd=null,BA=null;function jA(){BA=yd=o1=null}function FA(f){var p=s1.current;_r(s1),f._currentValue=p}function VA(f,p,b){for(;f!==null;){var T=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),f===b)break;f=f.return}}function vd(f,p){o1=f,BA=yd=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&p)!==0&&(ho=!0),f.firstContext=null)}function ea(f){var p=f._currentValue;if(BA!==f)if(f={context:f,memoizedValue:p,next:null},yd===null){if(o1===null)throw Error(n(308));yd=f,o1.dependencies={lanes:0,firstContext:f}}else yd=yd.next=f;return p}var Cf=null;function UA(f){Cf===null?Cf=[f]:Cf.push(f)}function lM(f,p,b,T){var F=p.interleaved;return F===null?(b.next=b,UA(p)):(b.next=F.next,F.next=b),p.interleaved=b,Ql(f,T)}function Ql(f,p){f.lanes|=p;var b=f.alternate;for(b!==null&&(b.lanes|=p),b=f,f=f.return;f!==null;)f.childLanes|=p,b=f.alternate,b!==null&&(b.childLanes|=p),b=f,f=f.return;return b.tag===3?b.stateNode:null}var ou=!1;function zA(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cM(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Xl(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function au(f,p,b){var T=f.updateQueue;if(T===null)return null;if(T=T.shared,(Sn&2)!==0){var F=T.pending;return F===null?p.next=p:(p.next=F.next,F.next=p),T.pending=p,Ql(f,b)}return F=T.interleaved,F===null?(p.next=p,UA(T)):(p.next=F.next,F.next=p),T.interleaved=p,Ql(f,b)}function a1(f,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var T=p.lanes;T&=f.pendingLanes,b|=T,p.lanes=b,ir(f,b)}}function uM(f,p){var b=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,b===T)){var F=null,H=null;if(b=b.firstBaseUpdate,b!==null){do{var ee={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};H===null?F=H=ee:H=H.next=ee,b=b.next}while(b!==null);H===null?F=H=p:H=H.next=p}else F=H=p;b={baseState:T.baseState,firstBaseUpdate:F,lastBaseUpdate:H,shared:T.shared,effects:T.effects},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=p:f.next=p,b.lastBaseUpdate=p}function l1(f,p,b,T){var F=f.updateQueue;ou=!1;var H=F.firstBaseUpdate,ee=F.lastBaseUpdate,fe=F.shared.pending;if(fe!==null){F.shared.pending=null;var ge=fe,Ne=ge.next;ge.next=null,ee===null?H=Ne:ee.next=Ne,ee=ge;var qe=f.alternate;qe!==null&&(qe=qe.updateQueue,fe=qe.lastBaseUpdate,fe!==ee&&(fe===null?qe.firstBaseUpdate=Ne:fe.next=Ne,qe.lastBaseUpdate=ge))}if(H!==null){var We=F.baseState;ee=0,qe=Ne=ge=null,fe=H;do{var He=fe.lane,st=fe.eventTime;if((T&He)===He){qe!==null&&(qe=qe.next={eventTime:st,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var pt=f,yt=fe;switch(He=p,st=b,yt.tag){case 1:if(pt=yt.payload,typeof pt=="function"){We=pt.call(st,We,He);break e}We=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=yt.payload,He=typeof pt=="function"?pt.call(st,We,He):pt,He==null)break e;We=we({},We,He);break e;case 2:ou=!0}}fe.callback!==null&&fe.lane!==0&&(f.flags|=64,He=F.effects,He===null?F.effects=[fe]:He.push(fe))}else st={eventTime:st,lane:He,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},qe===null?(Ne=qe=st,ge=We):qe=qe.next=st,ee|=He;if(fe=fe.next,fe===null){if(fe=F.shared.pending,fe===null)break;He=fe,fe=He.next,He.next=null,F.lastBaseUpdate=He,F.shared.pending=null}}while(!0);if(qe===null&&(ge=We),F.baseState=ge,F.firstBaseUpdate=Ne,F.lastBaseUpdate=qe,p=F.shared.interleaved,p!==null){F=p;do ee|=F.lane,F=F.next;while(F!==p)}else H===null&&(F.shared.lanes=0);Nf|=ee,f.lanes=ee,f.memoizedState=We}}function fM(f,p,b){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var T=f[p],F=T.callback;if(F!==null){if(T.callback=null,T=b,typeof F!="function")throw Error(n(191,F));F.call(T)}}}var Kg={},al=ru(Kg),Yg=ru(Kg),Qg=ru(Kg);function If(f){if(f===Kg)throw Error(n(174));return f}function HA(f,p){switch(fr(Qg,p),fr(Yg,f),fr(al,Kg),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Nr(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=Nr(p,f)}_r(al),fr(al,p)}function wd(){_r(al),_r(Yg),_r(Qg)}function hM(f){If(Qg.current);var p=If(al.current),b=Nr(p,f.type);p!==b&&(fr(Yg,f),fr(al,b))}function $A(f){Yg.current===f&&(_r(al),_r(Yg))}var Vr=ru(0);function c1(f){for(var p=f;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var GA=[];function qA(){for(var f=0;f<GA.length;f++)GA[f]._workInProgressVersionPrimary=null;GA.length=0}var u1=U.ReactCurrentDispatcher,WA=U.ReactCurrentBatchConfig,Pf=0,Ur=null,Mi=null,Wi=null,f1=!1,Xg=!1,Zg=0,UJ=0;function Is(){throw Error(n(321))}function KA(f,p){if(p===null)return!1;for(var b=0;b<p.length&&b<f.length;b++)if(!be(f[b],p[b]))return!1;return!0}function YA(f,p,b,T,F,H){if(Pf=H,Ur=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,u1.current=f===null||f.memoizedState===null?GJ:qJ,f=b(T,F),Xg){H=0;do{if(Xg=!1,Zg=0,25<=H)throw Error(n(301));H+=1,Wi=Mi=null,p.updateQueue=null,u1.current=WJ,f=b(T,F)}while(Xg)}if(u1.current=p1,p=Mi!==null&&Mi.next!==null,Pf=0,Wi=Mi=Ur=null,f1=!1,p)throw Error(n(300));return f}function QA(){var f=Zg!==0;return Zg=0,f}function ll(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wi===null?Ur.memoizedState=Wi=f:Wi=Wi.next=f,Wi}function ta(){if(Mi===null){var f=Ur.alternate;f=f!==null?f.memoizedState:null}else f=Mi.next;var p=Wi===null?Ur.memoizedState:Wi.next;if(p!==null)Wi=p,Mi=f;else{if(f===null)throw Error(n(310));Mi=f,f={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},Wi===null?Ur.memoizedState=Wi=f:Wi=Wi.next=f}return Wi}function Jg(f,p){return typeof p=="function"?p(f):p}function XA(f){var p=ta(),b=p.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=f;var T=Mi,F=T.baseQueue,H=b.pending;if(H!==null){if(F!==null){var ee=F.next;F.next=H.next,H.next=ee}T.baseQueue=F=H,b.pending=null}if(F!==null){H=F.next,T=T.baseState;var fe=ee=null,ge=null,Ne=H;do{var qe=Ne.lane;if((Pf&qe)===qe)ge!==null&&(ge=ge.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),T=Ne.hasEagerState?Ne.eagerState:f(T,Ne.action);else{var We={lane:qe,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};ge===null?(fe=ge=We,ee=T):ge=ge.next=We,Ur.lanes|=qe,Nf|=qe}Ne=Ne.next}while(Ne!==null&&Ne!==H);ge===null?ee=T:ge.next=fe,be(T,p.memoizedState)||(ho=!0),p.memoizedState=T,p.baseState=ee,p.baseQueue=ge,b.lastRenderedState=T}if(f=b.interleaved,f!==null){F=f;do H=F.lane,Ur.lanes|=H,Nf|=H,F=F.next;while(F!==f)}else F===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function ZA(f){var p=ta(),b=p.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=f;var T=b.dispatch,F=b.pending,H=p.memoizedState;if(F!==null){b.pending=null;var ee=F=F.next;do H=f(H,ee.action),ee=ee.next;while(ee!==F);be(H,p.memoizedState)||(ho=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),b.lastRenderedState=H}return[H,T]}function dM(){}function pM(f,p){var b=Ur,T=ta(),F=p(),H=!be(T.memoizedState,F);if(H&&(T.memoizedState=F,ho=!0),T=T.queue,JA(yM.bind(null,b,T,f),[f]),T.getSnapshot!==p||H||Wi!==null&&Wi.memoizedState.tag&1){if(b.flags|=2048,em(9,mM.bind(null,b,T,F,p),void 0,null),Ki===null)throw Error(n(349));(Pf&30)!==0||gM(b,p,F)}return F}function gM(f,p,b){f.flags|=16384,f={getSnapshot:p,value:b},p=Ur.updateQueue,p===null?(p={lastEffect:null,stores:null},Ur.updateQueue=p,p.stores=[f]):(b=p.stores,b===null?p.stores=[f]:b.push(f))}function mM(f,p,b,T){p.value=b,p.getSnapshot=T,vM(p)&&wM(f)}function yM(f,p,b){return b(function(){vM(p)&&wM(f)})}function vM(f){var p=f.getSnapshot;f=f.value;try{var b=p();return!be(f,b)}catch{return!0}}function wM(f){var p=Ql(f,1);p!==null&&Na(p,f,1,-1)}function xM(f){var p=ll();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:f},p.queue=f,f=f.dispatch=$J.bind(null,Ur,f),[p.memoizedState,f]}function em(f,p,b,T){return f={tag:f,create:p,destroy:b,deps:T,next:null},p=Ur.updateQueue,p===null?(p={lastEffect:null,stores:null},Ur.updateQueue=p,p.lastEffect=f.next=f):(b=p.lastEffect,b===null?p.lastEffect=f.next=f:(T=b.next,b.next=f,f.next=T,p.lastEffect=f)),f}function bM(){return ta().memoizedState}function h1(f,p,b,T){var F=ll();Ur.flags|=f,F.memoizedState=em(1|p,b,void 0,T===void 0?null:T)}function d1(f,p,b,T){var F=ta();T=T===void 0?null:T;var H=void 0;if(Mi!==null){var ee=Mi.memoizedState;if(H=ee.destroy,T!==null&&KA(T,ee.deps)){F.memoizedState=em(p,b,H,T);return}}Ur.flags|=f,F.memoizedState=em(1|p,b,H,T)}function AM(f,p){return h1(8390656,8,f,p)}function JA(f,p){return d1(2048,8,f,p)}function EM(f,p){return d1(4,2,f,p)}function SM(f,p){return d1(4,4,f,p)}function _M(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function TM(f,p,b){return b=b!=null?b.concat([f]):null,d1(4,4,_M.bind(null,p,f),b)}function eE(){}function CM(f,p){var b=ta();p=p===void 0?null:p;var T=b.memoizedState;return T!==null&&p!==null&&KA(p,T[1])?T[0]:(b.memoizedState=[f,p],f)}function IM(f,p){var b=ta();p=p===void 0?null:p;var T=b.memoizedState;return T!==null&&p!==null&&KA(p,T[1])?T[0]:(f=f(),b.memoizedState=[f,p],f)}function PM(f,p,b){return(Pf&21)===0?(f.baseState&&(f.baseState=!1,ho=!0),f.memoizedState=b):(be(b,p)||(b=Rr(),Ur.lanes|=b,Nf|=b,f.baseState=!0),p)}function zJ(f,p){var b=Mt;Mt=b!==0&&4>b?b:4,f(!0);var T=WA.transition;WA.transition={};try{f(!1),p()}finally{Mt=b,WA.transition=T}}function NM(){return ta().memoizedState}function HJ(f,p,b){var T=fu(f);if(b={lane:T,action:b,hasEagerState:!1,eagerState:null,next:null},OM(f))RM(p,b);else if(b=lM(f,p,b,T),b!==null){var F=Ks();Na(b,f,T,F),kM(b,p,T)}}function $J(f,p,b){var T=fu(f),F={lane:T,action:b,hasEagerState:!1,eagerState:null,next:null};if(OM(f))RM(p,F);else{var H=f.alternate;if(f.lanes===0&&(H===null||H.lanes===0)&&(H=p.lastRenderedReducer,H!==null))try{var ee=p.lastRenderedState,fe=H(ee,b);if(F.hasEagerState=!0,F.eagerState=fe,be(fe,ee)){var ge=p.interleaved;ge===null?(F.next=F,UA(p)):(F.next=ge.next,ge.next=F),p.interleaved=F;return}}catch{}finally{}b=lM(f,p,F,T),b!==null&&(F=Ks(),Na(b,f,T,F),kM(b,p,T))}}function OM(f){var p=f.alternate;return f===Ur||p!==null&&p===Ur}function RM(f,p){Xg=f1=!0;var b=f.pending;b===null?p.next=p:(p.next=b.next,b.next=p),f.pending=p}function kM(f,p,b){if((b&4194240)!==0){var T=p.lanes;T&=f.pendingLanes,b|=T,p.lanes=b,ir(f,b)}}var p1={readContext:ea,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useInsertionEffect:Is,useLayoutEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useMutableSource:Is,useSyncExternalStore:Is,useId:Is,unstable_isNewReconciler:!1},GJ={readContext:ea,useCallback:function(f,p){return ll().memoizedState=[f,p===void 0?null:p],f},useContext:ea,useEffect:AM,useImperativeHandle:function(f,p,b){return b=b!=null?b.concat([f]):null,h1(4194308,4,_M.bind(null,p,f),b)},useLayoutEffect:function(f,p){return h1(4194308,4,f,p)},useInsertionEffect:function(f,p){return h1(4,2,f,p)},useMemo:function(f,p){var b=ll();return p=p===void 0?null:p,f=f(),b.memoizedState=[f,p],f},useReducer:function(f,p,b){var T=ll();return p=b!==void 0?b(p):p,T.memoizedState=T.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},T.queue=f,f=f.dispatch=HJ.bind(null,Ur,f),[T.memoizedState,f]},useRef:function(f){var p=ll();return f={current:f},p.memoizedState=f},useState:xM,useDebugValue:eE,useDeferredValue:function(f){return ll().memoizedState=f},useTransition:function(){var f=xM(!1),p=f[0];return f=zJ.bind(null,f[1]),ll().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,b){var T=Ur,F=ll();if(Mr){if(b===void 0)throw Error(n(407));b=b()}else{if(b=p(),Ki===null)throw Error(n(349));(Pf&30)!==0||gM(T,p,b)}F.memoizedState=b;var H={value:b,getSnapshot:p};return F.queue=H,AM(yM.bind(null,T,H,f),[f]),T.flags|=2048,em(9,mM.bind(null,T,H,b,p),void 0,null),b},useId:function(){var f=ll(),p=Ki.identifierPrefix;if(Mr){var b=Yl,T=Kl;b=(T&~(1<<32-Oi(T)-1)).toString(32)+b,p=":"+p+"R"+b,b=Zg++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=UJ++,p=":"+p+"r"+b.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},qJ={readContext:ea,useCallback:CM,useContext:ea,useEffect:JA,useImperativeHandle:TM,useInsertionEffect:EM,useLayoutEffect:SM,useMemo:IM,useReducer:XA,useRef:bM,useState:function(){return XA(Jg)},useDebugValue:eE,useDeferredValue:function(f){var p=ta();return PM(p,Mi.memoizedState,f)},useTransition:function(){var f=XA(Jg)[0],p=ta().memoizedState;return[f,p]},useMutableSource:dM,useSyncExternalStore:pM,useId:NM,unstable_isNewReconciler:!1},WJ={readContext:ea,useCallback:CM,useContext:ea,useEffect:JA,useImperativeHandle:TM,useInsertionEffect:EM,useLayoutEffect:SM,useMemo:IM,useReducer:ZA,useRef:bM,useState:function(){return ZA(Jg)},useDebugValue:eE,useDeferredValue:function(f){var p=ta();return Mi===null?p.memoizedState=f:PM(p,Mi.memoizedState,f)},useTransition:function(){var f=ZA(Jg)[0],p=ta().memoizedState;return[f,p]},useMutableSource:dM,useSyncExternalStore:pM,useId:NM,unstable_isNewReconciler:!1};function Ca(f,p){if(f&&f.defaultProps){p=we({},p),f=f.defaultProps;for(var b in f)p[b]===void 0&&(p[b]=f[b]);return p}return p}function tE(f,p,b,T){p=f.memoizedState,b=b(T,p),b=b==null?p:we({},p,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var g1={isMounted:function(f){return(f=f._reactInternals)?$i(f)===f:!1},enqueueSetState:function(f,p,b){f=f._reactInternals;var T=Ks(),F=fu(f),H=Xl(T,F);H.payload=p,b!=null&&(H.callback=b),p=au(f,H,F),p!==null&&(Na(p,f,F,T),a1(p,f,F))},enqueueReplaceState:function(f,p,b){f=f._reactInternals;var T=Ks(),F=fu(f),H=Xl(T,F);H.tag=1,H.payload=p,b!=null&&(H.callback=b),p=au(f,H,F),p!==null&&(Na(p,f,F,T),a1(p,f,F))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var b=Ks(),T=fu(f),F=Xl(b,T);F.tag=2,p!=null&&(F.callback=p),p=au(f,F,T),p!==null&&(Na(p,f,T,b),a1(p,f,T))}};function MM(f,p,b,T,F,H,ee){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,H,ee):p.prototype&&p.prototype.isPureReactComponent?!Ie(b,T)||!Ie(F,H):!0}function DM(f,p,b){var T=!1,F=iu,H=p.contextType;return typeof H=="object"&&H!==null?H=ea(H):(F=fo(p)?Sf:Cs.current,T=p.contextTypes,H=(T=T!=null)?hd(f,F):iu),p=new p(b,H),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=g1,f.stateNode=p,p._reactInternals=f,T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=F,f.__reactInternalMemoizedMaskedChildContext=H),p}function LM(f,p,b,T){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,T),p.state!==f&&g1.enqueueReplaceState(p,p.state,null)}function nE(f,p,b,T){var F=f.stateNode;F.props=b,F.state=f.memoizedState,F.refs={},zA(f);var H=p.contextType;typeof H=="object"&&H!==null?F.context=ea(H):(H=fo(p)?Sf:Cs.current,F.context=hd(f,H)),F.state=f.memoizedState,H=p.getDerivedStateFromProps,typeof H=="function"&&(tE(f,p,H,b),F.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(p=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),p!==F.state&&g1.enqueueReplaceState(F,F.state,null),l1(f,b,F,T),F.state=f.memoizedState),typeof F.componentDidMount=="function"&&(f.flags|=4194308)}function xd(f,p){try{var b="",T=p;do b+=Ue(T),T=T.return;while(T);var F=b}catch(H){F=`
Error generating stack: `+H.message+`
`+H.stack}return{value:f,source:p,stack:F,digest:null}}function rE(f,p,b){return{value:f,source:null,stack:b??null,digest:p??null}}function iE(f,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var KJ=typeof WeakMap=="function"?WeakMap:Map;function BM(f,p,b){b=Xl(-1,b),b.tag=3,b.payload={element:null};var T=p.value;return b.callback=function(){A1||(A1=!0,wE=T),iE(f,p)},b}function jM(f,p,b){b=Xl(-1,b),b.tag=3;var T=f.type.getDerivedStateFromError;if(typeof T=="function"){var F=p.value;b.payload=function(){return T(F)},b.callback=function(){iE(f,p)}}var H=f.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(b.callback=function(){iE(f,p),typeof T!="function"&&(cu===null?cu=new Set([this]):cu.add(this));var ee=p.stack;this.componentDidCatch(p.value,{componentStack:ee!==null?ee:""})}),b}function FM(f,p,b){var T=f.pingCache;if(T===null){T=f.pingCache=new KJ;var F=new Set;T.set(p,F)}else F=T.get(p),F===void 0&&(F=new Set,T.set(p,F));F.has(b)||(F.add(b),f=lee.bind(null,f,p,b),p.then(f,f))}function VM(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function UM(f,p,b,T,F){return(f.mode&1)===0?(f===p?f.flags|=65536:(f.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=Xl(-1,1),p.tag=2,au(b,p,1))),b.lanes|=1),f):(f.flags|=65536,f.lanes=F,f)}var YJ=U.ReactCurrentOwner,ho=!1;function Ws(f,p,b,T){p.child=f===null?aM(p,null,b,T):md(p,f.child,b,T)}function zM(f,p,b,T,F){b=b.render;var H=p.ref;return vd(p,F),T=YA(f,p,b,T,H,F),b=QA(),f!==null&&!ho?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~F,Zl(f,p,F)):(Mr&&b&&RA(p),p.flags|=1,Ws(f,p,T,F),p.child)}function HM(f,p,b,T,F){if(f===null){var H=b.type;return typeof H=="function"&&!TE(H)&&H.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=H,$M(f,p,H,T,F)):(f=I1(b.type,null,T,p,p.mode,F),f.ref=p.ref,f.return=p,p.child=f)}if(H=f.child,(f.lanes&F)===0){var ee=H.memoizedProps;if(b=b.compare,b=b!==null?b:Ie,b(ee,T)&&f.ref===p.ref)return Zl(f,p,F)}return p.flags|=1,f=du(H,T),f.ref=p.ref,f.return=p,p.child=f}function $M(f,p,b,T,F){if(f!==null){var H=f.memoizedProps;if(Ie(H,T)&&f.ref===p.ref)if(ho=!1,p.pendingProps=T=H,(f.lanes&F)!==0)(f.flags&131072)!==0&&(ho=!0);else return p.lanes=f.lanes,Zl(f,p,F)}return sE(f,p,b,T,F)}function GM(f,p,b){var T=p.pendingProps,F=T.children,H=f!==null?f.memoizedState:null;if(T.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(Ad,Mo),Mo|=b;else{if((b&1073741824)===0)return f=H!==null?H.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,fr(Ad,Mo),Mo|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=H!==null?H.baseLanes:b,fr(Ad,Mo),Mo|=T}else H!==null?(T=H.baseLanes|b,p.memoizedState=null):T=b,fr(Ad,Mo),Mo|=T;return Ws(f,p,F,b),p.child}function qM(f,p){var b=p.ref;(f===null&&b!==null||f!==null&&f.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function sE(f,p,b,T,F){var H=fo(b)?Sf:Cs.current;return H=hd(p,H),vd(p,F),b=YA(f,p,b,T,H,F),T=QA(),f!==null&&!ho?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~F,Zl(f,p,F)):(Mr&&T&&RA(p),p.flags|=1,Ws(f,p,b,F),p.child)}function WM(f,p,b,T,F){if(fo(b)){var H=!0;Jy(p)}else H=!1;if(vd(p,F),p.stateNode===null)y1(f,p),DM(p,b,T),nE(p,b,T,F),T=!0;else if(f===null){var ee=p.stateNode,fe=p.memoizedProps;ee.props=fe;var ge=ee.context,Ne=b.contextType;typeof Ne=="object"&&Ne!==null?Ne=ea(Ne):(Ne=fo(b)?Sf:Cs.current,Ne=hd(p,Ne));var qe=b.getDerivedStateFromProps,We=typeof qe=="function"||typeof ee.getSnapshotBeforeUpdate=="function";We||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==T||ge!==Ne)&&LM(p,ee,T,Ne),ou=!1;var He=p.memoizedState;ee.state=He,l1(p,T,ee,F),ge=p.memoizedState,fe!==T||He!==ge||uo.current||ou?(typeof qe=="function"&&(tE(p,b,qe,T),ge=p.memoizedState),(fe=ou||MM(p,b,fe,T,He,ge,Ne))?(We||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=ge),ee.props=T,ee.state=ge,ee.context=Ne,T=fe):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{ee=p.stateNode,cM(f,p),fe=p.memoizedProps,Ne=p.type===p.elementType?fe:Ca(p.type,fe),ee.props=Ne,We=p.pendingProps,He=ee.context,ge=b.contextType,typeof ge=="object"&&ge!==null?ge=ea(ge):(ge=fo(b)?Sf:Cs.current,ge=hd(p,ge));var st=b.getDerivedStateFromProps;(qe=typeof st=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==We||He!==ge)&&LM(p,ee,T,ge),ou=!1,He=p.memoizedState,ee.state=He,l1(p,T,ee,F);var pt=p.memoizedState;fe!==We||He!==pt||uo.current||ou?(typeof st=="function"&&(tE(p,b,st,T),pt=p.memoizedState),(Ne=ou||MM(p,b,Ne,T,He,pt,ge)||!1)?(qe||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(T,pt,ge),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(T,pt,ge)),typeof ee.componentDidUpdate=="function"&&(p.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ee.componentDidUpdate!="function"||fe===f.memoizedProps&&He===f.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&He===f.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=pt),ee.props=T,ee.state=pt,ee.context=ge,T=Ne):(typeof ee.componentDidUpdate!="function"||fe===f.memoizedProps&&He===f.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&He===f.memoizedState||(p.flags|=1024),T=!1)}return oE(f,p,b,T,H,F)}function oE(f,p,b,T,F,H){qM(f,p);var ee=(p.flags&128)!==0;if(!T&&!ee)return F&&Zk(p,b,!1),Zl(f,p,H);T=p.stateNode,YJ.current=p;var fe=ee&&typeof b.getDerivedStateFromError!="function"?null:T.render();return p.flags|=1,f!==null&&ee?(p.child=md(p,f.child,null,H),p.child=md(p,null,fe,H)):Ws(f,p,fe,H),p.memoizedState=T.state,F&&Zk(p,b,!0),p.child}function KM(f){var p=f.stateNode;p.pendingContext?Qk(f,p.pendingContext,p.pendingContext!==p.context):p.context&&Qk(f,p.context,!1),HA(f,p.containerInfo)}function YM(f,p,b,T,F){return gd(),LA(F),p.flags|=256,Ws(f,p,b,T),p.child}var aE={dehydrated:null,treeContext:null,retryLane:0};function lE(f){return{baseLanes:f,cachePool:null,transitions:null}}function QM(f,p,b){var T=p.pendingProps,F=Vr.current,H=!1,ee=(p.flags&128)!==0,fe;if((fe=ee)||(fe=f!==null&&f.memoizedState===null?!1:(F&2)!==0),fe?(H=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(F|=1),fr(Vr,F&1),f===null)return DA(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((p.mode&1)===0?p.lanes=1:f.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(ee=T.children,f=T.fallback,H?(T=p.mode,H=p.child,ee={mode:"hidden",children:ee},(T&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=ee):H=P1(ee,T,0,null),f=Mf(f,T,b,null),H.return=p,f.return=p,H.sibling=f,p.child=H,p.child.memoizedState=lE(b),p.memoizedState=aE,f):cE(p,ee));if(F=f.memoizedState,F!==null&&(fe=F.dehydrated,fe!==null))return QJ(f,p,ee,T,fe,F,b);if(H){H=T.fallback,ee=p.mode,F=f.child,fe=F.sibling;var ge={mode:"hidden",children:T.children};return(ee&1)===0&&p.child!==F?(T=p.child,T.childLanes=0,T.pendingProps=ge,p.deletions=null):(T=du(F,ge),T.subtreeFlags=F.subtreeFlags&14680064),fe!==null?H=du(fe,H):(H=Mf(H,ee,b,null),H.flags|=2),H.return=p,T.return=p,T.sibling=H,p.child=T,T=H,H=p.child,ee=f.child.memoizedState,ee=ee===null?lE(b):{baseLanes:ee.baseLanes|b,cachePool:null,transitions:ee.transitions},H.memoizedState=ee,H.childLanes=f.childLanes&~b,p.memoizedState=aE,T}return H=f.child,f=H.sibling,T=du(H,{mode:"visible",children:T.children}),(p.mode&1)===0&&(T.lanes=b),T.return=p,T.sibling=null,f!==null&&(b=p.deletions,b===null?(p.deletions=[f],p.flags|=16):b.push(f)),p.child=T,p.memoizedState=null,T}function cE(f,p){return p=P1({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function m1(f,p,b,T){return T!==null&&LA(T),md(p,f.child,null,b),f=cE(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function QJ(f,p,b,T,F,H,ee){if(b)return p.flags&256?(p.flags&=-257,T=rE(Error(n(422))),m1(f,p,ee,T)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(H=T.fallback,F=p.mode,T=P1({mode:"visible",children:T.children},F,0,null),H=Mf(H,F,ee,null),H.flags|=2,T.return=p,H.return=p,T.sibling=H,p.child=T,(p.mode&1)!==0&&md(p,f.child,null,ee),p.child.memoizedState=lE(ee),p.memoizedState=aE,H);if((p.mode&1)===0)return m1(f,p,ee,null);if(F.data==="$!"){if(T=F.nextSibling&&F.nextSibling.dataset,T)var fe=T.dgst;return T=fe,H=Error(n(419)),T=rE(H,T,void 0),m1(f,p,ee,T)}if(fe=(ee&f.childLanes)!==0,ho||fe){if(T=Ki,T!==null){switch(ee&-ee){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}F=(F&(T.suspendedLanes|ee))!==0?0:F,F!==0&&F!==H.retryLane&&(H.retryLane=F,Ql(f,F),Na(T,f,F,-1))}return _E(),T=rE(Error(n(421))),m1(f,p,ee,T)}return F.data==="$?"?(p.flags|=128,p.child=f.child,p=cee.bind(null,f),F._reactRetry=p,null):(f=H.treeContext,ko=nu(F.nextSibling),Ro=p,Mr=!0,Ta=null,f!==null&&(Zo[Jo++]=Kl,Zo[Jo++]=Yl,Zo[Jo++]=_f,Kl=f.id,Yl=f.overflow,_f=p),p=cE(p,T.children),p.flags|=4096,p)}function XM(f,p,b){f.lanes|=p;var T=f.alternate;T!==null&&(T.lanes|=p),VA(f.return,p,b)}function uE(f,p,b,T,F){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:b,tailMode:F}:(H.isBackwards=p,H.rendering=null,H.renderingStartTime=0,H.last=T,H.tail=b,H.tailMode=F)}function ZM(f,p,b){var T=p.pendingProps,F=T.revealOrder,H=T.tail;if(Ws(f,p,T.children,b),T=Vr.current,(T&2)!==0)T=T&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&XM(f,b,p);else if(f.tag===19)XM(f,b,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}if(fr(Vr,T),(p.mode&1)===0)p.memoizedState=null;else switch(F){case"forwards":for(b=p.child,F=null;b!==null;)f=b.alternate,f!==null&&c1(f)===null&&(F=b),b=b.sibling;b=F,b===null?(F=p.child,p.child=null):(F=b.sibling,b.sibling=null),uE(p,!1,F,b,H);break;case"backwards":for(b=null,F=p.child,p.child=null;F!==null;){if(f=F.alternate,f!==null&&c1(f)===null){p.child=F;break}f=F.sibling,F.sibling=b,b=F,F=f}uE(p,!0,b,null,H);break;case"together":uE(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function y1(f,p){(p.mode&1)===0&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function Zl(f,p,b){if(f!==null&&(p.dependencies=f.dependencies),Nf|=p.lanes,(b&p.childLanes)===0)return null;if(f!==null&&p.child!==f.child)throw Error(n(153));if(p.child!==null){for(f=p.child,b=du(f,f.pendingProps),p.child=b,b.return=p;f.sibling!==null;)f=f.sibling,b=b.sibling=du(f,f.pendingProps),b.return=p;b.sibling=null}return p.child}function XJ(f,p,b){switch(p.tag){case 3:KM(p),gd();break;case 5:hM(p);break;case 1:fo(p.type)&&Jy(p);break;case 4:HA(p,p.stateNode.containerInfo);break;case 10:var T=p.type._context,F=p.memoizedProps.value;fr(s1,T._currentValue),T._currentValue=F;break;case 13:if(T=p.memoizedState,T!==null)return T.dehydrated!==null?(fr(Vr,Vr.current&1),p.flags|=128,null):(b&p.child.childLanes)!==0?QM(f,p,b):(fr(Vr,Vr.current&1),f=Zl(f,p,b),f!==null?f.sibling:null);fr(Vr,Vr.current&1);break;case 19:if(T=(b&p.childLanes)!==0,(f.flags&128)!==0){if(T)return ZM(f,p,b);p.flags|=128}if(F=p.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),fr(Vr,Vr.current),T)break;return null;case 22:case 23:return p.lanes=0,GM(f,p,b)}return Zl(f,p,b)}var JM,fE,e4,t4;JM=function(f,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},fE=function(){},e4=function(f,p,b,T){var F=f.memoizedProps;if(F!==T){f=p.stateNode,If(al.current);var H=null;switch(b){case"input":F=dt(f,F),T=dt(f,T),H=[];break;case"select":F=we({},F,{value:void 0}),T=we({},T,{value:void 0}),H=[];break;case"textarea":F=_n(f,F),T=_n(f,T),H=[];break;default:typeof F.onClick!="function"&&typeof T.onClick=="function"&&(f.onclick=Qy)}cn(b,T);var ee;b=null;for(Ne in F)if(!T.hasOwnProperty(Ne)&&F.hasOwnProperty(Ne)&&F[Ne]!=null)if(Ne==="style"){var fe=F[Ne];for(ee in fe)fe.hasOwnProperty(ee)&&(b||(b={}),b[ee]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(i.hasOwnProperty(Ne)?H||(H=[]):(H=H||[]).push(Ne,null));for(Ne in T){var ge=T[Ne];if(fe=F?.[Ne],T.hasOwnProperty(Ne)&&ge!==fe&&(ge!=null||fe!=null))if(Ne==="style")if(fe){for(ee in fe)!fe.hasOwnProperty(ee)||ge&&ge.hasOwnProperty(ee)||(b||(b={}),b[ee]="");for(ee in ge)ge.hasOwnProperty(ee)&&fe[ee]!==ge[ee]&&(b||(b={}),b[ee]=ge[ee])}else b||(H||(H=[]),H.push(Ne,b)),b=ge;else Ne==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,fe=fe?fe.__html:void 0,ge!=null&&fe!==ge&&(H=H||[]).push(Ne,ge)):Ne==="children"?typeof ge!="string"&&typeof ge!="number"||(H=H||[]).push(Ne,""+ge):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ne)?(ge!=null&&Ne==="onScroll"&&Sr("scroll",f),H||fe===ge||(H=[])):(H=H||[]).push(Ne,ge))}b&&(H=H||[]).push("style",b);var Ne=H;(p.updateQueue=Ne)&&(p.flags|=4)}},t4=function(f,p,b,T){b!==T&&(p.flags|=4)};function tm(f,p){if(!Mr)switch(f.tailMode){case"hidden":p=f.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var T=null;b!==null;)b.alternate!==null&&(T=b),b=b.sibling;T===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function Ps(f){var p=f.alternate!==null&&f.alternate.child===f.child,b=0,T=0;if(p)for(var F=f.child;F!==null;)b|=F.lanes|F.childLanes,T|=F.subtreeFlags&14680064,T|=F.flags&14680064,F.return=f,F=F.sibling;else for(F=f.child;F!==null;)b|=F.lanes|F.childLanes,T|=F.subtreeFlags,T|=F.flags,F.return=f,F=F.sibling;return f.subtreeFlags|=T,f.childLanes=b,p}function ZJ(f,p,b){var T=p.pendingProps;switch(kA(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps(p),null;case 1:return fo(p.type)&&Zy(),Ps(p),null;case 3:return T=p.stateNode,wd(),_r(uo),_r(Cs),qA(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(f===null||f.child===null)&&(r1(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Ta!==null&&(AE(Ta),Ta=null))),fE(f,p),Ps(p),null;case 5:$A(p);var F=If(Qg.current);if(b=p.type,f!==null&&p.stateNode!=null)e4(f,p,b,T,F),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!T){if(p.stateNode===null)throw Error(n(166));return Ps(p),null}if(f=If(al.current),r1(p)){T=p.stateNode,b=p.type;var H=p.memoizedProps;switch(T[ol]=p,T[Gg]=H,f=(p.mode&1)!==0,b){case"dialog":Sr("cancel",T),Sr("close",T);break;case"iframe":case"object":case"embed":Sr("load",T);break;case"video":case"audio":for(F=0;F<zg.length;F++)Sr(zg[F],T);break;case"source":Sr("error",T);break;case"img":case"image":case"link":Sr("error",T),Sr("load",T);break;case"details":Sr("toggle",T);break;case"input":Ft(T,H),Sr("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!H.multiple},Sr("invalid",T);break;case"textarea":wi(T,H),Sr("invalid",T)}cn(b,H),F=null;for(var ee in H)if(H.hasOwnProperty(ee)){var fe=H[ee];ee==="children"?typeof fe=="string"?T.textContent!==fe&&(H.suppressHydrationWarning!==!0&&Yy(T.textContent,fe,f),F=["children",fe]):typeof fe=="number"&&T.textContent!==""+fe&&(H.suppressHydrationWarning!==!0&&Yy(T.textContent,fe,f),F=["children",""+fe]):i.hasOwnProperty(ee)&&fe!=null&&ee==="onScroll"&&Sr("scroll",T)}switch(b){case"input":Ge(T),Kt(T,H,!0);break;case"textarea":Ge(T),so(T);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(T.onclick=Qy)}T=F,p.updateQueue=T,T!==null&&(p.flags|=4)}else{ee=F.nodeType===9?F:F.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=ln(b)),f==="http://www.w3.org/1999/xhtml"?b==="script"?(f=ee.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof T.is=="string"?f=ee.createElement(b,{is:T.is}):(f=ee.createElement(b),b==="select"&&(ee=f,T.multiple?ee.multiple=!0:T.size&&(ee.size=T.size))):f=ee.createElementNS(f,b),f[ol]=p,f[Gg]=T,JM(f,p,!1,!1),p.stateNode=f;e:{switch(ee=Ln(b,T),b){case"dialog":Sr("cancel",f),Sr("close",f),F=T;break;case"iframe":case"object":case"embed":Sr("load",f),F=T;break;case"video":case"audio":for(F=0;F<zg.length;F++)Sr(zg[F],f);F=T;break;case"source":Sr("error",f),F=T;break;case"img":case"image":case"link":Sr("error",f),Sr("load",f),F=T;break;case"details":Sr("toggle",f),F=T;break;case"input":Ft(f,T),F=dt(f,T),Sr("invalid",f);break;case"option":F=T;break;case"select":f._wrapperState={wasMultiple:!!T.multiple},F=we({},T,{value:void 0}),Sr("invalid",f);break;case"textarea":wi(f,T),F=_n(f,T),Sr("invalid",f);break;default:F=T}cn(b,F),fe=F;for(H in fe)if(fe.hasOwnProperty(H)){var ge=fe[H];H==="style"?Xe(f,ge):H==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&vr(f,ge)):H==="children"?typeof ge=="string"?(b!=="textarea"||ge!=="")&&Hi(f,ge):typeof ge=="number"&&Hi(f,""+ge):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?ge!=null&&H==="onScroll"&&Sr("scroll",f):ge!=null&&k(f,H,ge,ee))}switch(b){case"input":Ge(f),Kt(f,T,!1);break;case"textarea":Ge(f),so(f);break;case"option":T.value!=null&&f.setAttribute("value",""+De(T.value));break;case"select":f.multiple=!!T.multiple,H=T.value,H!=null?nt(f,!!T.multiple,H,!1):T.defaultValue!=null&&nt(f,!!T.multiple,T.defaultValue,!0);break;default:typeof F.onClick=="function"&&(f.onclick=Qy)}switch(b){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Ps(p),null;case 6:if(f&&p.stateNode!=null)t4(f,p,f.memoizedProps,T);else{if(typeof T!="string"&&p.stateNode===null)throw Error(n(166));if(b=If(Qg.current),If(al.current),r1(p)){if(T=p.stateNode,b=p.memoizedProps,T[ol]=p,(H=T.nodeValue!==b)&&(f=Ro,f!==null))switch(f.tag){case 3:Yy(T.nodeValue,b,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Yy(T.nodeValue,b,(f.mode&1)!==0)}H&&(p.flags|=4)}else T=(b.nodeType===9?b:b.ownerDocument).createTextNode(T),T[ol]=p,p.stateNode=T}return Ps(p),null;case 13:if(_r(Vr),T=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Mr&&ko!==null&&(p.mode&1)!==0&&(p.flags&128)===0)iM(),gd(),p.flags|=98560,H=!1;else if(H=r1(p),T!==null&&T.dehydrated!==null){if(f===null){if(!H)throw Error(n(318));if(H=p.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[ol]=p}else gd(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Ps(p),H=!1}else Ta!==null&&(AE(Ta),Ta=null),H=!0;if(!H)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=b,p):(T=T!==null,T!==(f!==null&&f.memoizedState!==null)&&T&&(p.child.flags|=8192,(p.mode&1)!==0&&(f===null||(Vr.current&1)!==0?Di===0&&(Di=3):_E())),p.updateQueue!==null&&(p.flags|=4),Ps(p),null);case 4:return wd(),fE(f,p),f===null&&Hg(p.stateNode.containerInfo),Ps(p),null;case 10:return FA(p.type._context),Ps(p),null;case 17:return fo(p.type)&&Zy(),Ps(p),null;case 19:if(_r(Vr),H=p.memoizedState,H===null)return Ps(p),null;if(T=(p.flags&128)!==0,ee=H.rendering,ee===null)if(T)tm(H,!1);else{if(Di!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(ee=c1(f),ee!==null){for(p.flags|=128,tm(H,!1),T=ee.updateQueue,T!==null&&(p.updateQueue=T,p.flags|=4),p.subtreeFlags=0,T=b,b=p.child;b!==null;)H=b,f=T,H.flags&=14680066,ee=H.alternate,ee===null?(H.childLanes=0,H.lanes=f,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=ee.childLanes,H.lanes=ee.lanes,H.child=ee.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=ee.memoizedProps,H.memoizedState=ee.memoizedState,H.updateQueue=ee.updateQueue,H.type=ee.type,f=ee.dependencies,H.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),b=b.sibling;return fr(Vr,Vr.current&1|2),p.child}f=f.sibling}H.tail!==null&&vn()>Ed&&(p.flags|=128,T=!0,tm(H,!1),p.lanes=4194304)}else{if(!T)if(f=c1(ee),f!==null){if(p.flags|=128,T=!0,b=f.updateQueue,b!==null&&(p.updateQueue=b,p.flags|=4),tm(H,!0),H.tail===null&&H.tailMode==="hidden"&&!ee.alternate&&!Mr)return Ps(p),null}else 2*vn()-H.renderingStartTime>Ed&&b!==1073741824&&(p.flags|=128,T=!0,tm(H,!1),p.lanes=4194304);H.isBackwards?(ee.sibling=p.child,p.child=ee):(b=H.last,b!==null?b.sibling=ee:p.child=ee,H.last=ee)}return H.tail!==null?(p=H.tail,H.rendering=p,H.tail=p.sibling,H.renderingStartTime=vn(),p.sibling=null,b=Vr.current,fr(Vr,T?b&1|2:b&1),p):(Ps(p),null);case 22:case 23:return SE(),T=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==T&&(p.flags|=8192),T&&(p.mode&1)!==0?(Mo&1073741824)!==0&&(Ps(p),p.subtreeFlags&6&&(p.flags|=8192)):Ps(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function JJ(f,p){switch(kA(p),p.tag){case 1:return fo(p.type)&&Zy(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return wd(),_r(uo),_r(Cs),qA(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 5:return $A(p),null;case 13:if(_r(Vr),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(n(340));gd()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return _r(Vr),null;case 4:return wd(),null;case 10:return FA(p.type._context),null;case 22:case 23:return SE(),null;case 24:return null;default:return null}}var v1=!1,Ns=!1,eee=typeof WeakSet=="function"?WeakSet:Set,ct=null;function bd(f,p){var b=f.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(T){Qr(f,p,T)}else b.current=null}function hE(f,p,b){try{b()}catch(T){Qr(f,p,T)}}var n4=!1;function tee(f,p){if(SA=ao,f=tn(),Ut(f)){if("selectionStart"in f)var b={start:f.selectionStart,end:f.selectionEnd};else e:{b=(b=f.ownerDocument)&&b.defaultView||window;var T=b.getSelection&&b.getSelection();if(T&&T.rangeCount!==0){b=T.anchorNode;var F=T.anchorOffset,H=T.focusNode;T=T.focusOffset;try{b.nodeType,H.nodeType}catch{b=null;break e}var ee=0,fe=-1,ge=-1,Ne=0,qe=0,We=f,He=null;t:for(;;){for(var st;We!==b||F!==0&&We.nodeType!==3||(fe=ee+F),We!==H||T!==0&&We.nodeType!==3||(ge=ee+T),We.nodeType===3&&(ee+=We.nodeValue.length),(st=We.firstChild)!==null;)He=We,We=st;for(;;){if(We===f)break t;if(He===b&&++Ne===F&&(fe=ee),He===H&&++qe===T&&(ge=ee),(st=We.nextSibling)!==null)break;We=He,He=We.parentNode}We=st}b=fe===-1||ge===-1?null:{start:fe,end:ge}}else b=null}b=b||{start:0,end:0}}else b=null;for(_A={focusedElem:f,selectionRange:b},ao=!1,ct=p;ct!==null;)if(p=ct,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,ct=f;else for(;ct!==null;){p=ct;try{var pt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var yt=pt.memoizedProps,di=pt.memoizedState,Se=p.stateNode,ve=Se.getSnapshotBeforeUpdate(p.elementType===p.type?yt:Ca(p.type,yt),di);Se.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var _e=p.stateNode.containerInfo;_e.nodeType===1?_e.textContent="":_e.nodeType===9&&_e.documentElement&&_e.removeChild(_e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Qe){Qr(p,p.return,Qe)}if(f=p.sibling,f!==null){f.return=p.return,ct=f;break}ct=p.return}return pt=n4,n4=!1,pt}function nm(f,p,b){var T=p.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var F=T=T.next;do{if((F.tag&f)===f){var H=F.destroy;F.destroy=void 0,H!==void 0&&hE(p,b,H)}F=F.next}while(F!==T)}}function w1(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&f)===f){var T=b.create;b.destroy=T()}b=b.next}while(b!==p)}}function dE(f){var p=f.ref;if(p!==null){var b=f.stateNode;switch(f.tag){case 5:f=b;break;default:f=b}typeof p=="function"?p(f):p.current=f}}function r4(f){var p=f.alternate;p!==null&&(f.alternate=null,r4(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[ol],delete p[Gg],delete p[PA],delete p[BJ],delete p[jJ])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function i4(f){return f.tag===5||f.tag===3||f.tag===4}function s4(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||i4(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function pE(f,p,b){var T=f.tag;if(T===5||T===6)f=f.stateNode,p?b.nodeType===8?b.parentNode.insertBefore(f,p):b.insertBefore(f,p):(b.nodeType===8?(p=b.parentNode,p.insertBefore(f,b)):(p=b,p.appendChild(f)),b=b._reactRootContainer,b!=null||p.onclick!==null||(p.onclick=Qy));else if(T!==4&&(f=f.child,f!==null))for(pE(f,p,b),f=f.sibling;f!==null;)pE(f,p,b),f=f.sibling}function gE(f,p,b){var T=f.tag;if(T===5||T===6)f=f.stateNode,p?b.insertBefore(f,p):b.appendChild(f);else if(T!==4&&(f=f.child,f!==null))for(gE(f,p,b),f=f.sibling;f!==null;)gE(f,p,b),f=f.sibling}var us=null,Ia=!1;function lu(f,p,b){for(b=b.child;b!==null;)o4(f,p,b),b=b.sibling}function o4(f,p,b){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(sn,b)}catch{}switch(b.tag){case 5:Ns||bd(b,p);case 6:var T=us,F=Ia;us=null,lu(f,p,b),us=T,Ia=F,us!==null&&(Ia?(f=us,b=b.stateNode,f.nodeType===8?f.parentNode.removeChild(b):f.removeChild(b)):us.removeChild(b.stateNode));break;case 18:us!==null&&(Ia?(f=us,b=b.stateNode,f.nodeType===8?IA(f.parentNode,b):f.nodeType===1&&IA(f,b),os(f)):IA(us,b.stateNode));break;case 4:T=us,F=Ia,us=b.stateNode.containerInfo,Ia=!0,lu(f,p,b),us=T,Ia=F;break;case 0:case 11:case 14:case 15:if(!Ns&&(T=b.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){F=T=T.next;do{var H=F,ee=H.destroy;H=H.tag,ee!==void 0&&((H&2)!==0||(H&4)!==0)&&hE(b,p,ee),F=F.next}while(F!==T)}lu(f,p,b);break;case 1:if(!Ns&&(bd(b,p),T=b.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=b.memoizedProps,T.state=b.memoizedState,T.componentWillUnmount()}catch(fe){Qr(b,p,fe)}lu(f,p,b);break;case 21:lu(f,p,b);break;case 22:b.mode&1?(Ns=(T=Ns)||b.memoizedState!==null,lu(f,p,b),Ns=T):lu(f,p,b);break;default:lu(f,p,b)}}function a4(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var b=f.stateNode;b===null&&(b=f.stateNode=new eee),p.forEach(function(T){var F=uee.bind(null,f,T);b.has(T)||(b.add(T),T.then(F,F))})}}function Pa(f,p){var b=p.deletions;if(b!==null)for(var T=0;T<b.length;T++){var F=b[T];try{var H=f,ee=p,fe=ee;e:for(;fe!==null;){switch(fe.tag){case 5:us=fe.stateNode,Ia=!1;break e;case 3:us=fe.stateNode.containerInfo,Ia=!0;break e;case 4:us=fe.stateNode.containerInfo,Ia=!0;break e}fe=fe.return}if(us===null)throw Error(n(160));o4(H,ee,F),us=null,Ia=!1;var ge=F.alternate;ge!==null&&(ge.return=null),F.return=null}catch(Ne){Qr(F,p,Ne)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)l4(p,f),p=p.sibling}function l4(f,p){var b=f.alternate,T=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Pa(p,f),cl(f),T&4){try{nm(3,f,f.return),w1(3,f)}catch(yt){Qr(f,f.return,yt)}try{nm(5,f,f.return)}catch(yt){Qr(f,f.return,yt)}}break;case 1:Pa(p,f),cl(f),T&512&&b!==null&&bd(b,b.return);break;case 5:if(Pa(p,f),cl(f),T&512&&b!==null&&bd(b,b.return),f.flags&32){var F=f.stateNode;try{Hi(F,"")}catch(yt){Qr(f,f.return,yt)}}if(T&4&&(F=f.stateNode,F!=null)){var H=f.memoizedProps,ee=b!==null?b.memoizedProps:H,fe=f.type,ge=f.updateQueue;if(f.updateQueue=null,ge!==null)try{fe==="input"&&H.type==="radio"&&H.name!=null&&Yt(F,H),Ln(fe,ee);var Ne=Ln(fe,H);for(ee=0;ee<ge.length;ee+=2){var qe=ge[ee],We=ge[ee+1];qe==="style"?Xe(F,We):qe==="dangerouslySetInnerHTML"?vr(F,We):qe==="children"?Hi(F,We):k(F,qe,We,Ne)}switch(fe){case"input":kt(F,H);break;case"textarea":si(F,H);break;case"select":var He=F._wrapperState.wasMultiple;F._wrapperState.wasMultiple=!!H.multiple;var st=H.value;st!=null?nt(F,!!H.multiple,st,!1):He!==!!H.multiple&&(H.defaultValue!=null?nt(F,!!H.multiple,H.defaultValue,!0):nt(F,!!H.multiple,H.multiple?[]:"",!1))}F[Gg]=H}catch(yt){Qr(f,f.return,yt)}}break;case 6:if(Pa(p,f),cl(f),T&4){if(f.stateNode===null)throw Error(n(162));F=f.stateNode,H=f.memoizedProps;try{F.nodeValue=H}catch(yt){Qr(f,f.return,yt)}}break;case 3:if(Pa(p,f),cl(f),T&4&&b!==null&&b.memoizedState.isDehydrated)try{os(p.containerInfo)}catch(yt){Qr(f,f.return,yt)}break;case 4:Pa(p,f),cl(f);break;case 13:Pa(p,f),cl(f),F=f.child,F.flags&8192&&(H=F.memoizedState!==null,F.stateNode.isHidden=H,!H||F.alternate!==null&&F.alternate.memoizedState!==null||(vE=vn())),T&4&&a4(f);break;case 22:if(qe=b!==null&&b.memoizedState!==null,f.mode&1?(Ns=(Ne=Ns)||qe,Pa(p,f),Ns=Ne):Pa(p,f),cl(f),T&8192){if(Ne=f.memoizedState!==null,(f.stateNode.isHidden=Ne)&&!qe&&(f.mode&1)!==0)for(ct=f,qe=f.child;qe!==null;){for(We=ct=qe;ct!==null;){switch(He=ct,st=He.child,He.tag){case 0:case 11:case 14:case 15:nm(4,He,He.return);break;case 1:bd(He,He.return);var pt=He.stateNode;if(typeof pt.componentWillUnmount=="function"){T=He,b=He.return;try{p=T,pt.props=p.memoizedProps,pt.state=p.memoizedState,pt.componentWillUnmount()}catch(yt){Qr(T,b,yt)}}break;case 5:bd(He,He.return);break;case 22:if(He.memoizedState!==null){f4(We);continue}}st!==null?(st.return=He,ct=st):f4(We)}qe=qe.sibling}e:for(qe=null,We=f;;){if(We.tag===5){if(qe===null){qe=We;try{F=We.stateNode,Ne?(H=F.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(fe=We.stateNode,ge=We.memoizedProps.style,ee=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,fe.style.display=Qn("display",ee))}catch(yt){Qr(f,f.return,yt)}}}else if(We.tag===6){if(qe===null)try{We.stateNode.nodeValue=Ne?"":We.memoizedProps}catch(yt){Qr(f,f.return,yt)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===f)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===f)break e;for(;We.sibling===null;){if(We.return===null||We.return===f)break e;qe===We&&(qe=null),We=We.return}qe===We&&(qe=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:Pa(p,f),cl(f),T&4&&a4(f);break;case 21:break;default:Pa(p,f),cl(f)}}function cl(f){var p=f.flags;if(p&2){try{e:{for(var b=f.return;b!==null;){if(i4(b)){var T=b;break e}b=b.return}throw Error(n(160))}switch(T.tag){case 5:var F=T.stateNode;T.flags&32&&(Hi(F,""),T.flags&=-33);var H=s4(f);gE(f,H,F);break;case 3:case 4:var ee=T.stateNode.containerInfo,fe=s4(f);pE(f,fe,ee);break;default:throw Error(n(161))}}catch(ge){Qr(f,f.return,ge)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function nee(f,p,b){ct=f,c4(f)}function c4(f,p,b){for(var T=(f.mode&1)!==0;ct!==null;){var F=ct,H=F.child;if(F.tag===22&&T){var ee=F.memoizedState!==null||v1;if(!ee){var fe=F.alternate,ge=fe!==null&&fe.memoizedState!==null||Ns;fe=v1;var Ne=Ns;if(v1=ee,(Ns=ge)&&!Ne)for(ct=F;ct!==null;)ee=ct,ge=ee.child,ee.tag===22&&ee.memoizedState!==null?h4(F):ge!==null?(ge.return=ee,ct=ge):h4(F);for(;H!==null;)ct=H,c4(H),H=H.sibling;ct=F,v1=fe,Ns=Ne}u4(f)}else(F.subtreeFlags&8772)!==0&&H!==null?(H.return=F,ct=H):u4(f)}}function u4(f){for(;ct!==null;){var p=ct;if((p.flags&8772)!==0){var b=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Ns||w1(5,p);break;case 1:var T=p.stateNode;if(p.flags&4&&!Ns)if(b===null)T.componentDidMount();else{var F=p.elementType===p.type?b.memoizedProps:Ca(p.type,b.memoizedProps);T.componentDidUpdate(F,b.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var H=p.updateQueue;H!==null&&fM(p,H,T);break;case 3:var ee=p.updateQueue;if(ee!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=p.child.stateNode;break;case 1:b=p.child.stateNode}fM(p,ee,b)}break;case 5:var fe=p.stateNode;if(b===null&&p.flags&4){b=fe;var ge=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&b.focus();break;case"img":ge.src&&(b.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Ne=p.alternate;if(Ne!==null){var qe=Ne.memoizedState;if(qe!==null){var We=qe.dehydrated;We!==null&&os(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ns||p.flags&512&&dE(p)}catch(He){Qr(p,p.return,He)}}if(p===f){ct=null;break}if(b=p.sibling,b!==null){b.return=p.return,ct=b;break}ct=p.return}}function f4(f){for(;ct!==null;){var p=ct;if(p===f){ct=null;break}var b=p.sibling;if(b!==null){b.return=p.return,ct=b;break}ct=p.return}}function h4(f){for(;ct!==null;){var p=ct;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{w1(4,p)}catch(ge){Qr(p,b,ge)}break;case 1:var T=p.stateNode;if(typeof T.componentDidMount=="function"){var F=p.return;try{T.componentDidMount()}catch(ge){Qr(p,F,ge)}}var H=p.return;try{dE(p)}catch(ge){Qr(p,H,ge)}break;case 5:var ee=p.return;try{dE(p)}catch(ge){Qr(p,ee,ge)}}}catch(ge){Qr(p,p.return,ge)}if(p===f){ct=null;break}var fe=p.sibling;if(fe!==null){fe.return=p.return,ct=fe;break}ct=p.return}}var ree=Math.ceil,x1=U.ReactCurrentDispatcher,mE=U.ReactCurrentOwner,na=U.ReactCurrentBatchConfig,Sn=0,Ki=null,xi=null,fs=0,Mo=0,Ad=ru(0),Di=0,rm=null,Nf=0,b1=0,yE=0,im=null,po=null,vE=0,Ed=1/0,Jl=null,A1=!1,wE=null,cu=null,E1=!1,uu=null,S1=0,sm=0,xE=null,_1=-1,T1=0;function Ks(){return(Sn&6)!==0?vn():_1!==-1?_1:_1=vn()}function fu(f){return(f.mode&1)===0?1:(Sn&2)!==0&&fs!==0?fs&-fs:VJ.transition!==null?(T1===0&&(T1=Rr()),T1):(f=Mt,f!==0||(f=window.event,f=f===void 0?16:Qc(f.type)),f)}function Na(f,p,b,T){if(50<sm)throw sm=0,xE=null,Error(n(185));ie(f,b,T),((Sn&2)===0||f!==Ki)&&(f===Ki&&((Sn&2)===0&&(b1|=b),Di===4&&hu(f,fs)),go(f,T),b===1&&Sn===0&&(p.mode&1)===0&&(Ed=vn()+500,e1&&su()))}function go(f,p){var b=f.callbackNode;As(f,p);var T=bs(f,f===Ki?fs:0);if(T===0)b!==null&&ci(b),f.callbackNode=null,f.callbackPriority=0;else if(p=T&-T,f.callbackPriority!==p){if(b!=null&&ci(b),p===1)f.tag===0?FJ(p4.bind(null,f)):Jk(p4.bind(null,f)),DJ(function(){(Sn&6)===0&&su()}),b=null;else{switch(tl(T)){case 1:b=Be;break;case 4:b=el;break;case 16:b=wn;break;case 536870912:b=nd;break;default:b=wn}b=A4(b,d4.bind(null,f))}f.callbackPriority=p,f.callbackNode=b}}function d4(f,p){if(_1=-1,T1=0,(Sn&6)!==0)throw Error(n(327));var b=f.callbackNode;if(Sd()&&f.callbackNode!==b)return null;var T=bs(f,f===Ki?fs:0);if(T===0)return null;if((T&30)!==0||(T&f.expiredLanes)!==0||p)p=C1(f,T);else{p=T;var F=Sn;Sn|=2;var H=m4();(Ki!==f||fs!==p)&&(Jl=null,Ed=vn()+500,Rf(f,p));do try{oee();break}catch(fe){g4(f,fe)}while(!0);jA(),x1.current=H,Sn=F,xi!==null?p=0:(Ki=null,fs=0,p=Di)}if(p!==0){if(p===2&&(F=Jt(f),F!==0&&(T=F,p=bE(f,F))),p===1)throw b=rm,Rf(f,0),hu(f,T),go(f,vn()),b;if(p===6)hu(f,T);else{if(F=f.current.alternate,(T&30)===0&&!iee(F)&&(p=C1(f,T),p===2&&(H=Jt(f),H!==0&&(T=H,p=bE(f,H))),p===1))throw b=rm,Rf(f,0),hu(f,T),go(f,vn()),b;switch(f.finishedWork=F,f.finishedLanes=T,p){case 0:case 1:throw Error(n(345));case 2:kf(f,po,Jl);break;case 3:if(hu(f,T),(T&130023424)===T&&(p=vE+500-vn(),10<p)){if(bs(f,0)!==0)break;if(F=f.suspendedLanes,(F&T)!==T){Ks(),f.pingedLanes|=f.suspendedLanes&F;break}f.timeoutHandle=CA(kf.bind(null,f,po,Jl),p);break}kf(f,po,Jl);break;case 4:if(hu(f,T),(T&4194240)===T)break;for(p=f.eventTimes,F=-1;0<T;){var ee=31-Oi(T);H=1<<ee,ee=p[ee],ee>F&&(F=ee),T&=~H}if(T=F,T=vn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*ree(T/1960))-T,10<T){f.timeoutHandle=CA(kf.bind(null,f,po,Jl),T);break}kf(f,po,Jl);break;case 5:kf(f,po,Jl);break;default:throw Error(n(329))}}}return go(f,vn()),f.callbackNode===b?d4.bind(null,f):null}function bE(f,p){var b=im;return f.current.memoizedState.isDehydrated&&(Rf(f,p).flags|=256),f=C1(f,p),f!==2&&(p=po,po=b,p!==null&&AE(p)),f}function AE(f){po===null?po=f:po.push.apply(po,f)}function iee(f){for(var p=f;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var T=0;T<b.length;T++){var F=b[T],H=F.getSnapshot;F=F.value;try{if(!be(H(),F))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function hu(f,p){for(p&=~yE,p&=~b1,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var b=31-Oi(p),T=1<<b;f[b]=-1,p&=~T}}function p4(f){if((Sn&6)!==0)throw Error(n(327));Sd();var p=bs(f,0);if((p&1)===0)return go(f,vn()),null;var b=C1(f,p);if(f.tag!==0&&b===2){var T=Jt(f);T!==0&&(p=T,b=bE(f,T))}if(b===1)throw b=rm,Rf(f,0),hu(f,p),go(f,vn()),b;if(b===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,kf(f,po,Jl),go(f,vn()),null}function EE(f,p){var b=Sn;Sn|=1;try{return f(p)}finally{Sn=b,Sn===0&&(Ed=vn()+500,e1&&su())}}function Of(f){uu!==null&&uu.tag===0&&(Sn&6)===0&&Sd();var p=Sn;Sn|=1;var b=na.transition,T=Mt;try{if(na.transition=null,Mt=1,f)return f()}finally{Mt=T,na.transition=b,Sn=p,(Sn&6)===0&&su()}}function SE(){Mo=Ad.current,_r(Ad)}function Rf(f,p){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;if(b!==-1&&(f.timeoutHandle=-1,MJ(b)),xi!==null)for(b=xi.return;b!==null;){var T=b;switch(kA(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Zy();break;case 3:wd(),_r(uo),_r(Cs),qA();break;case 5:$A(T);break;case 4:wd();break;case 13:_r(Vr);break;case 19:_r(Vr);break;case 10:FA(T.type._context);break;case 22:case 23:SE()}b=b.return}if(Ki=f,xi=f=du(f.current,null),fs=Mo=p,Di=0,rm=null,yE=b1=Nf=0,po=im=null,Cf!==null){for(p=0;p<Cf.length;p++)if(b=Cf[p],T=b.interleaved,T!==null){b.interleaved=null;var F=T.next,H=b.pending;if(H!==null){var ee=H.next;H.next=F,T.next=ee}b.pending=T}Cf=null}return f}function g4(f,p){do{var b=xi;try{if(jA(),u1.current=p1,f1){for(var T=Ur.memoizedState;T!==null;){var F=T.queue;F!==null&&(F.pending=null),T=T.next}f1=!1}if(Pf=0,Wi=Mi=Ur=null,Xg=!1,Zg=0,mE.current=null,b===null||b.return===null){Di=1,rm=p,xi=null;break}e:{var H=f,ee=b.return,fe=b,ge=p;if(p=fs,fe.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ne=ge,qe=fe,We=qe.tag;if((qe.mode&1)===0&&(We===0||We===11||We===15)){var He=qe.alternate;He?(qe.updateQueue=He.updateQueue,qe.memoizedState=He.memoizedState,qe.lanes=He.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var st=VM(ee);if(st!==null){st.flags&=-257,UM(st,ee,fe,H,p),st.mode&1&&FM(H,Ne,p),p=st,ge=Ne;var pt=p.updateQueue;if(pt===null){var yt=new Set;yt.add(ge),p.updateQueue=yt}else pt.add(ge);break e}else{if((p&1)===0){FM(H,Ne,p),_E();break e}ge=Error(n(426))}}else if(Mr&&fe.mode&1){var di=VM(ee);if(di!==null){(di.flags&65536)===0&&(di.flags|=256),UM(di,ee,fe,H,p),LA(xd(ge,fe));break e}}H=ge=xd(ge,fe),Di!==4&&(Di=2),im===null?im=[H]:im.push(H),H=ee;do{switch(H.tag){case 3:H.flags|=65536,p&=-p,H.lanes|=p;var Se=BM(H,ge,p);uM(H,Se);break e;case 1:fe=ge;var ve=H.type,_e=H.stateNode;if((H.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(cu===null||!cu.has(_e)))){H.flags|=65536,p&=-p,H.lanes|=p;var Qe=jM(H,fe,p);uM(H,Qe);break e}}H=H.return}while(H!==null)}v4(b)}catch(vt){p=vt,xi===b&&b!==null&&(xi=b=b.return);continue}break}while(!0)}function m4(){var f=x1.current;return x1.current=p1,f===null?p1:f}function _E(){(Di===0||Di===3||Di===2)&&(Di=4),Ki===null||(Nf&268435455)===0&&(b1&268435455)===0||hu(Ki,fs)}function C1(f,p){var b=Sn;Sn|=2;var T=m4();(Ki!==f||fs!==p)&&(Jl=null,Rf(f,p));do try{see();break}catch(F){g4(f,F)}while(!0);if(jA(),Sn=b,x1.current=T,xi!==null)throw Error(n(261));return Ki=null,fs=0,Di}function see(){for(;xi!==null;)y4(xi)}function oee(){for(;xi!==null&&!$n();)y4(xi)}function y4(f){var p=b4(f.alternate,f,Mo);f.memoizedProps=f.pendingProps,p===null?v4(f):xi=p,mE.current=null}function v4(f){var p=f;do{var b=p.alternate;if(f=p.return,(p.flags&32768)===0){if(b=ZJ(b,p,Mo),b!==null){xi=b;return}}else{if(b=JJ(b,p),b!==null){b.flags&=32767,xi=b;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Di=6,xi=null;return}}if(p=p.sibling,p!==null){xi=p;return}xi=p=f}while(p!==null);Di===0&&(Di=5)}function kf(f,p,b){var T=Mt,F=na.transition;try{na.transition=null,Mt=1,aee(f,p,b,T)}finally{na.transition=F,Mt=T}return null}function aee(f,p,b,T){do Sd();while(uu!==null);if((Sn&6)!==0)throw Error(n(327));b=f.finishedWork;var F=f.finishedLanes;if(b===null)return null;if(f.finishedWork=null,f.finishedLanes=0,b===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var H=b.lanes|b.childLanes;if(tt(f,H),f===Ki&&(xi=Ki=null,fs=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||E1||(E1=!0,A4(wn,function(){return Sd(),null})),H=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||H){H=na.transition,na.transition=null;var ee=Mt;Mt=1;var fe=Sn;Sn|=4,mE.current=null,tee(f,b),l4(b,f),Ts(_A),ao=!!SA,_A=SA=null,f.current=b,nee(b),td(),Sn=fe,Mt=ee,na.transition=H}else f.current=b;if(E1&&(E1=!1,uu=f,S1=F),H=f.pendingLanes,H===0&&(cu=null),Zt(b.stateNode),go(f,vn()),p!==null)for(T=f.onRecoverableError,b=0;b<p.length;b++)F=p[b],T(F.value,{componentStack:F.stack,digest:F.digest});if(A1)throw A1=!1,f=wE,wE=null,f;return(S1&1)!==0&&f.tag!==0&&Sd(),H=f.pendingLanes,(H&1)!==0?f===xE?sm++:(sm=0,xE=f):sm=0,su(),null}function Sd(){if(uu!==null){var f=tl(S1),p=na.transition,b=Mt;try{if(na.transition=null,Mt=16>f?16:f,uu===null)var T=!1;else{if(f=uu,uu=null,S1=0,(Sn&6)!==0)throw Error(n(331));var F=Sn;for(Sn|=4,ct=f.current;ct!==null;){var H=ct,ee=H.child;if((ct.flags&16)!==0){var fe=H.deletions;if(fe!==null){for(var ge=0;ge<fe.length;ge++){var Ne=fe[ge];for(ct=Ne;ct!==null;){var qe=ct;switch(qe.tag){case 0:case 11:case 15:nm(8,qe,H)}var We=qe.child;if(We!==null)We.return=qe,ct=We;else for(;ct!==null;){qe=ct;var He=qe.sibling,st=qe.return;if(r4(qe),qe===Ne){ct=null;break}if(He!==null){He.return=st,ct=He;break}ct=st}}}var pt=H.alternate;if(pt!==null){var yt=pt.child;if(yt!==null){pt.child=null;do{var di=yt.sibling;yt.sibling=null,yt=di}while(yt!==null)}}ct=H}}if((H.subtreeFlags&2064)!==0&&ee!==null)ee.return=H,ct=ee;else e:for(;ct!==null;){if(H=ct,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:nm(9,H,H.return)}var Se=H.sibling;if(Se!==null){Se.return=H.return,ct=Se;break e}ct=H.return}}var ve=f.current;for(ct=ve;ct!==null;){ee=ct;var _e=ee.child;if((ee.subtreeFlags&2064)!==0&&_e!==null)_e.return=ee,ct=_e;else e:for(ee=ve;ct!==null;){if(fe=ct,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:w1(9,fe)}}catch(vt){Qr(fe,fe.return,vt)}if(fe===ee){ct=null;break e}var Qe=fe.sibling;if(Qe!==null){Qe.return=fe.return,ct=Qe;break e}ct=fe.return}}if(Sn=F,su(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(sn,f)}catch{}T=!0}return T}finally{Mt=b,na.transition=p}}return!1}function w4(f,p,b){p=xd(b,p),p=BM(f,p,1),f=au(f,p,1),p=Ks(),f!==null&&(ie(f,1,p),go(f,p))}function Qr(f,p,b){if(f.tag===3)w4(f,f,b);else for(;p!==null;){if(p.tag===3){w4(p,f,b);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(cu===null||!cu.has(T))){f=xd(b,f),f=jM(p,f,1),p=au(p,f,1),f=Ks(),p!==null&&(ie(p,1,f),go(p,f));break}}p=p.return}}function lee(f,p,b){var T=f.pingCache;T!==null&&T.delete(p),p=Ks(),f.pingedLanes|=f.suspendedLanes&b,Ki===f&&(fs&b)===b&&(Di===4||Di===3&&(fs&130023424)===fs&&500>vn()-vE?Rf(f,0):yE|=b),go(f,p)}function x4(f,p){p===0&&((f.mode&1)===0?p=1:(p=Kc,Kc<<=1,(Kc&130023424)===0&&(Kc=4194304)));var b=Ks();f=Ql(f,p),f!==null&&(ie(f,p,b),go(f,b))}function cee(f){var p=f.memoizedState,b=0;p!==null&&(b=p.retryLane),x4(f,b)}function uee(f,p){var b=0;switch(f.tag){case 13:var T=f.stateNode,F=f.memoizedState;F!==null&&(b=F.retryLane);break;case 19:T=f.stateNode;break;default:throw Error(n(314))}T!==null&&T.delete(p),x4(f,b)}var b4;b4=function(f,p,b){if(f!==null)if(f.memoizedProps!==p.pendingProps||uo.current)ho=!0;else{if((f.lanes&b)===0&&(p.flags&128)===0)return ho=!1,XJ(f,p,b);ho=(f.flags&131072)!==0}else ho=!1,Mr&&(p.flags&1048576)!==0&&eM(p,n1,p.index);switch(p.lanes=0,p.tag){case 2:var T=p.type;y1(f,p),f=p.pendingProps;var F=hd(p,Cs.current);vd(p,b),F=YA(null,p,T,f,F,b);var H=QA();return p.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,fo(T)?(H=!0,Jy(p)):H=!1,p.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,zA(p),F.updater=g1,p.stateNode=F,F._reactInternals=p,nE(p,T,f,b),p=oE(null,p,T,!0,H,b)):(p.tag=0,Mr&&H&&RA(p),Ws(null,p,F,b),p=p.child),p;case 16:T=p.elementType;e:{switch(y1(f,p),f=p.pendingProps,F=T._init,T=F(T._payload),p.type=T,F=p.tag=hee(T),f=Ca(T,f),F){case 0:p=sE(null,p,T,f,b);break e;case 1:p=WM(null,p,T,f,b);break e;case 11:p=zM(null,p,T,f,b);break e;case 14:p=HM(null,p,T,Ca(T.type,f),b);break e}throw Error(n(306,T,""))}return p;case 0:return T=p.type,F=p.pendingProps,F=p.elementType===T?F:Ca(T,F),sE(f,p,T,F,b);case 1:return T=p.type,F=p.pendingProps,F=p.elementType===T?F:Ca(T,F),WM(f,p,T,F,b);case 3:e:{if(KM(p),f===null)throw Error(n(387));T=p.pendingProps,H=p.memoizedState,F=H.element,cM(f,p),l1(p,T,null,b);var ee=p.memoizedState;if(T=ee.element,H.isDehydrated)if(H={element:T,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},p.updateQueue.baseState=H,p.memoizedState=H,p.flags&256){F=xd(Error(n(423)),p),p=YM(f,p,T,b,F);break e}else if(T!==F){F=xd(Error(n(424)),p),p=YM(f,p,T,b,F);break e}else for(ko=nu(p.stateNode.containerInfo.firstChild),Ro=p,Mr=!0,Ta=null,b=aM(p,null,T,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(gd(),T===F){p=Zl(f,p,b);break e}Ws(f,p,T,b)}p=p.child}return p;case 5:return hM(p),f===null&&DA(p),T=p.type,F=p.pendingProps,H=f!==null?f.memoizedProps:null,ee=F.children,TA(T,F)?ee=null:H!==null&&TA(T,H)&&(p.flags|=32),qM(f,p),Ws(f,p,ee,b),p.child;case 6:return f===null&&DA(p),null;case 13:return QM(f,p,b);case 4:return HA(p,p.stateNode.containerInfo),T=p.pendingProps,f===null?p.child=md(p,null,T,b):Ws(f,p,T,b),p.child;case 11:return T=p.type,F=p.pendingProps,F=p.elementType===T?F:Ca(T,F),zM(f,p,T,F,b);case 7:return Ws(f,p,p.pendingProps,b),p.child;case 8:return Ws(f,p,p.pendingProps.children,b),p.child;case 12:return Ws(f,p,p.pendingProps.children,b),p.child;case 10:e:{if(T=p.type._context,F=p.pendingProps,H=p.memoizedProps,ee=F.value,fr(s1,T._currentValue),T._currentValue=ee,H!==null)if(be(H.value,ee)){if(H.children===F.children&&!uo.current){p=Zl(f,p,b);break e}}else for(H=p.child,H!==null&&(H.return=p);H!==null;){var fe=H.dependencies;if(fe!==null){ee=H.child;for(var ge=fe.firstContext;ge!==null;){if(ge.context===T){if(H.tag===1){ge=Xl(-1,b&-b),ge.tag=2;var Ne=H.updateQueue;if(Ne!==null){Ne=Ne.shared;var qe=Ne.pending;qe===null?ge.next=ge:(ge.next=qe.next,qe.next=ge),Ne.pending=ge}}H.lanes|=b,ge=H.alternate,ge!==null&&(ge.lanes|=b),VA(H.return,b,p),fe.lanes|=b;break}ge=ge.next}}else if(H.tag===10)ee=H.type===p.type?null:H.child;else if(H.tag===18){if(ee=H.return,ee===null)throw Error(n(341));ee.lanes|=b,fe=ee.alternate,fe!==null&&(fe.lanes|=b),VA(ee,b,p),ee=H.sibling}else ee=H.child;if(ee!==null)ee.return=H;else for(ee=H;ee!==null;){if(ee===p){ee=null;break}if(H=ee.sibling,H!==null){H.return=ee.return,ee=H;break}ee=ee.return}H=ee}Ws(f,p,F.children,b),p=p.child}return p;case 9:return F=p.type,T=p.pendingProps.children,vd(p,b),F=ea(F),T=T(F),p.flags|=1,Ws(f,p,T,b),p.child;case 14:return T=p.type,F=Ca(T,p.pendingProps),F=Ca(T.type,F),HM(f,p,T,F,b);case 15:return $M(f,p,p.type,p.pendingProps,b);case 17:return T=p.type,F=p.pendingProps,F=p.elementType===T?F:Ca(T,F),y1(f,p),p.tag=1,fo(T)?(f=!0,Jy(p)):f=!1,vd(p,b),DM(p,T,F),nE(p,T,F,b),oE(null,p,T,!0,f,b);case 19:return ZM(f,p,b);case 22:return GM(f,p,b)}throw Error(n(156,p.tag))};function A4(f,p){return ss(f,p)}function fee(f,p,b,T){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(f,p,b,T){return new fee(f,p,b,T)}function TE(f){return f=f.prototype,!(!f||!f.isReactComponent)}function hee(f){if(typeof f=="function")return TE(f)?1:0;if(f!=null){if(f=f.$$typeof,f===G)return 11;if(f===J)return 14}return 2}function du(f,p){var b=f.alternate;return b===null?(b=ra(f.tag,p,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=p,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&14680064,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,p=f.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b}function I1(f,p,b,T,F,H){var ee=2;if(T=f,typeof f=="function")TE(f)&&(ee=1);else if(typeof f=="string")ee=5;else e:switch(f){case O:return Mf(b.children,F,H,p);case M:ee=8,F|=8;break;case V:return f=ra(12,b,p,F|2),f.elementType=V,f.lanes=H,f;case $:return f=ra(13,b,p,F),f.elementType=$,f.lanes=H,f;case ce:return f=ra(19,b,p,F),f.elementType=ce,f.lanes=H,f;case ae:return P1(b,F,H,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case K:ee=10;break e;case W:ee=9;break e;case G:ee=11;break e;case J:ee=14;break e;case oe:ee=16,T=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return p=ra(ee,b,p,F),p.elementType=f,p.type=T,p.lanes=H,p}function Mf(f,p,b,T){return f=ra(7,f,T,p),f.lanes=b,f}function P1(f,p,b,T){return f=ra(22,f,T,p),f.elementType=ae,f.lanes=b,f.stateNode={isHidden:!1},f}function CE(f,p,b){return f=ra(6,f,null,p),f.lanes=b,f}function IE(f,p,b){return p=ra(4,f.children!==null?f.children:[],f.key,p),p.lanes=b,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function dee(f,p,b,T,F){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ae(0),this.expirationTimes=Ae(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.identifierPrefix=T,this.onRecoverableError=F,this.mutableSourceEagerHydrationData=null}function PE(f,p,b,T,F,H,ee,fe,ge){return f=new dee(f,p,b,fe,ge),p===1?(p=1,H===!0&&(p|=8)):p=0,H=ra(3,null,null,p),f.current=H,H.stateNode=f,H.memoizedState={element:T,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},zA(H),f}function pee(f,p,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:T==null?null:""+T,children:f,containerInfo:p,implementation:b}}function E4(f){if(!f)return iu;f=f._reactInternals;e:{if($i(f)!==f||f.tag!==1)throw Error(n(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(fo(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(f.tag===1){var b=f.type;if(fo(b))return Xk(f,b,p)}return p}function S4(f,p,b,T,F,H,ee,fe,ge){return f=PE(b,T,!0,f,F,H,ee,fe,ge),f.context=E4(null),b=f.current,T=Ks(),F=fu(b),H=Xl(T,F),H.callback=p??null,au(b,H,F),f.current.lanes=F,ie(f,F,T),go(f,T),f}function N1(f,p,b,T){var F=p.current,H=Ks(),ee=fu(F);return b=E4(b),p.context===null?p.context=b:p.pendingContext=b,p=Xl(H,ee),p.payload={element:f},T=T===void 0?null:T,T!==null&&(p.callback=T),f=au(F,p,ee),f!==null&&(Na(f,F,ee,H),a1(f,F,ee)),ee}function O1(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function _4(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<p?b:p}}function NE(f,p){_4(f,p),(f=f.alternate)&&_4(f,p)}function gee(){return null}var T4=typeof reportError=="function"?reportError:function(f){console.error(f)};function OE(f){this._internalRoot=f}R1.prototype.render=OE.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(n(409));N1(f,p,null,null)},R1.prototype.unmount=OE.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;Of(function(){N1(null,f,null,null)}),p[ql]=null}};function R1(f){this._internalRoot=f}R1.prototype.unstable_scheduleHydration=function(f){if(f){var p=er();f={blockedOn:null,target:f,priority:p};for(var b=0;b<ki.length&&p!==0&&p<ki[b].priority;b++);ki.splice(b,0,f),b===0&&id(f)}};function RE(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function k1(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function C4(){}function mee(f,p,b,T,F){if(F){if(typeof T=="function"){var H=T;T=function(){var Ne=O1(ee);H.call(Ne)}}var ee=S4(p,T,f,0,null,!1,!1,"",C4);return f._reactRootContainer=ee,f[ql]=ee.current,Hg(f.nodeType===8?f.parentNode:f),Of(),ee}for(;F=f.lastChild;)f.removeChild(F);if(typeof T=="function"){var fe=T;T=function(){var Ne=O1(ge);fe.call(Ne)}}var ge=PE(f,0,!1,null,null,!1,!1,"",C4);return f._reactRootContainer=ge,f[ql]=ge.current,Hg(f.nodeType===8?f.parentNode:f),Of(function(){N1(p,ge,b,T)}),ge}function M1(f,p,b,T,F){var H=b._reactRootContainer;if(H){var ee=H;if(typeof F=="function"){var fe=F;F=function(){var ge=O1(ee);fe.call(ge)}}N1(p,ee,f,F)}else ee=mee(b,p,f,F,T);return O1(ee)}Yc=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var b=Bn(p.pendingLanes);b!==0&&(ir(p,b|1),go(p,vn()),(Sn&6)===0&&(Ed=vn()+500,su()))}break;case 13:Of(function(){var T=Ql(f,1);if(T!==null){var F=Ks();Na(T,f,1,F)}}),NE(f,1)}},Ri=function(f){if(f.tag===13){var p=Ql(f,134217728);if(p!==null){var b=Ks();Na(p,f,134217728,b)}NE(f,134217728)}},wt=function(f){if(f.tag===13){var p=fu(f),b=Ql(f,p);if(b!==null){var T=Ks();Na(b,f,p,T)}NE(f,p)}},er=function(){return Mt},vf=function(f,p){var b=Mt;try{return Mt=f,p()}finally{Mt=b}},Aa=function(f,p,b){switch(p){case"input":if(kt(f,b),p=b.name,b.type==="radio"&&p!=null){for(b=f;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<b.length;p++){var T=b[p];if(T!==f&&T.form===f.form){var F=Xy(T);if(!F)throw Error(n(90));Te(T),kt(T,F)}}}break;case"textarea":si(f,b);break;case"select":p=b.value,p!=null&&nt(f,!!b.multiple,p,!1)}},Zn=EE,fn=Of;var yee={usingClientEntryPoint:!1,Events:[qg,ud,Xy,At,un,EE]},om={findFiberByHostInstance:Ef,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vee={bundleType:om.bundleType,version:om.version,rendererPackageName:om.rendererPackageName,rendererConfig:om.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=yf(f),f===null?null:f.stateNode},findFiberByHostInstance:om.findFiberByHostInstance||gee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var D1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!D1.isDisabled&&D1.supportsFiber)try{sn=D1.inject(vee),Gt=D1}catch{}}return mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yee,mo.createPortal=function(f,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RE(p))throw Error(n(200));return pee(f,p,null,b)},mo.createRoot=function(f,p){if(!RE(f))throw Error(n(299));var b=!1,T="",F=T4;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(F=p.onRecoverableError)),p=PE(f,1,!1,null,null,b,!1,T,F),f[ql]=p.current,Hg(f.nodeType===8?f.parentNode:f),new OE(p)},mo.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=yf(p),f=f===null?null:f.stateNode,f},mo.flushSync=function(f){return Of(f)},mo.hydrate=function(f,p,b){if(!k1(p))throw Error(n(200));return M1(null,f,p,!0,b)},mo.hydrateRoot=function(f,p,b){if(!RE(f))throw Error(n(405));var T=b!=null&&b.hydratedSources||null,F=!1,H="",ee=T4;if(b!=null&&(b.unstable_strictMode===!0&&(F=!0),b.identifierPrefix!==void 0&&(H=b.identifierPrefix),b.onRecoverableError!==void 0&&(ee=b.onRecoverableError)),p=S4(p,null,f,1,b??null,F,!1,H,ee),f[ql]=p.current,Hg(f),T)for(f=0;f<T.length;f++)b=T[f],F=b._getVersion,F=F(b._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[b,F]:p.mutableSourceEagerHydrationData.push(b,F);return new R1(p)},mo.render=function(f,p,b){if(!k1(p))throw Error(n(200));return M1(null,f,p,!1,b)},mo.unmountComponentAtNode=function(f){if(!k1(f))throw Error(n(40));return f._reactRootContainer?(Of(function(){M1(null,null,f,!1,function(){f._reactRootContainer=null,f[ql]=null})}),!0):!1},mo.unstable_batchedUpdates=EE,mo.unstable_renderSubtreeIntoContainer=function(f,p,b,T){if(!k1(b))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return M1(f,p,b,!1,T)},mo.version="18.3.1-next-f1338f8080-20240426",mo}var D4;function uz(){if(D4)return DE.exports;D4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),DE.exports=_ee(),DE.exports}var L4;function Tee(){if(L4)return L1;L4=1;var t=uz();return L1.createRoot=t.createRoot,L1.hydrateRoot=t.hydrateRoot,L1}var Cee=Tee(),Q=cO();const se=Nn(Q),fz=cz({__proto__:null,default:se},[Q]),hz=Q.createContext(null);function Iee({children:t}){const[e,n]=Q.useState("light");Q.useEffect(()=>{const i=localStorage.getItem("theme");i&&n(i)},[]),Q.useEffect(()=>{localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return P.jsx(hz.Provider,{value:{theme:e,toggleTheme:r},children:t})}function Pee(){const t=Q.useContext(hz);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const Nee={KrishiSetu:{en:"KrishiSetu",hi:"कृषि सेतु",or:"କୃଷି ସେତୁ"},farmer:{en:"Farmer",hi:"किसान",or:"କୃଷକ"},distributor:{en:"Distributor",hi:"वितरक",or:"ବିତରଣକାରୀ"},retailer:{en:"Retailer",hi:"खुदरा विक्रेता",or:"ଖୁଚୁରା ବିକ୍ରେତା"},customer:{en:"Customer",hi:"ग्राहक",or:"ଗ୍ରାହକ"},continue:{en:"Continue",hi:"जारी रखें",or:"ଆଗେଇ ଚାଲନ୍ତୁ"},scanQR:{en:"Scan QR Code",hi:"QR कोड स्कैन करें",or:"QR କୋଡ୍ ସ୍କାନ୍ କରନ୍ତୁ"},login:{en:"Login",hi:"लॉगिन",or:"ଲଗଇନ୍"},signup:{en:"Sign Up",hi:"साइन अप",or:"ସାଇନ୍ ଅପ୍"},name:{en:"Name",hi:"नाम",or:"ନାମ"},email:{en:"Email",hi:"ईमेल",or:"ଇମେଲ୍"},password:{en:"Password",hi:"पासवर्ड",or:"ପାସୱାର୍ଡ"},mobile:{en:"Mobile Number",hi:"मोबाइल नंबर",or:"ମୋବାଇଲ୍ ନମ୍ବର"},village:{en:"Village",hi:"गांव",or:"ଗ୍ରାମ"},state:{en:"State",hi:"राज्य",or:"ରାଜ୍ୟ"},district:{en:"District",hi:"जिला",or:"ଜିଲ୍ଲା"},dashboard:{en:"Dashboard",hi:"डैशबोर्ड",or:"ଡ୍ୟାସବୋର୍ଡ"},addCrop:{en:"Add Crop",hi:"फसल जोड़ें",or:"ଫସଲ ଯୋଗ କରନ୍ତୁ"},cropName:{en:"Crop Name",hi:"फसल का नाम",or:"ଫସଲର ନାମ"},totalWeight:{en:"Total Weight (kg)",hi:"कुल वजन (किलो)",or:"ମୋଟ ଓଜନ (କିଲୋ)"},harvestDate:{en:"Date of Harvest",hi:"कटाई की तारीख",or:"ଅମଳ ତାରିଖ"},expectedPrice:{en:"Expected Price (₹/kg)",hi:"अपेक्ष���त मूल्य (₹/किलो)",or:"ଆଶାକରାଯାଉଥିବା ମୂଲ୍ୟ (₹/କିଲୋ)"},marketPrices:{en:"Market Prices",hi:"बाजार भाव",or:"ବଜାର ଦର"},transactionHistory:{en:"Transaction History",hi:"लेनदेन इतिहास",or:"କାରବାର ଇତିହାସ"}},dz=Q.createContext(null);function Oee({children:t}){const[e,n]=Q.useState("en"),r=i=>Nee[i]?.[e]||i;return P.jsx(dz.Provider,{value:{language:e,setLanguage:n,t:r},children:t})}function jc(){const t=Q.useContext(dz);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t}function B4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pz(...t){return e=>{let n=!1;const r=t.map(i=>{const s=B4(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():B4(t[i],null)}}}}function vi(...t){return Q.useCallback(pz(...t),t)}function Ap(t){const e=kee(t),n=Q.forwardRef((r,i)=>{const{children:s,...o}=r,a=Q.Children.toArray(s),c=a.find(Dee);if(c){const u=c.props.children,g=a.map(m=>m===c?Q.Children.count(u)>1?Q.Children.only(null):Q.isValidElement(u)?u.props.children:null:m);return P.jsx(e,{...o,ref:i,children:Q.isValidElement(u)?Q.cloneElement(u,void 0,g):null})}return P.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Ree=Ap("Slot");function kee(t){const e=Q.forwardRef((n,r)=>{const{children:i,...s}=n;if(Q.isValidElement(i)){const o=Bee(i),a=Lee(s,i.props);return i.type!==Q.Fragment&&(a.ref=r?pz(r,o):o),Q.cloneElement(i,a)}return Q.Children.count(i)>1?Q.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Mee=Symbol("radix.slottable");function Dee(t){return Q.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mee}function Lee(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Bee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=gz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=gz(t))&&(r&&(r+=" "),r+=e);return r}const j4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,F4=Xt,jee=(t,e)=>n=>{var r;if(e?.variants==null)return F4(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const g=n?.[u],m=s?.[u];if(g===null)return null;const w=j4(g)||j4(m);return i[u][w]}),a=n&&Object.entries(n).reduce((u,g)=>{let[m,w]=g;return w===void 0||(u[m]=w),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,g)=>{let{class:m,className:w,...A}=g;return Object.entries(A).every(I=>{let[_,C]=I;return Array.isArray(C)?C.includes({...s,...a}[_]):{...s,...a}[_]===C})?[...u,m,w]:u},[]);return F4(t,o,c,n?.class,n?.className)},uO="-",Fee=t=>{const e=Uee(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(uO);return a[0]===""&&a.length!==1&&a.shift(),mz(a,e)||Vee(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},mz=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?mz(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(uO);return e.validators.find(({validator:o})=>o(s))?.classGroupId},V4=/^\[(.+)\]$/,Vee=t=>{if(V4.test(t)){const e=V4.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Uee=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)hI(n[i],r,i,e);return r},hI=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:U4(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(zee(i)){hI(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{hI(o,U4(e,s),n,r)})})},U4=(t,e)=>{let n=t;return e.split(uO).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zee=t=>t.isThemeGetter,Hee=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},dI="!",pI=":",$ee=pI.length,Gee=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,c=0,u;for(let I=0;I<i.length;I++){let _=i[I];if(o===0&&a===0){if(_===pI){s.push(i.slice(c,I)),c=I+$ee;continue}if(_==="/"){u=I;continue}}_==="["?o++:_==="]"?o--:_==="("?a++:_===")"&&a--}const g=s.length===0?i:i.substring(c),m=qee(g),w=m!==g,A=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:w,baseClassName:m,maybePostfixModifierPosition:A}};if(e){const i=e+pI,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},qee=t=>t.endsWith(dI)?t.substring(0,t.length-1):t.startsWith(dI)?t.substring(1):t,Wee=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},Kee=t=>({cache:Hee(t.cacheSize),parseClassName:Gee(t),sortModifiers:Wee(t),...Fee(t)}),Yee=/\s+/,Qee=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(Yee);let c="";for(let u=a.length-1;u>=0;u-=1){const g=a[u],{isExternal:m,modifiers:w,hasImportantModifier:A,baseClassName:I,maybePostfixModifierPosition:_}=n(g);if(m){c=g+(c.length>0?" "+c:c);continue}let C=!!_,R=r(C?I.substring(0,_):I);if(!R){if(!C){c=g+(c.length>0?" "+c:c);continue}if(R=r(I),!R){c=g+(c.length>0?" "+c:c);continue}C=!1}const j=s(w).join(":"),k=A?j+dI:j,U=k+R;if(o.includes(U))continue;o.push(U);const D=i(R,C);for(let B=0;B<D.length;++B){const O=D[B];o.push(k+O)}c=g+(c.length>0?" "+c:c)}return c};function Xee(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yz(e))&&(r&&(r+=" "),r+=n);return r}const yz=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yz(t[r]))&&(n&&(n+=" "),n+=e);return n};function Zee(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((g,m)=>m(g),t());return n=Kee(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const g=Qee(c,n);return i(c,g),g}return function(){return s(Xee.apply(null,arguments))}}const Li=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vz=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wz=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Jee=/^\d+\/\d+$/,ete=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ite=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_d=t=>Jee.test(t),nn=t=>!!t&&!Number.isNaN(Number(t)),gu=t=>!!t&&Number.isInteger(Number(t)),jE=t=>t.endsWith("%")&&nn(t.slice(0,-1)),ec=t=>ete.test(t),ste=()=>!0,ote=t=>tte.test(t)&&!nte.test(t),xz=()=>!1,ate=t=>rte.test(t),lte=t=>ite.test(t),cte=t=>!gt(t)&&!mt(t),ute=t=>hg(t,Ez,xz),gt=t=>vz.test(t),Df=t=>hg(t,Sz,ote),FE=t=>hg(t,gte,nn),z4=t=>hg(t,bz,xz),fte=t=>hg(t,Az,lte),B1=t=>hg(t,_z,ate),mt=t=>wz.test(t),lm=t=>dg(t,Sz),hte=t=>dg(t,mte),H4=t=>dg(t,bz),dte=t=>dg(t,Ez),pte=t=>dg(t,Az),j1=t=>dg(t,_z,!0),hg=(t,e,n)=>{const r=vz.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},dg=(t,e,n=!1)=>{const r=wz.exec(t);return r?r[1]?e(r[1]):n:!1},bz=t=>t==="position"||t==="percentage",Az=t=>t==="image"||t==="url",Ez=t=>t==="length"||t==="size"||t==="bg-size",Sz=t=>t==="length",gte=t=>t==="number",mte=t=>t==="family-name",_z=t=>t==="shadow",yte=()=>{const t=Li("color"),e=Li("font"),n=Li("text"),r=Li("font-weight"),i=Li("tracking"),s=Li("leading"),o=Li("breakpoint"),a=Li("container"),c=Li("spacing"),u=Li("radius"),g=Li("shadow"),m=Li("inset-shadow"),w=Li("text-shadow"),A=Li("drop-shadow"),I=Li("blur"),_=Li("perspective"),C=Li("aspect"),R=Li("ease"),j=Li("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...U(),mt,gt],B=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],M=()=>[mt,gt,c],V=()=>[_d,"full","auto",...M()],K=()=>[gu,"none","subgrid",mt,gt],W=()=>["auto",{span:["full",gu,mt,gt]},gu,mt,gt],G=()=>[gu,"auto",mt,gt],$=()=>["auto","min","max","fr",mt,gt],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...M()],ae=()=>[_d,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],re=()=>[t,mt,gt],pe=()=>[...U(),H4,z4,{position:[mt,gt]}],we=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",dte,ute,{size:[mt,gt]}],he=()=>[jE,lm,Df],xe=()=>["","none","full",u,mt,gt],Re=()=>["",nn,lm,Df],Ue=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[nn,jE,H4,z4],De=()=>["","none",I,mt,gt],Pe=()=>["none",nn,mt,gt],Fe=()=>["none",nn,mt,gt],Ge=()=>[nn,mt,gt],Te=()=>[_d,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ec],breakpoint:[ec],color:[ste],container:[ec],"drop-shadow":[ec],ease:["in","out","in-out"],font:[cte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ec],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ec],shadow:[ec],spacing:["px",nn],text:[ec],"text-shadow":[ec],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_d,gt,mt,C]}],container:["container"],columns:[{columns:[nn,gt,mt,a]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[gu,"auto",mt,gt]}],basis:[{basis:[_d,"full","auto",a,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nn,_d,"auto","initial","none",gt]}],grow:[{grow:["",nn,mt,gt]}],shrink:[{shrink:["",nn,mt,gt]}],order:[{order:[gu,"first","last","none",mt,gt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[a,"screen",...ae()]}],"min-w":[{"min-w":[a,"screen","none",...ae()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,lm,Df]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,mt,FE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jE,gt]}],"font-family":[{font:[hte,gt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,mt,gt]}],"line-clamp":[{"line-clamp":[nn,"none",mt,FE]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",mt,gt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",mt,gt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[nn,"from-font","auto",mt,Df]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[nn,"auto",mt,gt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt,gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt,gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:we()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gu,mt,gt],radial:["",mt,gt],conic:[gu,mt,gt]},pte,fte]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:xe()}],"rounded-s":[{"rounded-s":xe()}],"rounded-e":[{"rounded-e":xe()}],"rounded-t":[{"rounded-t":xe()}],"rounded-r":[{"rounded-r":xe()}],"rounded-b":[{"rounded-b":xe()}],"rounded-l":[{"rounded-l":xe()}],"rounded-ss":[{"rounded-ss":xe()}],"rounded-se":[{"rounded-se":xe()}],"rounded-ee":[{"rounded-ee":xe()}],"rounded-es":[{"rounded-es":xe()}],"rounded-tl":[{"rounded-tl":xe()}],"rounded-tr":[{"rounded-tr":xe()}],"rounded-br":[{"rounded-br":xe()}],"rounded-bl":[{"rounded-bl":xe()}],"border-w":[{border:Re()}],"border-w-x":[{"border-x":Re()}],"border-w-y":[{"border-y":Re()}],"border-w-s":[{"border-s":Re()}],"border-w-e":[{"border-e":Re()}],"border-w-t":[{"border-t":Re()}],"border-w-r":[{"border-r":Re()}],"border-w-b":[{"border-b":Re()}],"border-w-l":[{"border-l":Re()}],"divide-x":[{"divide-x":Re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ue(),"hidden","none"]}],"divide-style":[{divide:[...Ue(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...Ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nn,mt,gt]}],"outline-w":[{outline:["",nn,lm,Df]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",g,j1,B1]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",m,j1,B1]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:Re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[nn,Df]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":Re()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",w,j1,B1]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[nn,mt,gt]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[mt,gt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[nn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:we()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",mt,gt]}],filter:[{filter:["","none",mt,gt]}],blur:[{blur:De()}],brightness:[{brightness:[nn,mt,gt]}],contrast:[{contrast:[nn,mt,gt]}],"drop-shadow":[{"drop-shadow":["","none",A,j1,B1]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",nn,mt,gt]}],"hue-rotate":[{"hue-rotate":[nn,mt,gt]}],invert:[{invert:["",nn,mt,gt]}],saturate:[{saturate:[nn,mt,gt]}],sepia:[{sepia:["",nn,mt,gt]}],"backdrop-filter":[{"backdrop-filter":["","none",mt,gt]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[nn,mt,gt]}],"backdrop-contrast":[{"backdrop-contrast":[nn,mt,gt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nn,mt,gt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nn,mt,gt]}],"backdrop-invert":[{"backdrop-invert":["",nn,mt,gt]}],"backdrop-opacity":[{"backdrop-opacity":[nn,mt,gt]}],"backdrop-saturate":[{"backdrop-saturate":[nn,mt,gt]}],"backdrop-sepia":[{"backdrop-sepia":["",nn,mt,gt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",mt,gt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nn,"initial",mt,gt]}],ease:[{ease:["linear","initial",R,mt,gt]}],delay:[{delay:[nn,mt,gt]}],animate:[{animate:["none",j,mt,gt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,mt,gt]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Fe()}],"scale-x":[{"scale-x":Fe()}],"scale-y":[{"scale-y":Fe()}],"scale-z":[{"scale-z":Fe()}],"scale-3d":["scale-3d"],skew:[{skew:Ge()}],"skew-x":[{"skew-x":Ge()}],"skew-y":[{"skew-y":Ge()}],transform:[{transform:[mt,gt,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt,gt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt,gt]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[nn,lm,Df,FE]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vte=Zee(yte);function $r(...t){return vte(Xt(t))}const wte=jee("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function zt({className:t,variant:e,size:n,asChild:r=!1,...i}){const s=r?Ree:"button";return P.jsx(s,{"data-slot":"button",className:$r(wte({variant:e,size:n,className:t})),...i})}function Dn({className:t,...e}){return P.jsx("div",{"data-slot":"card",className:$r("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function es({className:t,...e}){return P.jsx("div",{"data-slot":"card-header",className:$r("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function ts({className:t,...e}){return P.jsx("h4",{"data-slot":"card-title",className:$r("leading-none",t),...e})}function Un({className:t,...e}){return P.jsx("div",{"data-slot":"card-content",className:$r("px-6 [&:last-child]:pb-6",t),...e})}const xte={farmer:"https://images.unsplash.com/photo-1648995505971-da6e8a6aa6c6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjBjcm9wJTIwZmllbGQlMjBhZ3JpY3VsdHVyZSUyMGZhcm18ZW58MXx8fHwxNzU2ODg3MTcxfDA&ixlib=rb-4.1.0&q=80&w=1080",distributor:"https://images.unsplash.com/photo-1742349934917-c6932c49d067?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjB3YXJlaG91c2UlMjBzdG9yYWdlJTIwZmFjaWxpdHl8ZW58MXx8fHwxNzU2ODg3MTcyfDA&ixlib=rb-4.1.0&q=80&w=1080",retailer:"https://images.unsplash.com/photo-1738687819001-2a0006a3b9de?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjByZXRhaWwlMjBzaG9wJTIwbWFya2V0fGVufDF8fHx8MTc1Njg4NzE3Mnww&ixlib=rb-4.1.0&q=80&w=1080",customer:"https://images.unsplash.com/photo-1630960411440-10f7b59717ba?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjBmcmVzaCUyMHByb2R1Y2UlMjBtYXJrZXQlMjB2ZWdldGFibGVzfGVufDF8fHx8MTc1Njg4NzE3M3ww&ixlib=rb-4.1.0&q=80&w=1080",default:"https://images.unsplash.com/photo-1648995505971-da6e8a6aa6c6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjBjcm9wJTIwZmllbGQlMjBhZ3JpY3VsdHVyZSUyMGZhcm18ZW58MXx8fHwxNzU2ODg3MTcxfDA&ixlib=rb-4.1.0&q=80&w=1080"};function Gu({type:t,children:e,className:n=""}){const r=xte[t];return P.jsxs("div",{className:`min-h-screen relative ${n}`,style:{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[P.jsx("div",{className:"absolute inset-0 backdrop-blur-sm bg-background/60 dark:bg-background/70"}),P.jsx("div",{className:"relative z-10",children:e??null})]})}var uy=uz();const Tz=Nn(uy);function $4(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ir(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function bte(t,e){const n=Q.createContext(e),r=s=>{const{children:o,...a}=s,c=Q.useMemo(()=>a,Object.values(a));return P.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=Q.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Fx(t,e=[]){let n=[];function r(s,o){const a=Q.createContext(o),c=n.length;n=[...n,o];const u=m=>{const{scope:w,children:A,...I}=m,_=w?.[t]?.[c]||a,C=Q.useMemo(()=>I,Object.values(I));return P.jsx(_.Provider,{value:C,children:A})};u.displayName=s+"Provider";function g(m,w){const A=w?.[t]?.[c]||a,I=Q.useContext(A);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[u,g]}const i=()=>{const s=n.map(o=>Q.createContext(o));return function(a){const c=a?.[t]||s;return Q.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,Ate(i,...e)]}function Ate(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const m=c(s)[`__scope${u}`];return{...a,...m}},{});return Q.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ete(t){const e=t+"CollectionProvider",[n,r]=Fx(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:C,children:R}=_,j=se.useRef(null),k=se.useRef(new Map).current;return P.jsx(i,{scope:C,itemMap:k,collectionRef:j,children:R})};o.displayName=e;const a=t+"CollectionSlot",c=Ap(a),u=se.forwardRef((_,C)=>{const{scope:R,children:j}=_,k=s(a,R),U=vi(C,k.collectionRef);return P.jsx(c,{ref:U,children:j})});u.displayName=a;const g=t+"CollectionItemSlot",m="data-radix-collection-item",w=Ap(g),A=se.forwardRef((_,C)=>{const{scope:R,children:j,...k}=_,U=se.useRef(null),D=vi(C,U),B=s(g,R);return se.useEffect(()=>(B.itemMap.set(U,{ref:U,...k}),()=>void B.itemMap.delete(U))),P.jsx(w,{[m]:"",ref:D,children:j})});A.displayName=g;function I(_){const C=s(t+"CollectionConsumer",_);return se.useCallback(()=>{const j=C.collectionRef.current;if(!j)return[];const k=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((B,O)=>k.indexOf(B.ref.current)-k.indexOf(O.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:u,ItemSlot:A},I,r]}var Ste=Q.createContext(void 0);function _te(t){const e=Q.useContext(Ste);return t||e||"ltr"}var Tte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cr=Tte.reduce((t,e)=>{const n=Ap(`Primitive.${e}`),r=Q.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Cte(t,e){t&&uy.flushSync(()=>t.dispatchEvent(e))}function xh(t){const e=Q.useRef(t);return Q.useEffect(()=>{e.current=t}),Q.useMemo(()=>(...n)=>e.current?.(...n),[])}function Ite(t,e=globalThis?.document){const n=xh(t);Q.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Pte="DismissableLayer",gI="dismissableLayer.update",Nte="dismissableLayer.pointerDownOutside",Ote="dismissableLayer.focusOutside",G4,Cz=Q.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fO=Q.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=Q.useContext(Cz),[g,m]=Q.useState(null),w=g?.ownerDocument??globalThis?.document,[,A]=Q.useState({}),I=vi(e,O=>m(O)),_=Array.from(u.layers),[C]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),R=_.indexOf(C),j=g?_.indexOf(g):-1,k=u.layersWithOutsidePointerEventsDisabled.size>0,U=j>=R,D=Mte(O=>{const M=O.target,V=[...u.branches].some(K=>K.contains(M));!U||V||(i?.(O),o?.(O),O.defaultPrevented||a?.())},w),B=Dte(O=>{const M=O.target;[...u.branches].some(K=>K.contains(M))||(s?.(O),o?.(O),O.defaultPrevented||a?.())},w);return Ite(O=>{j===u.layers.size-1&&(r?.(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},w),Q.useEffect(()=>{if(g)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(G4=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(g)),u.layers.add(g),q4(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=G4)}},[g,w,n,u]),Q.useEffect(()=>()=>{g&&(u.layers.delete(g),u.layersWithOutsidePointerEventsDisabled.delete(g),q4())},[g,u]),Q.useEffect(()=>{const O=()=>A({});return document.addEventListener(gI,O),()=>document.removeEventListener(gI,O)},[]),P.jsx(cr.div,{...c,ref:I,style:{pointerEvents:k?U?"auto":"none":void 0,...t.style},onFocusCapture:Ir(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Ir(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ir(t.onPointerDownCapture,D.onPointerDownCapture)})});fO.displayName=Pte;var Rte="DismissableLayerBranch",kte=Q.forwardRef((t,e)=>{const n=Q.useContext(Cz),r=Q.useRef(null),i=vi(e,r);return Q.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),P.jsx(cr.div,{...t,ref:i})});kte.displayName=Rte;function Mte(t,e=globalThis?.document){const n=xh(t),r=Q.useRef(!1),i=Q.useRef(()=>{});return Q.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){Iz(Nte,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Dte(t,e=globalThis?.document){const n=xh(t),r=Q.useRef(!1);return Q.useEffect(()=>{const i=s=>{s.target&&!r.current&&Iz(Ote,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function q4(){const t=new CustomEvent(gI);document.dispatchEvent(t)}function Iz(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Cte(i,s):i.dispatchEvent(s)}var VE=0;function Pz(){Q.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??W4()),document.body.insertAdjacentElement("beforeend",t[1]??W4()),VE++,()=>{VE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),VE--}},[])}function W4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var UE="focusScope.autoFocusOnMount",zE="focusScope.autoFocusOnUnmount",K4={bubbles:!1,cancelable:!0},Lte="FocusScope",hO=Q.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=Q.useState(null),u=xh(i),g=xh(s),m=Q.useRef(null),w=vi(e,_=>c(_)),A=Q.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Q.useEffect(()=>{if(r){let _=function(k){if(A.paused||!a)return;const U=k.target;a.contains(U)?m.current=U:Eu(m.current,{select:!0})},C=function(k){if(A.paused||!a)return;const U=k.relatedTarget;U!==null&&(a.contains(U)||Eu(m.current,{select:!0}))},R=function(k){if(document.activeElement===document.body)for(const D of k)D.removedNodes.length>0&&Eu(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",C);const j=new MutationObserver(R);return a&&j.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",C),j.disconnect()}}},[r,a,A.paused]),Q.useEffect(()=>{if(a){Q4.add(A);const _=document.activeElement;if(!a.contains(_)){const R=new CustomEvent(UE,K4);a.addEventListener(UE,u),a.dispatchEvent(R),R.defaultPrevented||(Bte(zte(Nz(a)),{select:!0}),document.activeElement===_&&Eu(a))}return()=>{a.removeEventListener(UE,u),setTimeout(()=>{const R=new CustomEvent(zE,K4);a.addEventListener(zE,g),a.dispatchEvent(R),R.defaultPrevented||Eu(_??document.body,{select:!0}),a.removeEventListener(zE,g),Q4.remove(A)},0)}}},[a,u,g,A]);const I=Q.useCallback(_=>{if(!n&&!r||A.paused)return;const C=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,R=document.activeElement;if(C&&R){const j=_.currentTarget,[k,U]=jte(j);k&&U?!_.shiftKey&&R===U?(_.preventDefault(),n&&Eu(k,{select:!0})):_.shiftKey&&R===k&&(_.preventDefault(),n&&Eu(U,{select:!0})):R===j&&_.preventDefault()}},[n,r,A.paused]);return P.jsx(cr.div,{tabIndex:-1,...o,ref:w,onKeyDown:I})});hO.displayName=Lte;function Bte(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Eu(r,{select:e}),document.activeElement!==n)return}function jte(t){const e=Nz(t),n=Y4(e,t),r=Y4(e.reverse(),t);return[n,r]}function Nz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Y4(t,e){for(const n of t)if(!Fte(n,{upTo:e}))return n}function Fte(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Vte(t){return t instanceof HTMLInputElement&&"select"in t}function Eu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Vte(t)&&e&&t.select()}}var Q4=Ute();function Ute(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=X4(t,e),t.unshift(e)},remove(e){t=X4(t,e),t[0]?.resume()}}}function X4(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zte(t){return t.filter(e=>e.tagName!=="A")}var Fs=globalThis?.document?Q.useLayoutEffect:()=>{},Hte=fz[" useId ".trim().toString()]||(()=>{}),$te=0;function np(t){const[e,n]=Q.useState(Hte());return Fs(()=>{n(r=>r??String($te++))},[t]),t||(e?`radix-${e}`:"")}const Gte=["top","right","bottom","left"],qu=Math.min,Uo=Math.max,Yv=Math.round,F1=Math.floor,xl=t=>({x:t,y:t}),qte={left:"right",right:"left",bottom:"top",top:"bottom"},Wte={start:"end",end:"start"};function mI(t,e,n){return Uo(t,qu(e,n))}function Ec(t,e){return typeof t=="function"?t(e):t}function Sc(t){return t.split("-")[0]}function pg(t){return t.split("-")[1]}function dO(t){return t==="x"?"y":"x"}function pO(t){return t==="y"?"height":"width"}const Kte=new Set(["top","bottom"]);function vl(t){return Kte.has(Sc(t))?"y":"x"}function gO(t){return dO(vl(t))}function Yte(t,e,n){n===void 0&&(n=!1);const r=pg(t),i=gO(t),s=pO(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Qv(o)),[o,Qv(o)]}function Qte(t){const e=Qv(t);return[yI(t),e,yI(e)]}function yI(t){return t.replace(/start|end/g,e=>Wte[e])}const Z4=["left","right"],J4=["right","left"],Xte=["top","bottom"],Zte=["bottom","top"];function Jte(t,e,n){switch(t){case"top":case"bottom":return n?e?J4:Z4:e?Z4:J4;case"left":case"right":return e?Xte:Zte;default:return[]}}function ene(t,e,n,r){const i=pg(t);let s=Jte(Sc(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(yI)))),s}function Qv(t){return t.replace(/left|right|bottom|top/g,e=>qte[e])}function tne(t){return{top:0,right:0,bottom:0,left:0,...t}}function Oz(t){return typeof t!="number"?tne(t):{top:t,right:t,bottom:t,left:t}}function Xv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function eD(t,e,n){let{reference:r,floating:i}=t;const s=vl(e),o=gO(e),a=pO(o),c=Sc(e),u=s==="y",g=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,w=r[a]/2-i[a]/2;let A;switch(c){case"top":A={x:g,y:r.y-i.height};break;case"bottom":A={x:g,y:r.y+r.height};break;case"right":A={x:r.x+r.width,y:m};break;case"left":A={x:r.x-i.width,y:m};break;default:A={x:r.x,y:r.y}}switch(pg(e)){case"start":A[o]-=w*(n&&u?-1:1);break;case"end":A[o]+=w*(n&&u?-1:1);break}return A}const nne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:m}=eD(u,r,c),w=r,A={},I=0;for(let _=0;_<a.length;_++){const{name:C,fn:R}=a[_],{x:j,y:k,data:U,reset:D}=await R({x:g,y:m,initialPlacement:r,placement:w,strategy:i,middlewareData:A,rects:u,platform:o,elements:{reference:t,floating:e}});g=j??g,m=k??m,A={...A,[C]:{...A[C],...U}},D&&I<=50&&(I++,typeof D=="object"&&(D.placement&&(w=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:g,y:m}=eD(u,w,c)),_=-1)}return{x:g,y:m,placement:w,strategy:i,middlewareData:A}};async function r0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:w=!1,padding:A=0}=Ec(e,t),I=Oz(A),C=a[w?m==="floating"?"reference":"floating":m],R=Xv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:g,strategy:c})),j=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),U=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},D=Xv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:j,offsetParent:k,strategy:c}):j);return{top:(R.top-D.top+I.top)/U.y,bottom:(D.bottom-R.bottom+I.bottom)/U.y,left:(R.left-D.left+I.left)/U.x,right:(D.right-R.right+I.right)/U.x}}const rne=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:g=0}=Ec(t,e)||{};if(u==null)return{};const m=Oz(g),w={x:n,y:r},A=gO(i),I=pO(A),_=await o.getDimensions(u),C=A==="y",R=C?"top":"left",j=C?"bottom":"right",k=C?"clientHeight":"clientWidth",U=s.reference[I]+s.reference[A]-w[A]-s.floating[I],D=w[A]-s.reference[A],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=B?B[k]:0;(!O||!await(o.isElement==null?void 0:o.isElement(B)))&&(O=a.floating[k]||s.floating[I]);const M=U/2-D/2,V=O/2-_[I]/2-1,K=qu(m[R],V),W=qu(m[j],V),G=K,$=O-_[I]-W,ce=O/2-_[I]/2+M,J=mI(G,ce,$),oe=!c.arrow&&pg(i)!=null&&ce!==J&&s.reference[I]/2-(ce<G?K:W)-_[I]/2<0,ae=oe?ce<G?ce-G:ce-$:0;return{[A]:w[A]+ae,data:{[A]:J,centerOffset:ce-J-ae,...oe&&{alignmentOffset:ae}},reset:oe}}}),ine=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:w,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:_=!0,...C}=Ec(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const R=Sc(i),j=vl(a),k=Sc(a)===a,U=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=w||(k||!_?[Qv(a)]:Qte(a)),B=I!=="none";!w&&B&&D.push(...ene(a,_,I,U));const O=[a,...D],M=await r0(e,C),V=[];let K=((r=s.flip)==null?void 0:r.overflows)||[];if(g&&V.push(M[R]),m){const ce=Yte(i,o,U);V.push(M[ce[0]],M[ce[1]])}if(K=[...K,{placement:i,overflows:V}],!V.every(ce=>ce<=0)){var W,G;const ce=(((W=s.flip)==null?void 0:W.index)||0)+1,J=O[ce];if(J&&(!(m==="alignment"?j!==vl(J):!1)||K.every(re=>vl(re.placement)===j?re.overflows[0]>0:!0)))return{data:{index:ce,overflows:K},reset:{placement:J}};let oe=(G=K.filter(ae=>ae.overflows[0]<=0).sort((ae,re)=>ae.overflows[1]-re.overflows[1])[0])==null?void 0:G.placement;if(!oe)switch(A){case"bestFit":{var $;const ae=($=K.filter(re=>{if(B){const pe=vl(re.placement);return pe===j||pe==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(pe=>pe>0).reduce((pe,we)=>pe+we,0)]).sort((re,pe)=>re[1]-pe[1])[0])==null?void 0:$[0];ae&&(oe=ae);break}case"initialPlacement":oe=a;break}if(i!==oe)return{reset:{placement:oe}}}return{}}}};function tD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nD(t){return Gte.some(e=>t[e]>=0)}const sne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ec(t,e);switch(r){case"referenceHidden":{const s=await r0(e,{...i,elementContext:"reference"}),o=tD(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nD(o)}}}case"escaped":{const s=await r0(e,{...i,altBoundary:!0}),o=tD(s,n.floating);return{data:{escapedOffsets:o,escaped:nD(o)}}}default:return{}}}}},Rz=new Set(["left","top"]);async function one(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Sc(n),a=pg(n),c=vl(n)==="y",u=Rz.has(o)?-1:1,g=s&&c?-1:1,m=Ec(e,t);let{mainAxis:w,crossAxis:A,alignmentAxis:I}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof I=="number"&&(A=a==="end"?I*-1:I),c?{x:A*g,y:w*u}:{x:w*u,y:A*g}}const ane=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await one(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},lne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x:R,y:j}=C;return{x:R,y:j}}},...c}=Ec(t,e),u={x:n,y:r},g=await r0(e,c),m=vl(Sc(i)),w=dO(m);let A=u[w],I=u[m];if(s){const C=w==="y"?"top":"left",R=w==="y"?"bottom":"right",j=A+g[C],k=A-g[R];A=mI(j,A,k)}if(o){const C=m==="y"?"top":"left",R=m==="y"?"bottom":"right",j=I+g[C],k=I-g[R];I=mI(j,I,k)}const _=a.fn({...e,[w]:A,[m]:I});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[w]:s,[m]:o}}}}}},cne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Ec(t,e),g={x:n,y:r},m=vl(i),w=dO(m);let A=g[w],I=g[m];const _=Ec(a,e),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const k=w==="y"?"height":"width",U=s.reference[w]-s.floating[k]+C.mainAxis,D=s.reference[w]+s.reference[k]-C.mainAxis;A<U?A=U:A>D&&(A=D)}if(u){var R,j;const k=w==="y"?"width":"height",U=Rz.has(Sc(i)),D=s.reference[m]-s.floating[k]+(U&&((R=o.offset)==null?void 0:R[m])||0)+(U?0:C.crossAxis),B=s.reference[m]+s.reference[k]+(U?0:((j=o.offset)==null?void 0:j[m])||0)-(U?C.crossAxis:0);I<D?I=D:I>B&&(I=B)}return{[w]:A,[m]:I}}}},une=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Ec(t,e),g=await r0(e,u),m=Sc(i),w=pg(i),A=vl(i)==="y",{width:I,height:_}=s.floating;let C,R;m==="top"||m==="bottom"?(C=m,R=w===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(R=m,C=w==="end"?"top":"bottom");const j=_-g.top-g.bottom,k=I-g.left-g.right,U=qu(_-g[C],j),D=qu(I-g[R],k),B=!e.middlewareData.shift;let O=U,M=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=j),B&&!w){const K=Uo(g.left,0),W=Uo(g.right,0),G=Uo(g.top,0),$=Uo(g.bottom,0);A?M=I-2*(K!==0||W!==0?K+W:Uo(g.left,g.right)):O=_-2*(G!==0||$!==0?G+$:Uo(g.top,g.bottom))}await c({...e,availableWidth:M,availableHeight:O});const V=await o.getDimensions(a.floating);return I!==V.width||_!==V.height?{reset:{rects:!0}}:{}}}};function Vx(){return typeof window<"u"}function gg(t){return kz(t)?(t.nodeName||"").toLowerCase():"#document"}function Go(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ll(t){var e;return(e=(kz(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kz(t){return Vx()?t instanceof Node||t instanceof Go(t).Node:!1}function Ga(t){return Vx()?t instanceof Element||t instanceof Go(t).Element:!1}function Rl(t){return Vx()?t instanceof HTMLElement||t instanceof Go(t).HTMLElement:!1}function rD(t){return!Vx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Go(t).ShadowRoot}const fne=new Set(["inline","contents"]);function fy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=qa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!fne.has(i)}const hne=new Set(["table","td","th"]);function dne(t){return hne.has(gg(t))}const pne=[":popover-open",":modal"];function Ux(t){return pne.some(e=>{try{return t.matches(e)}catch{return!1}})}const gne=["transform","translate","scale","rotate","perspective"],mne=["transform","translate","scale","rotate","perspective","filter"],yne=["paint","layout","strict","content"];function mO(t){const e=yO(),n=Ga(t)?qa(t):t;return gne.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||mne.some(r=>(n.willChange||"").includes(r))||yne.some(r=>(n.contain||"").includes(r))}function vne(t){let e=Wu(t);for(;Rl(e)&&!Ep(e);){if(mO(e))return e;if(Ux(e))return null;e=Wu(e)}return null}function yO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wne=new Set(["html","body","#document"]);function Ep(t){return wne.has(gg(t))}function qa(t){return Go(t).getComputedStyle(t)}function zx(t){return Ga(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wu(t){if(gg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rD(t)&&t.host||Ll(t);return rD(e)?e.host:e}function Mz(t){const e=Wu(t);return Ep(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rl(e)&&fy(e)?e:Mz(e)}function i0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Mz(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Go(i);if(s){const a=vI(o);return e.concat(o,o.visualViewport||[],fy(i)?i:[],a&&n?i0(a):[])}return e.concat(i,i0(i,[],n))}function vI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dz(t){const e=qa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Rl(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Yv(n)!==s||Yv(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function vO(t){return Ga(t)?t:t.contextElement}function rp(t){const e=vO(t);if(!Rl(e))return xl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Dz(e);let o=(s?Yv(n.width):n.width)/r,a=(s?Yv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const xne=xl(0);function Lz(t){const e=Go(t);return!yO()||!e.visualViewport?xne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bne(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Go(t)?!1:e}function bh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=vO(t);let o=xl(1);e&&(r?Ga(r)&&(o=rp(r)):o=rp(t));const a=bne(s,n,r)?Lz(s):xl(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,g=i.width/o.x,m=i.height/o.y;if(s){const w=Go(s),A=r&&Ga(r)?Go(r):r;let I=w,_=vI(I);for(;_&&r&&A!==I;){const C=rp(_),R=_.getBoundingClientRect(),j=qa(_),k=R.left+(_.clientLeft+parseFloat(j.paddingLeft))*C.x,U=R.top+(_.clientTop+parseFloat(j.paddingTop))*C.y;c*=C.x,u*=C.y,g*=C.x,m*=C.y,c+=k,u+=U,I=Go(_),_=vI(I)}}return Xv({width:g,height:m,x:c,y:u})}function Hx(t,e){const n=zx(t).scrollLeft;return e?e.left+n:bh(Ll(t)).left+n}function Bz(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Hx(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Ane(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Ll(r),a=e?Ux(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},u=xl(1);const g=xl(0),m=Rl(r);if((m||!m&&!s)&&((gg(r)!=="body"||fy(o))&&(c=zx(r)),Rl(r))){const A=bh(r);u=rp(r),g.x=A.x+r.clientLeft,g.y=A.y+r.clientTop}const w=o&&!m&&!s?Bz(o,c):xl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+g.x+w.x,y:n.y*u.y-c.scrollTop*u.y+g.y+w.y}}function Ene(t){return Array.from(t.getClientRects())}function Sne(t){const e=Ll(t),n=zx(t),r=t.ownerDocument.body,i=Uo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Uo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hx(t);const a=-n.scrollTop;return qa(r).direction==="rtl"&&(o+=Uo(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const iD=25;function _ne(t,e){const n=Go(t),r=Ll(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const g=yO();(!g||g&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}const u=Hx(r);if(u<=0){const g=r.ownerDocument,m=g.body,w=getComputedStyle(m),A=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,I=Math.abs(r.clientWidth-m.clientWidth-A);I<=iD&&(s-=I)}else u<=iD&&(s+=u);return{width:s,height:o,x:a,y:c}}const Tne=new Set(["absolute","fixed"]);function Cne(t,e){const n=bh(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Rl(t)?rp(t):xl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function sD(t,e,n){let r;if(e==="viewport")r=_ne(t,n);else if(e==="document")r=Sne(Ll(t));else if(Ga(e))r=Cne(e,n);else{const i=Lz(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Xv(r)}function jz(t,e){const n=Wu(t);return n===e||!Ga(n)||Ep(n)?!1:qa(n).position==="fixed"||jz(n,e)}function Ine(t,e){const n=e.get(t);if(n)return n;let r=i0(t,[],!1).filter(a=>Ga(a)&&gg(a)!=="body"),i=null;const s=qa(t).position==="fixed";let o=s?Wu(t):t;for(;Ga(o)&&!Ep(o);){const a=qa(o),c=mO(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&Tne.has(i.position)||fy(o)&&!c&&jz(t,o))?r=r.filter(g=>g!==o):i=a,o=Wu(o)}return e.set(t,r),r}function Pne(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ux(e)?[]:Ine(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,g)=>{const m=sD(e,g,i);return u.top=Uo(m.top,u.top),u.right=qu(m.right,u.right),u.bottom=qu(m.bottom,u.bottom),u.left=Uo(m.left,u.left),u},sD(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nne(t){const{width:e,height:n}=Dz(t);return{width:e,height:n}}function One(t,e,n){const r=Rl(e),i=Ll(e),s=n==="fixed",o=bh(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=xl(0);function u(){c.x=Hx(i)}if(r||!r&&!s)if((gg(e)!=="body"||fy(i))&&(a=zx(e)),r){const A=bh(e,!0,s,e);c.x=A.x+e.clientLeft,c.y=A.y+e.clientTop}else i&&u();s&&!r&&i&&u();const g=i&&!r&&!s?Bz(i,a):xl(0),m=o.left+a.scrollLeft-c.x-g.x,w=o.top+a.scrollTop-c.y-g.y;return{x:m,y:w,width:o.width,height:o.height}}function HE(t){return qa(t).position==="static"}function oD(t,e){if(!Rl(t)||qa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ll(t)===n&&(n=n.ownerDocument.body),n}function Fz(t,e){const n=Go(t);if(Ux(t))return n;if(!Rl(t)){let i=Wu(t);for(;i&&!Ep(i);){if(Ga(i)&&!HE(i))return i;i=Wu(i)}return n}let r=oD(t,e);for(;r&&dne(r)&&HE(r);)r=oD(r,e);return r&&Ep(r)&&HE(r)&&!mO(r)?n:r||vne(t)||n}const Rne=async function(t){const e=this.getOffsetParent||Fz,n=this.getDimensions,r=await n(t.floating);return{reference:One(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kne(t){return qa(t).direction==="rtl"}const Mne={convertOffsetParentRelativeRectToViewportRelativeRect:Ane,getDocumentElement:Ll,getClippingRect:Pne,getOffsetParent:Fz,getElementRects:Rne,getClientRects:Ene,getDimensions:Nne,getScale:rp,isElement:Ga,isRTL:kne};function Vz(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Dne(t,e){let n=null,r;const i=Ll(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:g,top:m,width:w,height:A}=u;if(a||e(),!w||!A)return;const I=F1(m),_=F1(i.clientWidth-(g+w)),C=F1(i.clientHeight-(m+A)),R=F1(g),k={rootMargin:-I+"px "+-_+"px "+-C+"px "+-R+"px",threshold:Uo(0,qu(1,c))||1};let U=!0;function D(B){const O=B[0].intersectionRatio;if(O!==c){if(!U)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!Vz(u,t.getBoundingClientRect())&&o(),U=!1}try{n=new IntersectionObserver(D,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,k)}n.observe(t)}return o(!0),s}function Lne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=vO(t),g=i||s?[...u?i0(u):[],...i0(e)]:[];g.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),s&&R.addEventListener("resize",n)});const m=u&&a?Dne(u,n):null;let w=-1,A=null;o&&(A=new ResizeObserver(R=>{let[j]=R;j&&j.target===u&&A&&(A.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var k;(k=A)==null||k.observe(e)})),n()}),u&&!c&&A.observe(u),A.observe(e));let I,_=c?bh(t):null;c&&C();function C(){const R=bh(t);_&&!Vz(_,R)&&n(),_=R,I=requestAnimationFrame(C)}return n(),()=>{var R;g.forEach(j=>{i&&j.removeEventListener("scroll",n),s&&j.removeEventListener("resize",n)}),m?.(),(R=A)==null||R.disconnect(),A=null,c&&cancelAnimationFrame(I)}}const Bne=ane,jne=lne,Fne=ine,Vne=une,Une=sne,aD=rne,zne=cne,Hne=(t,e,n)=>{const r=new Map,i={platform:Mne,...n},s={...i.platform,_c:r};return nne(t,e,{...i,platform:s})};var $ne=typeof document<"u",Gne=function(){},Cv=$ne?Q.useLayoutEffect:Gne;function Zv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Zv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Uz(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lD(t,e){const n=Uz(t);return Math.round(e*n)/n}function $E(t){const e=Q.useRef(t);return Cv(()=>{e.current=t}),e}function qne(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[g,m]=Q.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,A]=Q.useState(r);Zv(w,r)||A(r);const[I,_]=Q.useState(null),[C,R]=Q.useState(null),j=Q.useCallback(re=>{re!==B.current&&(B.current=re,_(re))},[]),k=Q.useCallback(re=>{re!==O.current&&(O.current=re,R(re))},[]),U=s||I,D=o||C,B=Q.useRef(null),O=Q.useRef(null),M=Q.useRef(g),V=c!=null,K=$E(c),W=$E(i),G=$E(u),$=Q.useCallback(()=>{if(!B.current||!O.current)return;const re={placement:e,strategy:n,middleware:w};W.current&&(re.platform=W.current),Hne(B.current,O.current,re).then(pe=>{const we={...pe,isPositioned:G.current!==!1};ce.current&&!Zv(M.current,we)&&(M.current=we,uy.flushSync(()=>{m(we)}))})},[w,e,n,W,G]);Cv(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,m(re=>({...re,isPositioned:!1})))},[u]);const ce=Q.useRef(!1);Cv(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Cv(()=>{if(U&&(B.current=U),D&&(O.current=D),U&&D){if(K.current)return K.current(U,D,$);$()}},[U,D,$,K,V]);const J=Q.useMemo(()=>({reference:B,floating:O,setReference:j,setFloating:k}),[j,k]),oe=Q.useMemo(()=>({reference:U,floating:D}),[U,D]),ae=Q.useMemo(()=>{const re={position:n,left:0,top:0};if(!oe.floating)return re;const pe=lD(oe.floating,g.x),we=lD(oe.floating,g.y);return a?{...re,transform:"translate("+pe+"px, "+we+"px)",...Uz(oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:pe,top:we}},[n,a,oe.floating,g.x,g.y]);return Q.useMemo(()=>({...g,update:$,refs:J,elements:oe,floatingStyles:ae}),[g,$,J,oe,ae])}const Wne=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?aD({element:r.current,padding:i}).fn(n):{}:r?aD({element:r,padding:i}).fn(n):{}}}},Kne=(t,e)=>({...Bne(t),options:[t,e]}),Yne=(t,e)=>({...jne(t),options:[t,e]}),Qne=(t,e)=>({...zne(t),options:[t,e]}),Xne=(t,e)=>({...Fne(t),options:[t,e]}),Zne=(t,e)=>({...Vne(t),options:[t,e]}),Jne=(t,e)=>({...Une(t),options:[t,e]}),ere=(t,e)=>({...Wne(t),options:[t,e]});var tre="Arrow",zz=Q.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return P.jsx(cr.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});zz.displayName=tre;var nre=zz;function rre(t){const[e,n]=Q.useState(void 0);return Fs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wO="Popper",[Hz,$z]=Fx(wO),[ire,Gz]=Hz(wO),qz=t=>{const{__scopePopper:e,children:n}=t,[r,i]=Q.useState(null);return P.jsx(ire,{scope:e,anchor:r,onAnchorChange:i,children:n})};qz.displayName=wO;var Wz="PopperAnchor",Kz=Q.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Gz(Wz,n),o=Q.useRef(null),a=vi(e,o),c=Q.useRef(null);return Q.useEffect(()=>{const u=c.current;c.current=r?.current||o.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:P.jsx(cr.div,{...i,ref:a})});Kz.displayName=Wz;var xO="PopperContent",[sre,ore]=Hz(xO),Yz=Q.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:w=!1,updatePositionStrategy:A="optimized",onPlaced:I,..._}=t,C=Gz(xO,n),[R,j]=Q.useState(null),k=vi(e,ke=>j(ke)),[U,D]=Q.useState(null),B=rre(U),O=B?.width??0,M=B?.height??0,V=r+(s!=="center"?"-"+s:""),K=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},W=Array.isArray(u)?u:[u],G=W.length>0,$={padding:K,boundary:W.filter(lre),altBoundary:G},{refs:ce,floatingStyles:J,placement:oe,isPositioned:ae,middlewareData:re}=qne({strategy:"fixed",placement:V,whileElementsMounted:(...ke)=>Lne(...ke,{animationFrame:A==="always"}),elements:{reference:C.anchor},middleware:[Kne({mainAxis:i+M,alignmentAxis:o}),c&&Yne({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Qne():void 0,...$}),c&&Xne({...$}),Zne({...$,apply:({elements:ke,rects:De,availableWidth:Pe,availableHeight:Fe})=>{const{width:Ge,height:Te}=De.reference,et=ke.floating.style;et.setProperty("--radix-popper-available-width",`${Pe}px`),et.setProperty("--radix-popper-available-height",`${Fe}px`),et.setProperty("--radix-popper-anchor-width",`${Ge}px`),et.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),U&&ere({element:U,padding:a}),cre({arrowWidth:O,arrowHeight:M}),w&&Jne({strategy:"referenceHidden",...$})]}),[pe,we]=Zz(oe),ue=xh(I);Fs(()=>{ae&&ue?.()},[ae,ue]);const he=re.arrow?.x,xe=re.arrow?.y,Re=re.arrow?.centerOffset!==0,[Ue,Me]=Q.useState();return Fs(()=>{R&&Me(window.getComputedStyle(R).zIndex)},[R]),P.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ae?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:P.jsx(sre,{scope:n,placedSide:pe,onArrowChange:D,arrowX:he,arrowY:xe,shouldHideArrow:Re,children:P.jsx(cr.div,{"data-side":pe,"data-align":we,..._,ref:k,style:{..._.style,animation:ae?void 0:"none"}})})})});Yz.displayName=xO;var Qz="PopperArrow",are={top:"bottom",right:"left",bottom:"top",left:"right"},Xz=Q.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=ore(Qz,r),o=are[s.placedSide];return P.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:P.jsx(nre,{...i,ref:n,style:{...i.style,display:"block"}})})});Xz.displayName=Qz;function lre(t){return t!==null}var cre=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,g]=Zz(n),m={start:"0%",center:"50%",end:"100%"}[g],w=(i.arrow?.x??0)+a/2,A=(i.arrow?.y??0)+c/2;let I="",_="";return u==="bottom"?(I=o?m:`${w}px`,_=`${-c}px`):u==="top"?(I=o?m:`${w}px`,_=`${r.floating.height+c}px`):u==="right"?(I=`${-c}px`,_=o?m:`${A}px`):u==="left"&&(I=`${r.floating.width+c}px`,_=o?m:`${A}px`),{data:{x:I,y:_}}}});function Zz(t){const[e,n="center"]=t.split("-");return[e,n]}var ure=qz,fre=Kz,hre=Yz,dre=Xz,pre="Portal",bO=Q.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=Q.useState(!1);Fs(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?Tz.createPortal(P.jsx(cr.div,{...r,ref:e}),o):null});bO.displayName=pre;var gre=fz[" useInsertionEffect ".trim().toString()]||Fs;function wI({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=mre({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const g=Q.useRef(t!==void 0);Q.useEffect(()=>{const m=g.current;m!==a&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=a},[a,r])}const u=Q.useCallback(g=>{if(a){const m=yre(g)?g(t):g;m!==t&&o.current?.(m)}else s(g)},[a,t,s,o]);return[c,u]}function mre({defaultProp:t,onChange:e}){const[n,r]=Q.useState(t),i=Q.useRef(n),s=Q.useRef(e);return gre(()=>{s.current=e},[e]),Q.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function yre(t){return typeof t=="function"}function vre(t){const e=Q.useRef({value:t,previous:t});return Q.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Jz=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wre="VisuallyHidden",xre=Q.forwardRef((t,e)=>P.jsx(cr.span,{...t,ref:e,style:{...Jz,...t.style}}));xre.displayName=wre;var bre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Td=new WeakMap,V1=new WeakMap,U1={},GE=0,eH=function(t){return t&&(t.host||eH(t.parentNode))},Are=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=eH(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Ere=function(t,e,n,r){var i=Are(e,Array.isArray(t)?t:[t]);U1[n]||(U1[n]=new WeakMap);var s=U1[n],o=[],a=new Set,c=new Set(i),u=function(m){!m||a.has(m)||(a.add(m),u(m.parentNode))};i.forEach(u);var g=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(w){if(a.has(w))g(w);else try{var A=w.getAttribute(r),I=A!==null&&A!=="false",_=(Td.get(w)||0)+1,C=(s.get(w)||0)+1;Td.set(w,_),s.set(w,C),o.push(w),_===1&&I&&V1.set(w,!0),C===1&&w.setAttribute(n,"true"),I||w.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",w,R)}})};return g(e),a.clear(),GE++,function(){o.forEach(function(m){var w=Td.get(m)-1,A=s.get(m)-1;Td.set(m,w),s.set(m,A),w||(V1.has(m)||m.removeAttribute(r),V1.delete(m)),A||m.removeAttribute(n)}),GE--,GE||(Td=new WeakMap,Td=new WeakMap,V1=new WeakMap,U1={})}},tH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=bre(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Ere(r,i,n,"aria-hidden")):function(){return null}},gl=function(){return gl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gl.apply(this,arguments)};function nH(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Sre(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Iv="right-scroll-bar-position",Pv="width-before-scroll-bar",_re="with-scroll-bars-hidden",Tre="--removed-body-scroll-bar-size";function qE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Cre(t,e){var n=Q.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Ire=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,cD=new WeakMap;function Pre(t,e){var n=Cre(null,function(r){return t.forEach(function(i){return qE(i,r)})});return Ire(function(){var r=cD.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||qE(a,null)}),s.forEach(function(a){i.has(a)||qE(a,o)})}cD.set(n,t)},[t]),n}function Nre(t){return t}function Ore(t,e){e===void 0&&(e=Nre);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var g=o;o=[],g.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(g){o.push(g),u()},filter:function(g){return o=o.filter(g),n}}}};return i}function Rre(t){t===void 0&&(t={});var e=Ore(null);return e.options=gl({async:!0,ssr:!1},t),e}var rH=function(t){var e=t.sideCar,n=nH(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return Q.createElement(r,gl({},n))};rH.isSideCarExport=!0;function kre(t,e){return t.useMedium(e),rH}var iH=Rre(),WE=function(){},$x=Q.forwardRef(function(t,e){var n=Q.useRef(null),r=Q.useState({onScrollCapture:WE,onWheelCapture:WE,onTouchMoveCapture:WE}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,g=t.enabled,m=t.shards,w=t.sideCar,A=t.noRelative,I=t.noIsolation,_=t.inert,C=t.allowPinchZoom,R=t.as,j=R===void 0?"div":R,k=t.gapMode,U=nH(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=w,B=Pre([n,e]),O=gl(gl({},U),i);return Q.createElement(Q.Fragment,null,g&&Q.createElement(D,{sideCar:iH,removeScrollBar:u,shards:m,noRelative:A,noIsolation:I,inert:_,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:k}),o?Q.cloneElement(Q.Children.only(a),gl(gl({},O),{ref:B})):Q.createElement(j,gl({},O,{className:c,ref:B}),a))});$x.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$x.classNames={fullWidth:Pv,zeroRight:Iv};var Mre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Mre();return e&&t.setAttribute("nonce",e),t}function Lre(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Bre(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jre=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Dre())&&(Lre(e,n),Bre(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Fre=function(){var t=jre();return function(e,n){Q.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},sH=function(){var t=Fre(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Vre={left:0,top:0,right:0,gap:0},KE=function(t){return parseInt(t||"",10)||0},Ure=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[KE(n),KE(r),KE(i)]},zre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Vre;var e=Ure(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Hre=sH(),ip="data-scroll-locked",$re=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_re,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ip,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Iv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Iv," .").concat(Iv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pv," .").concat(Pv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ip,`] {
    `).concat(Tre,": ").concat(a,`px;
  }
`)},uD=function(){var t=parseInt(document.body.getAttribute(ip)||"0",10);return isFinite(t)?t:0},Gre=function(){Q.useEffect(function(){return document.body.setAttribute(ip,(uD()+1).toString()),function(){var t=uD()-1;t<=0?document.body.removeAttribute(ip):document.body.setAttribute(ip,t.toString())}},[])},qre=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Gre();var s=Q.useMemo(function(){return zre(i)},[i]);return Q.createElement(Hre,{styles:$re(s,!e,i,n?"":"!important")})},xI=!1;if(typeof window<"u")try{var z1=Object.defineProperty({},"passive",{get:function(){return xI=!0,!0}});window.addEventListener("test",z1,z1),window.removeEventListener("test",z1,z1)}catch{xI=!1}var Cd=xI?{passive:!1}:!1,Wre=function(t){return t.tagName==="TEXTAREA"},oH=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Wre(t)&&n[e]==="visible")},Kre=function(t){return oH(t,"overflowY")},Yre=function(t){return oH(t,"overflowX")},fD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=aH(t,r);if(i){var s=lH(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qre=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Xre=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},aH=function(t,e){return t==="v"?Kre(e):Yre(e)},lH=function(t,e){return t==="v"?Qre(e):Xre(e)},Zre=function(t,e){return t==="h"&&e==="rtl"?-1:1},Jre=function(t,e,n,r,i){var s=Zre(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,g=o>0,m=0,w=0;do{if(!a)break;var A=lH(t,a),I=A[0],_=A[1],C=A[2],R=_-C-s*I;(I||R)&&aH(t,a)&&(m+=R,w+=I);var j=a.parentNode;a=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(g&&Math.abs(m)<1||!g&&Math.abs(w)<1)&&(u=!0),u},H1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hD=function(t){return[t.deltaX,t.deltaY]},dD=function(t){return t&&"current"in t?t.current:t},eie=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tie=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nie=0,Id=[];function rie(t){var e=Q.useRef([]),n=Q.useRef([0,0]),r=Q.useRef(),i=Q.useState(nie++)[0],s=Q.useState(sH)[0],o=Q.useRef(t);Q.useEffect(function(){o.current=t},[t]),Q.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Sre([t.lockRef.current],(t.shards||[]).map(dD),!0).filter(Boolean);return _.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=Q.useCallback(function(_,C){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var R=H1(_),j=n.current,k="deltaX"in _?_.deltaX:j[0]-R[0],U="deltaY"in _?_.deltaY:j[1]-R[1],D,B=_.target,O=Math.abs(k)>Math.abs(U)?"h":"v";if("touches"in _&&O==="h"&&B.type==="range")return!1;var M=fD(O,B);if(!M)return!0;if(M?D=O:(D=O==="v"?"h":"v",M=fD(O,B)),!M)return!1;if(!r.current&&"changedTouches"in _&&(k||U)&&(r.current=D),!D)return!0;var V=r.current||D;return Jre(V,C,_,V==="h"?k:U)},[]),c=Q.useCallback(function(_){var C=_;if(!(!Id.length||Id[Id.length-1]!==s)){var R="deltaY"in C?hD(C):H1(C),j=e.current.filter(function(D){return D.name===C.type&&(D.target===C.target||C.target===D.shadowParent)&&eie(D.delta,R)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var k=(o.current.shards||[]).map(dD).filter(Boolean).filter(function(D){return D.contains(C.target)}),U=k.length>0?a(C,k[0]):!o.current.noIsolation;U&&C.cancelable&&C.preventDefault()}}},[]),u=Q.useCallback(function(_,C,R,j){var k={name:_,delta:C,target:R,should:j,shadowParent:iie(R)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(U){return U!==k})},1)},[]),g=Q.useCallback(function(_){n.current=H1(_),r.current=void 0},[]),m=Q.useCallback(function(_){u(_.type,hD(_),_.target,a(_,t.lockRef.current))},[]),w=Q.useCallback(function(_){u(_.type,H1(_),_.target,a(_,t.lockRef.current))},[]);Q.useEffect(function(){return Id.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:w}),document.addEventListener("wheel",c,Cd),document.addEventListener("touchmove",c,Cd),document.addEventListener("touchstart",g,Cd),function(){Id=Id.filter(function(_){return _!==s}),document.removeEventListener("wheel",c,Cd),document.removeEventListener("touchmove",c,Cd),document.removeEventListener("touchstart",g,Cd)}},[]);var A=t.removeScrollBar,I=t.inert;return Q.createElement(Q.Fragment,null,I?Q.createElement(s,{styles:tie(i)}):null,A?Q.createElement(qre,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function iie(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const sie=kre(iH,rie);var AO=Q.forwardRef(function(t,e){return Q.createElement($x,gl({},t,{ref:e,sideCar:sie}))});AO.classNames=$x.classNames;var oie=[" ","Enter","ArrowUp","ArrowDown"],aie=[" ","Enter"],Ah="Select",[Gx,qx,lie]=Ete(Ah),[mg,N6e]=Fx(Ah,[lie,$z]),Wx=$z(),[cie,af]=mg(Ah),[uie,fie]=mg(Ah),cH=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:g,autoComplete:m,disabled:w,required:A,form:I}=t,_=Wx(e),[C,R]=Q.useState(null),[j,k]=Q.useState(null),[U,D]=Q.useState(!1),B=_te(u),[O,M]=wI({prop:r,defaultProp:i??!1,onChange:s,caller:Ah}),[V,K]=wI({prop:o,defaultProp:a,onChange:c,caller:Ah}),W=Q.useRef(null),G=C?I||!!C.closest("form"):!0,[$,ce]=Q.useState(new Set),J=Array.from($).map(oe=>oe.props.value).join(";");return P.jsx(ure,{..._,children:P.jsxs(cie,{required:A,scope:e,trigger:C,onTriggerChange:R,valueNode:j,onValueNodeChange:k,valueNodeHasChildren:U,onValueNodeHasChildrenChange:D,contentId:np(),value:V,onValueChange:K,open:O,onOpenChange:M,dir:B,triggerPointerDownPosRef:W,disabled:w,children:[P.jsx(Gx.Provider,{scope:e,children:P.jsx(uie,{scope:t.__scopeSelect,onNativeOptionAdd:Q.useCallback(oe=>{ce(ae=>new Set(ae).add(oe))},[]),onNativeOptionRemove:Q.useCallback(oe=>{ce(ae=>{const re=new Set(ae);return re.delete(oe),re})},[]),children:n})}),G?P.jsxs(NH,{"aria-hidden":!0,required:A,tabIndex:-1,name:g,autoComplete:m,value:V,onChange:oe=>K(oe.target.value),disabled:w,form:I,children:[V===void 0?P.jsx("option",{value:""}):null,Array.from($)]},J):null]})})};cH.displayName=Ah;var uH="SelectTrigger",fH=Q.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Wx(n),o=af(uH,n),a=o.disabled||r,c=vi(e,o.onTriggerChange),u=qx(n),g=Q.useRef("touch"),[m,w,A]=RH(_=>{const C=u().filter(k=>!k.disabled),R=C.find(k=>k.value===o.value),j=kH(C,_,R);j!==void 0&&o.onValueChange(j.value)}),I=_=>{a||(o.onOpenChange(!0),A()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return P.jsx(fre,{asChild:!0,...s,children:P.jsx(cr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":OH(o.value)?"":void 0,...i,ref:c,onClick:Ir(i.onClick,_=>{_.currentTarget.focus(),g.current!=="mouse"&&I(_)}),onPointerDown:Ir(i.onPointerDown,_=>{g.current=_.pointerType;const C=_.target;C.hasPointerCapture(_.pointerId)&&C.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(I(_),_.preventDefault())}),onKeyDown:Ir(i.onKeyDown,_=>{const C=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&w(_.key),!(C&&_.key===" ")&&oie.includes(_.key)&&(I(),_.preventDefault())})})})});fH.displayName=uH;var hH="SelectValue",hie=Q.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,c=af(hH,n),{onValueNodeHasChildrenChange:u}=c,g=s!==void 0,m=vi(e,c.onValueNodeChange);return Fs(()=>{u(g)},[u,g]),P.jsx(cr.span,{...a,ref:m,style:{pointerEvents:"none"},children:OH(c.value)?P.jsx(P.Fragment,{children:o}):s})});hie.displayName=hH;var die="SelectIcon",dH=Q.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return P.jsx(cr.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});dH.displayName=die;var pie="SelectPortal",pH=t=>P.jsx(bO,{asChild:!0,...t});pH.displayName=pie;var Eh="SelectContent",gH=Q.forwardRef((t,e)=>{const n=af(Eh,t.__scopeSelect),[r,i]=Q.useState();if(Fs(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?uy.createPortal(P.jsx(mH,{scope:t.__scopeSelect,children:P.jsx(Gx.Slot,{scope:t.__scopeSelect,children:P.jsx("div",{children:t.children})})}),s):null}return P.jsx(yH,{...t,ref:e})});gH.displayName=Eh;var Ra=10,[mH,lf]=mg(Eh),gie="SelectContentImpl",mie=Ap("SelectContent.RemoveScroll"),yH=Q.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:g,arrowPadding:m,collisionBoundary:w,collisionPadding:A,sticky:I,hideWhenDetached:_,avoidCollisions:C,...R}=t,j=af(Eh,n),[k,U]=Q.useState(null),[D,B]=Q.useState(null),O=vi(e,ke=>U(ke)),[M,V]=Q.useState(null),[K,W]=Q.useState(null),G=qx(n),[$,ce]=Q.useState(!1),J=Q.useRef(!1);Q.useEffect(()=>{if(k)return tH(k)},[k]),Pz();const oe=Q.useCallback(ke=>{const[De,...Pe]=G().map(Te=>Te.ref.current),[Fe]=Pe.slice(-1),Ge=document.activeElement;for(const Te of ke)if(Te===Ge||(Te?.scrollIntoView({block:"nearest"}),Te===De&&D&&(D.scrollTop=0),Te===Fe&&D&&(D.scrollTop=D.scrollHeight),Te?.focus(),document.activeElement!==Ge))return},[G,D]),ae=Q.useCallback(()=>oe([M,k]),[oe,M,k]);Q.useEffect(()=>{$&&ae()},[$,ae]);const{onOpenChange:re,triggerPointerDownPosRef:pe}=j;Q.useEffect(()=>{if(k){let ke={x:0,y:0};const De=Fe=>{ke={x:Math.abs(Math.round(Fe.pageX)-(pe.current?.x??0)),y:Math.abs(Math.round(Fe.pageY)-(pe.current?.y??0))}},Pe=Fe=>{ke.x<=10&&ke.y<=10?Fe.preventDefault():k.contains(Fe.target)||re(!1),document.removeEventListener("pointermove",De),pe.current=null};return pe.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[k,re,pe]),Q.useEffect(()=>{const ke=()=>re(!1);return window.addEventListener("blur",ke),window.addEventListener("resize",ke),()=>{window.removeEventListener("blur",ke),window.removeEventListener("resize",ke)}},[re]);const[we,ue]=RH(ke=>{const De=G().filter(Ge=>!Ge.disabled),Pe=De.find(Ge=>Ge.ref.current===document.activeElement),Fe=kH(De,ke,Pe);Fe&&setTimeout(()=>Fe.ref.current.focus())}),he=Q.useCallback((ke,De,Pe)=>{const Fe=!J.current&&!Pe;(j.value!==void 0&&j.value===De||Fe)&&(V(ke),Fe&&(J.current=!0))},[j.value]),xe=Q.useCallback(()=>k?.focus(),[k]),Re=Q.useCallback((ke,De,Pe)=>{const Fe=!J.current&&!Pe;(j.value!==void 0&&j.value===De||Fe)&&W(ke)},[j.value]),Ue=r==="popper"?bI:vH,Me=Ue===bI?{side:a,sideOffset:c,align:u,alignOffset:g,arrowPadding:m,collisionBoundary:w,collisionPadding:A,sticky:I,hideWhenDetached:_,avoidCollisions:C}:{};return P.jsx(mH,{scope:n,content:k,viewport:D,onViewportChange:B,itemRefCallback:he,selectedItem:M,onItemLeave:xe,itemTextRefCallback:Re,focusSelectedItem:ae,selectedItemText:K,position:r,isPositioned:$,searchRef:we,children:P.jsx(AO,{as:mie,allowPinchZoom:!0,children:P.jsx(hO,{asChild:!0,trapped:j.open,onMountAutoFocus:ke=>{ke.preventDefault()},onUnmountAutoFocus:Ir(i,ke=>{j.trigger?.focus({preventScroll:!0}),ke.preventDefault()}),children:P.jsx(fO,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ke=>ke.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:P.jsx(Ue,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ke=>ke.preventDefault(),...R,...Me,onPlaced:()=>ce(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ir(R.onKeyDown,ke=>{const De=ke.ctrlKey||ke.altKey||ke.metaKey;if(ke.key==="Tab"&&ke.preventDefault(),!De&&ke.key.length===1&&ue(ke.key),["ArrowUp","ArrowDown","Home","End"].includes(ke.key)){let Fe=G().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(ke.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ke.key)){const Ge=ke.target,Te=Fe.indexOf(Ge);Fe=Fe.slice(Te+1)}setTimeout(()=>oe(Fe)),ke.preventDefault()}})})})})})})});yH.displayName=gie;var yie="SelectItemAlignedPosition",vH=Q.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=af(Eh,n),o=lf(Eh,n),[a,c]=Q.useState(null),[u,g]=Q.useState(null),m=vi(e,O=>g(O)),w=qx(n),A=Q.useRef(!1),I=Q.useRef(!0),{viewport:_,selectedItem:C,selectedItemText:R,focusSelectedItem:j}=o,k=Q.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&_&&C&&R){const O=s.trigger.getBoundingClientRect(),M=u.getBoundingClientRect(),V=s.valueNode.getBoundingClientRect(),K=R.getBoundingClientRect();if(s.dir!=="rtl"){const Ge=K.left-M.left,Te=V.left-Ge,et=O.left-Te,dt=O.width+et,Ft=Math.max(dt,M.width),Yt=window.innerWidth-Ra,kt=$4(Te,[Ra,Math.max(Ra,Yt-Ft)]);a.style.minWidth=dt+"px",a.style.left=kt+"px"}else{const Ge=M.right-K.right,Te=window.innerWidth-V.right-Ge,et=window.innerWidth-O.right-Te,dt=O.width+et,Ft=Math.max(dt,M.width),Yt=window.innerWidth-Ra,kt=$4(Te,[Ra,Math.max(Ra,Yt-Ft)]);a.style.minWidth=dt+"px",a.style.right=kt+"px"}const W=w(),G=window.innerHeight-Ra*2,$=_.scrollHeight,ce=window.getComputedStyle(u),J=parseInt(ce.borderTopWidth,10),oe=parseInt(ce.paddingTop,10),ae=parseInt(ce.borderBottomWidth,10),re=parseInt(ce.paddingBottom,10),pe=J+oe+$+re+ae,we=Math.min(C.offsetHeight*5,pe),ue=window.getComputedStyle(_),he=parseInt(ue.paddingTop,10),xe=parseInt(ue.paddingBottom,10),Re=O.top+O.height/2-Ra,Ue=G-Re,Me=C.offsetHeight/2,ke=C.offsetTop+Me,De=J+oe+ke,Pe=pe-De;if(De<=Re){const Ge=W.length>0&&C===W[W.length-1].ref.current;a.style.bottom="0px";const Te=u.clientHeight-_.offsetTop-_.offsetHeight,et=Math.max(Ue,Me+(Ge?xe:0)+Te+ae),dt=De+et;a.style.height=dt+"px"}else{const Ge=W.length>0&&C===W[0].ref.current;a.style.top="0px";const et=Math.max(Re,J+_.offsetTop+(Ge?he:0)+Me)+Pe;a.style.height=et+"px",_.scrollTop=De-Re+_.offsetTop}a.style.margin=`${Ra}px 0`,a.style.minHeight=we+"px",a.style.maxHeight=G+"px",r?.(),requestAnimationFrame(()=>A.current=!0)}},[w,s.trigger,s.valueNode,a,u,_,C,R,s.dir,r]);Fs(()=>k(),[k]);const[U,D]=Q.useState();Fs(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const B=Q.useCallback(O=>{O&&I.current===!0&&(k(),j?.(),I.current=!1)},[k,j]);return P.jsx(wie,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:A,onScrollButtonChange:B,children:P.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:P.jsx(cr.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});vH.displayName=yie;var vie="SelectPopperPosition",bI=Q.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ra,...s}=t,o=Wx(n);return P.jsx(hre,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bI.displayName=vie;var[wie,EO]=mg(Eh,{}),AI="SelectViewport",wH=Q.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=lf(AI,n),o=EO(AI,n),a=vi(e,s.onViewportChange),c=Q.useRef(0);return P.jsxs(P.Fragment,{children:[P.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),P.jsx(Gx.Slot,{scope:n,children:P.jsx(cr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ir(i.onScroll,u=>{const g=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:w}=o;if(w?.current&&m){const A=Math.abs(c.current-g.scrollTop);if(A>0){const I=window.innerHeight-Ra*2,_=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),R=Math.max(_,C);if(R<I){const j=R+A,k=Math.min(I,j),U=j-k;m.style.height=k+"px",m.style.bottom==="0px"&&(g.scrollTop=U>0?U:0,m.style.justifyContent="flex-end")}}}c.current=g.scrollTop})})})]})});wH.displayName=AI;var xH="SelectGroup",[xie,bie]=mg(xH),Aie=Q.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=np();return P.jsx(xie,{scope:n,id:i,children:P.jsx(cr.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Aie.displayName=xH;var bH="SelectLabel",Eie=Q.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=bie(bH,n);return P.jsx(cr.div,{id:i.id,...r,ref:e})});Eie.displayName=bH;var Jv="SelectItem",[Sie,AH]=mg(Jv),EH=Q.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=af(Jv,n),c=lf(Jv,n),u=a.value===r,[g,m]=Q.useState(s??""),[w,A]=Q.useState(!1),I=vi(e,j=>c.itemRefCallback?.(j,r,i)),_=np(),C=Q.useRef("touch"),R=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return P.jsx(Sie,{scope:n,value:r,disabled:i,textId:_,isSelected:u,onItemTextChange:Q.useCallback(j=>{m(k=>k||(j?.textContent??"").trim())},[]),children:P.jsx(Gx.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:P.jsx(cr.div,{role:"option","aria-labelledby":_,"data-highlighted":w?"":void 0,"aria-selected":u&&w,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:I,onFocus:Ir(o.onFocus,()=>A(!0)),onBlur:Ir(o.onBlur,()=>A(!1)),onClick:Ir(o.onClick,()=>{C.current!=="mouse"&&R()}),onPointerUp:Ir(o.onPointerUp,()=>{C.current==="mouse"&&R()}),onPointerDown:Ir(o.onPointerDown,j=>{C.current=j.pointerType}),onPointerMove:Ir(o.onPointerMove,j=>{C.current=j.pointerType,i?c.onItemLeave?.():C.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ir(o.onPointerLeave,j=>{j.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Ir(o.onKeyDown,j=>{c.searchRef?.current!==""&&j.key===" "||(aie.includes(j.key)&&R(),j.key===" "&&j.preventDefault())})})})})});EH.displayName=Jv;var Em="SelectItemText",SH=Q.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=af(Em,n),a=lf(Em,n),c=AH(Em,n),u=fie(Em,n),[g,m]=Q.useState(null),w=vi(e,R=>m(R),c.onItemTextChange,R=>a.itemTextRefCallback?.(R,c.value,c.disabled)),A=g?.textContent,I=Q.useMemo(()=>P.jsx("option",{value:c.value,disabled:c.disabled,children:A},c.value),[c.disabled,c.value,A]),{onNativeOptionAdd:_,onNativeOptionRemove:C}=u;return Fs(()=>(_(I),()=>C(I)),[_,C,I]),P.jsxs(P.Fragment,{children:[P.jsx(cr.span,{id:c.textId,...s,ref:w}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?uy.createPortal(s.children,o.valueNode):null]})});SH.displayName=Em;var _H="SelectItemIndicator",TH=Q.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return AH(_H,n).isSelected?P.jsx(cr.span,{"aria-hidden":!0,...r,ref:e}):null});TH.displayName=_H;var EI="SelectScrollUpButton",CH=Q.forwardRef((t,e)=>{const n=lf(EI,t.__scopeSelect),r=EO(EI,t.__scopeSelect),[i,s]=Q.useState(!1),o=vi(e,r.onScrollButtonChange);return Fs(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?P.jsx(PH,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});CH.displayName=EI;var SI="SelectScrollDownButton",IH=Q.forwardRef((t,e)=>{const n=lf(SI,t.__scopeSelect),r=EO(SI,t.__scopeSelect),[i,s]=Q.useState(!1),o=vi(e,r.onScrollButtonChange);return Fs(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,g=Math.ceil(c.scrollTop)<u;s(g)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?P.jsx(PH,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});IH.displayName=SI;var PH=Q.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=lf("SelectScrollButton",n),o=Q.useRef(null),a=qx(n),c=Q.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return Q.useEffect(()=>()=>c(),[c]),Fs(()=>{a().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),P.jsx(cr.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ir(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ir(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ir(i.onPointerLeave,()=>{c()})})}),_ie="SelectSeparator",Tie=Q.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return P.jsx(cr.div,{"aria-hidden":!0,...r,ref:e})});Tie.displayName=_ie;var _I="SelectArrow",Cie=Q.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Wx(n),s=af(_I,n),o=lf(_I,n);return s.open&&o.position==="popper"?P.jsx(dre,{...i,...r,ref:e}):null});Cie.displayName=_I;var Iie="SelectBubbleInput",NH=Q.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=Q.useRef(null),s=vi(r,i),o=vre(e);return Q.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&g){const m=new Event("change",{bubbles:!0});g.call(a,e),a.dispatchEvent(m)}},[o,e]),P.jsx(cr.select,{...n,style:{...Jz,...n.style},ref:s,defaultValue:e})});NH.displayName=Iie;function OH(t){return t===""||t===void 0}function RH(t){const e=xh(t),n=Q.useRef(""),r=Q.useRef(0),i=Q.useCallback(o=>{const a=n.current+o;e(a),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(a)},[e]),s=Q.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return Q.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function kH(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Pie(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Pie(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Nie=cH,Oie=fH,Rie=dH,kie=pH,Mie=gH,Die=wH,Lie=EH,Bie=SH,jie=TH,Fie=CH,Vie=IH;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zie=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),pD=t=>{const e=zie(t);return e.charAt(0).toUpperCase()+e.slice(1)},MH=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>Q.createElement("svg",{ref:c,...Hie,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MH("lucide",i),...a},[...o.map(([u,g])=>Q.createElement(u,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=(t,e)=>{const n=Q.forwardRef(({className:r,...i},s)=>Q.createElement($ie,{ref:s,iconNode:e,className:MH(`lucide-${Uie(pD(t))}`,`lucide-${t}`,r),...i}));return n.displayName=pD(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ew=yn("arrow-left",Gie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],SO=yn("camera",qie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kie=yn("check",Wie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],DH=yn("chevron-down",Yie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xie=yn("chevron-up",Qie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jie=yn("circle-alert",Zie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zf=yn("circle-check-big",ese);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nse=yn("circle",tse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ise=yn("clock",rse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ose=yn("dollar-sign",sse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],gD=yn("download",ase);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_O=yn("eye",lse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],use=yn("globe",cse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],tw=yn("history",fse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],LH=yn("indian-rupee",hse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pse=yn("info",dse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],mse=yn("leaf",gse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Sp=yn("link",yse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mD=yn("loader-circle",vse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],TO=yn("log-out",wse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],bse=yn("message-circle",xse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ese=yn("minus",Ase);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],_se=yn("moon",Sse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],sp=yn("package",Tse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bm=yn("plus",Cse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],hh=yn("qr-code",Ise);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Nse=yn("send",Pse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rse=yn("shield",Ose);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],CO=yn("store",kse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Dse=yn("sun",Mse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],BH=yn("trending-down",Lse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Jf=yn("trending-up",Bse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],IO=yn("truck",jse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Vse=yn("upload",Fse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jH=yn("user",Use);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PO=yn("x",zse);function Hse({...t}){return P.jsx(Nie,{"data-slot":"select",...t})}function $se({className:t,size:e="default",children:n,hideChevron:r=!1,...i}){return P.jsxs(Oie,{"data-slot":"select-trigger","data-size":e,className:$r("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r&&"justify-center px-0",t),...i,children:[n,!r&&P.jsx(Rie,{asChild:!0,children:P.jsx(DH,{className:"size-4 opacity-50"})})]})}function Gse({className:t,children:e,position:n="popper",...r}){return P.jsx(kie,{children:P.jsxs(Mie,{"data-slot":"select-content",className:$r("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[P.jsx(qse,{}),P.jsx(Die,{className:$r("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),P.jsx(Wse,{})]})})}function YE({className:t,children:e,...n}){return P.jsxs(Lie,{"data-slot":"select-item",className:$r("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[P.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:P.jsx(jie,{children:P.jsx(Kie,{className:"size-4"})})}),P.jsx(Bie,{children:e})]})}function qse({className:t,...e}){return P.jsx(Fie,{"data-slot":"select-scroll-up-button",className:$r("flex cursor-default items-center justify-center py-1",t),...e,children:P.jsx(Xie,{className:"size-4"})})}function Wse({className:t,...e}){return P.jsx(Vie,{"data-slot":"select-scroll-down-button",className:$r("flex cursor-default items-center justify-center py-1",t),...e,children:P.jsx(DH,{className:"size-4"})})}function Ku({showLanguageSelector:t=!0,showThemeToggle:e=!0}){const{theme:n,toggleTheme:r}=Pee(),{language:i,setLanguage:s,t:o}=jc();return P.jsxs("header",{className:"absolute top-0 left-0 right-0 z-20 p-3 md:p-4 flex justify-between items-center",children:[P.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[P.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden",children:P.jsx("img",{src:"/KrishiSetu_logo.svg",alt:"KrishiSetu Logo",className:"w-full h-full object-contain",onError:a=>{const c=a.target;c.style.display="none";const u=c.parentElement;u&&(u.innerHTML='<div class="w-full h-full bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">K</span></div>')}})}),P.jsx("h1",{className:"hidden md:block text-xl font-bold text-foreground",children:o("KrishiSetu")})]}),P.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 ml-auto",children:[t&&P.jsxs(Hse,{value:i,onValueChange:a=>s(a),children:[P.jsx($se,{className:"bg-card/80 backdrop-blur-sm border-border/50 rounded-md w-10 h-10 p-0 justify-center sm:w-24 sm:h-10 sm:px-3",hideChevron:!0,children:P.jsx(use,{className:"w-5 h-5"})}),P.jsxs(Gse,{align:"end",children:[P.jsx(YE,{value:"en",children:"EN"}),P.jsx(YE,{value:"hi",children:"हि"}),P.jsx(YE,{value:"or",children:"ଓ"})]})]}),e&&P.jsx(zt,{"aria-label":"Toggle theme",variant:"outline",size:"icon",onClick:r,className:"bg-card/80 backdrop-blur-sm border-border/50",children:n==="light"?P.jsx(_se,{className:"w-4 h-4"}):P.jsx(Dse,{className:"w-4 h-4"})})]})]})}function $1({onRoleSelect:t}){const{t:e}=jc(),n=[{id:"farmer",icon:jH,title:e("farmer"),description:"Track your crops from field to market",color:"from-green-600 to-green-700"},{id:"distributor",icon:IO,title:e("distributor"),description:"Manage supply chain logistics",color:"from-emerald-500 to-teal-500"},{id:"retailer",icon:CO,title:e("retailer"),description:"Connect with distributors and customers",color:"from-lime-500 to-green-600"},{id:"customer",icon:hh,title:e("customer"),description:"Verify product authenticity",color:"from-primary to-secondary"}],r=P.jsxs(P.Fragment,{children:[P.jsx(Ku,{}),P.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 pt-44 md:pt-48",children:P.jsxs("div",{className:"w-full max-w-4xl",children:[P.jsxs("div",{className:"text-center mt-4 md:mt-6 mb-12",children:[P.jsxs("div",{className:"flex items-center justify-center gap-1 mb-4",children:[P.jsx("div",{className:"w-[100px] h-[100px]",children:P.jsx("img",{src:"/KrishiSetu_logo.svg",alt:"KrishiSetu Logo",className:"w-full h-full object-contain",onError:i=>{const s=i.target;s.style.display="none";const o=s.parentElement;o&&(o.innerHTML='<div class="w-full h-full bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-lg">K</span></div>')}})}),P.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-foreground",children:e("KrishiSetu")})]}),P.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Blockchain-powered transparency for agricultural supply chains. Choose your role to get started."})]}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(i=>{const s=i.icon;return P.jsx(Dn,{className:"group cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-xl bg-card/80 backdrop-blur-sm border-border/50",onClick:()=>t(i.id),children:P.jsxs(Un,{className:"p-6 text-center",children:[P.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${i.color} flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:P.jsx(s,{className:"w-8 h-8 text-white"})}),P.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:i.title}),P.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.description}),P.jsx(zt,{className:"w-full mt-4 bg-primary hover:bg-primary/90",onClick:o=>{o.stopPropagation(),t(i.id)},children:i.id==="customer"?e("scanQR"):e("continue")})]})},i.id)})}),P.jsx("div",{className:"text-center mt-8",children:P.jsx("p",{className:"text-sm text-muted-foreground",children:"Empowering farmers, securing supply chains, building trust"})})]})})]});return P.jsx(Gu,{type:"default",children:r})}function Vn({className:t,type:e,...n}){return P.jsx("input",{type:e,"data-slot":"input",className:$r("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Kse="Label",FH=Q.forwardRef((t,e)=>P.jsx(cr.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));FH.displayName=Kse;var Yse=FH;function tr({className:t,...e}){return P.jsx(Yse,{"data-slot":"label",className:$r("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const Qse=()=>{};var yD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xse=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},UH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,g=s>>2,m=(s&3)<<4|a>>4;let w=(a&15)<<2|u>>6,A=u&63;c||(A=64,o||(w=64)),r.push(n[g],n[m],n[w],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xse(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw new Zse;const w=s<<2|a>>4;if(r.push(w),u!==64){const A=a<<4&240|u>>2;if(r.push(A),m!==64){const I=u<<6&192|m;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jse=function(t){const e=VH(t);return UH.encodeByteArray(e,!0)},nw=function(t){return Jse(t).replace(/\./g,"")},zH=function(t){try{return UH.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eoe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const toe=()=>eoe().__FIREBASE_DEFAULTS__,noe=()=>{if(typeof process>"u"||typeof yD>"u")return;const t=yD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},roe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zH(t[1]);return e&&JSON.parse(e)},Kx=()=>{try{return Qse()||toe()||noe()||roe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HH=t=>Kx()?.emulatorHosts?.[t],ioe=t=>{const e=HH(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$H=()=>Kx()?.config,GH=t=>Kx()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class soe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qH(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nw(JSON.stringify(n)),nw(JSON.stringify(o)),""].join(".")}const jm={};function aoe(){const t={prod:[],emulator:[]};for(const e of Object.keys(jm))jm[e]?t.emulator.push(e):t.prod.push(e);return t}function loe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vD=!1;function WH(t,e){if(typeof window>"u"||typeof document>"u"||!yg(window.location.host)||jm[t]===e||jm[t]||vD)return;jm[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",s=aoe().prod.length>0;function o(){const w=document.getElementById(r);w&&w.remove()}function a(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function c(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function u(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{vD=!0,o()},w}function g(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function m(){const w=loe(r),A=n("text"),I=document.getElementById(A)||document.createElement("span"),_=n("learnmore"),C=document.getElementById(_)||document.createElement("a"),R=n("preprendIcon"),j=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const k=w.element;a(k),g(C,_);const U=u();c(j,R),k.append(j,I,C,U),document.body.appendChild(k)}s?(I.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function coe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vs())}function uoe(){const t=Kx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function foe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hoe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function doe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function poe(){const t=Vs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function goe(){return!uoe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function moe(){try{return typeof indexedDB=="object"}catch{return!1}}function yoe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe="FirebaseError";class Fc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=voe,Object.setPrototypeOf(this,Fc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hy.prototype.create)}}class hy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?woe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Fc(i,a,r)}}function woe(t,e){return t.replace(xoe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xoe=/\{\$([^}]+)}/g;function boe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(wD(s)&&wD(o)){if(!Sh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _m(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Aoe(t,e){const n=new Eoe(t,e);return n.subscribe.bind(n)}class Eoe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Soe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=QE),i.error===void 0&&(i.error=QE),i.complete===void 0&&(i.complete=QE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Soe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function QE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){return t&&t._delegate?t._delegate:t}class _h{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new soe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Coe(e))try{this.getOrInitializeService({instanceIdentifier:zf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zf){return this.instances.has(e)}getOptions(e=zf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Toe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zf){return this.component?this.component.multipleInstances?e:zf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Toe(t){return t===zf?void 0:t}function Coe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _oe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pn||(pn={}));const Poe={debug:pn.DEBUG,verbose:pn.VERBOSE,info:pn.INFO,warn:pn.WARN,error:pn.ERROR,silent:pn.SILENT},Noe=pn.INFO,Ooe={[pn.DEBUG]:"log",[pn.VERBOSE]:"log",[pn.INFO]:"info",[pn.WARN]:"warn",[pn.ERROR]:"error"},Roe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ooe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class NO{constructor(e){this.name=e,this._logLevel=Noe,this._logHandler=Roe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Poe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pn.DEBUG,...e),this._logHandler(this,pn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pn.VERBOSE,...e),this._logHandler(this,pn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pn.INFO,...e),this._logHandler(this,pn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pn.WARN,...e),this._logHandler(this,pn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pn.ERROR,...e),this._logHandler(this,pn.ERROR,...e)}}const koe=(t,e)=>e.some(n=>t instanceof n);let xD,bD;function Moe(){return xD||(xD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Doe(){return bD||(bD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KH=new WeakMap,TI=new WeakMap,YH=new WeakMap,XE=new WeakMap,OO=new WeakMap;function Loe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bu(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KH.set(n,t)}).catch(()=>{}),OO.set(e,t),e}function Boe(t){if(TI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});TI.set(t,e)}let CI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return TI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YH.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function joe(t){CI=t(CI)}function Foe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ZE(this),e,...n);return YH.set(r,e.sort?e.sort():[e]),Bu(r)}:Doe().includes(t)?function(...e){return t.apply(ZE(this),e),Bu(KH.get(this))}:function(...e){return Bu(t.apply(ZE(this),e))}}function Voe(t){return typeof t=="function"?Foe(t):(t instanceof IDBTransaction&&Boe(t),koe(t,Moe())?new Proxy(t,CI):t)}function Bu(t){if(t instanceof IDBRequest)return Loe(t);if(XE.has(t))return XE.get(t);const e=Voe(t);return e!==t&&(XE.set(t,e),OO.set(e,t)),e}const ZE=t=>OO.get(t);function Uoe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bu(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Bu(o.result),c.oldVersion,c.newVersion,Bu(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const zoe=["get","getKey","getAll","getAllKeys","count"],Hoe=["put","add","delete","clear"],JE=new Map;function AD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(JE.get(e))return JE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Hoe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zoe.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return JE.set(e,s),s}joe(t=>({...t,get:(e,n,r)=>AD(e,n)||t.get(e,n,r),has:(e,n)=>!!AD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Goe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Goe(t){return t.getComponent()?.type==="VERSION"}const II="@firebase/app",ED="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new NO("@firebase/app"),qoe="@firebase/app-compat",Woe="@firebase/analytics-compat",Koe="@firebase/analytics",Yoe="@firebase/app-check-compat",Qoe="@firebase/app-check",Xoe="@firebase/auth",Zoe="@firebase/auth-compat",Joe="@firebase/database",eae="@firebase/data-connect",tae="@firebase/database-compat",nae="@firebase/functions",rae="@firebase/functions-compat",iae="@firebase/installations",sae="@firebase/installations-compat",oae="@firebase/messaging",aae="@firebase/messaging-compat",lae="@firebase/performance",cae="@firebase/performance-compat",uae="@firebase/remote-config",fae="@firebase/remote-config-compat",hae="@firebase/storage",dae="@firebase/storage-compat",pae="@firebase/firestore",gae="@firebase/ai",mae="@firebase/firestore-compat",yae="firebase",vae="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="[DEFAULT]",wae={[II]:"fire-core",[qoe]:"fire-core-compat",[Koe]:"fire-analytics",[Woe]:"fire-analytics-compat",[Qoe]:"fire-app-check",[Yoe]:"fire-app-check-compat",[Xoe]:"fire-auth",[Zoe]:"fire-auth-compat",[Joe]:"fire-rtdb",[eae]:"fire-data-connect",[tae]:"fire-rtdb-compat",[nae]:"fire-fn",[rae]:"fire-fn-compat",[iae]:"fire-iid",[sae]:"fire-iid-compat",[oae]:"fire-fcm",[aae]:"fire-fcm-compat",[lae]:"fire-perf",[cae]:"fire-perf-compat",[uae]:"fire-rc",[fae]:"fire-rc-compat",[hae]:"fire-gcs",[dae]:"fire-gcs-compat",[pae]:"fire-fst",[mae]:"fire-fst-compat",[gae]:"fire-vertex","fire-js":"fire-js",[yae]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map,xae=new Map,NI=new Map;function SD(t,e){try{t.container.addComponent(e)}catch(n){_c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _p(t){const e=t.name;if(NI.has(e))return _c.debug(`There were multiple attempts to register component ${e}.`),!1;NI.set(e,t);for(const n of rw.values())SD(n,t);for(const n of xae.values())SD(n,t);return!0}function RO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ha(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ju=new hy("app","Firebase",bae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _h("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ju.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=vae;function QH(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:PI,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ju.create("bad-app-name",{appName:String(i)});if(n||(n=$H()),!n)throw ju.create("no-options");const s=rw.get(i);if(s){if(Sh(n,s.options)&&Sh(r,s.config))return s;throw ju.create("duplicate-app",{appName:i})}const o=new Ioe(i);for(const c of NI.values())o.addComponent(c);const a=new Aae(n,r,o);return rw.set(i,a),a}function XH(t=PI){const e=rw.get(t);if(!e&&t===PI&&$H())return QH();if(!e)throw ju.create("no-app",{appName:t});return e}function Fu(t,e,n){let r=wae[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_c.warn(o.join(" "));return}_p(new _h(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae="firebase-heartbeat-database",Sae=1,s0="firebase-heartbeat-store";let e2=null;function ZH(){return e2||(e2=Uoe(Eae,Sae,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(s0)}catch(n){console.warn(n)}}}}).catch(t=>{throw ju.create("idb-open",{originalErrorMessage:t.message})})),e2}async function _ae(t){try{const n=(await ZH()).transaction(s0),r=await n.objectStore(s0).get(JH(t));return await n.done,r}catch(e){if(e instanceof Fc)_c.warn(e.message);else{const n=ju.create("idb-get",{originalErrorMessage:e?.message});_c.warn(n.message)}}}async function _D(t,e){try{const r=(await ZH()).transaction(s0,"readwrite");await r.objectStore(s0).put(e,JH(t)),await r.done}catch(n){if(n instanceof Fc)_c.warn(n.message);else{const r=ju.create("idb-set",{originalErrorMessage:n?.message});_c.warn(r.message)}}}function JH(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tae=1024,Cae=30;class Iae{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nae(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=TD();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Cae){const i=Oae(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_c.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=TD(),{heartbeatsToSend:n,unsentEntries:r}=Pae(this._heartbeatsCache.heartbeats),i=nw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return _c.warn(e),""}}}function TD(){return new Date().toISOString().substring(0,10)}function Pae(t,e=Tae){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Nae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return moe()?yoe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _ae(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _D(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _D(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function CD(t){return nw(JSON.stringify({version:2,heartbeats:t})).length}function Oae(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rae(t){_p(new _h("platform-logger",e=>new $oe(e),"PRIVATE")),_p(new _h("heartbeat",e=>new Iae(e),"PRIVATE")),Fu(II,ED,t),Fu(II,ED,"esm2020"),Fu("fire-js","")}Rae("");function e$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kae=e$,t$=new hy("auth","Firebase",e$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new NO("@firebase/auth");function Mae(t,...e){iw.logLevel<=pn.WARN&&iw.warn(`Auth (${vg}): ${t}`,...e)}function Nv(t,...e){iw.logLevel<=pn.ERROR&&iw.error(`Auth (${vg}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t,...e){throw kO(t,...e)}function bl(t,...e){return kO(t,...e)}function n$(t,e,n){const r={...kae(),[e]:n};return new hy("auth","Firebase",r).create(e,{appName:t.name})}function mc(t){return n$(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kO(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t$.create(t,...e)}function Ot(t,e,...n){if(!t)throw kO(e,...n)}function lc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nv(e),new Error(e)}function Tc(t,e){t||lc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return typeof self<"u"&&self.location?.href||""}function Dae(){return ID()==="http:"||ID()==="https:"}function ID(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dae()||hoe()||"connection"in navigator)?navigator.onLine:!0}function Bae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tc(n>e,"Short delay should be less than long delay!"),this.isMobile=coe()||doe()}get(){return Lae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t,e){Tc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vae=new py(3e4,6e4);function cf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function uf(t,e,n,r,i={}){return i$(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=dy({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return foe()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&yg(t.emulatorConfig.host)&&(u.credentials="include"),r$.fetch()(await s$(t,t.config.apiHost,n,a),u)})}async function i$(t,e,n){t._canInitEmulator=!1;const r={...jae,...e};try{const i=new zae(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw G1(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw G1(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw G1(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw G1(t,"user-disabled",o);const g=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw n$(t,g,u);Wa(t,g)}}catch(i){if(i instanceof Fc)throw i;Wa(t,"network-request-failed",{message:String(i)})}}async function gy(t,e,n,r,i={}){const s=await uf(t,e,n,r,i);return"mfaPendingCredential"in s&&Wa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function s$(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?MO(t.config,i):`${t.config.apiScheme}://${i}`;return Fae.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Uae(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zae{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bl(this.auth,"network-request-failed")),Vae.get())})}}function G1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bl(t,e,r);return i.customData._tokenResponse=n,i}function PD(t){return t!==void 0&&t.enterprise!==void 0}class Hae{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Uae(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $ae(t,e){return uf(t,"GET","/v2/recaptchaConfig",cf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gae(t,e){return uf(t,"POST","/v1/accounts:delete",e)}async function sw(t,e){return uf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qae(t,e=!1){const n=io(t),r=await n.getIdToken(e),i=DO(r);Ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Fm(t2(i.auth_time)),issuedAtTime:Fm(t2(i.iat)),expirationTime:Fm(t2(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function t2(t){return Number(t)*1e3}function DO(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nv("JWT malformed, contained fewer than 3 sections"),null;try{const i=zH(n);return i?JSON.parse(i):(Nv("Failed to decode base64 JWT payload"),null)}catch(i){return Nv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ND(t){const e=DO(t);return Ot(e,"internal-error"),Ot(typeof e.exp<"u","internal-error"),Ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fc&&Wae(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Wae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fm(this.lastLoginAt),this.creationTime=Fm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(t){const e=t.auth,n=await t.getIdToken(),r=await o0(t,sw(e,{idToken:n}));Ot(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?o$(i.providerUserInfo):[],o=Qae(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,u=a?c:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new RI(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,g)}async function Yae(t){const e=io(t);await ow(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function o$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xae(t,e){const n=await i$(t,{},async()=>{const r=dy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await s$(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&yg(t.emulatorConfig.host)&&(c.credentials="include"),r$.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Zae(t,e){return uf(t,"POST","/v2/accounts:revokeToken",cf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ot(e.idToken,"internal-error"),Ot(typeof e.idToken<"u","internal-error"),Ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ND(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ot(e.length!==0,"internal-error");const n=ND(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Xae(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new op;return r&&(Ot(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ot(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ot(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new op,this.toJSON())}_performRefresh(){return lc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e){Ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class za{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Kae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new RI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await o0(this,this.stsTokenManager.getToken(this.auth,e));return Ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qae(this,e)}reload(){return Yae(this)}_assign(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new za({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ow(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ha(this.auth.app))return Promise.reject(mc(this.auth));const e=await this.getIdToken();return await o0(this,Gae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:m,emailVerified:w,isAnonymous:A,providerData:I,stsTokenManager:_}=n;Ot(m&&_,e,"internal-error");const C=op.fromJSON(this.name,_);Ot(typeof m=="string",e,"internal-error"),mu(r,e.name),mu(i,e.name),Ot(typeof w=="boolean",e,"internal-error"),Ot(typeof A=="boolean",e,"internal-error"),mu(s,e.name),mu(o,e.name),mu(a,e.name),mu(c,e.name),mu(u,e.name),mu(g,e.name);const R=new za({uid:m,auth:e,email:i,emailVerified:w,displayName:r,isAnonymous:A,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:C,createdAt:u,lastLoginAt:g});return I&&Array.isArray(I)&&(R.providerData=I.map(j=>({...j}))),c&&(R._redirectEventId=c),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new op;i.updateFromServerResponse(n);const s=new za({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ow(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?o$(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new op;a.updateFromIdToken(r);const c=new za({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new RI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Map;function cc(t){Tc(t instanceof Function,"Expected a class definition");let e=OD.get(t);return e?(Tc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a$.type="NONE";const RD=a$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e,n){return`firebase:${t}:${e}:${n}`}class ap{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ov(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ov("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sw(this.auth,{idToken:e}).catch(()=>{});return n?za._fromGetAccountInfoResponse(this.auth,n,e):null}return za._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ap(cc(RD),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||cc(RD);const o=Ov(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const g=await u._get(o);if(g){let m;if(typeof g=="string"){const w=await sw(e,{idToken:g}).catch(()=>{});if(!w)break;m=await za._fromGetAccountInfoResponse(e,w,g)}else m=za._fromJSON(e,g);u!==s&&(a=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ap(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ap(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d$(e))return"Blackberry";if(p$(e))return"Webos";if(c$(e))return"Safari";if((e.includes("chrome/")||u$(e))&&!e.includes("edge/"))return"Chrome";if(h$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function l$(t=Vs()){return/firefox\//i.test(t)}function c$(t=Vs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u$(t=Vs()){return/crios\//i.test(t)}function f$(t=Vs()){return/iemobile/i.test(t)}function h$(t=Vs()){return/android/i.test(t)}function d$(t=Vs()){return/blackberry/i.test(t)}function p$(t=Vs()){return/webos/i.test(t)}function LO(t=Vs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jae(t=Vs()){return LO(t)&&!!window.navigator?.standalone}function ele(){return poe()&&document.documentMode===10}function g$(t=Vs()){return LO(t)||h$(t)||p$(t)||d$(t)||/windows phone/i.test(t)||f$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t,e=[]){let n;switch(t){case"Browser":n=kD(Vs());break;case"Worker":n=`${kD(Vs())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vg}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nle(t,e={}){return uf(t,"GET","/v2/passwordPolicy",cf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle=6;class ile{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rle,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MD(this),this.idTokenSubscription=new MD(this),this.beforeStateQueue=new tle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cc(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ap.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sw(this,{idToken:e}),r=await za._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ha(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ow(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ha(this.app))return Promise.reject(mc(this));const n=e?io(e):null;return n&&Ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ha(this.app)?Promise.reject(mc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ha(this.app)?Promise.reject(mc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nle(this),n=new ile(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hy("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zae(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cc(e)||this._popupRedirectResolver;Ot(n,this,"argument-error"),this.redirectPersistenceManager=await ap.create(this,[cc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ha(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Mae(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zh(t){return io(t)}class MD{constructor(e){this.auth=e,this.observer=null,this.addObserver=Aoe(n=>this.observer=n)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ole(t){Yx=t}function y$(t){return Yx.loadJS(t)}function ale(){return Yx.recaptchaEnterpriseScript}function lle(){return Yx.gapiScript}function cle(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ule{constructor(){this.enterprise=new fle}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fle{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hle="recaptcha-enterprise",v$="NO_RECAPTCHA";class dle{constructor(e){this.type=hle,this.auth=zh(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{$ae(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Hae(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;PD(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(v$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ule().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&PD(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=ale();c.length!==0&&(c+=a),y$(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function DD(t,e,n,r=!1,i=!1){const s=new dle(t);let o;if(i)o=v$;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function kI(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await DD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await DD(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ple(t,e){const n=RO(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Sh(s,e??{}))return i;Wa(i,"already-initialized")}return n.initialize({options:e})}function gle(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function mle(t,e,n){const r=zh(t);Ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=w$(e),{host:o,port:a}=yle(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},g=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ot(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ot(Sh(u,r.config.emulator)&&Sh(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,yg(o)?(qH(`${s}//${o}${c}`),WH("Auth",!0)):vle()}function w$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yle(t){const e=w$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:LD(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:LD(o)}}}function LD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vle(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lc("not implemented")}_getIdTokenResponse(e){return lc("not implemented")}_linkToIdToken(e,n){return lc("not implemented")}_getReauthenticationResolver(e){return lc("not implemented")}}async function wle(t,e){return uf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xle(t,e){return gy(t,"POST","/v1/accounts:signInWithPassword",cf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ble(t,e){return gy(t,"POST","/v1/accounts:signInWithEmailLink",cf(t,e))}async function Ale(t,e){return gy(t,"POST","/v1/accounts:signInWithEmailLink",cf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends BO{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new a0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new a0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kI(e,n,"signInWithPassword",xle);case"emailLink":return ble(e,{email:this._email,oobCode:this._password});default:Wa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kI(e,r,"signUpPassword",wle);case"emailLink":return Ale(e,{idToken:n,email:this._email,oobCode:this._password});default:Wa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t,e){return gy(t,"POST","/v1/accounts:signInWithIdp",cf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ele="http://localhost";class Th extends BO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Th(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Th(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lp(e,n)}buildRequest(){const e={requestUri:Ele,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dy(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _le(t){const e=Sm(_m(t)).link,n=e?Sm(_m(e)).deep_link_id:null,r=Sm(_m(t)).deep_link_id;return(r?Sm(_m(r)).link:null)||r||n||e||t}class jO{constructor(e){const n=Sm(_m(e)),r=n.apiKey??null,i=n.oobCode??null,s=Sle(n.mode??null);Ot(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_le(e);try{return new jO(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.providerId=wg.PROVIDER_ID}static credential(e,n){return a0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jO.parseLink(n);return Ot(r,"argument-error"),a0._fromEmailAndCode(e,r.code,r.tenantId)}}wg.PROVIDER_ID="password";wg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends x${constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends my{constructor(){super("facebook.com")}static credential(e){return Th._fromParams({providerId:Iu.PROVIDER_ID,signInMethod:Iu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Iu.credentialFromTaggedObject(e)}static credentialFromError(e){return Iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Iu.credential(e.oauthAccessToken)}catch{return null}}}Iu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Iu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends my{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Th._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pu.credential(n,r)}catch{return null}}}Pu.GOOGLE_SIGN_IN_METHOD="google.com";Pu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends my{constructor(){super("github.com")}static credential(e){return Th._fromParams({providerId:Nu.PROVIDER_ID,signInMethod:Nu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nu.credentialFromTaggedObject(e)}static credentialFromError(e){return Nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nu.credential(e.oauthAccessToken)}catch{return null}}}Nu.GITHUB_SIGN_IN_METHOD="github.com";Nu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends my{constructor(){super("twitter.com")}static credential(e,n){return Th._fromParams({providerId:Ou.PROVIDER_ID,signInMethod:Ou.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ou.credentialFromTaggedObject(e)}static credentialFromError(e){return Ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ou.credential(n,r)}catch{return null}}}Ou.TWITTER_SIGN_IN_METHOD="twitter.com";Ou.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tle(t,e){return gy(t,"POST","/v1/accounts:signUp",cf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await za._fromIdTokenResponse(e,r,i),o=BD(r);return new Ch({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=BD(r);return new Ch({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function BD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends Fc{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,aw.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new aw(e,n,r,i)}}function b$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?aw._fromErrorAndOperation(t,s,e,r):s})}async function Cle(t,e,n=!1){const r=await o0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ch._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ile(t,e,n=!1){const{auth:r}=t;if(ha(r.app))return Promise.reject(mc(r));const i="reauthenticate";try{const s=await o0(t,b$(r,i,e,t),n);Ot(s.idToken,r,"internal-error");const o=DO(s.idToken);Ot(o,r,"internal-error");const{sub:a}=o;return Ot(t.uid===a,r,"user-mismatch"),Ch._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Wa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A$(t,e,n=!1){if(ha(t.app))return Promise.reject(mc(t));const r="signIn",i=await b$(t,r,e),s=await Ch._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ple(t,e){return A$(zh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(t){const e=zh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Nle(t,e,n){if(ha(t.app))return Promise.reject(mc(t));const r=zh(t),o=await kI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tle).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&E$(t),c}),a=await Ch._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Ole(t,e,n){return ha(t.app)?Promise.reject(mc(t)):Ple(io(t),wg.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&E$(t),r})}function Rle(t,e,n,r){return io(t).onIdTokenChanged(e,n,r)}function kle(t,e,n){return io(t).beforeAuthStateChanged(e,n)}function Mle(t,e,n,r){return io(t).onAuthStateChanged(e,n,r)}function Dle(t){return io(t).signOut()}const lw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lw,"1"),this.storage.removeItem(lw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lle=1e3,Ble=10;class _$ extends S${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);ele()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ble):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Lle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_$.type="LOCAL";const jle=_$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T$ extends S${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}T$.type="SESSION";const C$=T$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await Fle(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=FO("",20);i.port1.start();const g=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const w=m;if(w.data.eventId===u)switch(w.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(w.data.response);break;default:clearTimeout(g),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(){return window}function Ule(t){Al().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(){return typeof Al().WorkerGlobalScope<"u"&&typeof Al().importScripts=="function"}async function zle(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hle(){return navigator?.serviceWorker?.controller||null}function $le(){return I$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="firebaseLocalStorageDb",Gle=1,cw="firebaseLocalStorage",N$="fbase_key";class yy{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xx(t,e){return t.transaction([cw],e?"readwrite":"readonly").objectStore(cw)}function qle(){const t=indexedDB.deleteDatabase(P$);return new yy(t).toPromise()}function MI(){const t=indexedDB.open(P$,Gle);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cw,{keyPath:N$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cw)?e(r):(r.close(),await qle(),e(await MI()))})})}async function jD(t,e,n){const r=Xx(t,!0).put({[N$]:e,value:n});return new yy(r).toPromise()}async function Wle(t,e){const n=Xx(t,!1).get(e),r=await new yy(n).toPromise();return r===void 0?null:r.value}function FD(t,e){const n=Xx(t,!0).delete(e);return new yy(n).toPromise()}const Kle=800,Yle=3;class O${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await MI(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Yle)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qx._getInstance($le()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zle(),!this.activeServiceWorker)return;this.sender=new Vle(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await MI();return await jD(e,lw,"1"),await FD(e,lw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Wle(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Xx(i,!1).getAll();return new yy(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O$.type="LOCAL";const Qle=O$;new py(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(t,e){return e?cc(e):(Ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO extends BO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zle(t){return A$(t.auth,new VO(t),t.bypassAuthState)}function Jle(t){const{auth:e,user:n}=t;return Ot(n,e,"internal-error"),Ile(n,new VO(t),t.bypassAuthState)}async function ece(t){const{auth:e,user:n}=t;return Ot(n,e,"internal-error"),Cle(n,new VO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zle;case"linkViaPopup":case"linkViaRedirect":return ece;case"reauthViaPopup":case"reauthViaRedirect":return Jle;default:Wa(this.auth,"internal-error")}}resolve(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce=new py(2e3,1e4);class Ud extends R${constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ud.currentPopupAction&&Ud.currentPopupAction.cancel(),Ud.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ot(e,this.auth,"internal-error"),e}async onExecution(){Tc(this.filter.length===1,"Popup operations only handle one event");const e=FO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ud.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tce.get())};e()}}Ud.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nce="pendingRedirect",Rv=new Map;class rce extends R${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rv.get(this.auth._key());if(!e){try{const r=await ice(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rv.set(this.auth._key(),e)}return this.bypassAuthState||Rv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ice(t,e){const n=ace(e),r=oce(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sce(t,e){Rv.set(t._key(),e)}function oce(t){return cc(t._redirectPersistence)}function ace(t){return Ov(nce,t.config.apiKey,t.name)}async function lce(t,e,n=!1){if(ha(t.app))return Promise.reject(mc(t));const r=zh(t),i=Xle(r,e),o=await new rce(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cce=600*1e3;class uce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!k$(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bl(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cce&&this.cachedEventUids.clear(),this.cachedEventUids.has(VD(e))}saveEventToCache(e){this.cachedEventUids.add(VD(e)),this.lastProcessedEventTime=Date.now()}}function VD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function k$({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hce(t,e={}){return uf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pce=/^https?/;async function gce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hce(t);for(const n of e)try{if(mce(n))return}catch{}Wa(t,"unauthorized-domain")}function mce(t){const e=OI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pce.test(n))return!1;if(dce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yce=new py(3e4,6e4);function UD(){const t=Al().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vce(t){return new Promise((e,n)=>{function r(){UD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UD(),n(bl(t,"network-request-failed"))},timeout:yce.get()})}if(Al().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Al().gapi?.load)r();else{const i=cle("iframefcb");return Al()[i]=()=>{gapi.load?r():n(bl(t,"network-request-failed"))},y$(`${lle()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw kv=null,e})}let kv=null;function wce(t){return kv=kv||vce(t),kv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=new py(5e3,15e3),bce="__/auth/iframe",Ace="emulator/auth/iframe",Ece={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _ce(t){const e=t.config;Ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?MO(e,Ace):`https://${t.config.authDomain}/${bce}`,r={apiKey:e.apiKey,appName:t.name,v:vg},i=Sce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${dy(r).slice(1)}`}async function Tce(t){const e=await wce(t),n=Al().gapi;return Ot(n,t,"internal-error"),e.open({where:document.body,url:_ce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ece,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=bl(t,"network-request-failed"),a=Al().setTimeout(()=>{s(o)},xce.get());function c(){Al().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ice=500,Pce=600,Nce="_blank",Oce="http://localhost";class zD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rce(t,e,n,r=Ice,i=Pce){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...Cce,width:r.toString(),height:i.toString(),top:s,left:o},u=Vs().toLowerCase();n&&(a=u$(u)?Nce:n),l$(u)&&(e=e||Oce,c.scrollbars="yes");const g=Object.entries(c).reduce((w,[A,I])=>`${w}${A}=${I},`,"");if(Jae(u)&&a!=="_self")return kce(e||"",a),new zD(null);const m=window.open(e||"",a,g);Ot(m,t,"popup-blocked");try{m.focus()}catch{}return new zD(m)}function kce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mce="__/auth/handler",Dce="emulator/auth/handler",Lce=encodeURIComponent("fac");async function HD(t,e,n,r,i,s){Ot(t.config.authDomain,t,"auth-domain-config-required"),Ot(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vg,eventId:i};if(e instanceof x$){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",boe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))o[g]=m}if(e instanceof my){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const g of Object.keys(a))a[g]===void 0&&delete a[g];const c=await t._getAppCheckToken(),u=c?`#${Lce}=${encodeURIComponent(c)}`:"";return`${Bce(t)}?${dy(a).slice(1)}${u}`}function Bce({config:t}){return t.emulator?MO(t,Dce):`https://${t.authDomain}/${Mce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="webStorageSupport";class jce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C$,this._completeRedirectFn=lce,this._overrideRedirectResult=sce}async _openPopup(e,n,r,i){Tc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await HD(e,n,r,OI(),i);return Rce(e,s,FO())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await HD(e,n,r,OI(),i);return Ule(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Tc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Tce(e),r=new uce(e);return n.register("authEvent",i=>(Ot(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(n2,{type:n2},i=>{const s=i?.[0]?.[n2];s!==void 0&&n(!!s),Wa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g$()||c$()||LO()}}const Fce=jce;var $D="@firebase/auth",GD="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zce(t){_p(new _h("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ot(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m$(t)},u=new sle(r,i,s,c);return gle(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_p(new _h("auth-internal",e=>{const n=zh(e.getProvider("auth").getImmediate());return(r=>new Vce(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fu($D,GD,Uce(t)),Fu($D,GD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hce=300,$ce=GH("authIdTokenMaxAge")||Hce;let qD=null;const Gce=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$ce)return;const i=n?.token;qD!==i&&(qD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qce(t=XH()){const e=RO(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ple(t,{popupRedirectResolver:Fce,persistence:[Qle,jle,C$]}),r=GH("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Gce(s.toString());kle(n,o,()=>o(n.currentUser)),Rle(n,a=>o(a))}}const i=HH("auth");return i&&mle(n,`http://${i}`),n}function Wce(){return document.getElementsByTagName("head")?.[0]??document}ole({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=bl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Wce().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zce("Browser");var WD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vu,M$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,M){function V(){}V.prototype=M.prototype,O.D=M.prototype,O.prototype=new V,O.prototype.constructor=O,O.C=function(K,W,G){for(var $=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)$[ce-2]=arguments[ce];return M.prototype[W].apply(K,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,M,V){V||(V=0);var K=Array(16);if(typeof M=="string")for(var W=0;16>W;++W)K[W]=M.charCodeAt(V++)|M.charCodeAt(V++)<<8|M.charCodeAt(V++)<<16|M.charCodeAt(V++)<<24;else for(W=0;16>W;++W)K[W]=M[V++]|M[V++]<<8|M[V++]<<16|M[V++]<<24;M=O.g[0],V=O.g[1],W=O.g[2];var G=O.g[3],$=M+(G^V&(W^G))+K[0]+3614090360&4294967295;M=V+($<<7&4294967295|$>>>25),$=G+(W^M&(V^W))+K[1]+3905402710&4294967295,G=M+($<<12&4294967295|$>>>20),$=W+(V^G&(M^V))+K[2]+606105819&4294967295,W=G+($<<17&4294967295|$>>>15),$=V+(M^W&(G^M))+K[3]+3250441966&4294967295,V=W+($<<22&4294967295|$>>>10),$=M+(G^V&(W^G))+K[4]+4118548399&4294967295,M=V+($<<7&4294967295|$>>>25),$=G+(W^M&(V^W))+K[5]+1200080426&4294967295,G=M+($<<12&4294967295|$>>>20),$=W+(V^G&(M^V))+K[6]+2821735955&4294967295,W=G+($<<17&4294967295|$>>>15),$=V+(M^W&(G^M))+K[7]+4249261313&4294967295,V=W+($<<22&4294967295|$>>>10),$=M+(G^V&(W^G))+K[8]+1770035416&4294967295,M=V+($<<7&4294967295|$>>>25),$=G+(W^M&(V^W))+K[9]+2336552879&4294967295,G=M+($<<12&4294967295|$>>>20),$=W+(V^G&(M^V))+K[10]+4294925233&4294967295,W=G+($<<17&4294967295|$>>>15),$=V+(M^W&(G^M))+K[11]+2304563134&4294967295,V=W+($<<22&4294967295|$>>>10),$=M+(G^V&(W^G))+K[12]+1804603682&4294967295,M=V+($<<7&4294967295|$>>>25),$=G+(W^M&(V^W))+K[13]+4254626195&4294967295,G=M+($<<12&4294967295|$>>>20),$=W+(V^G&(M^V))+K[14]+2792965006&4294967295,W=G+($<<17&4294967295|$>>>15),$=V+(M^W&(G^M))+K[15]+1236535329&4294967295,V=W+($<<22&4294967295|$>>>10),$=M+(W^G&(V^W))+K[1]+4129170786&4294967295,M=V+($<<5&4294967295|$>>>27),$=G+(V^W&(M^V))+K[6]+3225465664&4294967295,G=M+($<<9&4294967295|$>>>23),$=W+(M^V&(G^M))+K[11]+643717713&4294967295,W=G+($<<14&4294967295|$>>>18),$=V+(G^M&(W^G))+K[0]+3921069994&4294967295,V=W+($<<20&4294967295|$>>>12),$=M+(W^G&(V^W))+K[5]+3593408605&4294967295,M=V+($<<5&4294967295|$>>>27),$=G+(V^W&(M^V))+K[10]+38016083&4294967295,G=M+($<<9&4294967295|$>>>23),$=W+(M^V&(G^M))+K[15]+3634488961&4294967295,W=G+($<<14&4294967295|$>>>18),$=V+(G^M&(W^G))+K[4]+3889429448&4294967295,V=W+($<<20&4294967295|$>>>12),$=M+(W^G&(V^W))+K[9]+568446438&4294967295,M=V+($<<5&4294967295|$>>>27),$=G+(V^W&(M^V))+K[14]+3275163606&4294967295,G=M+($<<9&4294967295|$>>>23),$=W+(M^V&(G^M))+K[3]+4107603335&4294967295,W=G+($<<14&4294967295|$>>>18),$=V+(G^M&(W^G))+K[8]+1163531501&4294967295,V=W+($<<20&4294967295|$>>>12),$=M+(W^G&(V^W))+K[13]+2850285829&4294967295,M=V+($<<5&4294967295|$>>>27),$=G+(V^W&(M^V))+K[2]+4243563512&4294967295,G=M+($<<9&4294967295|$>>>23),$=W+(M^V&(G^M))+K[7]+1735328473&4294967295,W=G+($<<14&4294967295|$>>>18),$=V+(G^M&(W^G))+K[12]+2368359562&4294967295,V=W+($<<20&4294967295|$>>>12),$=M+(V^W^G)+K[5]+4294588738&4294967295,M=V+($<<4&4294967295|$>>>28),$=G+(M^V^W)+K[8]+2272392833&4294967295,G=M+($<<11&4294967295|$>>>21),$=W+(G^M^V)+K[11]+1839030562&4294967295,W=G+($<<16&4294967295|$>>>16),$=V+(W^G^M)+K[14]+4259657740&4294967295,V=W+($<<23&4294967295|$>>>9),$=M+(V^W^G)+K[1]+2763975236&4294967295,M=V+($<<4&4294967295|$>>>28),$=G+(M^V^W)+K[4]+1272893353&4294967295,G=M+($<<11&4294967295|$>>>21),$=W+(G^M^V)+K[7]+4139469664&4294967295,W=G+($<<16&4294967295|$>>>16),$=V+(W^G^M)+K[10]+3200236656&4294967295,V=W+($<<23&4294967295|$>>>9),$=M+(V^W^G)+K[13]+681279174&4294967295,M=V+($<<4&4294967295|$>>>28),$=G+(M^V^W)+K[0]+3936430074&4294967295,G=M+($<<11&4294967295|$>>>21),$=W+(G^M^V)+K[3]+3572445317&4294967295,W=G+($<<16&4294967295|$>>>16),$=V+(W^G^M)+K[6]+76029189&4294967295,V=W+($<<23&4294967295|$>>>9),$=M+(V^W^G)+K[9]+3654602809&4294967295,M=V+($<<4&4294967295|$>>>28),$=G+(M^V^W)+K[12]+3873151461&4294967295,G=M+($<<11&4294967295|$>>>21),$=W+(G^M^V)+K[15]+530742520&4294967295,W=G+($<<16&4294967295|$>>>16),$=V+(W^G^M)+K[2]+3299628645&4294967295,V=W+($<<23&4294967295|$>>>9),$=M+(W^(V|~G))+K[0]+4096336452&4294967295,M=V+($<<6&4294967295|$>>>26),$=G+(V^(M|~W))+K[7]+1126891415&4294967295,G=M+($<<10&4294967295|$>>>22),$=W+(M^(G|~V))+K[14]+2878612391&4294967295,W=G+($<<15&4294967295|$>>>17),$=V+(G^(W|~M))+K[5]+4237533241&4294967295,V=W+($<<21&4294967295|$>>>11),$=M+(W^(V|~G))+K[12]+1700485571&4294967295,M=V+($<<6&4294967295|$>>>26),$=G+(V^(M|~W))+K[3]+2399980690&4294967295,G=M+($<<10&4294967295|$>>>22),$=W+(M^(G|~V))+K[10]+4293915773&4294967295,W=G+($<<15&4294967295|$>>>17),$=V+(G^(W|~M))+K[1]+2240044497&4294967295,V=W+($<<21&4294967295|$>>>11),$=M+(W^(V|~G))+K[8]+1873313359&4294967295,M=V+($<<6&4294967295|$>>>26),$=G+(V^(M|~W))+K[15]+4264355552&4294967295,G=M+($<<10&4294967295|$>>>22),$=W+(M^(G|~V))+K[6]+2734768916&4294967295,W=G+($<<15&4294967295|$>>>17),$=V+(G^(W|~M))+K[13]+1309151649&4294967295,V=W+($<<21&4294967295|$>>>11),$=M+(W^(V|~G))+K[4]+4149444226&4294967295,M=V+($<<6&4294967295|$>>>26),$=G+(V^(M|~W))+K[11]+3174756917&4294967295,G=M+($<<10&4294967295|$>>>22),$=W+(M^(G|~V))+K[2]+718787259&4294967295,W=G+($<<15&4294967295|$>>>17),$=V+(G^(W|~M))+K[9]+3951481745&4294967295,O.g[0]=O.g[0]+M&4294967295,O.g[1]=O.g[1]+(W+($<<21&4294967295|$>>>11))&4294967295,O.g[2]=O.g[2]+W&4294967295,O.g[3]=O.g[3]+G&4294967295}r.prototype.u=function(O,M){M===void 0&&(M=O.length);for(var V=M-this.blockSize,K=this.B,W=this.h,G=0;G<M;){if(W==0)for(;G<=V;)i(this,O,G),G+=this.blockSize;if(typeof O=="string"){for(;G<M;)if(K[W++]=O.charCodeAt(G++),W==this.blockSize){i(this,K),W=0;break}}else for(;G<M;)if(K[W++]=O[G++],W==this.blockSize){i(this,K),W=0;break}}this.h=W,this.o+=M},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var M=1;M<O.length-8;++M)O[M]=0;var V=8*this.o;for(M=O.length-8;M<O.length;++M)O[M]=V&255,V/=256;for(this.u(O),O=Array(16),M=V=0;4>M;++M)for(var K=0;32>K;K+=8)O[V++]=this.g[M]>>>K&255;return O};function s(O,M){var V=a;return Object.prototype.hasOwnProperty.call(V,O)?V[O]:V[O]=M(O)}function o(O,M){this.h=M;for(var V=[],K=!0,W=O.length-1;0<=W;W--){var G=O[W]|0;K&&G==M||(V[W]=G,K=!1)}this.g=V}var a={};function c(O){return-128<=O&&128>O?s(O,function(M){return new o([M|0],0>M?-1:0)}):new o([O|0],0>O?-1:0)}function u(O){if(isNaN(O)||!isFinite(O))return m;if(0>O)return C(u(-O));for(var M=[],V=1,K=0;O>=V;K++)M[K]=O/V|0,V*=4294967296;return new o(M,0)}function g(O,M){if(O.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(O.charAt(0)=="-")return C(g(O.substring(1),M));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=u(Math.pow(M,8)),K=m,W=0;W<O.length;W+=8){var G=Math.min(8,O.length-W),$=parseInt(O.substring(W,W+G),M);8>G?(G=u(Math.pow(M,G)),K=K.j(G).add(u($))):(K=K.j(V),K=K.add(u($)))}return K}var m=c(0),w=c(1),A=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-C(this).m();for(var O=0,M=1,V=0;V<this.g.length;V++){var K=this.i(V);O+=(0<=K?K:4294967296+K)*M,M*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(_(this))return"-"+C(this).toString(O);for(var M=u(Math.pow(O,6)),V=this,K="";;){var W=U(V,M).g;V=R(V,W.j(M));var G=((0<V.g.length?V.g[0]:V.h)>>>0).toString(O);if(V=W,I(V))return G+K;for(;6>G.length;)G="0"+G;K=G+K}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var M=0;M<O.g.length;M++)if(O.g[M]!=0)return!1;return!0}function _(O){return O.h==-1}t.l=function(O){return O=R(this,O),_(O)?-1:I(O)?0:1};function C(O){for(var M=O.g.length,V=[],K=0;K<M;K++)V[K]=~O.g[K];return new o(V,~O.h).add(w)}t.abs=function(){return _(this)?C(this):this},t.add=function(O){for(var M=Math.max(this.g.length,O.g.length),V=[],K=0,W=0;W<=M;W++){var G=K+(this.i(W)&65535)+(O.i(W)&65535),$=(G>>>16)+(this.i(W)>>>16)+(O.i(W)>>>16);K=$>>>16,G&=65535,$&=65535,V[W]=$<<16|G}return new o(V,V[V.length-1]&-2147483648?-1:0)};function R(O,M){return O.add(C(M))}t.j=function(O){if(I(this)||I(O))return m;if(_(this))return _(O)?C(this).j(C(O)):C(C(this).j(O));if(_(O))return C(this.j(C(O)));if(0>this.l(A)&&0>O.l(A))return u(this.m()*O.m());for(var M=this.g.length+O.g.length,V=[],K=0;K<2*M;K++)V[K]=0;for(K=0;K<this.g.length;K++)for(var W=0;W<O.g.length;W++){var G=this.i(K)>>>16,$=this.i(K)&65535,ce=O.i(W)>>>16,J=O.i(W)&65535;V[2*K+2*W]+=$*J,j(V,2*K+2*W),V[2*K+2*W+1]+=G*J,j(V,2*K+2*W+1),V[2*K+2*W+1]+=$*ce,j(V,2*K+2*W+1),V[2*K+2*W+2]+=G*ce,j(V,2*K+2*W+2)}for(K=0;K<M;K++)V[K]=V[2*K+1]<<16|V[2*K];for(K=M;K<2*M;K++)V[K]=0;return new o(V,0)};function j(O,M){for(;(O[M]&65535)!=O[M];)O[M+1]+=O[M]>>>16,O[M]&=65535,M++}function k(O,M){this.g=O,this.h=M}function U(O,M){if(I(M))throw Error("division by zero");if(I(O))return new k(m,m);if(_(O))return M=U(C(O),M),new k(C(M.g),C(M.h));if(_(M))return M=U(O,C(M)),new k(C(M.g),M.h);if(30<O.g.length){if(_(O)||_(M))throw Error("slowDivide_ only works with positive integers.");for(var V=w,K=M;0>=K.l(O);)V=D(V),K=D(K);var W=B(V,1),G=B(K,1);for(K=B(K,2),V=B(V,2);!I(K);){var $=G.add(K);0>=$.l(O)&&(W=W.add(V),G=$),K=B(K,1),V=B(V,1)}return M=R(O,W.j(M)),new k(W,M)}for(W=m;0<=O.l(M);){for(V=Math.max(1,Math.floor(O.m()/M.m())),K=Math.ceil(Math.log(V)/Math.LN2),K=48>=K?1:Math.pow(2,K-48),G=u(V),$=G.j(M);_($)||0<$.l(O);)V-=K,G=u(V),$=G.j(M);I(G)&&(G=w),W=W.add(G),O=R(O,$)}return new k(W,O)}t.A=function(O){return U(this,O).h},t.and=function(O){for(var M=Math.max(this.g.length,O.g.length),V=[],K=0;K<M;K++)V[K]=this.i(K)&O.i(K);return new o(V,this.h&O.h)},t.or=function(O){for(var M=Math.max(this.g.length,O.g.length),V=[],K=0;K<M;K++)V[K]=this.i(K)|O.i(K);return new o(V,this.h|O.h)},t.xor=function(O){for(var M=Math.max(this.g.length,O.g.length),V=[],K=0;K<M;K++)V[K]=this.i(K)^O.i(K);return new o(V,this.h^O.h)};function D(O){for(var M=O.g.length+1,V=[],K=0;K<M;K++)V[K]=O.i(K)<<1|O.i(K-1)>>>31;return new o(V,O.h)}function B(O,M){var V=M>>5;M%=32;for(var K=O.g.length-V,W=[],G=0;G<K;G++)W[G]=0<M?O.i(G+V)>>>M|O.i(G+V+1)<<32-M:O.i(G+V);return new o(W,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M$=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=g,Vu=o}).apply(typeof WD<"u"?WD:typeof self<"u"?self:typeof window<"u"?window:{});var q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D$,Tm,L$,Mv,DI,B$,j$,F$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,z,Y){return S==Array.prototype||S==Object.prototype||(S[z]=Y.value),S};function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof q1=="object"&&q1];for(var z=0;z<S.length;++z){var Y=S[z];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function i(S,z){if(z)e:{var Y=r;S=S.split(".");for(var ne=0;ne<S.length-1;ne++){var Ee=S[ne];if(!(Ee in Y))break e;Y=Y[Ee]}S=S[S.length-1],ne=Y[S],z=z(ne),z!=ne&&z!=null&&e(Y,S,{configurable:!0,writable:!0,value:z})}}function s(S,z){S instanceof String&&(S+="");var Y=0,ne=!1,Ee={next:function(){if(!ne&&Y<S.length){var Oe=Y++;return{value:z(Oe,S[Oe]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}i("Array.prototype.values",function(S){return S||function(){return s(this,function(z,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(S){var z=typeof S;return z=z!="object"?z:S?Array.isArray(S)?"array":z:"null",z=="array"||z=="object"&&typeof S.length=="number"}function u(S){var z=typeof S;return z=="object"&&S!=null||z=="function"}function g(S,z,Y){return S.call.apply(S.bind,arguments)}function m(S,z,Y){if(!S)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var Ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ee,ne),S.apply(z,Ee)}}return function(){return S.apply(z,arguments)}}function w(S,z,Y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:m,w.apply(null,arguments)}function A(S,z){var Y=Array.prototype.slice.call(arguments,1);return function(){var ne=Y.slice();return ne.push.apply(ne,arguments),S.apply(this,ne)}}function I(S,z){function Y(){}Y.prototype=z.prototype,S.aa=z.prototype,S.prototype=new Y,S.prototype.constructor=S,S.Qb=function(ne,Ee,Oe){for(var Ze=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)Ze[kn-2]=arguments[kn];return z.prototype[Ee].apply(ne,Ze)}}function _(S){const z=S.length;if(0<z){const Y=Array(z);for(let ne=0;ne<z;ne++)Y[ne]=S[ne];return Y}return[]}function C(S,z){for(let Y=1;Y<arguments.length;Y++){const ne=arguments[Y];if(c(ne)){const Ee=S.length||0,Oe=ne.length||0;S.length=Ee+Oe;for(let Ze=0;Ze<Oe;Ze++)S[Ee+Ze]=ne[Ze]}else S.push(ne)}}class R{constructor(z,Y){this.i=z,this.j=Y,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function j(S){return/^[\s\xa0]*$/.test(S)}function k(){var S=a.navigator;return S&&(S=S.userAgent)?S:""}function U(S){return U[" "](S),S}U[" "]=function(){};var D=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function B(S,z,Y){for(const ne in S)z.call(Y,S[ne],ne,S)}function O(S,z){for(const Y in S)z.call(void 0,S[Y],Y,S)}function M(S){const z={};for(const Y in S)z[Y]=S[Y];return z}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(S,z){let Y,ne;for(let Ee=1;Ee<arguments.length;Ee++){ne=arguments[Ee];for(Y in ne)S[Y]=ne[Y];for(let Oe=0;Oe<V.length;Oe++)Y=V[Oe],Object.prototype.hasOwnProperty.call(ne,Y)&&(S[Y]=ne[Y])}}function W(S){var z=1;S=S.split(":");const Y=[];for(;0<z&&S.length;)Y.push(S.shift()),z--;return S.length&&Y.push(S.join(":")),Y}function G(S){a.setTimeout(()=>{throw S},0)}function $(){var S=pe;let z=null;return S.g&&(z=S.g,S.g=S.g.next,S.g||(S.h=null),z.next=null),z}class ce{constructor(){this.h=this.g=null}add(z,Y){const ne=J.get();ne.set(z,Y),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var J=new R(()=>new oe,S=>S.reset());class oe{constructor(){this.next=this.g=this.h=null}set(z,Y){this.h=z,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,re=!1,pe=new ce,we=()=>{const S=a.Promise.resolve(void 0);ae=()=>{S.then(ue)}};var ue=()=>{for(var S;S=$();){try{S.h.call(S.g)}catch(Y){G(Y)}var z=J;z.j(S),100>z.h&&(z.h++,S.next=z.g,z.g=S)}re=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(S,z){this.type=S,this.g=this.target=z,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Re=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var S=!1,z=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const Y=()=>{};a.addEventListener("test",Y,z),a.removeEventListener("test",Y,z)}catch{}return S})();function Ue(S,z){if(xe.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var Y=this.type=S.type,ne=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=z,z=S.relatedTarget){if(D){e:{try{U(z.nodeName);var Ee=!0;break e}catch{}Ee=!1}Ee||(z=null)}}else Y=="mouseover"?z=S.fromElement:Y=="mouseout"&&(z=S.toElement);this.relatedTarget=z,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:Me[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&Ue.aa.h.call(this)}}I(Ue,xe);var Me={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),De=0;function Pe(S,z,Y,ne,Ee){this.listener=S,this.proxy=null,this.src=z,this.type=Y,this.capture=!!ne,this.ha=Ee,this.key=++De,this.da=this.fa=!1}function Fe(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function Ge(S){this.src=S,this.g={},this.h=0}Ge.prototype.add=function(S,z,Y,ne,Ee){var Oe=S.toString();S=this.g[Oe],S||(S=this.g[Oe]=[],this.h++);var Ze=et(S,z,ne,Ee);return-1<Ze?(z=S[Ze],Y||(z.fa=!1)):(z=new Pe(z,this.src,Oe,!!ne,Ee),z.fa=Y,S.push(z)),z};function Te(S,z){var Y=z.type;if(Y in S.g){var ne=S.g[Y],Ee=Array.prototype.indexOf.call(ne,z,void 0),Oe;(Oe=0<=Ee)&&Array.prototype.splice.call(ne,Ee,1),Oe&&(Fe(z),S.g[Y].length==0&&(delete S.g[Y],S.h--))}}function et(S,z,Y,ne){for(var Ee=0;Ee<S.length;++Ee){var Oe=S[Ee];if(!Oe.da&&Oe.listener==z&&Oe.capture==!!Y&&Oe.ha==ne)return Ee}return-1}var dt="closure_lm_"+(1e6*Math.random()|0),Ft={};function Yt(S,z,Y,ne,Ee){if(Array.isArray(z)){for(var Oe=0;Oe<z.length;Oe++)Yt(S,z[Oe],Y,ne,Ee);return null}return Y=so(Y),S&&S[ke]?S.K(z,Y,u(ne)?!!ne.capture:!1,Ee):kt(S,z,Y,!1,ne,Ee)}function kt(S,z,Y,ne,Ee,Oe){if(!z)throw Error("Invalid event type");var Ze=u(Ee)?!!Ee.capture:!!Ee,kn=wi(S);if(kn||(S[dt]=kn=new Ge(S)),Y=kn.add(z,Y,ne,Ze,Oe),Y.proxy)return Y;if(ne=Kt(),Y.proxy=ne,ne.src=S,ne.listener=Y,S.addEventListener)Re||(Ee=Ze),Ee===void 0&&(Ee=!1),S.addEventListener(z.toString(),ne,Ee);else if(S.attachEvent)S.attachEvent(nt(z.toString()),ne);else if(S.addListener&&S.removeListener)S.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function Kt(){function S(Y){return z.call(S.src,S.listener,Y)}const z=_n;return S}function xt(S,z,Y,ne,Ee){if(Array.isArray(z))for(var Oe=0;Oe<z.length;Oe++)xt(S,z[Oe],Y,ne,Ee);else ne=u(ne)?!!ne.capture:!!ne,Y=so(Y),S&&S[ke]?(S=S.i,z=String(z).toString(),z in S.g&&(Oe=S.g[z],Y=et(Oe,Y,ne,Ee),-1<Y&&(Fe(Oe[Y]),Array.prototype.splice.call(Oe,Y,1),Oe.length==0&&(delete S.g[z],S.h--)))):S&&(S=wi(S))&&(z=S.g[z.toString()],S=-1,z&&(S=et(z,Y,ne,Ee)),(Y=-1<S?z[S]:null)&&ii(Y))}function ii(S){if(typeof S!="number"&&S&&!S.da){var z=S.src;if(z&&z[ke])Te(z.i,S);else{var Y=S.type,ne=S.proxy;z.removeEventListener?z.removeEventListener(Y,ne,S.capture):z.detachEvent?z.detachEvent(nt(Y),ne):z.addListener&&z.removeListener&&z.removeListener(ne),(Y=wi(z))?(Te(Y,S),Y.h==0&&(Y.src=null,z[dt]=null)):Fe(S)}}}function nt(S){return S in Ft?Ft[S]:Ft[S]="on"+S}function _n(S,z){if(S.da)S=!0;else{z=new Ue(z,this);var Y=S.listener,ne=S.ha||S.src;S.fa&&ii(S),S=Y.call(ne,z)}return S}function wi(S){return S=S[dt],S instanceof Ge?S:null}var si="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(S){return typeof S=="function"?S:(S[si]||(S[si]=function(z){return S.handleEvent(z)}),S[si])}function ln(){he.call(this),this.i=new Ge(this),this.M=this,this.F=null}I(ln,he),ln.prototype[ke]=!0,ln.prototype.removeEventListener=function(S,z,Y,ne){xt(this,S,z,Y,ne)};function Nr(S,z){var Y,ne=S.F;if(ne)for(Y=[];ne;ne=ne.F)Y.push(ne);if(S=S.M,ne=z.type||z,typeof z=="string")z=new xe(z,S);else if(z instanceof xe)z.target=z.target||S;else{var Ee=z;z=new xe(ne,S),K(z,Ee)}if(Ee=!0,Y)for(var Oe=Y.length-1;0<=Oe;Oe--){var Ze=z.g=Y[Oe];Ee=oi(Ze,ne,!0,z)&&Ee}if(Ze=z.g=S,Ee=oi(Ze,ne,!0,z)&&Ee,Ee=oi(Ze,ne,!1,z)&&Ee,Y)for(Oe=0;Oe<Y.length;Oe++)Ze=z.g=Y[Oe],Ee=oi(Ze,ne,!1,z)&&Ee}ln.prototype.N=function(){if(ln.aa.N.call(this),this.i){var S=this.i,z;for(z in S.g){for(var Y=S.g[z],ne=0;ne<Y.length;ne++)Fe(Y[ne]);delete S.g[z],S.h--}}this.F=null},ln.prototype.K=function(S,z,Y,ne){return this.i.add(String(S),z,!1,Y,ne)},ln.prototype.L=function(S,z,Y,ne){return this.i.add(String(S),z,!0,Y,ne)};function oi(S,z,Y,ne){if(z=S.i.g[String(z)],!z)return!0;z=z.concat();for(var Ee=!0,Oe=0;Oe<z.length;++Oe){var Ze=z[Oe];if(Ze&&!Ze.da&&Ze.capture==Y){var kn=Ze.listener,br=Ze.ha||Ze.src;Ze.fa&&Te(S.i,Ze),Ee=kn.call(br,ne)!==!1&&Ee}}return Ee&&!ne.defaultPrevented}function vr(S,z,Y){if(typeof S=="function")Y&&(S=w(S,Y));else if(S&&typeof S.handleEvent=="function")S=w(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:a.setTimeout(S,z||0)}function Hi(S){S.g=vr(()=>{S.g=null,S.i&&(S.i=!1,Hi(S))},S.l);const z=S.h;S.h=null,S.m.apply(null,z)}class Us extends he{constructor(z,Y){super(),this.m=z,this.l=Y,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:Hi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(S){he.call(this),this.h=S,this.g={}}I(ws,he);var Qn=[];function Xe(S){B(S.g,function(z,Y){this.g.hasOwnProperty(Y)&&ii(z)},S),S.g={}}ws.prototype.N=function(){ws.aa.N.call(this),Xe(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=a.JSON.stringify,cn=a.JSON.parse,Ln=class{stringify(S){return a.JSON.stringify(S,void 0)}parse(S){return a.JSON.parse(S,void 0)}};function is(){}is.prototype.h=null;function Pi(S){return S.h||(S.h=S.i())}function Aa(){}var Vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){xe.call(this,"d")}I(ai,xe);function Wo(){xe.call(this,"c")}I(Wo,xe);var At={},un=null;function Zn(){return un=un||new ln}At.La="serverreachability";function fn(S){xe.call(this,At.La,S)}I(fn,xe);function li(S){const z=Zn();Nr(z,new fn(z))}At.STAT_EVENT="statevent";function Jn(S,z){xe.call(this,At.STAT_EVENT,S),this.stat=z}I(Jn,xe);function $t(S){const z=Zn();Nr(z,new Jn(z,S))}At.Ma="timingevent";function _o(S,z){xe.call(this,At.Ma,S),this.size=z}I(_o,xe);function On(S,z){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){S()},z)}function jr(){this.g=!0}jr.prototype.xa=function(){this.g=!1};function wr(S,z,Y,ne,Ee,Oe){S.info(function(){if(S.g)if(Oe)for(var Ze="",kn=Oe.split("&"),br=0;br<kn.length;br++){var hn=kn[br].split("=");if(1<hn.length){var ar=hn[0];hn=hn[1];var Ar=ar.split("_");Ze=2<=Ar.length&&Ar[1]=="type"?Ze+(ar+"="+hn+"&"):Ze+(ar+"=redacted&")}}else Ze=null;else Ze=Oe;return"XMLHTTP REQ ("+ne+") [attempt "+Ee+"]: "+z+`
`+Y+`
`+Ze})}function qr(S,z,Y,ne,Ee,Oe,Ze){S.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+Ee+"]: "+z+`
`+Y+`
`+Oe+" "+Ze})}function xr(S,z,Y,ne){S.info(function(){return"XMLHTTP TEXT ("+z+"): "+Za(S,Y)+(ne?" "+ne:"")})}function rt(S,z){S.info(function(){return"TIMEOUT: "+z})}jr.prototype.info=function(){};function Za(S,z){if(!S.g)return z;if(!z)return null;try{var Y=JSON.parse(z);if(Y){for(S=0;S<Y.length;S++)if(Array.isArray(Y[S])){var ne=Y[S];if(!(2>ne.length)){var Ee=ne[1];if(Array.isArray(Ee)&&!(1>Ee.length)){var Oe=Ee[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var Ze=1;Ze<Ee.length;Ze++)Ee[Ze]=""}}}}return Xn(Y)}catch{return z}}var Ja={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$i;function Ko(){}I(Ko,is),Ko.prototype.g=function(){return new XMLHttpRequest},Ko.prototype.i=function(){return{}},$i=new Ko;function xs(S,z,Y,ne){this.j=S,this.i=z,this.l=Y,this.R=ne||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}var yf={},Gc={};function ss(S,z,Y){S.L=1,S.v=ir(Jt(z)),S.m=Y,S.P=!0,ci(S,null)}function ci(S,z){S.F=Date.now(),vn(S),S.A=Jt(S.v);var Y=S.A,ne=S.R;Array.isArray(ne)||(ne=[String(ne)]),sr(Y.i,"t",ne),S.C=0,Y=S.j.J,S.h=new zs,S.g=sd(S.j,Y?z:null,!S.m),0<S.O&&(S.M=new Us(w(S.Y,S,S.g),S.O)),z=S.U,Y=S.g,ne=S.ca;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(Qn[0]=Ee.toString()),Ee=Qn);for(var Oe=0;Oe<Ee.length;Oe++){var Ze=Yt(Y,Ee[Oe],ne||z.handleEvent,!1,z.h||z);if(!Ze)break;z.g[Ze.key]=Ze}z=S.H?M(S.H):{},S.m?(S.u||(S.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,z)):(S.u="GET",S.g.ea(S.A,S.u,null,z)),li(),wr(S.i,S.u,S.A,S.l,S.R,S.m)}xs.prototype.ca=function(S){S=S.target;const z=this.M;z&&Ss(S)==3?z.j():this.Y(S)},xs.prototype.Y=function(S){try{if(S==this.g)e:{const Ar=Ss(this.g);var z=this.g.Ba();const Er=this.g.Z();if(!(3>Ar)&&(Ar!=3||this.g&&(this.h.h||this.g.oa()||xf(this.g)))){this.J||Ar!=4||z==7||(z==8||0>=Er?li(3):li(2)),Be(this);var Y=this.g.Z();this.X=Y;t:if($n(this)){var ne=xf(this.g);S="";var Ee=ne.length,Oe=Ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),el(this);var Ze="";break t}this.h.i=new a.TextDecoder}for(z=0;z<Ee;z++)this.h.h=!0,S+=this.h.i.decode(ne[z],{stream:!(Oe&&z==Ee-1)});ne.length=0,this.h.g+=S,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=Y==200,qr(this.i,this.u,this.A,this.l,this.R,Ar,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var kn,br=this.g;if((kn=br.g?br.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(kn)){var hn=kn;break t}}hn=null}if(Y=hn)xr(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yo(this,Y);else{this.o=!1,this.s=3,$t(12),wn(this),el(this);break e}}if(this.P){Y=!0;let _s;for(;!this.J&&this.C<Ze.length;)if(_s=td(this,Ze),_s==Gc){Ar==4&&(this.s=4,$t(14),Y=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(_s==yf){this.s=4,$t(15),xr(this.i,this.l,Ze,"[Invalid Chunk]"),Y=!1;break}else xr(this.i,this.l,_s,null),Yo(this,_s);if($n(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ar!=4||Ze.length!=0||this.h.h||(this.s=1,$t(16),Y=!1),this.o=this.o&&Y,!Y)xr(this.i,this.l,Ze,"[Invalid Chunked Response]"),wn(this),el(this);else if(0<Ze.length&&!this.W){this.W=!0;var ar=this.j;ar.g==this&&ar.ba&&!ar.M&&(ar.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),Hl(ar),ar.M=!0,$t(11))}}else xr(this.i,this.l,Ze,null),Yo(this,Ze);Ar==4&&wn(this),this.o&&!this.J&&(Ar==4?Gn(this.j,this):(this.o=!1,vn(this)))}else xn(this.g),Y==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),wn(this),el(this)}}}catch{}finally{}};function $n(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function td(S,z){var Y=S.C,ne=z.indexOf(`
`,Y);return ne==-1?Gc:(Y=Number(z.substring(Y,ne)),isNaN(Y)?yf:(ne+=1,ne+Y>z.length?Gc:(z=z.slice(ne,ne+Y),S.C=ne+Y,z)))}xs.prototype.cancel=function(){this.J=!0,wn(this)};function vn(S){S.S=Date.now()+S.I,qc(S,S.I)}function qc(S,z){if(S.B!=null)throw Error("WatchDog timer not null");S.B=On(w(S.ba,S),z)}function Be(S){S.B&&(a.clearTimeout(S.B),S.B=null)}xs.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(rt(this.i,this.A),this.L!=2&&(li(),$t(17)),wn(this),this.s=2,el(this)):qc(this,this.S-S)};function el(S){S.j.G==0||S.J||Gn(S.j,S)}function wn(S){Be(S);var z=S.M;z&&typeof z.ma=="function"&&z.ma(),S.M=null,Xe(S.U),S.g&&(z=S.g,S.g=null,z.abort(),z.ma())}function Yo(S,z){try{var Y=S.j;if(Y.G!=0&&(Y.g==S||Oi(Y.h,S))){if(!S.K&&Oi(Y.h,S)&&Y.G==3){try{var ne=Y.Da.g.parse(z)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var Ee=ne;if(Ee[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<S.F)sl(Y),No(Y);else break e;Zc(Y),$t(18)}}else Y.za=Ee[1],0<Y.za-Y.T&&37500>Ee[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=On(w(Y.Za,Y),6e3));if(1>=Zt(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else as(Y,11)}else if((S.K||Y.g==S)&&sl(Y),!j(z))for(Ee=Y.Da.g.parse(z),z=0;z<Ee.length;z++){let hn=Ee[z];if(Y.T=hn[0],hn=hn[1],Y.G==2)if(hn[0]=="c"){Y.K=hn[1],Y.ia=hn[2];const ar=hn[3];ar!=null&&(Y.la=ar,Y.j.info("VER="+Y.la));const Ar=hn[4];Ar!=null&&(Y.Aa=Ar,Y.j.info("SVER="+Y.Aa));const Er=hn[5];Er!=null&&typeof Er=="number"&&0<Er&&(ne=1.5*Er,Y.L=ne,Y.j.info("backChannelRequestTimeoutMs_="+ne)),ne=Y;const _s=S.g;if(_s){const qi=_s.g?_s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var Oe=ne.h;Oe.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Fl(Oe,Oe.h),Oe.h=null))}if(ne.D){const Jc=_s.g?_s.g.getResponseHeader("X-HTTP-Session-Id"):null;Jc&&(ne.ya=Jc,tt(ne.I,ne.D,Jc))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-S.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ne=Y;var Ze=S;if(ne.qa=bt(ne,ne.J?ne.ia:null,ne.W),Ze.K){Wc(ne.h,Ze);var kn=Ze,br=ne.L;br&&(kn.I=br),kn.B&&(Be(kn),vn(kn)),ne.g=Ze}else zl(ne);0<Y.i.length&&Pt(Y)}else hn[0]!="stop"&&hn[0]!="close"||as(Y,7);else Y.G==3&&(hn[0]=="stop"||hn[0]=="close"?hn[0]=="stop"?as(Y,7):ur(Y):hn[0]!="noop"&&Y.l&&Y.l.ta(hn),Y.v=0)}}li(4)}catch{}}var nd=class{constructor(S,z){this.g=S,this.map=z}};function sn(S){this.l=S||10,a.PerformanceNavigationTiming?(S=a.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function Zt(S){return S.h?1:S.g?S.g.size:0}function Oi(S,z){return S.h?S.h==z:S.g?S.g.has(z):!1}function Fl(S,z){S.g?S.g.add(z):S.h=z}function Wc(S,z){S.h&&S.h==z?S.h=null:S.g&&S.g.has(z)&&S.g.delete(z)}sn.prototype.cancel=function(){if(this.i=Or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function Or(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let z=S.i;for(const Y of S.g.values())z=z.concat(Y.D);return z}return _(S.i)}function Hs(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(c(S)){for(var z=[],Y=S.length,ne=0;ne<Y;ne++)z.push(S[ne]);return z}z=[],Y=0;for(ne in S)z[Y++]=S[ne];return z}function Kc(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(c(S)||typeof S=="string"){var z=[];S=S.length;for(var Y=0;Y<S;Y++)z.push(Y);return z}z=[],Y=0;for(const ne in S)z[Y++]=ne;return z}}}function Bn(S,z){if(S.forEach&&typeof S.forEach=="function")S.forEach(z,void 0);else if(c(S)||typeof S=="string")Array.prototype.forEach.call(S,z,void 0);else for(var Y=Kc(S),ne=Hs(S),Ee=ne.length,Oe=0;Oe<Ee;Oe++)z.call(void 0,ne[Oe],Y&&Y[Oe],S)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jg(S,z){if(S){S=S.split("&");for(var Y=0;Y<S.length;Y++){var ne=S[Y].indexOf("="),Ee=null;if(0<=ne){var Oe=S[Y].substring(0,ne);Ee=S[Y].substring(ne+1)}else Oe=S[Y];z(Oe,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function As(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof As){this.h=S.h,Rr(this,S.j),this.o=S.o,this.g=S.g,Ae(this,S.s),this.l=S.l;var z=S.i,Y=new oo;Y.i=z.i,z.g&&(Y.g=new Map(z.g),Y.h=z.h),ie(this,Y),this.m=S.m}else S&&(z=String(S).match(bs))?(this.h=!1,Rr(this,z[1]||"",!0),this.o=Mt(z[2]||""),this.g=Mt(z[3]||"",!0),Ae(this,z[4]),this.l=Mt(z[5]||"",!0),ie(this,z[6]||"",!0),this.m=Mt(z[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}As.prototype.toString=function(){var S=[],z=this.j;z&&S.push(tl(z,Ri,!0),":");var Y=this.g;return(Y||z=="file")&&(S.push("//"),(z=this.o)&&S.push(tl(z,Ri,!0),"@"),S.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&S.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&S.push("/"),S.push(tl(Y,Y.charAt(0)=="/"?er:wt,!0))),(Y=this.i.toString())&&S.push("?",Y),(Y=this.m)&&S.push("#",tl(Y,wf)),S.join("")};function Jt(S){return new As(S)}function Rr(S,z,Y){S.j=Y?Mt(z,!0):z,S.j&&(S.j=S.j.replace(/:$/,""))}function Ae(S,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);S.s=z}else S.s=null}function ie(S,z,Y){z instanceof oo?(S.i=z,ki(S.i,S.h)):(Y||(z=tl(z,vf)),S.i=new oo(z,S.h))}function tt(S,z,Y){S.i.set(z,Y)}function ir(S){return tt(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function Mt(S,z){return S?z?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function tl(S,z,Y){return typeof S=="string"?(S=encodeURI(S).replace(z,Yc),Y&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function Yc(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Ri=/[#\/\?@]/g,wt=/[#\?:]/g,er=/[#\?]/g,vf=/[#\?@]/g,wf=/#/g;function oo(S,z){this.h=this.g=null,this.i=S||null,this.j=!!z}function Wr(S){S.g||(S.g=new Map,S.h=0,S.i&&jg(S.i,function(z,Y){S.add(decodeURIComponent(z.replace(/\+/g," ")),Y)}))}t=oo.prototype,t.add=function(S,z){Wr(this),this.i=null,S=Gi(this,S);var Y=this.g.get(S);return Y||this.g.set(S,Y=[]),Y.push(z),this.h+=1,this};function $s(S,z){Wr(S),z=Gi(S,z),S.g.has(z)&&(S.i=null,S.h-=S.g.get(z).length,S.g.delete(z))}function To(S,z){return Wr(S),z=Gi(S,z),S.g.has(z)}t.forEach=function(S,z){Wr(this),this.g.forEach(function(Y,ne){Y.forEach(function(Ee){S.call(z,Ee,ne,this)},this)},this)},t.na=function(){Wr(this);const S=Array.from(this.g.values()),z=Array.from(this.g.keys()),Y=[];for(let ne=0;ne<z.length;ne++){const Ee=S[ne];for(let Oe=0;Oe<Ee.length;Oe++)Y.push(z[ne])}return Y},t.V=function(S){Wr(this);let z=[];if(typeof S=="string")To(this,S)&&(z=z.concat(this.g.get(Gi(this,S))));else{S=Array.from(this.g.values());for(let Y=0;Y<S.length;Y++)z=z.concat(S[Y])}return z},t.set=function(S,z){return Wr(this),this.i=null,S=Gi(this,S),To(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[z]),this.h+=1,this},t.get=function(S,z){return S?(S=this.V(S),0<S.length?String(S[0]):z):z};function sr(S,z,Y){$s(S,z),0<Y.length&&(S.i=null,S.g.set(Gi(S,z),_(Y)),S.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],z=Array.from(this.g.keys());for(var Y=0;Y<z.length;Y++){var ne=z[Y];const Oe=encodeURIComponent(String(ne)),Ze=this.V(ne);for(ne=0;ne<Ze.length;ne++){var Ee=Oe;Ze[ne]!==""&&(Ee+="="+encodeURIComponent(String(Ze[ne]))),S.push(Ee)}}return this.i=S.join("&")};function Gi(S,z){return z=String(z),S.j&&(z=z.toLowerCase()),z}function ki(S,z){z&&!S.j&&(Wr(S),S.i=null,S.g.forEach(function(Y,ne){var Ee=ne.toLowerCase();ne!=Ee&&($s(this,ne),sr(this,Ee,Y))},S)),S.j=z}function _t(S,z){const Y=new jr;if(a.Image){const ne=new Image;ne.onload=A(Et,Y,"TestLoadImage: loaded",!0,z,ne),ne.onerror=A(Et,Y,"TestLoadImage: error",!1,z,ne),ne.onabort=A(Et,Y,"TestLoadImage: abort",!1,z,ne),ne.ontimeout=A(Et,Y,"TestLoadImage: timeout",!1,z,ne),a.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=S}else z(!1)}function rd(S,z){const Y=new jr,ne=new AbortController,Ee=setTimeout(()=>{ne.abort(),Et(Y,"TestPingServer: timeout",!1,z)},1e4);fetch(S,{signal:ne.signal}).then(Oe=>{clearTimeout(Ee),Oe.ok?Et(Y,"TestPingServer: ok",!0,z):Et(Y,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(Ee),Et(Y,"TestPingServer: error",!1,z)})}function Et(S,z,Y,ne,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),ne(Y)}catch{}}function ui(){this.g=new Ln}function id(S,z,Y){const ne=Y||"";try{Bn(S,function(Ee,Oe){let Ze=Ee;u(Ee)&&(Ze=Xn(Ee)),z.push(ne+Oe+"="+encodeURIComponent(Ze))})}catch(Ee){throw z.push(ne+"type="+encodeURIComponent("_badmap")),Ee}}function Co(S){this.l=S.Ub||null,this.j=S.eb||!1}I(Co,is),Co.prototype.g=function(){return new nl(this.l,this.j)},Co.prototype.i=(function(S){return function(){return S}})({});function nl(S,z){ln.call(this),this.D=S,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(nl,ln),t=nl.prototype,t.open=function(S,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=z,this.readyState=1,os(this)},t.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(z.body=S),(this.D||a).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Io(this)),this.readyState=0},t.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}t.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var z=S.value?S.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!S.done}))&&(this.response=this.responseText+=z)}S.done?Io(this):os(this),this.readyState==3&&Qo(this)}},t.Ra=function(S){this.g&&(this.response=this.responseText=S,Io(this))},t.Qa=function(S){this.g&&(this.response=S,Io(this))},t.ga=function(){this.g&&Io(this)};function Io(S){S.readyState=4,S.l=null,S.j=null,S.v=null,os(S)}t.setRequestHeader=function(S,z){this.u.append(S,z)},t.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],z=this.h.entries();for(var Y=z.next();!Y.done;)Y=Y.value,S.push(Y[0]+": "+Y[1]),Y=z.next();return S.join(`\r
`)};function os(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Gs(S){let z="";return B(S,function(Y,ne){z+=ne,z+=":",z+=Y,z+=`\r
`}),z}function ao(S,z,Y){e:{for(ne in Y){var ne=!1;break e}ne=!0}ne||(Y=Gs(Y),typeof S=="string"?Y!=null&&encodeURIComponent(String(Y)):tt(S,z,Y))}function or(S){ln.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(or,ln);var Vl=/^https?$/i,Ea=["POST","PUT"];t=or.prototype,t.Ha=function(S){this.J=S},t.ea=function(S,z,Y,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);z=z?z.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$i.g(),this.v=this.o?Pi(this.o):Pi($i),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(z,String(S),!0),this.B=!1}catch(Oe){Kr(this,Oe);return}if(S=Y||"",Y=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var Ee in ne)Y.set(Ee,ne[Ee]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Oe of ne.keys())Y.set(Oe,ne.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(Y.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Ee=a.FormData&&S instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ea,z,void 0))||ne||Ee||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,Ze]of Y)this.g.setRequestHeader(Oe,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xc(this),this.u=!0,this.g.send(S),this.u=!1}catch(Oe){Kr(this,Oe)}};function Kr(S,z){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=z,S.m=5,Ul(S),Es(S)}function Ul(S){S.A||(S.A=!0,Nr(S,"complete"),Nr(S,"error"))}t.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,Nr(this,"complete"),Nr(this,"abort"),Es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),or.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qc(this):this.bb())},t.bb=function(){Qc(this)};function Qc(S){if(S.h&&typeof o<"u"&&(!S.v[1]||Ss(S)!=4||S.Z()!=2)){if(S.u&&Ss(S)==4)vr(S.Ea,0,S);else if(Nr(S,"readystatechange"),Ss(S)==4){S.h=!1;try{const Ze=S.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var Y;if(!(Y=z)){var ne;if(ne=Ze===0){var Ee=String(S.D).match(bs)[1]||null;!Ee&&a.self&&a.self.location&&(Ee=a.self.location.protocol.slice(0,-1)),ne=!Vl.test(Ee?Ee.toLowerCase():"")}Y=ne}if(Y)Nr(S,"complete"),Nr(S,"success");else{S.m=6;try{var Oe=2<Ss(S)?S.g.statusText:""}catch{Oe=""}S.l=Oe+" ["+S.Z()+"]",Ul(S)}}finally{Es(S)}}}}function Es(S,z){if(S.g){Xc(S);const Y=S.g,ne=S.v[0]?()=>{}:null;S.g=null,S.v=null,z||Nr(S,"ready");try{Y.onreadystatechange=ne}catch{}}}function Xc(S){S.I&&(a.clearTimeout(S.I),S.I=null)}t.isActive=function(){return!!this.g};function Ss(S){return S.g?S.g.readyState:0}t.Z=function(){try{return 2<Ss(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(S){if(this.g){var z=this.g.responseText;return S&&z.indexOf(S)==0&&(z=z.substring(S.length)),cn(z)}};function xf(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function xn(S){const z={};S=(S.g&&2<=Ss(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<S.length;ne++){if(j(S[ne]))continue;var Y=W(S[ne]);const Ee=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Oe=z[Ee]||[];z[Ee]=Oe,Oe.push(Y)}O(z,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(S,z,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[S]||z}function rl(S){this.Aa=0,this.i=[],this.j=new jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,S),this.cb=Po("retryDelaySeedMs",1e4,S),this.Wa=Po("forwardChannelMaxRetries",2,S),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new sn(S&&S.concurrentRequestLimit),this.Da=new ui,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rl.prototype,t.la=8,t.G=1,t.connect=function(S,z,Y,ne){$t(0),this.W=S,this.H=z||{},Y&&ne!==void 0&&(this.H.OSID=Y,this.H.OAID=ne),this.F=this.X,this.I=bt(this,null,this.W),Pt(this)};function ur(S){if(Ce(S),S.G==3){var z=S.U++,Y=Jt(S.I);if(tt(Y,"SID",S.K),tt(Y,"RID",z),tt(Y,"TYPE","terminate"),Xo(S,Y),z=new xs(S,S.j,z),z.L=2,z.v=ir(Jt(Y)),Y=!1,a.navigator&&a.navigator.sendBeacon)try{Y=a.navigator.sendBeacon(z.v.toString(),"")}catch{}!Y&&a.Image&&(new Image().src=z.v,Y=!0),Y||(z.g=sd(z.j,null),z.g.ea(z.v)),z.F=Date.now(),vn(z)}Tn(S)}function No(S){S.g&&(Hl(S),S.g.cancel(),S.g=null)}function Ce(S){No(S),S.u&&(a.clearTimeout(S.u),S.u=null),sl(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&a.clearTimeout(S.s),S.s=null)}function Pt(S){if(!Gt(S.h)&&!S.s){S.s=!0;var z=S.Ga;ae||we(),re||(ae(),re=!0),pe.add(z,S),S.B=0}}function fi(S,z){return Zt(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=z.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=On(w(S.Ga,S,z),$l(S,S.B)),S.B++,!0)}t.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const Ee=new xs(this,this.j,S);let Oe=this.o;if(this.S&&(Oe?(Oe=M(Oe),K(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(Ee.H=Oe,Oe=null),this.P)e:{for(var z=0,Y=0;Y<this.i.length;Y++){t:{var ne=this.i[Y];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(z+=ne,4096<z){z=Y;break e}if(z===4096||Y===this.i.length-1){z=Y+1;break e}}z=1e3}else z=1e3;z=il(this,Ee,z),Y=Jt(this.I),tt(Y,"RID",S),tt(Y,"CVER",22),this.D&&tt(Y,"X-HTTP-Session-Id",this.D),Xo(this,Y),Oe&&(this.O?z="headers="+encodeURIComponent(String(Gs(Oe)))+"&"+z:this.m&&ao(Y,this.m,Oe)),Fl(this.h,Ee),this.Ua&&tt(Y,"TYPE","init"),this.P?(tt(Y,"$req",z),tt(Y,"SID","null"),Ee.T=!0,ss(Ee,Y,null)):ss(Ee,Y,z),this.G=2}}else this.G==3&&(S?Sa(this,S):this.i.length==0||Gt(this.h)||Sa(this))};function Sa(S,z){var Y;z?Y=z.l:Y=S.U++;const ne=Jt(S.I);tt(ne,"SID",S.K),tt(ne,"RID",Y),tt(ne,"AID",S.T),Xo(S,ne),S.m&&S.o&&ao(ne,S.m,S.o),Y=new xs(S,S.j,Y,S.B+1),S.m===null&&(Y.H=S.o),z&&(S.i=z.D.concat(S.i)),z=il(S,Y,1e3),Y.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),Fl(S.h,Y),ss(Y,ne,z)}function Xo(S,z){S.H&&B(S.H,function(Y,ne){tt(z,ne,Y)}),S.l&&Bn({},function(Y,ne){tt(z,ne,Y)})}function il(S,z,Y){Y=Math.min(S.i.length,Y);var ne=S.l?w(S.l.Na,S.l,S):null;e:{var Ee=S.i;let Oe=-1;for(;;){const Ze=["count="+Y];Oe==-1?0<Y?(Oe=Ee[0].g,Ze.push("ofs="+Oe)):Oe=0:Ze.push("ofs="+Oe);let kn=!0;for(let br=0;br<Y;br++){let hn=Ee[br].g;const ar=Ee[br].map;if(hn-=Oe,0>hn)Oe=Math.max(0,Ee[br].g-100),kn=!1;else try{id(ar,Ze,"req"+hn+"_")}catch{ne&&ne(ar)}}if(kn){ne=Ze.join("&");break e}}}return S=S.i.splice(0,Y),z.D=S,ne}function zl(S){if(!S.g&&!S.u){S.Y=1;var z=S.Fa;ae||we(),re||(ae(),re=!0),pe.add(z,S),S.v=0}}function Zc(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=On(w(S.Fa,S),$l(S,S.v)),S.v++,!0)}t.Fa=function(){if(this.u=null,kr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=On(w(this.ab,this),S)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),No(this),kr(this))};function Hl(S){S.A!=null&&(a.clearTimeout(S.A),S.A=null)}function kr(S){S.g=new xs(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var z=Jt(S.qa);tt(z,"RID","rpc"),tt(z,"SID",S.K),tt(z,"AID",S.T),tt(z,"CI",S.F?"0":"1"),!S.F&&S.ja&&tt(z,"TO",S.ja),tt(z,"TYPE","xmlhttp"),Xo(S,z),S.m&&S.o&&ao(z,S.m,S.o),S.L&&(S.g.I=S.L);var Y=S.g;S=S.ia,Y.L=1,Y.v=ir(Jt(z)),Y.m=null,Y.P=!0,ci(Y,S)}t.Za=function(){this.C!=null&&(this.C=null,No(this),Zc(this),$t(19))};function sl(S){S.C!=null&&(a.clearTimeout(S.C),S.C=null)}function Gn(S,z){var Y=null;if(S.g==z){sl(S),Hl(S),S.g=null;var ne=2}else if(Oi(S.h,z))Y=z.D,Wc(S.h,z),ne=1;else return;if(S.G!=0){if(z.o)if(ne==1){Y=z.m?z.m.length:0,z=Date.now()-z.F;var Ee=S.B;ne=Zn(),Nr(ne,new _o(ne,Y)),Pt(S)}else zl(S);else if(Ee=z.s,Ee==3||Ee==0&&0<z.X||!(ne==1&&fi(S,z)||ne==2&&Zc(S)))switch(Y&&0<Y.length&&(z=S.h,z.i=z.i.concat(Y)),Ee){case 1:as(S,5);break;case 4:as(S,10);break;case 3:as(S,6);break;default:as(S,2)}}}function $l(S,z){let Y=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(Y*=2),Y*z}function as(S,z){if(S.j.info("Error code "+z),z==2){var Y=w(S.fb,S),ne=S.Xa;const Ee=!ne;ne=new As(ne||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rr(ne,"https"),ir(ne),Ee?_t(ne.toString(),Y):rd(ne.toString(),Y)}else $t(2);S.G=0,S.l&&S.l.sa(z),Tn(S),Ce(S)}t.fb=function(S){S?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Tn(S){if(S.G=0,S.ka=[],S.l){const z=Or(S.h);(z.length!=0||S.i.length!=0)&&(C(S.ka,z),C(S.ka,S.i),S.h.i.length=0,_(S.i),S.i.length=0),S.l.ra()}}function bt(S,z,Y){var ne=Y instanceof As?Jt(Y):new As(Y);if(ne.g!="")z&&(ne.g=z+"."+ne.g),Ae(ne,ne.s);else{var Ee=a.location;ne=Ee.protocol,z=z?z+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;var Oe=new As(null);ne&&Rr(Oe,ne),z&&(Oe.g=z),Ee&&Ae(Oe,Ee),Y&&(Oe.l=Y),ne=Oe}return Y=S.D,z=S.ya,Y&&z&&tt(ne,Y,z),tt(ne,"VER",S.la),Xo(S,ne),ne}function sd(S,z,Y){if(z&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=S.Ca&&!S.pa?new or(new Co({eb:Y})):new or(S.pa),z.Ha(S.J),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rn(){}t=Rn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lo(){}lo.prototype.g=function(S,z){return new Yr(S,z)};function Yr(S,z){ln.call(this),this.g=new rl(z),this.l=S,this.h=z&&z.messageUrlParams||null,S=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(S?S["X-WebChannel-Content-Type"]=z.messageContentType:S={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(S?S["X-WebChannel-Client-Profile"]=z.va:S={"X-WebChannel-Client-Profile":z.va}),this.g.S=S,(S=z&&z.Sb)&&!j(S)&&(this.g.m=S),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!j(z)&&(this.g.D=z,S=this.h,S!==null&&z in S&&(S=this.h,z in S&&delete S[z])),this.j=new co(this)}I(Yr,ln),Yr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yr.prototype.close=function(){ur(this.g)},Yr.prototype.o=function(S){var z=this.g;if(typeof S=="string"){var Y={};Y.__data__=S,S=Y}else this.u&&(Y={},Y.__data__=Xn(S),S=Y);z.i.push(new nd(z.Ya++,S)),z.G==3&&Pt(z)},Yr.prototype.N=function(){this.g.l=null,delete this.j,ur(this.g),delete this.g,Yr.aa.N.call(this)};function od(S){ai.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var z=S.__sm__;if(z){e:{for(const Y in z){S=Y;break e}S=void 0}(this.i=S)&&(S=this.i,z=z!==null&&S in z?z[S]:void 0),this.data=z}else this.data=S}I(od,ai);function qs(){Wo.call(this),this.status=1}I(qs,Wo);function co(S){this.g=S}I(co,Rn),co.prototype.ua=function(){Nr(this.g,"a")},co.prototype.ta=function(S){Nr(this.g,new od(S))},co.prototype.sa=function(S){Nr(this.g,new qs)},co.prototype.ra=function(){Nr(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Yr.prototype.send=Yr.prototype.o,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,F$=function(){return new lo},j$=function(){return Zn()},B$=At,DI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ja.NO_ERROR=0,Ja.TIMEOUT=8,Ja.HTTP_ERROR=6,Mv=Ja,Ni.COMPLETE="complete",L$=Ni,Aa.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",ln.prototype.listen=ln.prototype.K,Tm=Aa,or.prototype.listenOnce=or.prototype.L,or.prototype.getLastError=or.prototype.Ka,or.prototype.getLastErrorCode=or.prototype.Ba,or.prototype.getStatus=or.prototype.Z,or.prototype.getResponseJson=or.prototype.Oa,or.prototype.getResponseText=or.prototype.oa,or.prototype.send=or.prototype.ea,or.prototype.setWithCredentials=or.prototype.Ha,D$=or}).apply(typeof q1<"u"?q1:typeof self<"u"?self:typeof window<"u"?window:{});const KD="@firebase/firestore",YD="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ks.UNAUTHENTICATED=new ks(null),ks.GOOGLE_CREDENTIALS=new ks("google-credentials-uid"),ks.FIRST_PARTY=new ks("first-party-uid"),ks.MOCK_USER=new ks("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new NO("@firebase/firestore");function Ld(){return Ih.logLevel}function at(t,...e){if(Ih.logLevel<=pn.DEBUG){const n=e.map(UO);Ih.debug(`Firestore (${xg}): ${t}`,...n)}}function Cc(t,...e){if(Ih.logLevel<=pn.ERROR){const n=e.map(UO);Ih.error(`Firestore (${xg}): ${t}`,...n)}}function Tp(t,...e){if(Ih.logLevel<=pn.WARN){const n=e.map(UO);Ih.warn(`Firestore (${xg}): ${t}`,...n)}}function UO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,V$(t,r,n)}function V$(t,e,n){let r=`FIRESTORE (${xg}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cc(r),new Error(r)}function Hn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||V$(e,i,r)}function Wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Fc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ks.UNAUTHENTICATED)))}shutdown(){}}class Yce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Qce{constructor(e){this.t=e,this.currentUser=ks.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Hn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new yc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yc,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},a=c=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>a(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yc)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new U$(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hn(e===null||typeof e=="string",2055,{h:e}),new ks(e)}}class Xce{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ks.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Zce{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Xce(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ks.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jce{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ha(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Hn(this.o===void 0,3512);const r=s=>{s.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,at("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Hn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=eue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function gn(t,e){return t<e?-1:t>e?1:0}function LI(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return r2(i)===r2(s)?gn(i,s):r2(i)?1:-1}return gn(t.length,e.length)}const tue=55296,nue=57343;function r2(t){const e=t.charCodeAt(0);return e>=tue&&e<=nue}function Cp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="__name__";class pl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Rt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Rt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pl?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=pl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return gn(e.length,n.length)}static compareSegments(e,n){const r=pl.isNumericId(e),i=pl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?pl.extractNumericId(e).compare(pl.extractNumericId(n)):LI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vu.fromString(e.substring(4,e.length-2))}}class gr extends pl{construct(e,n,r){return new gr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ot(je.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new gr(n)}static emptyPath(){return new gr([])}}const rue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ms extends pl{construct(e,n,r){return new ms(e,n,r)}static isValidIdentifier(e){return rue.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ms.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XD}static keyField(){return new ms([XD])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ot(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ot(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ot(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ot(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ms(n)}static emptyPath(){return new ms([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.path=e}static fromPath(e){return new St(gr.fromString(e))}static fromName(e){return new St(gr.fromString(e).popFirst(5))}static empty(){return new St(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new gr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t,e,n){if(!n)throw new ot(je.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iue(t,e,n,r){if(e===!0&&r===!0)throw new ot(je.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZD(t){if(!St.isDocumentKey(t))throw new ot(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JD(t){if(St.isDocumentKey(t))throw new ot(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function H$(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Rt(12329,{type:typeof t})}function Ph(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zx(t);throw new ot(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){const n={typeString:t};return e&&(n.value=e),n}function vy(t,e){if(!H$(t))throw new ot(je.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ot(je.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=-62135596800,t8=1e6;class Pr{static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*t8);return new Pr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ot(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e8)throw new ot(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t8}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vy(e,Pr._jsonSchema))return new Pr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pr._jsonSchemaVersion="firestore/timestamp/1.0",Pr._jsonSchema={type:Ti("string",Pr._jsonSchemaVersion),seconds:Ti("number"),nanoseconds:Ti("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{static fromTimestamp(e){return new qt(e)}static min(){return new qt(new Pr(0,0))}static max(){return new qt(new Pr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-1;function sue(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qt.fromTimestamp(r===1e9?new Pr(n+1,0):new Pr(n,r));return new Yu(i,St.empty(),e)}function oue(t){return new Yu(t.readTime,t.key,l0)}class Yu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yu(qt.min(),St.empty(),l0)}static max(){return new Yu(qt.max(),St.empty(),l0)}}function aue(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=St.comparator(t.documentKey,e.documentKey),n!==0?n:gn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lue="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bg(t){if(t.code!==je.FAILED_PRECONDITION||t.message!==lue)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ve(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ve?n:Ve.resolve(n)}catch(n){return Ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ve.reject(n)}static resolve(e){return new Ve(((n,r)=>{n(e)}))}static reject(e){return new Ve(((n,r)=>{r(e)}))}static waitFor(e){return new Ve(((n,r)=>{let i=0,s=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&n()}),(c=>r(c)))})),o=!0,s===i&&n()}))}static or(e){let n=Ve.resolve(!1);for(const r of e)n=n.next((i=>i?Ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ve(((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next((g=>{o[u]=g,++a,a===s&&r(o)}),(g=>i(g)))}}))}static doWhile(e,n){return new Ve(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function uue(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ag(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=-1;function eb(t){return t==null}function uw(t){return t===0&&1/t==-1/0}function fue(t){return typeof t=="number"&&Number.isInteger(t)&&!uw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="";function hue(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=n8(e)),e=due(t.get(n),e);return n8(e)}function due(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case $$:n+="";break;default:n+=s}}return n}function n8(t){return t+$$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function G$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.comparator=e,this.root=n||ps.EMPTY}insert(e,n){return new Gr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ps.BLACK,null,null))}remove(e){return new Gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ps.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new W1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new W1(this.root,e,this.comparator,!1)}getReverseIterator(){return new W1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new W1(this.root,e,this.comparator,!0)}}class W1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ps{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ps.RED,this.left=i??ps.EMPTY,this.right=s??ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ps(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Rt(27949);return e+(this.isRed()?0:1)}}ps.EMPTY=null,ps.RED=!0,ps.BLACK=!1;ps.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ps(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.comparator=e,this.data=new Gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i8(this.data.getIterator())}getIteratorFrom(e){return new i8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ui)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ui(this.comparator);return n.data=e,n}}class i8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.fields=e,e.sort(ms.comparator)}static empty(){return new Ha([])}unionWith(e){let n=new Ui(ms.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ha(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new q$("Invalid base64 string: "+s):s}})(e);return new vs(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new vs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vs.EMPTY_BYTE_STRING=new vs("");const pue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qu(t){if(Hn(!!t,39018),typeof t=="string"){let e=0;const n=pue.exec(t);if(Hn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gi(t.seconds),nanos:gi(t.nanos)}}function gi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xu(t){return typeof t=="string"?vs.fromBase64String(t):vs.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="server_timestamp",K$="__type__",Y$="__previous_value__",Q$="__local_write_time__";function $O(t){return(t?.mapValue?.fields||{})[K$]?.stringValue===W$}function tb(t){const e=t.mapValue.fields[Y$];return $O(e)?tb(e):e}function c0(t){const e=Qu(t.mapValue.fields[Q$].timestampValue);return new Pr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{constructor(e,n,r,i,s,o,a,c,u,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=g}}const fw="(default)";class u0{constructor(e,n){this.projectId=e,this.database=n||fw}static empty(){return new u0("","")}get isDefaultDatabase(){return this.database===fw}isEqual(e){return e instanceof u0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$="__type__",mue="__max__",K1={mapValue:{}},Z$="__vector__",hw="value";function Zu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$O(t)?4:vue(t)?9007199254740991:yue(t)?10:11:Rt(28295,{value:t})}function kl(t,e){if(t===e)return!0;const n=Zu(t);if(n!==Zu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return c0(t).isEqual(c0(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qu(i.timestampValue),a=Qu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Xu(i.bytesValue).isEqual(Xu(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return gi(i.geoPointValue.latitude)===gi(s.geoPointValue.latitude)&&gi(i.geoPointValue.longitude)===gi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return gi(i.integerValue)===gi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=gi(i.doubleValue),a=gi(s.doubleValue);return o===a?uw(o)===uw(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Cp(t.arrayValue.values||[],e.arrayValue.values||[],kl);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(r8(o)!==r8(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!kl(o[c],a[c])))return!1;return!0})(t,e);default:return Rt(52216,{left:t})}}function f0(t,e){return(t.values||[]).find((n=>kl(n,e)))!==void 0}function Ip(t,e){if(t===e)return 0;const n=Zu(t),r=Zu(e);if(n!==r)return gn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gn(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const a=gi(s.integerValue||s.doubleValue),c=gi(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return s8(t.timestampValue,e.timestampValue);case 4:return s8(c0(t),c0(e));case 5:return LI(t.stringValue,e.stringValue);case 6:return(function(s,o){const a=Xu(s),c=Xu(o);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const g=gn(a[u],c[u]);if(g!==0)return g}return gn(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const a=gn(gi(s.latitude),gi(o.latitude));return a!==0?a:gn(gi(s.longitude),gi(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return o8(t.arrayValue,e.arrayValue);case 10:return(function(s,o){const a=s.fields||{},c=o.fields||{},u=a[hw]?.arrayValue,g=c[hw]?.arrayValue,m=gn(u?.values?.length||0,g?.values?.length||0);return m!==0?m:o8(u,g)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===K1.mapValue&&o===K1.mapValue)return 0;if(s===K1.mapValue)return 1;if(o===K1.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},g=Object.keys(u);c.sort(),g.sort();for(let m=0;m<c.length&&m<g.length;++m){const w=LI(c[m],g[m]);if(w!==0)return w;const A=Ip(a[c[m]],u[g[m]]);if(A!==0)return A}return gn(c.length,g.length)})(t.mapValue,e.mapValue);default:throw Rt(23264,{he:n})}}function s8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return gn(t,e);const n=Qu(t),r=Qu(e),i=gn(n.seconds,r.seconds);return i!==0?i:gn(n.nanos,r.nanos)}function o8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ip(n[i],r[i]);if(s)return s}return gn(n.length,r.length)}function Pp(t){return BI(t)}function BI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Qu(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xu(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return St.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=BI(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${BI(n.fields[o])}`;return i+"}"})(t.mapValue):Rt(61005,{value:t})}function Dv(t){switch(Zu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tb(t);return e?16+Dv(e):16;case 5:return 2*t.stringValue.length;case 6:return Xu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Dv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Hh(r.fields,((s,o)=>{i+=s.length+Dv(o)})),i})(t.mapValue);default:throw Rt(13486,{value:t})}}function a8(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jI(t){return!!t&&"integerValue"in t}function GO(t){return!!t&&"arrayValue"in t}function l8(t){return!!t&&"nullValue"in t}function c8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lv(t){return!!t&&"mapValue"in t}function yue(t){return(t?.mapValue?.fields||{})[X$]?.stringValue===Z$}function Vm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hh(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Vm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vm(t.arrayValue.values[n]);return e}return{...t}}function vue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.value=e}static empty(){return new da({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vm(n)}setAll(e){let n=ms.emptyPath(),r={},i=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vm(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hh(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new da(Vm(this.value))}}function J$(t){const e=[];return Hh(t.fields,((n,r)=>{const i=new ms([n]);if(Lv(r)){const s=J$(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new Ha(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ms(e,0,qt.min(),qt.min(),qt.min(),da.empty(),0)}static newFoundDocument(e,n,r,i){return new Ms(e,1,n,qt.min(),r,i,0)}static newNoDocument(e,n){return new Ms(e,2,n,qt.min(),qt.min(),da.empty(),0)}static newUnknownDocument(e,n){return new Ms(e,3,n,qt.min(),qt.min(),da.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=da.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ms&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ms(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.position=e,this.inclusive=n}}function u8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=St.comparator(St.fromName(o.referenceValue),n.key):r=Ip(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n="asc"){this.field=e,this.dir=n}}function wue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{}class Si extends eG{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bue(e,n,r):n==="array-contains"?new Sue(e,r):n==="in"?new _ue(e,r):n==="not-in"?new Tue(e,r):n==="array-contains-any"?new Cue(e,r):new Si(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Aue(e,r):new Eue(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ip(n,this.value)):n!==null&&Zu(this.value)===Zu(n)&&this.matchesComparison(Ip(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ka extends eG{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ka(e,n)}matches(e){return tG(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tG(t){return t.op==="and"}function nG(t){return xue(t)&&tG(t)}function xue(t){for(const e of t.filters)if(e instanceof Ka)return!1;return!0}function FI(t){if(t instanceof Si)return t.field.canonicalString()+t.op.toString()+Pp(t.value);if(nG(t))return t.filters.map((e=>FI(e))).join(",");{const e=t.filters.map((n=>FI(n))).join(",");return`${t.op}(${e})`}}function rG(t,e){return t instanceof Si?(function(r,i){return i instanceof Si&&r.op===i.op&&r.field.isEqual(i.field)&&kl(r.value,i.value)})(t,e):t instanceof Ka?(function(r,i){return i instanceof Ka&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,a)=>s&&rG(o,i.filters[a])),!0):!1})(t,e):void Rt(19439)}function iG(t){return t instanceof Si?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pp(n.value)}`})(t):t instanceof Ka?(function(n){return n.op.toString()+" {"+n.getFilters().map(iG).join(" ,")+"}"})(t):"Filter"}class bue extends Si{constructor(e,n,r){super(e,n,r),this.key=St.fromName(r.referenceValue)}matches(e){const n=St.comparator(e.key,this.key);return this.matchesComparison(n)}}class Aue extends Si{constructor(e,n){super(e,"in",n),this.keys=sG("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Eue extends Si{constructor(e,n){super(e,"not-in",n),this.keys=sG("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function sG(t,e){return(e.arrayValue?.values||[]).map((n=>St.fromName(n.referenceValue)))}class Sue extends Si{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return GO(n)&&f0(n.arrayValue,this.value)}}class _ue extends Si{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&f0(this.value.arrayValue,n)}}class Tue extends Si{constructor(e,n){super(e,"not-in",n)}matches(e){if(f0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!f0(this.value.arrayValue,n)}}class Cue extends Si{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!GO(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>f0(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function h8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Iue(t,e,n,r,i,s,o)}function qO(t){const e=Wt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>FI(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),eb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Pp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Pp(r))).join(",")),e.Te=n}return e.Te}function WO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f8(t.startAt,e.startAt)&&f8(t.endAt,e.endAt)}function VI(t){return St.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Pue(t,e,n,r,i,s,o,a){return new wy(t,e,n,r,i,s,o,a)}function KO(t){return new wy(t)}function d8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oG(t){return t.collectionGroup!==null}function Um(t){const e=Wt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ui(ms.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new pw(s,r))})),n.has(ms.keyField().canonicalString())||e.Ie.push(new pw(ms.keyField(),r))}return e.Ie}function El(t){const e=Wt(t);return e.Ee||(e.Ee=Nue(e,Um(t))),e.Ee}function Nue(t,e){if(t.limitType==="F")return h8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new pw(i.field,s)}));const n=t.endAt?new dw(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dw(t.startAt.position,t.startAt.inclusive):null;return h8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function UI(t,e){const n=t.filters.concat([e]);return new wy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zI(t,e,n){return new wy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nb(t,e){return WO(El(t),El(e))&&t.limitType===e.limitType}function aG(t){return`${qO(El(t))}|lt:${t.limitType}`}function Bd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>iG(i))).join(", ")}]`),eb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Pp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Pp(i))).join(",")),`Target(${r})`})(El(t))}; limitType=${t.limitType})`}function rb(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):St.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Um(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){const u=u8(o,a,c);return o.inclusive?u<=0:u<0})(r.startAt,Um(r),i)||r.endAt&&!(function(o,a,c){const u=u8(o,a,c);return o.inclusive?u>=0:u>0})(r.endAt,Um(r),i))})(t,e)}function Oue(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lG(t){return(e,n)=>{let r=!1;for(const i of Um(t)){const s=Rue(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Rue(t,e,n){const r=t.field.isKeyField()?St.comparator(e.key,n.key):(function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ip(c,u):Rt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hh(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return G$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kue=new Gr(St.comparator);function Ic(){return kue}const cG=new Gr(St.comparator);function Cm(...t){let e=cG;for(const n of t)e=e.insert(n.key,n);return e}function uG(t){let e=cG;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function eh(){return zm()}function fG(){return zm()}function zm(){return new $h((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Mue=new Gr(St.comparator),Due=new Ui(St.comparator);function mn(...t){let e=Due;for(const n of t)e=e.add(n);return e}const Lue=new Ui(gn);function Bue(){return Lue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uw(e)?"-0":e}}function hG(t){return{integerValue:""+t}}function jue(t,e){return fue(e)?hG(e):YO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this._=void 0}}function Fue(t,e,n){return t instanceof gw?(function(i,s){const o={fields:{[K$]:{stringValue:W$},[Q$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$O(s)&&(s=tb(s)),s&&(o.fields[Y$]=s),{mapValue:o}})(n,e):t instanceof h0?pG(t,e):t instanceof d0?gG(t,e):(function(i,s){const o=dG(i,s),a=p8(o)+p8(i.Ae);return jI(o)&&jI(i.Ae)?hG(a):YO(i.serializer,a)})(t,e)}function Vue(t,e,n){return t instanceof h0?pG(t,e):t instanceof d0?gG(t,e):n}function dG(t,e){return t instanceof mw?(function(r){return jI(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class gw extends ib{}class h0 extends ib{constructor(e){super(),this.elements=e}}function pG(t,e){const n=mG(e);for(const r of t.elements)n.some((i=>kl(i,r)))||n.push(r);return{arrayValue:{values:n}}}class d0 extends ib{constructor(e){super(),this.elements=e}}function gG(t,e){let n=mG(e);for(const r of t.elements)n=n.filter((i=>!kl(i,r)));return{arrayValue:{values:n}}}class mw extends ib{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function p8(t){return gi(t.integerValue||t.doubleValue)}function mG(t){return GO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Uue(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof h0&&i instanceof h0||r instanceof d0&&i instanceof d0?Cp(r.elements,i.elements,kl):r instanceof mw&&i instanceof mw?kl(r.Ae,i.Ae):r instanceof gw&&i instanceof gw})(t.transform,e.transform)}class zue{constructor(e,n){this.version=e,this.transformResults=n}}class vc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vc}static exists(e){return new vc(void 0,e)}static updateTime(e){return new vc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sb{}function yG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wG(t.key,vc.none()):new xy(t.key,t.data,vc.none());{const n=t.data,r=da.empty();let i=new Ui(ms.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gh(t.key,r,new Ha(i.toArray()),vc.none())}}function Hue(t,e,n){t instanceof xy?(function(i,s,o){const a=i.value.clone(),c=m8(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Gh?(function(i,s,o){if(!Bv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=m8(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(vG(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Hm(t,e,n,r){return t instanceof xy?(function(s,o,a,c){if(!Bv(s.precondition,o))return a;const u=s.value.clone(),g=y8(s.fieldTransforms,c,o);return u.setAll(g),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Gh?(function(s,o,a,c){if(!Bv(s.precondition,o))return a;const u=y8(s.fieldTransforms,c,o),g=o.data;return g.setAll(vG(s)),g.setAll(u),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,o,a){return Bv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function $ue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dG(r.transform,i||null);s!=null&&(n===null&&(n=da.empty()),n.set(r.field,s))}return n||null}function g8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cp(r,i,((s,o)=>Uue(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xy extends sb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gh extends sb{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vG(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function m8(t,e,n){const r=new Map;Hn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vue(o,a,n[i]))}return r}function y8(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Fue(s,o,e))}return r}class wG extends sb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gue extends sb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Hue(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fG();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=yG(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(qt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),mn())}isEqual(e){return this.batchId===e.batchId&&Cp(this.mutations,e.mutations,((n,r)=>g8(n,r)))&&Cp(this.baseMutations,e.baseMutations,((n,r)=>g8(n,r)))}}class QO{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Hn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Mue})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new QO(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wue=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bi,En;function Yue(t){switch(t){case je.OK:return Rt(64938);case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return Rt(15467,{code:t})}}function xG(t){if(t===void 0)return Cc("GRPC error has no .code"),je.UNKNOWN;switch(t){case bi.OK:return je.OK;case bi.CANCELLED:return je.CANCELLED;case bi.UNKNOWN:return je.UNKNOWN;case bi.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case bi.INTERNAL:return je.INTERNAL;case bi.UNAVAILABLE:return je.UNAVAILABLE;case bi.UNAUTHENTICATED:return je.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case bi.NOT_FOUND:return je.NOT_FOUND;case bi.ALREADY_EXISTS:return je.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return je.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case bi.ABORTED:return je.ABORTED;case bi.OUT_OF_RANGE:return je.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return je.UNIMPLEMENTED;case bi.DATA_LOSS:return je.DATA_LOSS;default:return Rt(39323,{code:t})}}(En=bi||(bi={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Que(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue=new Vu([4294967295,4294967295],0);function v8(t){const e=Que().encode(t),n=new M$;return n.update(e),new Uint8Array(n.digest())}function w8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vu([n,r],0),new Vu([i,s],0)]}class XO{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Im(`Invalid padding: ${n}`);if(r<0)throw new Im(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Im(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Im(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Vu.fromNumber(r)));return i.compare(Xue)===1&&(i=new Vu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=v8(e),[r,i]=w8(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new XO(s,i,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=v8(e),[r,i]=w8(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Im extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,by.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ob(qt.min(),i,new Gr(gn),Ic(),mn())}}class by{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new by(r,n,mn(),mn(),mn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class bG{constructor(e,n){this.targetId=e,this.Ce=n}}class AG{constructor(e,n,r=vs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class x8{constructor(){this.ve=0,this.Fe=b8(),this.Me=vs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mn(),n=mn(),r=mn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Rt(38017,{changeType:s})}})),new by(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=b8()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Zue{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ic(),this.Je=Y1(),this.He=Y1(),this.Ye=new Gr(gn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Rt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(VI(s))if(r===0){const o=new St(s.path);this.et(n,o,Ms.newNoDocument(o,qt.min()))}else Hn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Xu(r).toUint8Array()}catch(c){if(c instanceof q$)return Tp("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new XO(o,i,s)}catch(c){return Tp(c instanceof Im?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const a=this.ot(o);if(a){if(s.current&&VI(a.target)){const c=new St(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Ms.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=mn();this.He.forEach(((s,o)=>{let a=!0;o.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new ob(e,n,this.Ye,this.je,r);return this.je=Ic(),this.Je=Y1(),this.He=Y1(),this.Ye=new Gr(gn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new x8,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ui(gn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ui(gn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||at("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x8),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Y1(){return new Gr(St.comparator)}function b8(){return new Gr(St.comparator)}const Jue={asc:"ASCENDING",desc:"DESCENDING"},efe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tfe={and:"AND",or:"OR"};class nfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function HI(t,e){return t.useProto3Json||eb(e)?e:{value:e}}function yw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rfe(t,e){return yw(t,e.toTimestamp())}function Sl(t){return Hn(!!t,49232),qt.fromTimestamp((function(n){const r=Qu(n);return new Pr(r.seconds,r.nanos)})(t))}function ZO(t,e){return $I(t,e).canonicalString()}function $I(t,e){const n=(function(i){return new gr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function SG(t){const e=gr.fromString(t);return Hn(PG(e),10190,{key:e.toString()}),e}function GI(t,e){return ZO(t.databaseId,e.path)}function i2(t,e){const n=SG(e);if(n.get(1)!==t.databaseId.projectId)throw new ot(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ot(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new St(TG(n))}function _G(t,e){return ZO(t.databaseId,e)}function ife(t){const e=SG(t);return e.length===4?gr.emptyPath():TG(e)}function qI(t){return new gr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TG(t){return Hn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A8(t,e,n){return{name:GI(t,e),fields:n.value.mapValue.fields}}function sfe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Rt(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,g){return u.useProto3Json?(Hn(g===void 0||typeof g=="string",58123),vs.fromBase64String(g||"")):(Hn(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),vs.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const g=u.code===void 0?je.UNKNOWN:xG(u.code);return new ot(g,u.message||"")})(o);n=new AG(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=i2(t,r.document.name),s=Sl(r.document.updateTime),o=r.document.createTime?Sl(r.document.createTime):qt.min(),a=new da({mapValue:{fields:r.document.fields}}),c=Ms.newFoundDocument(i,s,o,a),u=r.targetIds||[],g=r.removedTargetIds||[];n=new jv(u,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=i2(t,r.document),s=r.readTime?Sl(r.readTime):qt.min(),o=Ms.newNoDocument(i,s),a=r.removedTargetIds||[];n=new jv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=i2(t,r.document),s=r.removedTargetIds||[];n=new jv([],s,i,null)}else{if(!("filter"in e))return Rt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Kue(i,s),a=r.targetId;n=new bG(a,o)}}return n}function ofe(t,e){let n;if(e instanceof xy)n={update:A8(t,e.key,e.value)};else if(e instanceof wG)n={delete:GI(t,e.key)};else if(e instanceof Gh)n={update:A8(t,e.key,e.data),updateMask:gfe(e.fieldMask)};else{if(!(e instanceof Gue))return Rt(16599,{Vt:e.type});n={verify:GI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const a=o.transform;if(a instanceof gw)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof h0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof d0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mw)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Rt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:rfe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Rt(27497)})(t,e.precondition)),n}function afe(t,e){return t&&t.length>0?(Hn(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Sl(i.updateTime):Sl(s);return o.isEqual(qt.min())&&(o=Sl(s)),new zue(o,i.transformResults||[])})(n,e)))):[]}function lfe(t,e){return{documents:[_G(t,e.path)]}}function cfe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_G(t,i);const s=(function(u){if(u.length!==0)return IG(Ka.create(u,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(u){if(u.length!==0)return u.map((g=>(function(w){return{field:jd(w.field),direction:hfe(w.dir)}})(g)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=HI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:i}}function ufe(t){let e=ife(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Hn(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=(function(m){const w=CG(m);return w instanceof Ka&&nG(w)?w.getFilters():[w]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((w=>(function(I){return new pw(Fd(I.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(w)))})(n.orderBy));let a=null;n.limit&&(a=(function(m){let w;return w=typeof m=="object"?m.value:m,eb(w)?null:w})(n.limit));let c=null;n.startAt&&(c=(function(m){const w=!!m.before,A=m.values||[];return new dw(A,w)})(n.startAt));let u=null;return n.endAt&&(u=(function(m){const w=!m.before,A=m.values||[];return new dw(A,w)})(n.endAt)),Pue(e,i,o,s,a,"F",c,u)}function ffe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CG(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fd(n.unaryFilter.field);return Si.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fd(n.unaryFilter.field);return Si.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fd(n.unaryFilter.field);return Si.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fd(n.unaryFilter.field);return Si.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Si.create(Fd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ka.create(n.compositeFilter.filters.map((r=>CG(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(n.compositeFilter.op))})(t):Rt(30097,{filter:t})}function hfe(t){return Jue[t]}function dfe(t){return efe[t]}function pfe(t){return tfe[t]}function jd(t){return{fieldPath:t.canonicalString()}}function Fd(t){return ms.fromServerFormat(t.fieldPath)}function IG(t){return t instanceof Si?(function(n){if(n.op==="=="){if(c8(n.value))return{unaryFilter:{field:jd(n.field),op:"IS_NAN"}};if(l8(n.value))return{unaryFilter:{field:jd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c8(n.value))return{unaryFilter:{field:jd(n.field),op:"IS_NOT_NAN"}};if(l8(n.value))return{unaryFilter:{field:jd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jd(n.field),op:dfe(n.op),value:n.value}}})(t):t instanceof Ka?(function(n){const r=n.getFilters().map((i=>IG(i)));return r.length===1?r[0]:{compositeFilter:{op:pfe(n.op),filters:r}}})(t):Rt(54877,{filter:t})}function gfe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function PG(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r,i,s=qt.min(),o=qt.min(),a=vs.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(e){this.yt=e}}function yfe(t){const e=ufe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zI(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(){this.Cn=new wfe}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ve.resolve()}getCollectionParents(e,n){return Ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ve.resolve()}deleteFieldIndex(e,n){return Ve.resolve()}deleteAllFieldIndexes(e){return Ve.resolve()}createTargetIndexes(e,n){return Ve.resolve()}getDocumentsMatchingTarget(e,n){return Ve.resolve(null)}getIndexType(e,n){return Ve.resolve(0)}getFieldIndexes(e,n){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,n){return Ve.resolve(Yu.min())}getMinOffsetFromCollectionGroup(e,n){return Ve.resolve(Yu.min())}updateCollectionGroup(e,n,r){return Ve.resolve()}updateIndexEntries(e,n){return Ve.resolve()}}class wfe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ui(gr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ui(gr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NG=41943040;class vo{static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(NG,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Np(0)}static cr(){return new Np(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="LruGarbageCollector",xfe=1048576;function _8([t,e],[n,r]){const i=gn(t,n);return i===0?gn(e,r):i}class bfe{constructor(e){this.Ir=e,this.buffer=new Ui(_8),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Afe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(S8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ag(n)?at(S8,"Ignoring IndexedDB error during garbage collection: ",n):await bg(n)}await this.Vr(3e5)}))}}class Efe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ve.resolve(Jx.ce);const r=new bfe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(E8)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E8):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,u;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,a=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(u=Date.now(),Ld()<=pn.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-g}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-g}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function Sfe(t,e){return new Efe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _fe{constructor(){this.changes=new $h((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ms.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Hm(r.mutation,i,Ha.empty(),Pr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,mn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=mn()){const i=eh();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=Cm();return s.forEach(((a,c)=>{o=o.insert(a,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=eh();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,mn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,i){let s=Ic();const o=zm(),a=(function(){return zm()})();return n.forEach(((c,u)=>{const g=r.get(u.key);i.has(u.key)&&(g===void 0||g.mutation instanceof Gh)?s=s.insert(u.key,u):g!==void 0?(o.set(u.key,g.mutation.getFieldMask()),Hm(g.mutation,u,g.mutation.getFieldMask(),Pr.now())):o.set(u.key,Ha.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((u,g)=>o.set(u,g))),n.forEach(((u,g)=>a.set(u,new Tfe(g,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=zm();let i=new Gr(((o,a)=>o-a)),s=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((c=>{const u=n.get(c);if(u===null)return;let g=r.get(c)||Ha.empty();g=a.applyToLocalView(u,g),r.set(c,g);const m=(i.get(a.batchId)||mn()).add(c);i=i.insert(a.batchId,m)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,g=c.value,m=fG();g.forEach((w=>{if(!s.has(w)){const A=yG(n.get(w),r.get(w));A!==null&&m.set(w,A),s=s.add(w)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Ve.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return St.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ve.resolve(eh());let a=l0,c=s;return o.next((u=>Ve.forEach(u,((g,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(g)?Ve.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{c=c.insert(g,w)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,c,u,mn()))).next((g=>({batchId:a,changes:uG(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new St(n)).next((r=>{let i=Cm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Cm();return this.indexManager.getCollectionParents(e,s).next((a=>Ve.forEach(a,(c=>{const u=(function(m,w){return new wy(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next((g=>{g.forEach(((m,w)=>{o=o.insert(m,w)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((c,u)=>{const g=u.getKey();o.get(g)===null&&(o=o.insert(g,Ms.newInvalidDocument(g)))}));let a=Cm();return o.forEach(((c,u)=>{const g=s.get(c);g!==void 0&&Hm(g.mutation,u,Ha.empty(),Pr.now()),rb(n,u)&&(a=a.insert(c,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ife{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Sl(i.createTime)}})(n)),Ve.resolve()}getNamedQuery(e,n){return Ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:yfe(i.bundledQuery),readTime:Sl(i.readTime)}})(n)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pfe{constructor(){this.overlays=new Gr(St.comparator),this.qr=new Map}getOverlay(e,n){return Ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=eh();return Ve.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ve.resolve()}getOverlaysForCollection(e,n,r){const i=eh(),s=n.length+1,o=new St(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Gr(((u,g)=>u-g));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let g=s.get(u.largestBatchId);g===null&&(g=eh(),s=s.insert(u.largestBatchId,g)),g.set(u.getKey(),u)}}const a=eh(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,g)=>a.set(u,g))),!(a.size()>=i)););return Ve.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Wue(n,r));let s=this.qr.get(n);s===void 0&&(s=mn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nfe{constructor(){this.sessionToken=vs.EMPTY_BYTE_STRING}getSessionToken(e){return Ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Qr=new Ui(Qi.$r),this.Ur=new Ui(Qi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Qi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Qi(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new St(new gr([])),r=new Qi(n,e),i=new Qi(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new St(new gr([])),r=new Qi(n,e),i=new Qi(n,e+1);let s=mn();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new Qi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return St.comparator(e.key,n.key)||gn(e.Yr,n.Yr)}static Kr(e,n){return gn(e.Yr,n.Yr)||St.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ofe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ui(Qi.$r)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new que(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Qi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ve.resolve(o)}lookupMutationBatch(e,n){return Ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?HO:this.tr-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qi(n,0),i=new Qi(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const a=this.Xr(o.Yr);s.push(a)})),Ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ui(gn);return n.forEach((i=>{const s=new Qi(i,0),o=new Qi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(a=>{r=r.add(a.Yr)}))})),Ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;St.isDocumentKey(s)||(s=s.child(""));const o=new Qi(new St(s),0);let a=new Ui(gn);return this.Zr.forEachWhile((c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)}),o),Ve.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Hn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ve.forEach(n.mutations,(i=>{const s=new Qi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Qi(n,0),i=this.Zr.firstAfterOrEqual(r);return Ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rfe{constructor(e){this.ri=e,this.docs=(function(){return new Gr(St.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ve.resolve(r?r.document.mutableCopy():Ms.newInvalidDocument(n))}getEntries(e,n){let r=Ic();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ms.newInvalidDocument(i))})),Ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ic();const o=n.path,a=new St(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:g}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aue(oue(g),r)<=0||(i.has(g.key)||rb(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return Ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Rt(9500)}ii(e,n){return Ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new kfe(this)}getSize(e){return Ve.resolve(this.size)}}class kfe extends _fe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mfe{constructor(e){this.persistence=e,this.si=new $h((n=>qO(n)),WO),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.oi=0,this._i=new JO,this.targetCount=0,this.ai=Np.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Np(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ve.resolve()}updateTargetData(e,n){return this.Pr(n),Ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),Ve.waitFor(s).next((()=>i))}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ve.resolve(r)}containsKey(e,n){return Ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jx(0),this.li=!1,this.li=!0,this.hi=new Nfe,this.referenceDelegate=e(this),this.Pi=new Mfe(this),this.indexManager=new vfe,this.remoteDocumentCache=(function(i){return new Rfe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mfe(n),this.Ii=new Ife(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pfe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Ofe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){at("MemoryPersistence","Starting transaction:",e);const i=new Dfe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Dfe extends cue{constructor(e){super(),this.currentSequenceNumber=e}}class eR{constructor(e){this.persistence=e,this.Ri=new JO,this.Vi=null}static mi(e){return new eR(e)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.fi,(r=>{const i=St.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,qt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ve.or([()=>Ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vw{constructor(e,n){this.persistence=e,this.pi=new $h((r=>hue(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Sfe(this,n)}static mi(e,n){return new vw(e,n)}Ei(){}di(e){return Ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,s.removeEntry(o,qt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dv(e.data.value)),n}br(e,n,r){return Ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=mn(),i=mn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tR(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return goe()?8:uue(Vs())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new Lfe;return this.Ss(e,n,o).next((a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ld()<=pn.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Bd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ve.resolve()):(Ld()<=pn.DEBUG&&at("QueryEngine","Query:",Bd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ld()<=pn.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Bd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,El(n))):Ve.resolve())}ys(e,n){if(d8(n))return Ve.resolve(null);let r=El(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=zI(n,null,"F"),r=El(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=mn(...s);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,zI(n,null,"F")):this.vs(e,u,n,c)}))))})))))}ws(e,n,r,i){return d8(n)||i.isEqual(qt.min())?Ve.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Ve.resolve(null):(Ld()<=pn.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bd(n)),this.vs(e,o,n,sue(i,l0)).next((a=>a)))}))}Ds(e,n){let r=new Ui(lG(e));return n.forEach(((i,s)=>{rb(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ld()<=pn.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Bd(n)),this.ps.getDocumentsMatchingQuery(e,n,Yu.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="LocalStore",jfe=3e8;class Ffe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Gr(gn),this.xs=new $h((s=>qO(s)),WO),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cfe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Vfe(t,e,n,r){return new Ffe(t,e,n,r)}async function RG(t,e){const n=Wt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],a=[];let c=mn();for(const u of i){o.push(u.batchId);for(const g of u.mutations)c=c.add(g.key)}for(const u of s){a.push(u.batchId);for(const g of u.mutations)c=c.add(g.key)}return n.localDocuments.getDocuments(r,c).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function Ufe(t,e){const n=Wt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,g){const m=u.batch,w=m.keys();let A=Ve.resolve();return w.forEach((I=>{A=A.next((()=>g.getEntry(c,I))).next((_=>{const C=u.docVersions.get(I);Hn(C!==null,48541),_.version.compareTo(C)<0&&(m.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),g.addEntry(_)))}))})),A.next((()=>a.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=mn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function kG(t){const e=Wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zfe(t,e){const n=Wt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach(((g,m)=>{const w=i.get(m);if(!w)return;a.push(n.Pi.removeMatchingKeys(s,g.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,g.addedDocuments,m))));let A=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?A=A.withResumeToken(vs.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(m,A),(function(_,C,R){return _.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=jfe?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(w,A,g)&&a.push(n.Pi.updateTargetData(s,A))}));let c=Ic(),u=mn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))})),a.push(Hfe(s,o,e.documentUpdates).next((g=>{c=g.ks,u=g.qs}))),!r.isEqual(qt.min())){const g=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));a.push(g)}return Ve.waitFor(a).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,u))).next((()=>c))})).then((s=>(n.Ms=i,s)))}function Hfe(t,e,n){let r=mn(),i=mn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=Ic();return n.forEach(((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(qt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):at(nR,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function $fe(t,e){const n=Wt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=HO),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Gfe(t,e){const n=Wt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ve.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Mu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function WI(t,e,n){const r=Wt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ag(o))throw o;at(nR,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function T8(t,e,n){const r=Wt(t);let i=qt.min(),s=mn();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,u,g){const m=Wt(c),w=m.xs.get(g);return w!==void 0?Ve.resolve(m.Ms.get(w)):m.Pi.getTargetData(u,g)})(r,o,El(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((c=>{s=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:qt.min(),n?s:mn()))).next((a=>(qfe(r,Oue(e),a),{documents:a,Qs:s})))))}function qfe(t,e,n){let r=t.Os.get(e)||qt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class C8{constructor(){this.activeTargetIds=Bue()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wfe{constructor(){this.Mo=new C8,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kfe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8="ConnectivityMonitor";class P8{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(I8,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(I8,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q1=null;function KI(){return Q1===null?Q1=(function(){return 268435456+Math.round(2147483648*Math.random())})():Q1++,"0x"+Q1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="RestConnection",Yfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qfe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===fw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=KI(),a=this.zo(e,n.toUriEncodedString());at(s2,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),g=yg(u);return this.Jo(e,a,c,r,g).then((m=>(at(s2,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw Tp(s2,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xg})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Yfe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xfe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="WebChannelConnection";class Zfe extends Qfe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=KI();return new Promise(((a,c)=>{const u=new D$;u.setWithCredentials(!0),u.listenOnce(L$.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Mv.NO_ERROR:const m=u.getResponseJson();at(Os,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Mv.TIMEOUT:at(Os,`RPC '${e}' ${o} timed out`),c(new ot(je.DEADLINE_EXCEEDED,"Request time out"));break;case Mv.HTTP_ERROR:const w=u.getStatus();if(at(Os,`RPC '${e}' ${o} failed with status:`,w,"response text:",u.getResponseText()),w>0){let A=u.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A?.error;if(I&&I.status&&I.message){const _=(function(R){const j=R.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(j)>=0?j:je.UNKNOWN})(I.status);c(new ot(_,I.message))}else c(new ot(je.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ot(je.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{at(Os,`RPC '${e}' ${o} completed.`)}}));const g=JSON.stringify(i);at(Os,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=KI(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=F$(),a=j$(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const g=s.join("");at(Os,`Creating RPC '${e}' stream ${i}: ${g}`,c);const m=o.createWebChannel(g,c);this.I_(m);let w=!1,A=!1;const I=new Xfe({Yo:C=>{A?at(Os,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(w||(at(Os,`Opening RPC '${e}' stream ${i} transport.`),m.open(),w=!0),at(Os,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Zo:()=>m.close()}),_=(C,R,j)=>{C.listen(R,(k=>{try{j(k)}catch(U){setTimeout((()=>{throw U}),0)}}))};return _(m,Tm.EventType.OPEN,(()=>{A||(at(Os,`RPC '${e}' stream ${i} transport opened.`),I.o_())})),_(m,Tm.EventType.CLOSE,(()=>{A||(A=!0,at(Os,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(m))})),_(m,Tm.EventType.ERROR,(C=>{A||(A=!0,Tp(Os,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),I.a_(new ot(je.UNAVAILABLE,"The operation could not be completed")))})),_(m,Tm.EventType.MESSAGE,(C=>{if(!A){const R=C.data[0];Hn(!!R,16349);const j=R,k=j?.error||j[0]?.error;if(k){at(Os,`RPC '${e}' stream ${i} received error:`,k);const U=k.status;let D=(function(M){const V=bi[M];if(V!==void 0)return xG(V)})(U),B=k.message;D===void 0&&(D=je.INTERNAL,B="Unknown error status: "+U+" with message "+k.message),A=!0,I.a_(new ot(D,B)),m.close()}else at(Os,`RPC '${e}' stream ${i} received:`,R),I.u_(R)}})),_(a,B$.STAT_EVENT,(C=>{C.stat===DI.PROXY?at(Os,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===DI.NOPROXY&&at(Os,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function o2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){return new nfe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="PersistentStream";class DG{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MG(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===je.RESOURCE_EXHAUSTED?(Cc(n.toString()),Cc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ot(je.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(N8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(at(N8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jfe extends DG{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sfe(this.serializer,e),r=(function(s){if(!("targetChange"in s))return qt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?qt.min():o.readTime?Sl(o.readTime):qt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=qI(this.serializer),n.addTarget=(function(s,o){let a;const c=o.target;if(a=VI(c)?{documents:lfe(s,c)}:{query:cfe(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EG(s,o.resumeToken);const u=HI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(qt.min())>0){a.readTime=yw(s,o.snapshotVersion.toTimestamp());const u=HI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=ffe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=qI(this.serializer),n.removeTarget=e,this.q_(n)}}class ehe extends DG{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=afe(e.writeResults,e.commitTime),r=Sl(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=qI(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ofe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class the{}class nhe extends the{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ot(je.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,$I(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ot(je.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,$I(n,r),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ot(je.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cc(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="RemoteStore";class ihe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{qh(this)&&(at(Nh,"Restarting streams for network reachability change."),await(async function(c){const u=Wt(c);u.Ea.add(4),await Ay(u),u.Ra.set("Unknown"),u.Ea.delete(4),await lb(u)})(this))}))})),this.Ra=new rhe(r,i)}}async function lb(t){if(qh(t))for(const e of t.da)await e(!0)}async function Ay(t){for(const e of t.da)await e(!1)}function LG(t,e){const n=Wt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),oR(n)?sR(n):Eg(n).O_()&&iR(n,e))}function rR(t,e){const n=Wt(t),r=Eg(n);n.Ia.delete(e),r.O_()&&BG(n,e),n.Ia.size===0&&(r.O_()?r.L_():qh(n)&&n.Ra.set("Unknown"))}function iR(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eg(t).Y_(e)}function BG(t,e){t.Va.Ue(e),Eg(t).Z_(e)}function sR(t){t.Va=new Zue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Eg(t).start(),t.Ra.ua()}function oR(t){return qh(t)&&!Eg(t).x_()&&t.Ia.size>0}function qh(t){return Wt(t).Ea.size===0}function jG(t){t.Va=void 0}async function she(t){t.Ra.set("Online")}async function ohe(t){t.Ia.forEach(((e,n)=>{iR(t,e)}))}async function ahe(t,e){jG(t),oR(t)?(t.Ra.ha(e),sR(t)):t.Ra.set("Unknown")}async function lhe(t,e,n){if(t.Ra.set("Online"),e instanceof AG&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){at(Nh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ww(t,r)}else if(e instanceof jv?t.Va.Ze(e):e instanceof bG?t.Va.st(e):t.Va.tt(e),!n.isEqual(qt.min()))try{const r=await kG(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const g=s.Ia.get(u);g&&s.Ia.set(u,g.withResumeToken(c.resumeToken,o))}})),a.targetMismatches.forEach(((c,u)=>{const g=s.Ia.get(c);if(!g)return;s.Ia.set(c,g.withResumeToken(vs.EMPTY_BYTE_STRING,g.snapshotVersion)),BG(s,c);const m=new Mu(g.target,c,u,g.sequenceNumber);iR(s,m)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){at(Nh,"Failed to raise snapshot:",r),await ww(t,r)}}async function ww(t,e,n){if(!Ag(e))throw e;t.Ea.add(1),await Ay(t),t.Ra.set("Offline"),n||(n=()=>kG(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{at(Nh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lb(t)}))}function FG(t,e){return e().catch((n=>ww(t,n,e)))}async function cb(t){const e=Wt(t),n=Ju(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:HO;for(;che(e);)try{const i=await $fe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,uhe(e,i)}catch(i){await ww(e,i)}VG(e)&&UG(e)}function che(t){return qh(t)&&t.Ta.length<10}function uhe(t,e){t.Ta.push(e);const n=Ju(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VG(t){return qh(t)&&!Ju(t).x_()&&t.Ta.length>0}function UG(t){Ju(t).start()}async function fhe(t){Ju(t).ra()}async function hhe(t){const e=Ju(t);for(const n of t.Ta)e.ea(n.mutations)}async function dhe(t,e,n){const r=t.Ta.shift(),i=QO.from(r,e,n);await FG(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await cb(t)}async function phe(t,e){e&&Ju(t).X_&&await(async function(r,i){if((function(o){return Yue(o)&&o!==je.ABORTED})(i.code)){const s=r.Ta.shift();Ju(r).B_(),await FG(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await cb(r)}})(t,e),VG(t)&&UG(t)}async function O8(t,e){const n=Wt(t);n.asyncQueue.verifyOperationInProgress(),at(Nh,"RemoteStore received new credentials");const r=qh(n);n.Ea.add(3),await Ay(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lb(n)}async function ghe(t,e){const n=Wt(t);e?(n.Ea.delete(2),await lb(n)):e||(n.Ea.add(2),await Ay(n),n.Ra.set("Unknown"))}function Eg(t){return t.ma||(t.ma=(function(n,r,i){const s=Wt(n);return s.sa(),new Jfe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:she.bind(null,t),t_:ohe.bind(null,t),r_:ahe.bind(null,t),H_:lhe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),oR(t)?sR(t):t.Ra.set("Unknown")):(await t.ma.stop(),jG(t))}))),t.ma}function Ju(t){return t.fa||(t.fa=(function(n,r,i){const s=Wt(n);return s.sa(),new ehe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:fhe.bind(null,t),r_:phe.bind(null,t),ta:hhe.bind(null,t),na:dhe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await cb(t)):(await t.fa.stop(),t.Ta.length>0&&(at(Nh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new aR(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lR(t,e){if(Cc("AsyncQueue",`${e}: ${t}`),Ag(t))return new ot(je.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{static emptySet(e){return new cp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||St.comparator(n.key,r.key):(n,r)=>St.comparator(n.key,r.key),this.keyedMap=Cm(),this.sortedSet=new Gr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this.ga=new Gr(St.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Rt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Op{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new Op(e,n,cp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yhe{constructor(){this.queries=k8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Wt(n),s=i.queries;i.queries=k8(),s.forEach(((o,a)=>{for(const c of a.Sa)c.onError(r)}))})(this,new ot(je.ABORTED,"Firestore shutting down"))}}function k8(){return new $h((t=>aG(t)),nb)}async function zG(t,e){const n=Wt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new mhe,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=lR(o,`Initialization of query '${Bd(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&cR(n)}async function HG(t,e){const n=Wt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vhe(t,e){const n=Wt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&cR(n)}function whe(t,e,n){const r=Wt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function cR(t){t.Ca.forEach((e=>{e.next()}))}var YI,M8;(M8=YI||(YI={})).Ma="default",M8.Cache="cache";class $G{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Op(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Op.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==YI.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.key=e}}class qG{constructor(e){this.key=e}}class xhe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mn(),this.mutatedKeys=mn(),this.eu=lG(e),this.tu=new cp(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new R8,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,m)=>{const w=i.get(g),A=rb(this.query,m)?m:null,I=!!w&&this.mutatedKeys.has(w.key),_=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let C=!1;w&&A?w.data.isEqual(A.data)?I!==_&&(r.track({type:3,doc:A}),C=!0):this.su(w,A)||(r.track({type:2,doc:A}),C=!0,(c&&this.eu(A,c)>0||u&&this.eu(A,u)<0)&&(a=!0)):!w&&A?(r.track({type:0,doc:A}),C=!0):w&&!A&&(r.track({type:1,doc:w}),C=!0,(c||u)&&(a=!0)),C&&(A?(o=o.add(A),s=_?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((g,m)=>(function(A,I){const _=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:C})}};return _(A)-_(I)})(g.type,m.type)||this.eu(g.doc,m.doc))),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Op(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R8,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new qG(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new GG(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=mn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Op.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uR="SyncEngine";class bhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ahe{constructor(e){this.key=e,this.hu=!1}}class Ehe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new $h((a=>aG(a)),nb),this.Iu=new Map,this.Eu=new Set,this.du=new Gr(St.comparator),this.Au=new Map,this.Ru=new JO,this.Vu={},this.mu=new Map,this.fu=Np.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function She(t,e,n=!0){const r=ZG(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await WG(r,e,n,!0),i}async function _he(t,e){const n=ZG(t);await WG(n,e,!0,!1)}async function WG(t,e,n,r){const i=await Gfe(t.localStore,El(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await The(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&LG(t.remoteStore,i),a}async function The(t,e,n,r,i){t.pu=(m,w,A)=>(async function(_,C,R,j){let k=C.view.ru(R);k.Cs&&(k=await T8(_.localStore,C.query,!1).then((({documents:O})=>C.view.ru(O,k))));const U=j&&j.targetChanges.get(C.targetId),D=j&&j.targetMismatches.get(C.targetId)!=null,B=C.view.applyChanges(k,_.isPrimaryClient,U,D);return L8(_,C.targetId,B.au),B.snapshot})(t,m,w,A);const s=await T8(t.localStore,e,!0),o=new xhe(e,s.Qs),a=o.ru(s.documents),c=by.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);L8(t,n,u.au);const g=new bhe(e,n,o);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Che(t,e,n){const r=Wt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!nb(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await WI(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rR(r.remoteStore,i.targetId),QI(r,i.targetId)})).catch(bg)):(QI(r,i.targetId),await WI(r.localStore,i.targetId,!0))}async function Ihe(t,e){const n=Wt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rR(n.remoteStore,r.targetId))}async function Phe(t,e,n){const r=Lhe(t);try{const i=await(function(o,a){const c=Wt(o),u=Pr.now(),g=a.reduce(((A,I)=>A.add(I.key)),mn());let m,w;return c.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Ic(),_=mn();return c.Ns.getEntries(A,g).next((C=>{I=C,I.forEach(((R,j)=>{j.isValidDocument()||(_=_.add(R))}))})).next((()=>c.localDocuments.getOverlayedDocuments(A,I))).next((C=>{m=C;const R=[];for(const j of a){const k=$ue(j,m.get(j.key).overlayedDocument);k!=null&&R.push(new Gh(j.key,k,J$(k.value.mapValue),vc.exists(!0)))}return c.mutationQueue.addMutationBatch(A,u,R,a)})).next((C=>{w=C;const R=C.applyToLocalDocumentSet(m,_);return c.documentOverlayCache.saveOverlays(A,C.batchId,R)}))})).then((()=>({batchId:w.batchId,changes:uG(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Gr(gn)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u})(r,i.batchId,n),await Ey(r,i.changes),await cb(r.remoteStore)}catch(i){const s=lR(i,"Failed to persist write");n.reject(s)}}async function KG(t,e){const n=Wt(t);try{const r=await zfe(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Hn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Hn(o.hu,14607):i.removedDocuments.size>0&&(Hn(o.hu,42227),o.hu=!1))})),await Ey(n,r,e)}catch(r){await bg(r)}}function D8(t,e,n){const r=Wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const c=Wt(o);c.onlineState=a;let u=!1;c.queries.forEach(((g,m)=>{for(const w of m.Sa)w.va(a)&&(u=!0)})),u&&cR(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Nhe(t,e,n){const r=Wt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Gr(St.comparator);o=o.insert(s,Ms.newNoDocument(s,qt.min()));const a=mn().add(s),c=new ob(qt.min(),new Map,new Gr(gn),o,a);await KG(r,c),r.du=r.du.remove(s),r.Au.delete(e),fR(r)}else await WI(r.localStore,e,!1).then((()=>QI(r,e,n))).catch(bg)}async function Ohe(t,e){const n=Wt(t),r=e.batch.batchId;try{const i=await Ufe(n.localStore,e);QG(n,r,null),YG(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ey(n,i)}catch(i){await bg(i)}}async function Rhe(t,e,n){const r=Wt(t);try{const i=await(function(o,a){const c=Wt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let g;return c.mutationQueue.lookupMutationBatch(u,a).next((m=>(Hn(m!==null,37113),g=m.keys(),c.mutationQueue.removeMutationBatch(u,m)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,g,a))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,g))).next((()=>c.localDocuments.getDocuments(u,g)))}))})(r.localStore,e);QG(r,e,n),YG(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ey(r,i)}catch(i){await bg(i)}}function YG(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function QG(t,e,n){const r=Wt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function QI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||XG(t,r)}))}function XG(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rR(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fR(t))}function L8(t,e,n){for(const r of n)r instanceof GG?(t.Ru.addReference(r.key,e),khe(t,r)):r instanceof qG?(at(uR,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||XG(t,r.key)):Rt(19791,{wu:r})}function khe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(at(uR,"New document in limbo: "+n),t.Eu.add(r),fR(t))}function fR(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new St(gr.fromString(e)),r=t.fu.next();t.Au.set(r,new Ahe(n)),t.du=t.du.insert(n,r),LG(t.remoteStore,new Mu(El(KO(n.path)),r,"TargetPurposeLimboResolution",Jx.ce))}}async function Ey(t,e,n){const r=Wt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,c)=>{o.push(r.pu(c,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const g=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(u){i.push(u);const g=tR.As(c.targetId,u);s.push(g)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(c,u){const g=Wt(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Ve.forEach(u,(w=>Ve.forEach(w.Es,(A=>g.persistence.referenceDelegate.addReference(m,w.targetId,A))).next((()=>Ve.forEach(w.ds,(A=>g.persistence.referenceDelegate.removeReference(m,w.targetId,A)))))))))}catch(m){if(!Ag(m))throw m;at(nR,"Failed to update sequence numbers: "+m)}for(const m of u){const w=m.targetId;if(!m.fromCache){const A=g.Ms.get(w),I=A.snapshotVersion,_=A.withLastLimboFreeSnapshotVersion(I);g.Ms=g.Ms.insert(w,_)}}})(r.localStore,s))}async function Mhe(t,e){const n=Wt(t);if(!n.currentUser.isEqual(e)){at(uR,"User change. New user:",e.toKey());const r=await RG(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((a=>{a.forEach((c=>{c.reject(new ot(je.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ey(n,r.Ls)}}function Dhe(t,e){const n=Wt(t),r=n.Au.get(e);if(r&&r.hu)return mn().add(r.key);{let i=mn();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function ZG(t){const e=Wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nhe.bind(null,e),e.Pu.H_=vhe.bind(null,e.eventManager),e.Pu.yu=whe.bind(null,e.eventManager),e}function Lhe(t){const e=Wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ohe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rhe.bind(null,e),e}class xw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ab(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Vfe(this.persistence,new Bfe,e.initialUser,this.serializer)}Cu(e){return new OG(eR.mi,this.serializer)}Du(e){return new Wfe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xw.provider={build:()=>new xw};class Bhe extends xw{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Hn(this.persistence.referenceDelegate instanceof vw,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Afe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new OG((r=>vw.mi(r,n)),this.serializer)}}class XI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D8(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mhe.bind(null,this.syncEngine),await ghe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yhe})()}createDatastore(e){const n=ab(e.databaseInfo.databaseId),r=(function(s){return new Zfe(s)})(e.databaseInfo);return(function(s,o,a,c){return new nhe(s,o,a,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,a){return new ihe(r,i,s,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>D8(this.syncEngine,n,0)),(function(){return P8.v()?new P8:new Kfe})())}createSyncEngine(e,n){return(function(i,s,o,a,c,u,g){const m=new Ehe(i,s,o,a,c,u);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Wt(n);at(Nh,"RemoteStore shutting down."),r.Ea.add(5),await Ay(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}XI.provider={build:()=>new XI};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="FirestoreClient";class jhe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ks.UNAUTHENTICATED,this.clientId=zO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{at(ef,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(at(ef,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lR(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function a2(t,e){t.asyncQueue.verifyOperationInProgress(),at(ef,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await RG(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function B8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Fhe(t);at(ef,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>O8(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>O8(e.remoteStore,i))),t._onlineComponents=e}async function Fhe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){at(ef,"Using user provided OfflineComponentProvider");try{await a2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Tp("Error using user provided cache. Falling back to memory cache: "+n),await a2(t,new xw)}}else at(ef,"Using default OfflineComponentProvider"),await a2(t,new Bhe(void 0));return t._offlineComponents}async function eq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(at(ef,"Using user provided OnlineComponentProvider"),await B8(t,t._uninitializedComponentsProvider._online)):(at(ef,"Using default OnlineComponentProvider"),await B8(t,new XI))),t._onlineComponents}function Vhe(t){return eq(t).then((e=>e.syncEngine))}async function tq(t){const e=await eq(t),n=e.eventManager;return n.onListen=She.bind(null,e.syncEngine),n.onUnlisten=Che.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_he.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ihe.bind(null,e.syncEngine),n}function Uhe(t,e,n={}){const r=new yc;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,u){const g=new JG({next:w=>{g.Nu(),o.enqueueAndForget((()=>HG(s,m)));const A=w.docs.has(a);!A&&w.fromCache?u.reject(new ot(je.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&c&&c.source==="server"?u.reject(new ot(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(w)},error:w=>u.reject(w)}),m=new $G(KO(a.path),g,{includeMetadataChanges:!0,qa:!0});return zG(s,m)})(await tq(t),t.asyncQueue,e,n,r))),r.promise}function zhe(t,e,n={}){const r=new yc;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,u){const g=new JG({next:w=>{g.Nu(),o.enqueueAndForget((()=>HG(s,m))),w.fromCache&&c.source==="server"?u.reject(new ot(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(w)},error:w=>u.reject(w)}),m=new $G(a,g,{includeMetadataChanges:!0,qa:!0});return zG(s,m)})(await tq(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq="firestore.googleapis.com",F8=!0;class V8{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rq,this.ssl=F8}else this.host=e.host,this.ssl=e.ssl??F8;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NG;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xfe)throw new ot(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ub{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V8({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V8(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Kce;switch(r.type){case"firstParty":return new Zce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=j8.get(n);r&&(at("ComponentProvider","Removing Datastore"),j8.delete(n),r.terminate())})(this),Promise.resolve()}}function Hhe(t,e,n,r={}){t=Ph(t,ub);const i=yg(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(qH(`https://${a}`),WH("Firestore",!0)),s.host!==rq&&s.host!==a&&Tp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!Sh(c,o)&&(t._setSettings(c),r.mockUserToken)){let u,g;if(typeof r.mockUserToken=="string")u=r.mockUserToken,g=ks.MOCK_USER;else{u=ooe(r.mockUserToken,t._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ot(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ks(m)}t._authCredentials=new Yce(new U$(u,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sg(this.firestore,e,this._query)}}class Ci{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ci(this.firestore,e,this._key)}toJSON(){return{type:Ci._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vy(n,Ci._jsonSchema))return new Ci(e,r||null,new St(gr.fromString(n.referencePath)))}}Ci._jsonSchemaVersion="firestore/documentReference/1.0",Ci._jsonSchema={type:Ti("string",Ci._jsonSchemaVersion),referencePath:Ti("string")};class Uu extends Sg{constructor(e,n,r){super(e,n,KO(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ci(this.firestore,null,new St(e))}withConverter(e){return new Uu(this.firestore,e,this._path)}}function $he(t,e,...n){if(t=io(t),z$("collection","path",e),t instanceof ub){const r=gr.fromString(e,...n);return JD(r),new Uu(t,null,r)}{if(!(t instanceof Ci||t instanceof Uu))throw new ot(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gr.fromString(e,...n));return JD(r),new Uu(t.firestore,null,r)}}function iq(t,e,...n){if(t=io(t),arguments.length===1&&(e=zO.newId()),z$("doc","path",e),t instanceof ub){const r=gr.fromString(e,...n);return ZD(r),new Ci(t,null,new St(r))}{if(!(t instanceof Ci||t instanceof Uu))throw new ot(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gr.fromString(e,...n));return ZD(r),new Ci(t.firestore,t instanceof Uu?t.converter:null,new St(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="AsyncQueue";class z8{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MG(this,"async_queue_retry"),this._c=()=>{const r=o2();r&&at(U8,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=o2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=o2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ag(e))throw e;at(U8,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Cc("INTERNAL UNHANDLED ERROR: ",H8(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=aR.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Rt(47125,{Pc:H8(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function H8(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fb extends ub{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new z8,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z8(e),this._firestoreClient=void 0,await e}}}function Ghe(t,e){const n=typeof t=="object"?t:XH(),r=typeof t=="string"?t:fw,i=RO(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ioe("firestore");s&&Hhe(i,...s)}return i}function hR(t){if(t._terminated)throw new ot(je.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qhe(t),t._firestoreClient}function qhe(t){const e=t._freezeSettings(),n=(function(i,s,o,a){return new gue(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,nq(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jhe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(vs.fromBase64String(e))}catch(n){throw new ot(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pa(vs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vy(e,pa._jsonSchema))return pa.fromBase64String(e.bytes)}}pa._jsonSchemaVersion="firestore/bytes/1.0",pa._jsonSchema={type:Ti("string",pa._jsonSchemaVersion),bytes:Ti("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ot(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ot(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ot(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_l._jsonSchemaVersion}}static fromJSON(e){if(vy(e,_l._jsonSchema))return new _l(e.latitude,e.longitude)}}_l._jsonSchemaVersion="firestore/geoPoint/1.0",_l._jsonSchema={type:Ti("string",_l._jsonSchemaVersion),latitude:Ti("number"),longitude:Ti("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vy(e,Tl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Tl(e.vectorValues);throw new ot(je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tl._jsonSchemaVersion="firestore/vectorValue/1.0",Tl._jsonSchema={type:Ti("string",Tl._jsonSchemaVersion),vectorValues:Ti("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Whe=/^__.*__$/;class Khe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gh(e,this.data,this.fieldMask,n,this.fieldTransforms):new xy(e,this.data,n,this.fieldTransforms)}}function oq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:t})}}class pR{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pR({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bw(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oq(this.Ac)&&Whe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Yhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ab(e)}Cc(e,n,r,i=!1){return new pR({Ac:e,methodName:n,Dc:r,path:ms.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aq(t){const e=t._freezeSettings(),n=ab(t._databaseId);return new Yhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qhe(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);uq("Data must be an object, but it was:",o,r);const a=lq(r,o);let c,u;if(s.merge)c=new Ha(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const m of s.mergeFields){const w=Zhe(e,m,n);if(!o.contains(w))throw new ot(je.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ede(g,w)||g.push(w)}c=new Ha(g),u=o.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,u=o.fieldTransforms;return new Khe(new da(a),c,u)}function Xhe(t,e,n,r=!1){return gR(n,t.Cc(r?4:3,e))}function gR(t,e){if(cq(t=io(t)))return uq("Unsupported field value:",e,t),lq(t,e);if(t instanceof sq)return(function(r,i){if(!oq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const a of r){let c=gR(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=io(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jue(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pr.fromDate(r);return{timestampValue:yw(i.serializer,s)}}if(r instanceof Pr){const s=new Pr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yw(i.serializer,s)}}if(r instanceof _l)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pa)return{bytesValue:EG(i.serializer,r._byteString)};if(r instanceof Ci){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ZO(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tl)return(function(o,a){return{mapValue:{fields:{[X$]:{stringValue:Z$},[hw]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return YO(a.serializer,u)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Zx(r)}`)})(t,e)}function lq(t,e){const n={};return G$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hh(t,((r,i)=>{const s=gR(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function cq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pr||t instanceof _l||t instanceof pa||t instanceof Ci||t instanceof sq||t instanceof Tl)}function uq(t,e,n){if(!cq(n)||!H$(n)){const r=Zx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Zhe(t,e,n){if((e=io(e))instanceof dR)return e._internalPath;if(typeof e=="string")return fq(t,e);throw bw("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jhe=new RegExp("[~\\*/\\[\\]]");function fq(t,e,n){if(e.search(Jhe)>=0)throw bw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dR(...e.split("."))._internalPath}catch{throw bw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bw(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ot(je.INVALID_ARGUMENT,a+t+c)}function ede(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tde extends hq{data(){return super.data()}}function mR(t,e){return typeof e=="string"?fq(t,e):e instanceof dR?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nde(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ot(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yR{}class rde extends yR{}function ide(t,e,...n){let r=[];e instanceof yR&&r.push(e),r=r.concat(n),(function(s){const o=s.filter((c=>c instanceof vR)).length,a=s.filter((c=>c instanceof hb)).length;if(o>1||o>0&&a>0)throw new ot(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class hb extends rde{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hb(e,n,r)}_apply(e){const n=this._parse(e);return dq(e._query,n),new Sg(e.firestore,e.converter,UI(e._query,n))}_parse(e){const n=aq(e.firestore);return(function(s,o,a,c,u,g,m){let w;if(u.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ot(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){G8(m,g);const I=[];for(const _ of m)I.push($8(c,s,_));w={arrayValue:{values:I}}}else w=$8(c,s,m)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||G8(m,g),w=Xhe(a,o,m,g==="in"||g==="not-in");return Si.create(u,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sde(t,e,n){const r=e,i=mR("where",t);return hb._create(i,r,n)}class vR extends yR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vR(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ka.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)dq(o,c),o=UI(o,c)})(e._query,n),new Sg(e.firestore,e.converter,UI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $8(t,e,n){if(typeof(n=io(n))=="string"){if(n==="")throw new ot(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oG(e)&&n.indexOf("/")!==-1)throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gr.fromString(n));if(!St.isDocumentKey(r))throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a8(t,new St(r))}if(n instanceof Ci)return a8(t,n._key);throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zx(n)}.`)}function G8(t,e){if(!Array.isArray(t)||t.length===0)throw new ot(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dq(t,e){const n=(function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ot(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ode{convertValue(e,n="none"){switch(Zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Rt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hh(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[hw].arrayValue?.values?.map((r=>gi(r.doubleValue)));return new Tl(n)}convertGeoPoint(e){return new _l(gi(e.latitude),gi(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(c0(e));default:return null}}convertTimestamp(e){const n=Qu(e);return new Pr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gr.fromString(e);Hn(PG(r),9688,{name:e});const i=new u0(r.get(1),r.get(3)),s=new St(r.popFirst(5));return i.isEqual(n)||Cc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ade(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Pm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dh extends hq{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=dh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}dh._jsonSchemaVersion="firestore/documentSnapshot/1.0",dh._jsonSchema={type:Ti("string",dh._jsonSchemaVersion),bundleSource:Ti("string","DocumentSnapshot"),bundleName:Ti("string"),bundle:Ti("string")};class Fv extends dh{data(e={}){return super.data(e)}}class up{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fv(this._firestore,this._userDataWriter,r.key,r,new Pm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const c=new Fv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const c=new Fv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,g=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),g=o.indexOf(a.doc.key)),{type:lde(a.type),doc:c,oldIndex:u,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=up._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zO.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cde(t){t=Ph(t,Ci);const e=Ph(t.firestore,fb);return Uhe(hR(e),t._key).then((n=>dde(e,t,n)))}up._jsonSchemaVersion="firestore/querySnapshot/1.0",up._jsonSchema={type:Ti("string",up._jsonSchemaVersion),bundleSource:Ti("string","QuerySnapshot"),bundleName:Ti("string"),bundle:Ti("string")};class pq extends ode{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,n)}}function ude(t){t=Ph(t,Sg);const e=Ph(t.firestore,fb),n=hR(e),r=new pq(e);return nde(t._query),zhe(n,t._query).then((i=>new up(e,r,t,i)))}function fde(t,e,n){t=Ph(t,Ci);const r=Ph(t.firestore,fb),i=ade(t.converter,e);return hde(r,[Qhe(aq(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vc.none())])}function hde(t,e){return(function(r,i){const s=new yc;return r.asyncQueue.enqueueAndForget((async()=>Phe(await Vhe(r),i,s))),s.promise})(hR(t),e)}function dde(t,e,n){const r=n.docs.get(e._key),i=new pq(t);return new dh(t,i,e._key,r,new Pm(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xg=i})(vg),_p(new _h("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fb(new Qce(r.getProvider("auth-internal")),new Jce(o,r.getProvider("app-check-internal")),(function(u,g){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ot(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new u0(u.options.projectId,g)})(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),Fu(KD,YD,e),Fu(KD,YD,"esm2020")})();var pde="firebase",gde="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fu(pde,gde,"app");const mde={apiKey:"AIzaSyCHaJxGSMZ5LYxg3bYpMn3_81c5EpTf1v8",authDomain:"sih-agro-chain.firebaseapp.com",projectId:"sih-agro-chain",storageBucket:"sih-agro-chain.firebasestorage.app",messagingSenderId:"473727370298",appId:"1:473727370298:web:dbdfbda0ded909f4bba103",measurementId:"G-EN8XZQGK23"},gq=QH(mde),db=qce(gq),wR=Ghe(gq),yde=async(t,e,n)=>{try{const i=(await Nle(db,t,e)).user,s={uid:i.uid,email:i.email,role:n.role,name:n.name,phone:n.phone,address:n.address,createdAt:new Date,updatedAt:new Date};return await fde(iq(wR,"users",i.uid),s),s}catch(r){throw new Error(r.message)}},mq=async(t,e)=>{try{return(await Ole(db,t,e)).user}catch(n){throw new Error(n.message)}},vde=async()=>{try{await Dle(db)}catch(t){throw new Error(t.message)}},wde=t=>Mle(db,t),xde=async t=>{try{const e=await cde(iq(wR,"users",t));return e.exists()?e.data():null}catch(e){throw new Error(e.message)}},bde=async(t,e)=>{try{const n=ide($he(wR,"users"),sde("email","==",t)),r=await ude(n);if(r.empty)return{isValid:!1,error:"This email is not registered in our system. Please sign up first."};const s=r.docs[0].data();return s.role!==e?{isValid:!1,error:`This email is not registered as ${e}. This email is registered as ${s.role}.`}:{isValid:!0,userData:s}}catch(n){return{isValid:!1,error:`Error validating user role: ${n.message}`}}};function Ade(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Ede=t=>{switch(t){case"success":return Tde;case"info":return Ide;case"warning":return Cde;case"error":return Pde;default:return null}},Sde=Array(12).fill(0),_de=({visible:t,className:e})=>se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},se.createElement("div",{className:"sonner-spinner"},Sde.map((n,r)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Tde=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Cde=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ide=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Pde=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Nde=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ode=()=>{const[t,e]=se.useState(document.hidden);return se.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let ZI=1;class Rde{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:ZI++,o=this.toasts.find(c=>c.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:a,title:r}):c):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const a=i.then(async u=>{if(o=["resolve",u],se.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(Mde(u)&&!u.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,I=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...I})}else if(u instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(u):n.error,w=typeof n.description=="function"?await n.description(u):n.description,I=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...I})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(u):n.success,w=typeof n.description=="function"?await n.description(u):n.description,I=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:w,...I})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){s=!1;const g=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,A=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...A})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,g)=>a.then(()=>o[0]==="reject"?g(o[1]):u(o[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=n?.id||ZI++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yo=new Rde,kde=(t,e)=>{const n=e?.id||ZI++;return yo.addToast({title:t,...e,id:n}),n},Mde=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Dde=kde,Lde=()=>yo.toasts,Bde=()=>yo.getActiveToasts(),Lt=Object.assign(Dde,{success:yo.success,info:yo.info,warning:yo.warning,error:yo.error,custom:yo.custom,message:yo.message,promise:yo.promise,dismiss:yo.dismiss,loading:yo.loading},{getHistory:Lde,getToasts:Bde});Ade("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function X1(t){return t.label!==void 0}const jde=3,Fde="24px",Vde="16px",q8=4e3,Ude=356,zde=14,Hde=45,$de=200;function ul(...t){return t.filter(Boolean).join(" ")}function Gde(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const qde=t=>{var e,n,r,i,s,o,a,c,u;const{invert:g,toast:m,unstyled:w,interacting:A,setHeights:I,visibleToasts:_,heights:C,index:R,toasts:j,expanded:k,removeToast:U,defaultRichColors:D,closeButton:B,style:O,cancelButtonStyle:M,actionButtonStyle:V,className:K="",descriptionClassName:W="",duration:G,position:$,gap:ce,expandByDefault:J,classNames:oe,icons:ae,closeButtonAriaLabel:re="Close toast"}=t,[pe,we]=se.useState(null),[ue,he]=se.useState(null),[xe,Re]=se.useState(!1),[Ue,Me]=se.useState(!1),[ke,De]=se.useState(!1),[Pe,Fe]=se.useState(!1),[Ge,Te]=se.useState(!1),[et,dt]=se.useState(0),[Ft,Yt]=se.useState(0),kt=se.useRef(m.duration||G||q8),Kt=se.useRef(null),xt=se.useRef(null),ii=R===0,nt=R+1<=_,_n=m.type,wi=m.dismissible!==!1,si=m.className||"",so=m.descriptionClassName||"",ln=se.useMemo(()=>C.findIndex(At=>At.toastId===m.id)||0,[C,m.id]),Nr=se.useMemo(()=>{var At;return(At=m.closeButton)!=null?At:B},[m.closeButton,B]),oi=se.useMemo(()=>m.duration||G||q8,[m.duration,G]),vr=se.useRef(0),Hi=se.useRef(0),Us=se.useRef(0),ws=se.useRef(null),[Qn,Xe]=$.split("-"),Xn=se.useMemo(()=>C.reduce((At,un,Zn)=>Zn>=ln?At:At+un.height,0),[C,ln]),cn=Ode(),Ln=m.invert||g,is=_n==="loading";Hi.current=se.useMemo(()=>ln*ce+Xn,[ln,Xn]),se.useEffect(()=>{kt.current=oi},[oi]),se.useEffect(()=>{Re(!0)},[]),se.useEffect(()=>{const At=xt.current;if(At){const un=At.getBoundingClientRect().height;return Yt(un),I(Zn=>[{toastId:m.id,height:un,position:m.position},...Zn]),()=>I(Zn=>Zn.filter(fn=>fn.toastId!==m.id))}},[I,m.id]),se.useLayoutEffect(()=>{if(!xe)return;const At=xt.current,un=At.style.height;At.style.height="auto";const Zn=At.getBoundingClientRect().height;At.style.height=un,Yt(Zn),I(fn=>fn.find(Jn=>Jn.toastId===m.id)?fn.map(Jn=>Jn.toastId===m.id?{...Jn,height:Zn}:Jn):[{toastId:m.id,height:Zn,position:m.position},...fn])},[xe,m.title,m.description,I,m.id,m.jsx,m.action,m.cancel]);const Pi=se.useCallback(()=>{Me(!0),dt(Hi.current),I(At=>At.filter(un=>un.toastId!==m.id)),setTimeout(()=>{U(m)},$de)},[m,U,I,Hi]);se.useEffect(()=>{if(m.promise&&_n==="loading"||m.duration===1/0||m.type==="loading")return;let At;return k||A||cn?(()=>{if(Us.current<vr.current){const fn=new Date().getTime()-vr.current;kt.current=kt.current-fn}Us.current=new Date().getTime()})():(()=>{kt.current!==1/0&&(vr.current=new Date().getTime(),At=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Pi()},kt.current))})(),()=>clearTimeout(At)},[k,A,m,_n,cn,Pi]),se.useEffect(()=>{m.delete&&(Pi(),m.onDismiss==null||m.onDismiss.call(m,m))},[Pi,m.delete]);function Aa(){var At;if(ae?.loading){var un;return se.createElement("div",{className:ul(oe?.loader,m==null||(un=m.classNames)==null?void 0:un.loader,"sonner-loader"),"data-visible":_n==="loading"},ae.loading)}return se.createElement(_de,{className:ul(oe?.loader,m==null||(At=m.classNames)==null?void 0:At.loader),visible:_n==="loading"})}const Vt=m.icon||ae?.[_n]||Ede(_n);var ai,Wo;return se.createElement("li",{tabIndex:0,ref:xt,className:ul(K,si,oe?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,oe?.default,oe?.[_n],m==null||(n=m.classNames)==null?void 0:n[_n]),"data-sonner-toast":"","data-rich-colors":(ai=m.richColors)!=null?ai:D,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":xe,"data-promise":!!m.promise,"data-swiped":Ge,"data-removed":Ue,"data-visible":nt,"data-y-position":Qn,"data-x-position":Xe,"data-index":R,"data-front":ii,"data-swiping":ke,"data-dismissible":wi,"data-type":_n,"data-invert":Ln,"data-swipe-out":Pe,"data-swipe-direction":ue,"data-expanded":!!(k||J&&xe),"data-testid":m.testId,style:{"--index":R,"--toasts-before":R,"--z-index":j.length-R,"--offset":`${Ue?et:Hi.current}px`,"--initial-height":J?"auto":`${Ft}px`,...O,...m.style},onDragEnd:()=>{De(!1),we(null),ws.current=null},onPointerDown:At=>{At.button!==2&&(is||!wi||(Kt.current=new Date,dt(Hi.current),At.target.setPointerCapture(At.pointerId),At.target.tagName!=="BUTTON"&&(De(!0),ws.current={x:At.clientX,y:At.clientY})))},onPointerUp:()=>{var At,un,Zn;if(Pe||!wi)return;ws.current=null;const fn=Number(((At=xt.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),li=Number(((un=xt.current)==null?void 0:un.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jn=new Date().getTime()-((Zn=Kt.current)==null?void 0:Zn.getTime()),$t=pe==="x"?fn:li,_o=Math.abs($t)/Jn;if(Math.abs($t)>=Hde||_o>.11){dt(Hi.current),m.onDismiss==null||m.onDismiss.call(m,m),he(pe==="x"?fn>0?"right":"left":li>0?"down":"up"),Pi(),Fe(!0);return}else{var On,jr;(On=xt.current)==null||On.style.setProperty("--swipe-amount-x","0px"),(jr=xt.current)==null||jr.style.setProperty("--swipe-amount-y","0px")}Te(!1),De(!1),we(null)},onPointerMove:At=>{var un,Zn,fn;if(!ws.current||!wi||((un=window.getSelection())==null?void 0:un.toString().length)>0)return;const Jn=At.clientY-ws.current.y,$t=At.clientX-ws.current.x;var _o;const On=(_o=t.swipeDirections)!=null?_o:Gde($);!pe&&(Math.abs($t)>1||Math.abs(Jn)>1)&&we(Math.abs($t)>Math.abs(Jn)?"x":"y");let jr={x:0,y:0};const wr=qr=>1/(1.5+Math.abs(qr)/20);if(pe==="y"){if(On.includes("top")||On.includes("bottom"))if(On.includes("top")&&Jn<0||On.includes("bottom")&&Jn>0)jr.y=Jn;else{const qr=Jn*wr(Jn);jr.y=Math.abs(qr)<Math.abs(Jn)?qr:Jn}}else if(pe==="x"&&(On.includes("left")||On.includes("right")))if(On.includes("left")&&$t<0||On.includes("right")&&$t>0)jr.x=$t;else{const qr=$t*wr($t);jr.x=Math.abs(qr)<Math.abs($t)?qr:$t}(Math.abs(jr.x)>0||Math.abs(jr.y)>0)&&Te(!0),(Zn=xt.current)==null||Zn.style.setProperty("--swipe-amount-x",`${jr.x}px`),(fn=xt.current)==null||fn.style.setProperty("--swipe-amount-y",`${jr.y}px`)}},Nr&&!m.jsx&&_n!=="loading"?se.createElement("button",{"aria-label":re,"data-disabled":is,"data-close-button":!0,onClick:is||!wi?()=>{}:()=>{Pi(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ul(oe?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Wo=ae?.close)!=null?Wo:Nde):null,(_n||m.icon||m.promise)&&m.icon!==null&&(ae?.[_n]!==null||m.icon)?se.createElement("div",{"data-icon":"",className:ul(oe?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Aa():null,m.type!=="loading"?Vt:null):null,se.createElement("div",{"data-content":"",className:ul(oe?.content,m==null||(s=m.classNames)==null?void 0:s.content)},se.createElement("div",{"data-title":"",className:ul(oe?.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?se.createElement("div",{"data-description":"",className:ul(W,so,oe?.description,m==null||(a=m.classNames)==null?void 0:a.description)},typeof m.description=="function"?m.description():m.description):null),se.isValidElement(m.cancel)?m.cancel:m.cancel&&X1(m.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||M,onClick:At=>{X1(m.cancel)&&wi&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,At),Pi())},className:ul(oe?.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,se.isValidElement(m.action)?m.action:m.action&&X1(m.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:At=>{X1(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,At),!At.defaultPrevented&&Pi())},className:ul(oe?.actionButton,m==null||(u=m.classNames)==null?void 0:u.actionButton)},m.action.label):null)};function W8(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Wde(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?Vde:Fde;function c(u){["top","right","bottom","left"].forEach(g=>{n[`${o}-${g}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}const Kde=se.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:c,className:u,offset:g,mobileOffset:m,theme:w="light",richColors:A,duration:I,style:_,visibleToasts:C=jde,toastOptions:R,dir:j=W8(),gap:k=zde,icons:U,containerAriaLabel:D="Notifications"}=e,[B,O]=se.useState([]),M=se.useMemo(()=>r?B.filter(xe=>xe.toasterId===r):B.filter(xe=>!xe.toasterId),[B,r]),V=se.useMemo(()=>Array.from(new Set([s].concat(M.filter(xe=>xe.position).map(xe=>xe.position)))),[M,s]),[K,W]=se.useState([]),[G,$]=se.useState(!1),[ce,J]=se.useState(!1),[oe,ae]=se.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=se.useRef(null),pe=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),we=se.useRef(null),ue=se.useRef(!1),he=se.useCallback(xe=>{O(Re=>{var Ue;return(Ue=Re.find(Me=>Me.id===xe.id))!=null&&Ue.delete||yo.dismiss(xe.id),Re.filter(({id:Me})=>Me!==xe.id)})},[]);return se.useEffect(()=>yo.subscribe(xe=>{if(xe.dismiss){requestAnimationFrame(()=>{O(Re=>Re.map(Ue=>Ue.id===xe.id?{...Ue,delete:!0}:Ue))});return}setTimeout(()=>{Tz.flushSync(()=>{O(Re=>{const Ue=Re.findIndex(Me=>Me.id===xe.id);return Ue!==-1?[...Re.slice(0,Ue),{...Re[Ue],...xe},...Re.slice(Ue+1)]:[xe,...Re]})})})}),[B]),se.useEffect(()=>{if(w!=="system"){ae(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;const xe=window.matchMedia("(prefers-color-scheme: dark)");try{xe.addEventListener("change",({matches:Re})=>{ae(Re?"dark":"light")})}catch{xe.addListener(({matches:Ue})=>{try{ae(Ue?"dark":"light")}catch(Me){console.error(Me)}})}},[w]),se.useEffect(()=>{B.length<=1&&$(!1)},[B]),se.useEffect(()=>{const xe=Re=>{var Ue;if(o.every(De=>Re[De]||Re.code===De)){var ke;$(!0),(ke=re.current)==null||ke.focus()}Re.code==="Escape"&&(document.activeElement===re.current||(Ue=re.current)!=null&&Ue.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",xe),()=>document.removeEventListener("keydown",xe)},[o]),se.useEffect(()=>{if(re.current)return()=>{we.current&&(we.current.focus({preventScroll:!0}),we.current=null,ue.current=!1)}},[re.current]),se.createElement("section",{ref:n,"aria-label":`${D} ${pe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((xe,Re)=>{var Ue;const[Me,ke]=xe.split("-");return M.length?se.createElement("ol",{key:xe,dir:j==="auto"?W8():j,tabIndex:-1,ref:re,className:u,"data-sonner-toaster":!0,"data-sonner-theme":oe,"data-y-position":Me,"data-x-position":ke,style:{"--front-toast-height":`${((Ue=K[0])==null?void 0:Ue.height)||0}px`,"--width":`${Ude}px`,"--gap":`${k}px`,..._,...Wde(g,m)},onBlur:De=>{ue.current&&!De.currentTarget.contains(De.relatedTarget)&&(ue.current=!1,we.current&&(we.current.focus({preventScroll:!0}),we.current=null))},onFocus:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,we.current=De.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{ce||$(!1)},onDragEnd:()=>$(!1),onPointerDown:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},M.filter(De=>!De.position&&Re===0||De.position===xe).map((De,Pe)=>{var Fe,Ge;return se.createElement(qde,{key:De.id,icons:U,index:Pe,toast:De,defaultRichColors:A,duration:(Fe=R?.duration)!=null?Fe:I,className:R?.className,descriptionClassName:R?.descriptionClassName,invert:i,visibleToasts:C,closeButton:(Ge=R?.closeButton)!=null?Ge:c,interacting:ce,position:xe,style:R?.style,unstyled:R?.unstyled,classNames:R?.classNames,cancelButtonStyle:R?.cancelButtonStyle,actionButtonStyle:R?.actionButtonStyle,closeButtonAriaLabel:R?.closeButtonAriaLabel,removeToast:he,toasts:M.filter(Te=>Te.position==De.position),heights:K.filter(Te=>Te.position==De.position),setHeights:W,expandByDefault:a,gap:k,expanded:G,swipeDirections:e.swipeDirections})})):null}))});function Yde({role:t,onBack:e,onLogin:n,onSignupRedirect:r}){const[i,s]=Q.useState(""),[o,a]=Q.useState(""),[c,u]=Q.useState(!1),[g,m]=Q.useState(!1),{t:w}=jc(),A=async I=>{if(I.preventDefault(),c)Lt.success("Password reset link sent to your email!"),u(!1);else{m(!0);try{const _=await bde(i,t);if(!_.isValid){Lt.error(_.error,{duration:5e3,style:{background:"#dc2626",color:"white",border:"1px solid #b91c1c"}});return}await mq(i,o),n(i,o)}catch(_){Lt.error(`Login failed: ${_.message}`,{duration:5e3,style:{background:"#dc2626",color:"white",border:"1px solid #b91c1c"}})}finally{m(!1)}}};return P.jsxs(Gu,{type:t,children:[P.jsx(Ku,{}),P.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:P.jsxs("div",{className:"w-full max-w-md",children:[P.jsxs(zt,{variant:"ghost",onClick:e,className:"mb-4 text-foreground hover:bg-card/20",children:[P.jsx(ew,{className:"w-4 h-4 mr-2"}),"Back"]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(es,{children:[P.jsx(ts,{className:"text-center",children:c?"Reset Password":w("login")}),P.jsx("p",{className:"text-center text-muted-foreground",children:c?"Enter your email to reset password":`${w(t)} ${w("login").toLowerCase()}`})]}),P.jsx(Un,{children:P.jsxs("form",{onSubmit:A,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"email",children:w("email")}),P.jsx(Vn,{id:"email",type:"email",value:i,onChange:I=>s(I.target.value),required:!0,className:"bg-input-background"})]}),!c&&P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"password",children:w("password")}),P.jsx(Vn,{id:"password",type:"password",value:o,onChange:I=>a(I.target.value),required:!0,className:"bg-input-background"})]}),P.jsx(zt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:g,children:g?"Validating...":c?"Send Reset Link":w("login")}),!c&&P.jsxs(P.Fragment,{children:[P.jsx(zt,{type:"button",variant:"link",onClick:()=>u(!0),className:"w-full text-primary",children:"Forgot Password?"}),P.jsxs("div",{className:"text-center",children:[P.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),P.jsx(zt,{type:"button",variant:"link",onClick:r,className:"text-primary p-0",children:w("signup")})]})]}),c&&P.jsx(zt,{type:"button",variant:"link",onClick:()=>u(!1),className:"w-full text-primary",children:"Back to Login"})]})})]})]})})]})}function Qde({role:t,onBack:e,onSignup:n,onLoginRedirect:r}){const[i,s]=Q.useState({name:"",email:"",password:"",mobile:"",village:"",state:"",district:"",farmArea:"",warehouseLocation:"",shopName:"",shopAddress:""}),{t:o}=jc(),a=async g=>{g.preventDefault(),n(i)},c=(g,m)=>{s(w=>({...w,[g]:m}))},u=()=>{switch(t){case"farmer":return P.jsxs(P.Fragment,{children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"village",children:o("village")}),P.jsx(Vn,{id:"village",value:i.village,onChange:g=>c("village",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"state",children:o("state")}),P.jsx(Vn,{id:"state",value:i.state,onChange:g=>c("state",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"district",children:o("district")}),P.jsx(Vn,{id:"district",value:i.district,onChange:g=>c("district",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"farmArea",children:"Area of Farm (acres)"}),P.jsx(Vn,{id:"farmArea",type:"number",value:i.farmArea,onChange:g=>c("farmArea",g.target.value),required:!0,className:"bg-input-background"})]})]});case"distributor":return P.jsxs(P.Fragment,{children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"warehouseLocation",children:"Warehouse Address"}),P.jsx(Vn,{id:"warehouseLocation",value:i.warehouseLocation,onChange:g=>c("warehouseLocation",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"state",children:o("state")}),P.jsx(Vn,{id:"state",value:i.state,onChange:g=>c("state",g.target.value),required:!0,className:"bg-input-background"})]})]});case"retailer":return P.jsxs(P.Fragment,{children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"shopName",children:"Shop Name"}),P.jsx(Vn,{id:"shopName",value:i.shopName,onChange:g=>c("shopName",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"shopAddress",children:"Shop Address"}),P.jsx(Vn,{id:"shopAddress",value:i.shopAddress,onChange:g=>c("shopAddress",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"state",children:o("state")}),P.jsx(Vn,{id:"state",value:i.state,onChange:g=>c("state",g.target.value),required:!0,className:"bg-input-background"})]})]});default:return null}};return P.jsxs(Gu,{type:t,children:[P.jsx(Ku,{}),P.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-8",children:P.jsxs("div",{className:"w-full max-w-md",children:[P.jsxs(zt,{variant:"ghost",onClick:e,className:"mb-4 text-foreground hover:bg-card/20",children:[P.jsx(ew,{className:"w-4 h-4 mr-2"}),"Back"]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(es,{children:[P.jsx(ts,{className:"text-center",children:o("signup")}),P.jsxs("p",{className:"text-center text-muted-foreground",children:["Create your ",o(t)," account"]})]}),P.jsx(Un,{children:P.jsxs("form",{onSubmit:a,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"name",children:o("name")}),P.jsx(Vn,{id:"name",value:i.name,onChange:g=>c("name",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"mobile",children:o("mobile")}),P.jsx(Vn,{id:"mobile",type:"tel",value:i.mobile,onChange:g=>c("mobile",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"email",children:o("email")}),P.jsx(Vn,{id:"email",type:"email",value:i.email,onChange:g=>c("email",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"password",children:o("password")}),P.jsx(Vn,{id:"password",type:"password",value:i.password,onChange:g=>c("password",g.target.value),required:!0,className:"bg-input-background"})]}),u(),P.jsx(zt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",children:o("continue")}),P.jsxs("div",{className:"text-center",children:[P.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),P.jsx(zt,{type:"button",variant:"link",onClick:r,className:"text-primary p-0",children:o("login")})]})]})})]})]})})]})}function Aw({className:t,...e}){return P.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:P.jsx("table",{"data-slot":"table",className:$r("w-full caption-bottom text-sm",t),...e})})}function Ew({className:t,...e}){return P.jsx("thead",{"data-slot":"table-header",className:$r("[&_tr]:border-b",t),...e})}function Sw({className:t,...e}){return P.jsx("tbody",{"data-slot":"table-body",className:$r("[&_tr:last-child]:border-0",t),...e})}function Du({className:t,...e}){return P.jsx("tr",{"data-slot":"table-row",className:$r("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function qn({className:t,...e}){return P.jsx("th",{"data-slot":"table-head",className:$r("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Wn({className:t,...e}){return P.jsx("td",{"data-slot":"table-cell",className:$r("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}var l2,K8;function So(){if(K8)return l2;K8=1;var t=Array.isArray;return l2=t,l2}var c2,Y8;function yq(){if(Y8)return c2;Y8=1;var t=typeof ku=="object"&&ku&&ku.Object===Object&&ku;return c2=t,c2}var u2,Q8;function Bl(){if(Q8)return u2;Q8=1;var t=yq(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return u2=n,u2}var f2,X8;function Sy(){if(X8)return f2;X8=1;var t=Bl(),e=t.Symbol;return f2=e,f2}var h2,Z8;function Xde(){if(Z8)return h2;Z8=1;var t=Sy(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var g=r.call(o);return u&&(a?o[i]=c:delete o[i]),g}return h2=s,h2}var d2,J8;function Zde(){if(J8)return d2;J8=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return d2=n,d2}var p2,e6;function Vc(){if(e6)return p2;e6=1;var t=Sy(),e=Xde(),n=Zde(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return p2=o,p2}var g2,t6;function Uc(){if(t6)return g2;t6=1;function t(e){return e!=null&&typeof e=="object"}return g2=t,g2}var m2,n6;function _g(){if(n6)return m2;n6=1;var t=Vc(),e=Uc(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return m2=r,m2}var y2,r6;function xR(){if(r6)return y2;r6=1;var t=So(),e=_g(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return y2=i,y2}var v2,i6;function ff(){if(i6)return v2;i6=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return v2=t,v2}var w2,s6;function bR(){if(s6)return w2;s6=1;var t=Vc(),e=ff(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var c=t(a);return c==r||c==i||c==n||c==s}return w2=o,w2}var x2,o6;function Jde(){if(o6)return x2;o6=1;var t=Bl(),e=t["__core-js_shared__"];return x2=e,x2}var b2,a6;function epe(){if(a6)return b2;a6=1;var t=Jde(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return b2=n,b2}var A2,l6;function vq(){if(l6)return A2;l6=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return A2=n,A2}var E2,c6;function tpe(){if(c6)return E2;c6=1;var t=bR(),e=epe(),n=ff(),r=vq(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,c=o.toString,u=a.hasOwnProperty,g=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(w){if(!n(w)||e(w))return!1;var A=t(w)?g:s;return A.test(r(w))}return E2=m,E2}var S2,u6;function npe(){if(u6)return S2;u6=1;function t(e,n){return e?.[n]}return S2=t,S2}var _2,f6;function Wh(){if(f6)return _2;f6=1;var t=tpe(),e=npe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return _2=n,_2}var T2,h6;function pb(){if(h6)return T2;h6=1;var t=Wh(),e=t(Object,"create");return T2=e,T2}var C2,d6;function rpe(){if(d6)return C2;d6=1;var t=pb();function e(){this.__data__=t?t(null):{},this.size=0}return C2=e,C2}var I2,p6;function ipe(){if(p6)return I2;p6=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return I2=t,I2}var P2,g6;function spe(){if(g6)return P2;g6=1;var t=pb(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return P2=i,P2}var N2,m6;function ope(){if(m6)return N2;m6=1;var t=pb(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return N2=r,N2}var O2,y6;function ape(){if(y6)return O2;y6=1;var t=pb(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return O2=n,O2}var R2,v6;function lpe(){if(v6)return R2;v6=1;var t=rpe(),e=ipe(),n=spe(),r=ope(),i=ape();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,R2=s,R2}var k2,w6;function cpe(){if(w6)return k2;w6=1;function t(){this.__data__=[],this.size=0}return k2=t,k2}var M2,x6;function AR(){if(x6)return M2;x6=1;function t(e,n){return e===n||e!==e&&n!==n}return M2=t,M2}var D2,b6;function gb(){if(b6)return D2;b6=1;var t=AR();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return D2=e,D2}var L2,A6;function upe(){if(A6)return L2;A6=1;var t=gb(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return L2=r,L2}var B2,E6;function fpe(){if(E6)return B2;E6=1;var t=gb();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return B2=e,B2}var j2,S6;function hpe(){if(S6)return j2;S6=1;var t=gb();function e(n){return t(this.__data__,n)>-1}return j2=e,j2}var F2,_6;function dpe(){if(_6)return F2;_6=1;var t=gb();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return F2=e,F2}var V2,T6;function mb(){if(T6)return V2;T6=1;var t=cpe(),e=upe(),n=fpe(),r=hpe(),i=dpe();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,V2=s,V2}var U2,C6;function ER(){if(C6)return U2;C6=1;var t=Wh(),e=Bl(),n=t(e,"Map");return U2=n,U2}var z2,I6;function ppe(){if(I6)return z2;I6=1;var t=lpe(),e=mb(),n=ER();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return z2=r,z2}var H2,P6;function gpe(){if(P6)return H2;P6=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return H2=t,H2}var $2,N6;function yb(){if(N6)return $2;N6=1;var t=gpe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return $2=e,$2}var G2,O6;function mpe(){if(O6)return G2;O6=1;var t=yb();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return G2=e,G2}var q2,R6;function ype(){if(R6)return q2;R6=1;var t=yb();function e(n){return t(this,n).get(n)}return q2=e,q2}var W2,k6;function vpe(){if(k6)return W2;k6=1;var t=yb();function e(n){return t(this,n).has(n)}return W2=e,W2}var K2,M6;function wpe(){if(M6)return K2;M6=1;var t=yb();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return K2=e,K2}var Y2,D6;function SR(){if(D6)return Y2;D6=1;var t=ppe(),e=mpe(),n=ype(),r=vpe(),i=wpe();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Y2=s,Y2}var Q2,L6;function wq(){if(L6)return Q2;L6=1;var t=SR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],c=s.cache;if(c.has(a))return c.get(a);var u=r.apply(this,o);return s.cache=c.set(a,u)||c,u};return s.cache=new(n.Cache||t),s}return n.Cache=t,Q2=n,Q2}var X2,B6;function xpe(){if(B6)return X2;B6=1;var t=wq(),e=500;function n(r){var i=t(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return X2=n,X2}var Z2,j6;function bpe(){if(j6)return Z2;j6=1;var t=xpe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,c,u){s.push(c?u.replace(n,"$1"):a||o)}),s});return Z2=r,Z2}var J2,F6;function _R(){if(F6)return J2;F6=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return J2=t,J2}var eS,V6;function Ape(){if(V6)return eS;V6=1;var t=Sy(),e=_R(),n=So(),r=_g(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return e(a,o)+"";if(r(a))return s?s.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return eS=o,eS}var tS,U6;function xq(){if(U6)return tS;U6=1;var t=Ape();function e(n){return n==null?"":t(n)}return tS=e,tS}var nS,z6;function bq(){if(z6)return nS;z6=1;var t=So(),e=xR(),n=bpe(),r=xq();function i(s,o){return t(s)?s:e(s,o)?[s]:n(r(s))}return nS=i,nS}var rS,H6;function vb(){if(H6)return rS;H6=1;var t=_g();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return rS=e,rS}var iS,$6;function TR(){if($6)return iS;$6=1;var t=bq(),e=vb();function n(r,i){i=t(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return iS=n,iS}var sS,G6;function Aq(){if(G6)return sS;G6=1;var t=TR();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return sS=e,sS}var Epe=Aq();const qo=Nn(Epe);var oS,q6;function Spe(){if(q6)return oS;q6=1;function t(e){return e==null}return oS=t,oS}var _pe=Spe();const an=Nn(_pe);var aS,W6;function Tpe(){if(W6)return aS;W6=1;var t=Vc(),e=So(),n=Uc(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return aS=i,aS}var Cpe=Tpe();const Oh=Nn(Cpe);var Ipe=bR();const Ht=Nn(Ipe);var Ppe=ff();const Tg=Nn(Ppe);var lS={exports:{}},jn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K6;function Npe(){if(K6)return jn;K6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),I;I=Symbol.for("react.module.reference");function _(C){if(typeof C=="object"&&C!==null){var R=C.$$typeof;switch(R){case t:switch(C=C.type,C){case n:case i:case r:case u:case g:return C;default:switch(C=C&&C.$$typeof,C){case a:case o:case c:case w:case m:case s:return C;default:return R}}case e:return R}}}return jn.ContextConsumer=o,jn.ContextProvider=s,jn.Element=t,jn.ForwardRef=c,jn.Fragment=n,jn.Lazy=w,jn.Memo=m,jn.Portal=e,jn.Profiler=i,jn.StrictMode=r,jn.Suspense=u,jn.SuspenseList=g,jn.isAsyncMode=function(){return!1},jn.isConcurrentMode=function(){return!1},jn.isContextConsumer=function(C){return _(C)===o},jn.isContextProvider=function(C){return _(C)===s},jn.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},jn.isForwardRef=function(C){return _(C)===c},jn.isFragment=function(C){return _(C)===n},jn.isLazy=function(C){return _(C)===w},jn.isMemo=function(C){return _(C)===m},jn.isPortal=function(C){return _(C)===e},jn.isProfiler=function(C){return _(C)===i},jn.isStrictMode=function(C){return _(C)===r},jn.isSuspense=function(C){return _(C)===u},jn.isSuspenseList=function(C){return _(C)===g},jn.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===i||C===r||C===u||C===g||C===A||typeof C=="object"&&C!==null&&(C.$$typeof===w||C.$$typeof===m||C.$$typeof===s||C.$$typeof===o||C.$$typeof===c||C.$$typeof===I||C.getModuleId!==void 0)},jn.typeOf=_,jn}var Y6;function Ope(){return Y6||(Y6=1,lS.exports=Npe()),lS.exports}var Rpe=Ope(),cS,Q6;function Eq(){if(Q6)return cS;Q6=1;var t=Vc(),e=Uc(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return cS=r,cS}var uS,X6;function kpe(){if(X6)return uS;X6=1;var t=Eq();function e(n){return t(n)&&n!=+n}return uS=e,uS}var Mpe=kpe();const _y=Nn(Mpe);var Dpe=Eq();const Lpe=Nn(Dpe);var Xs=function(e){return e===0?0:e>0?1:-1},th=function(e){return Oh(e)&&e.indexOf("%")===e.length-1},Je=function(e){return Lpe(e)&&!_y(e)},Bpe=function(e){return an(e)},Fi=function(e){return Je(e)||Oh(e)},jpe=0,Ty=function(e){var n=++jpe;return"".concat(e||"").concat(n)},Zs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&!Oh(e))return r;var s;if(th(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return _y(s)&&(s=r),i&&s>n&&(s=n),s},Ru=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Fpe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Tu=function(e,n){return Je(e)&&Je(n)?function(r){return e+r*(n-e)}:function(){return n}};function JI(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):qo(r,e))===n})}var Vpe=function(e,n){return Je(e)&&Je(n)?e-n:Oh(e)&&Oh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function fp(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function eP(t){"@babel/helpers - typeof";return eP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eP(t)}var Upe=["viewBox","children"],zpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Z6=["points","pathLength"],fS={svg:Upe,polygon:Z6,polyline:Z6},CR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_w=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(Q.isValidElement(e)&&(r=e.props),!Tg(r))return null;var i={};return Object.keys(r).forEach(function(s){CR.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},Hpe=function(e,n,r){return function(i){return e(n,r,i),null}},Rh=function(e,n,r){if(!Tg(e)||eP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];CR.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=Hpe(o,n,r))}),i},$pe=["children"],Gpe=["children"];function J6(t,e){if(t==null)return{};var n=qpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},tL=null,hS=null,IR=function t(e){if(e===tL&&Array.isArray(hS))return hS;var n=[];return Q.Children.forEach(e,function(r){an(r)||(Rpe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),hS=n,tL=e,n};function ya(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return wc(i)}):r=[wc(e)],IR(t).forEach(function(i){var s=qo(i,"type.displayName")||qo(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Vo(t,e){var n=ya(t,e);return n&&n[0]}var nL=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Je(r)||r<=0||!Je(i)||i<=0)},Wpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Kpe=function(e){return e&&e.type&&Oh(e.type)&&Wpe.indexOf(e.type)>=0},Ype=function(e,n,r,i){var s,o=(s=fS?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ht(e)&&(i&&o.includes(n)||zpe.includes(n))||r&&CR.includes(n)},Bt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Q.isValidElement(e)&&(i=e.props),!Tg(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;Ype((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},tP=function t(e,n){if(e===n)return!0;var r=Q.Children.count(e);if(r!==Q.Children.count(n))return!1;if(r===0)return!0;if(r===1)return rL(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!rL(s,o))return!1}return!0},rL=function(e,n){if(an(e)&&an(n))return!0;if(!an(e)&&!an(n)){var r=e.props||{},i=r.children,s=J6(r,$pe),o=n.props||{},a=o.children,c=J6(o,Gpe);return i&&a?fp(s,c)&&tP(i,a):!i&&!a?fp(s,c):!1}return!1},iL=function(e,n){var r=[],i={};return IR(e).forEach(function(s,o){if(Kpe(s))r.push(s);else if(s){var a=wc(s.type),c=n[a]||{},u=c.handler,g=c.once;if(u&&(!g||!i[a])){var m=u(s,a,o);r.push(m),i[a]=!0}}}),r},Qpe=function(e){var n=e&&e.type;return n&&eL[n]?eL[n]:null},Xpe=function(e,n){return IR(n).indexOf(e)},Zpe=["children","width","height","viewBox","className","style","title","desc"];function nP(){return nP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nP.apply(this,arguments)}function Jpe(t,e){if(t==null)return{};var n=ege(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ege(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rP(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,c=t.desc,u=Jpe(t,Zpe),g=i||{width:n,height:r,x:0,y:0},m=Xt("recharts-surface",s);return se.createElement("svg",nP({},Bt(u,!0,"svg"),{className:m,width:n,height:r,style:o,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),se.createElement("title",null,a),se.createElement("desc",null,c),e)}var tge=["children","className"];function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iP.apply(this,arguments)}function nge(t,e){if(t==null)return{};var n=rge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yn=se.forwardRef(function(t,e){var n=t.children,r=t.className,i=nge(t,tge),s=Xt("recharts-layer",r);return se.createElement("g",iP({className:s},Bt(i,!0),{ref:e}),n)}),$a=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},dS,sL;function ige(){if(sL)return dS;sL=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return dS=t,dS}var pS,oL;function sge(){if(oL)return pS;oL=1;var t=ige();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return pS=e,pS}var gS,aL;function Sq(){if(aL)return gS;aL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function c(u){return a.test(u)}return gS=c,gS}var mS,lL;function oge(){if(lL)return mS;lL=1;function t(e){return e.split("")}return mS=t,mS}var yS,cL;function age(){if(cL)return yS;cL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+c+")",g="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",w="[\\ud800-\\udbff][\\udc00-\\udfff]",A="\\u200d",I=u+"?",_="["+s+"]?",C="(?:"+A+"(?:"+[g,m,w].join("|")+")"+_+I+")*",R=_+I+C,j="(?:"+[g+a+"?",a,m,w,o].join("|")+")",k=RegExp(c+"(?="+c+")|"+j+R,"g");function U(D){return D.match(k)||[]}return yS=U,yS}var vS,uL;function lge(){if(uL)return vS;uL=1;var t=oge(),e=Sq(),n=age();function r(i){return e(i)?n(i):t(i)}return vS=r,vS}var wS,fL;function cge(){if(fL)return wS;fL=1;var t=sge(),e=Sq(),n=lge(),r=xq();function i(s){return function(o){o=r(o);var a=e(o)?n(o):void 0,c=a?a[0]:o.charAt(0),u=a?t(a,1).join(""):o.slice(1);return c[s]()+u}}return wS=i,wS}var xS,hL;function uge(){if(hL)return xS;hL=1;var t=cge(),e=t("toUpperCase");return xS=e,xS}var fge=uge();const wb=Nn(fge);function dr(t){return function(){return t}}const _q=Math.cos,Tw=Math.sin,Ya=Math.sqrt,Cw=Math.PI,xb=2*Cw,sP=Math.PI,oP=2*sP,Hf=1e-6,hge=oP-Hf;function Tq(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function dge(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Tq;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class pge{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Tq:dge(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,c=r-e,u=i-n,g=o-e,m=a-n,w=g*g+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(w>Hf)if(!(Math.abs(m*c-u*g)>Hf)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let A=r-o,I=i-a,_=c*c+u*u,C=A*A+I*I,R=Math.sqrt(_),j=Math.sqrt(w),k=s*Math.tan((sP-Math.acos((_+w-C)/(2*R*j)))/2),U=k/j,D=k/R;Math.abs(U-1)>Hf&&this._append`L${e+U*g},${n+U*m}`,this._append`A${s},${s},0,0,${+(m*A>g*I)},${this._x1=e+D*c},${this._y1=n+D*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),u=e+a,g=n+c,m=1^o,w=o?i-s:s-i;this._x1===null?this._append`M${u},${g}`:(Math.abs(this._x1-u)>Hf||Math.abs(this._y1-g)>Hf)&&this._append`L${u},${g}`,r&&(w<0&&(w=w%oP+oP),w>hge?this._append`A${r},${r},0,1,${m},${e-a},${n-c}A${r},${r},0,1,${m},${this._x1=u},${this._y1=g}`:w>Hf&&this._append`A${r},${r},0,${+(w>=sP)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function PR(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new pge(e)}function NR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cq(t){this._context=t}Cq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bb(t){return new Cq(t)}function Iq(t){return t[0]}function Pq(t){return t[1]}function Nq(t,e){var n=dr(!0),r=null,i=bb,s=null,o=PR(a);t=typeof t=="function"?t:t===void 0?Iq:dr(t),e=typeof e=="function"?e:e===void 0?Pq:dr(e);function a(c){var u,g=(c=NR(c)).length,m,w=!1,A;for(r==null&&(s=i(A=o())),u=0;u<=g;++u)!(u<g&&n(m=c[u],u,c))===w&&((w=!w)?s.lineStart():s.lineEnd()),w&&s.point(+t(m,u,c),+e(m,u,c));if(A)return s=null,A+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:dr(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:dr(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:dr(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),a):r},a}function Z1(t,e,n){var r=null,i=dr(!0),s=null,o=bb,a=null,c=PR(u);t=typeof t=="function"?t:t===void 0?Iq:dr(+t),e=typeof e=="function"?e:dr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Pq:dr(+n);function u(m){var w,A,I,_=(m=NR(m)).length,C,R=!1,j,k=new Array(_),U=new Array(_);for(s==null&&(a=o(j=c())),w=0;w<=_;++w){if(!(w<_&&i(C=m[w],w,m))===R)if(R=!R)A=w,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),I=w-1;I>=A;--I)a.point(k[I],U[I]);a.lineEnd(),a.areaEnd()}R&&(k[w]=+t(C,w,m),U[w]=+e(C,w,m),a.point(r?+r(C,w,m):k[w],n?+n(C,w,m):U[w]))}if(j)return a=null,j+""||null}function g(){return Nq().defined(i).curve(o).context(s)}return u.x=function(m){return arguments.length?(t=typeof m=="function"?m:dr(+m),r=null,u):t},u.x0=function(m){return arguments.length?(t=typeof m=="function"?m:dr(+m),u):t},u.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:dr(+m),u):r},u.y=function(m){return arguments.length?(e=typeof m=="function"?m:dr(+m),n=null,u):e},u.y0=function(m){return arguments.length?(e=typeof m=="function"?m:dr(+m),u):e},u.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:dr(+m),u):n},u.lineX0=u.lineY0=function(){return g().x(t).y(e)},u.lineY1=function(){return g().x(t).y(n)},u.lineX1=function(){return g().x(r).y(e)},u.defined=function(m){return arguments.length?(i=typeof m=="function"?m:dr(!!m),u):i},u.curve=function(m){return arguments.length?(o=m,s!=null&&(a=o(s)),u):o},u.context=function(m){return arguments.length?(m==null?s=a=null:a=o(s=m),u):s},u}class Oq{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function gge(t){return new Oq(t,!0)}function mge(t){return new Oq(t,!1)}const OR={draw(t,e){const n=Ya(e/Cw);t.moveTo(n,0),t.arc(0,0,n,0,xb)}},yge={draw(t,e){const n=Ya(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Rq=Ya(1/3),vge=Rq*2,wge={draw(t,e){const n=Ya(e/vge),r=n*Rq;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},xge={draw(t,e){const n=Ya(e),r=-n/2;t.rect(r,r,n,n)}},bge=.8908130915292852,kq=Tw(Cw/10)/Tw(7*Cw/10),Age=Tw(xb/10)*kq,Ege=-_q(xb/10)*kq,Sge={draw(t,e){const n=Ya(e*bge),r=Age*n,i=Ege*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=xb*s/5,a=_q(o),c=Tw(o);t.lineTo(c*n,-a*n),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},bS=Ya(3),_ge={draw(t,e){const n=-Ya(e/(bS*3));t.moveTo(0,n*2),t.lineTo(-bS*n,-n),t.lineTo(bS*n,-n),t.closePath()}},ia=-.5,sa=Ya(3)/2,aP=1/Ya(12),Tge=(aP/2+1)*3,Cge={draw(t,e){const n=Ya(e/Tge),r=n/2,i=n*aP,s=r,o=n*aP+n,a=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,c),t.lineTo(ia*r-sa*i,sa*r+ia*i),t.lineTo(ia*s-sa*o,sa*s+ia*o),t.lineTo(ia*a-sa*c,sa*a+ia*c),t.lineTo(ia*r+sa*i,ia*i-sa*r),t.lineTo(ia*s+sa*o,ia*o-sa*s),t.lineTo(ia*a+sa*c,ia*c-sa*a),t.closePath()}};function Ige(t,e){let n=null,r=PR(i);t=typeof t=="function"?t:dr(t||OR),e=typeof e=="function"?e:dr(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:dr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:dr(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Iw(){}function Pw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Mq(t){this._context=t}Mq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pge(t){return new Mq(t)}function Dq(t){this._context=t}Dq.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nge(t){return new Dq(t)}function Lq(t){this._context=t}Lq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Pw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oge(t){return new Lq(t)}function Bq(t){this._context=t}Bq.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rge(t){return new Bq(t)}function dL(t){return t<0?-1:1}function pL(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(dL(s)+dL(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function gL(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function AS(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function Nw(t){this._context=t}Nw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AS(this,this._t0,gL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,AS(this,gL(this,n=pL(this,t,e)),n);break;default:AS(this,this._t0,n=pL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jq(t){this._context=new Fq(t)}(jq.prototype=Object.create(Nw.prototype)).point=function(t,e){Nw.prototype.point.call(this,e,t)};function Fq(t){this._context=t}Fq.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function kge(t){return new Nw(t)}function Mge(t){return new jq(t)}function Vq(t){this._context=t}Vq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=mL(t),i=mL(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mL(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Dge(t){return new Vq(t)}function Ab(t,e){this._context=t,this._t=e}Ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Lge(t){return new Ab(t,.5)}function Bge(t){return new Ab(t,0)}function jge(t){return new Ab(t,1)}function Rp(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lP(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Fge(t,e){return t[e]}function Vge(t){const e=[];return e.key=t,e}function Uge(){var t=dr([]),e=lP,n=Rp,r=Fge;function i(s){var o=Array.from(t.apply(this,arguments),Vge),a,c=o.length,u=-1,g;for(const m of s)for(a=0,++u;a<c;++a)(o[a][u]=[0,+r(m,o[a].key,u,s)]).data=m;for(a=0,g=NR(e(o));a<c;++a)o[g[a]].index=a;return n(o,g),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:dr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:dr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?lP:typeof s=="function"?s:dr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Rp,i):n},i}function zge(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Rp(t,e)}}function Hge(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Rp(t,e)}}function $ge(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,c=0,u=0;a<o;++a){for(var g=t[e[a]],m=g[r][1]||0,w=g[r-1][1]||0,A=(m-w)/2,I=0;I<a;++I){var _=t[e[I]],C=_[r][1]||0,R=_[r-1][1]||0;A+=C-R}c+=m,u+=A*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Rp(t,e)}}function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}var Gge=["type","size","sizeType"];function cP(){return cP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cP.apply(this,arguments)}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qge(t,e,n){return e=Wge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=Kge(t,"string");return p0(e)=="symbol"?e:e+""}function Kge(t,e){if(p0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yge(t,e){if(t==null)return{};var n=Qge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Uq={symbolCircle:OR,symbolCross:yge,symbolDiamond:wge,symbolSquare:xge,symbolStar:Sge,symbolTriangle:_ge,symbolWye:Cge},Xge=Math.PI/180,Zge=function(e){var n="symbol".concat(wb(e));return Uq[n]||OR},Jge=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Xge;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},eme=function(e,n){Uq["symbol".concat(wb(e))]=n},RR=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,c=Yge(e,Gge),u=vL(vL({},c),{},{type:r,size:s,sizeType:a}),g=function(){var C=Zge(r),R=Ige().type(C).size(Jge(s,a,r));return R()},m=u.className,w=u.cx,A=u.cy,I=Bt(u,!0);return w===+w&&A===+A&&s===+s?se.createElement("path",cP({},I,{className:Xt("recharts-symbols",m),transform:"translate(".concat(w,", ").concat(A,")"),d:g()})):null};RR.registerSymbol=eme;function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function uP(){return uP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uP.apply(this,arguments)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){g0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hq(r.key),r)}}function ime(t,e,n){return e&&rme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sme(t,e,n){return e=Ow(e),ome(t,zq()?Reflect.construct(e,n||[],Ow(t).constructor):e.apply(t,n))}function ome(t,e){if(e&&(kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ame(t)}function ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ow(t)}function lme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fP(t,e)}function fP(t,e){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fP(t,e)}function g0(t,e,n){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hq(t){var e=cme(t,"string");return kp(e)=="symbol"?e:e+""}function cme(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oa=32,kR=(function(t){function e(){return nme(this,e),sme(this,e,arguments)}return lme(e,t),ime(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=oa/2,o=oa/6,a=oa/3,c=r.inactive?i:r.color;if(r.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:oa,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(oa,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return se.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(oa/8,"h").concat(oa,"v").concat(oa*3/4,"h").concat(-oa,"z"),className:"recharts-legend-icon"});if(se.isValidElement(r.legendIcon)){var u=tme({},r);return delete u.legendIcon,se.cloneElement(r.legendIcon,u)}return se.createElement(RR,{fill:c,cx:s,cy:s,size:oa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,c=i.formatter,u=i.inactiveColor,g={x:0,y:0,width:oa,height:oa},m={display:a==="horizontal"?"inline-block":"block",marginRight:10},w={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(A,I){var _=A.formatter||c,C=Xt(g0(g0({"recharts-legend-item":!0},"legend-item-".concat(I),!0),"inactive",A.inactive));if(A.type==="none")return null;var R=Ht(A.value)?null:A.value;$a(!Ht(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=A.inactive?u:A.color;return se.createElement("li",uP({className:C,style:m,key:"legend-item-".concat(I)},Rh(r.props,A,I)),se.createElement(rP,{width:o,height:o,viewBox:g,style:w},r.renderIcon(A)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},_?_(R,A,I):R))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(Q.PureComponent);g0(kR,"displayName","Legend");g0(kR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ES,xL;function ume(){if(xL)return ES;xL=1;var t=mb();function e(){this.__data__=new t,this.size=0}return ES=e,ES}var SS,bL;function fme(){if(bL)return SS;bL=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return SS=t,SS}var _S,AL;function hme(){if(AL)return _S;AL=1;function t(e){return this.__data__.get(e)}return _S=t,_S}var TS,EL;function dme(){if(EL)return TS;EL=1;function t(e){return this.__data__.has(e)}return TS=t,TS}var CS,SL;function pme(){if(SL)return CS;SL=1;var t=mb(),e=ER(),n=SR(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var c=a.__data__;if(!e||c.length<r-1)return c.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(s,o),this.size=a.size,this}return CS=i,CS}var IS,_L;function $q(){if(_L)return IS;_L=1;var t=mb(),e=ume(),n=fme(),r=hme(),i=dme(),s=pme();function o(a){var c=this.__data__=new t(a);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,IS=o,IS}var PS,TL;function gme(){if(TL)return PS;TL=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return PS=e,PS}var NS,CL;function mme(){if(CL)return NS;CL=1;function t(e){return this.__data__.has(e)}return NS=t,NS}var OS,IL;function Gq(){if(IL)return OS;IL=1;var t=SR(),e=gme(),n=mme();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,OS=r,OS}var RS,PL;function qq(){if(PL)return RS;PL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return RS=t,RS}var kS,NL;function Wq(){if(NL)return kS;NL=1;function t(e,n){return e.has(n)}return kS=t,kS}var MS,OL;function Kq(){if(OL)return MS;OL=1;var t=Gq(),e=qq(),n=Wq(),r=1,i=2;function s(o,a,c,u,g,m){var w=c&r,A=o.length,I=a.length;if(A!=I&&!(w&&I>A))return!1;var _=m.get(o),C=m.get(a);if(_&&C)return _==a&&C==o;var R=-1,j=!0,k=c&i?new t:void 0;for(m.set(o,a),m.set(a,o);++R<A;){var U=o[R],D=a[R];if(u)var B=w?u(D,U,R,a,o,m):u(U,D,R,o,a,m);if(B!==void 0){if(B)continue;j=!1;break}if(k){if(!e(a,function(O,M){if(!n(k,M)&&(U===O||g(U,O,c,u,m)))return k.push(M)})){j=!1;break}}else if(!(U===D||g(U,D,c,u,m))){j=!1;break}}return m.delete(o),m.delete(a),j}return MS=s,MS}var DS,RL;function yme(){if(RL)return DS;RL=1;var t=Bl(),e=t.Uint8Array;return DS=e,DS}var LS,kL;function vme(){if(kL)return LS;kL=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return LS=t,LS}var BS,ML;function MR(){if(ML)return BS;ML=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return BS=t,BS}var jS,DL;function wme(){if(DL)return jS;DL=1;var t=Sy(),e=yme(),n=AR(),r=Kq(),i=vme(),s=MR(),o=1,a=2,c="[object Boolean]",u="[object Date]",g="[object Error]",m="[object Map]",w="[object Number]",A="[object RegExp]",I="[object Set]",_="[object String]",C="[object Symbol]",R="[object ArrayBuffer]",j="[object DataView]",k=t?t.prototype:void 0,U=k?k.valueOf:void 0;function D(B,O,M,V,K,W,G){switch(M){case j:if(B.byteLength!=O.byteLength||B.byteOffset!=O.byteOffset)return!1;B=B.buffer,O=O.buffer;case R:return!(B.byteLength!=O.byteLength||!W(new e(B),new e(O)));case c:case u:case w:return n(+B,+O);case g:return B.name==O.name&&B.message==O.message;case A:case _:return B==O+"";case m:var $=i;case I:var ce=V&o;if($||($=s),B.size!=O.size&&!ce)return!1;var J=G.get(B);if(J)return J==O;V|=a,G.set(B,O);var oe=r($(B),$(O),V,K,W,G);return G.delete(B),oe;case C:if(U)return U.call(B)==U.call(O)}return!1}return jS=D,jS}var FS,LL;function Yq(){if(LL)return FS;LL=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return FS=t,FS}var VS,BL;function xme(){if(BL)return VS;BL=1;var t=Yq(),e=So();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return VS=n,VS}var US,jL;function bme(){if(jL)return US;jL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return US=t,US}var zS,FL;function Ame(){if(FL)return zS;FL=1;function t(){return[]}return zS=t,zS}var HS,VL;function Eme(){if(VL)return HS;VL=1;var t=bme(),e=Ame(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return HS=s,HS}var $S,UL;function Sme(){if(UL)return $S;UL=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return $S=t,$S}var GS,zL;function _me(){if(zL)return GS;zL=1;var t=Vc(),e=Uc(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return GS=r,GS}var qS,HL;function DR(){if(HL)return qS;HL=1;var t=_me(),e=Uc(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return qS=s,qS}var Nm={exports:{}},WS,$L;function Tme(){if($L)return WS;$L=1;function t(){return!1}return WS=t,WS}Nm.exports;var GL;function Qq(){return GL||(GL=1,(function(t,e){var n=Bl(),r=Tme(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;t.exports=u})(Nm,Nm.exports)),Nm.exports}var KS,qL;function LR(){if(qL)return KS;qL=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return KS=n,KS}var YS,WL;function BR(){if(WL)return YS;WL=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return YS=e,YS}var QS,KL;function Cme(){if(KL)return QS;KL=1;var t=Vc(),e=BR(),n=Uc(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",c="[object Function]",u="[object Map]",g="[object Number]",m="[object Object]",w="[object RegExp]",A="[object Set]",I="[object String]",_="[object WeakMap]",C="[object ArrayBuffer]",R="[object DataView]",j="[object Float32Array]",k="[object Float64Array]",U="[object Int8Array]",D="[object Int16Array]",B="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",V="[object Uint16Array]",K="[object Uint32Array]",W={};W[j]=W[k]=W[U]=W[D]=W[B]=W[O]=W[M]=W[V]=W[K]=!0,W[r]=W[i]=W[C]=W[s]=W[R]=W[o]=W[a]=W[c]=W[u]=W[g]=W[m]=W[w]=W[A]=W[I]=W[_]=!1;function G($){return n($)&&e($.length)&&!!W[t($)]}return QS=G,QS}var XS,YL;function Xq(){if(YL)return XS;YL=1;function t(e){return function(n){return e(n)}}return XS=t,XS}var Om={exports:{}};Om.exports;var QL;function Ime(){return QL||(QL=1,(function(t,e){var n=yq(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=a})(Om,Om.exports)),Om.exports}var ZS,XL;function Zq(){if(XL)return ZS;XL=1;var t=Cme(),e=Xq(),n=Ime(),r=n&&n.isTypedArray,i=r?e(r):t;return ZS=i,ZS}var JS,ZL;function Pme(){if(ZL)return JS;ZL=1;var t=Sme(),e=DR(),n=So(),r=Qq(),i=LR(),s=Zq(),o=Object.prototype,a=o.hasOwnProperty;function c(u,g){var m=n(u),w=!m&&e(u),A=!m&&!w&&r(u),I=!m&&!w&&!A&&s(u),_=m||w||A||I,C=_?t(u.length,String):[],R=C.length;for(var j in u)(g||a.call(u,j))&&!(_&&(j=="length"||A&&(j=="offset"||j=="parent")||I&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,R)))&&C.push(j);return C}return JS=c,JS}var e_,JL;function Nme(){if(JL)return e_;JL=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return e_=e,e_}var t_,e5;function Jq(){if(e5)return t_;e5=1;function t(e,n){return function(r){return e(n(r))}}return t_=t,t_}var n_,t5;function Ome(){if(t5)return n_;t5=1;var t=Jq(),e=t(Object.keys,Object);return n_=e,n_}var r_,n5;function Rme(){if(n5)return r_;n5=1;var t=Nme(),e=Ome(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return r_=i,r_}var i_,r5;function Cy(){if(r5)return i_;r5=1;var t=bR(),e=BR();function n(r){return r!=null&&e(r.length)&&!t(r)}return i_=n,i_}var s_,i5;function Eb(){if(i5)return s_;i5=1;var t=Pme(),e=Rme(),n=Cy();function r(i){return n(i)?t(i):e(i)}return s_=r,s_}var o_,s5;function kme(){if(s5)return o_;s5=1;var t=xme(),e=Eme(),n=Eb();function r(i){return t(i,n,e)}return o_=r,o_}var a_,o5;function Mme(){if(o5)return a_;o5=1;var t=kme(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,c,u,g){var m=a&e,w=t(s),A=w.length,I=t(o),_=I.length;if(A!=_&&!m)return!1;for(var C=A;C--;){var R=w[C];if(!(m?R in o:r.call(o,R)))return!1}var j=g.get(s),k=g.get(o);if(j&&k)return j==o&&k==s;var U=!0;g.set(s,o),g.set(o,s);for(var D=m;++C<A;){R=w[C];var B=s[R],O=o[R];if(c)var M=m?c(O,B,R,o,s,g):c(B,O,R,s,o,g);if(!(M===void 0?B===O||u(B,O,a,c,g):M)){U=!1;break}D||(D=R=="constructor")}if(U&&!D){var V=s.constructor,K=o.constructor;V!=K&&"constructor"in s&&"constructor"in o&&!(typeof V=="function"&&V instanceof V&&typeof K=="function"&&K instanceof K)&&(U=!1)}return g.delete(s),g.delete(o),U}return a_=i,a_}var l_,a5;function Dme(){if(a5)return l_;a5=1;var t=Wh(),e=Bl(),n=t(e,"DataView");return l_=n,l_}var c_,l5;function Lme(){if(l5)return c_;l5=1;var t=Wh(),e=Bl(),n=t(e,"Promise");return c_=n,c_}var u_,c5;function eW(){if(c5)return u_;c5=1;var t=Wh(),e=Bl(),n=t(e,"Set");return u_=n,u_}var f_,u5;function Bme(){if(u5)return f_;u5=1;var t=Wh(),e=Bl(),n=t(e,"WeakMap");return f_=n,f_}var h_,f5;function jme(){if(f5)return h_;f5=1;var t=Dme(),e=ER(),n=Lme(),r=eW(),i=Bme(),s=Vc(),o=vq(),a="[object Map]",c="[object Object]",u="[object Promise]",g="[object Set]",m="[object WeakMap]",w="[object DataView]",A=o(t),I=o(e),_=o(n),C=o(r),R=o(i),j=s;return(t&&j(new t(new ArrayBuffer(1)))!=w||e&&j(new e)!=a||n&&j(n.resolve())!=u||r&&j(new r)!=g||i&&j(new i)!=m)&&(j=function(k){var U=s(k),D=U==c?k.constructor:void 0,B=D?o(D):"";if(B)switch(B){case A:return w;case I:return a;case _:return u;case C:return g;case R:return m}return U}),h_=j,h_}var d_,h5;function Fme(){if(h5)return d_;h5=1;var t=$q(),e=Kq(),n=wme(),r=Mme(),i=jme(),s=So(),o=Qq(),a=Zq(),c=1,u="[object Arguments]",g="[object Array]",m="[object Object]",w=Object.prototype,A=w.hasOwnProperty;function I(_,C,R,j,k,U){var D=s(_),B=s(C),O=D?g:i(_),M=B?g:i(C);O=O==u?m:O,M=M==u?m:M;var V=O==m,K=M==m,W=O==M;if(W&&o(_)){if(!o(C))return!1;D=!0,V=!1}if(W&&!V)return U||(U=new t),D||a(_)?e(_,C,R,j,k,U):n(_,C,O,R,j,k,U);if(!(R&c)){var G=V&&A.call(_,"__wrapped__"),$=K&&A.call(C,"__wrapped__");if(G||$){var ce=G?_.value():_,J=$?C.value():C;return U||(U=new t),k(ce,J,R,j,U)}}return W?(U||(U=new t),r(_,C,R,j,k,U)):!1}return d_=I,d_}var p_,d5;function jR(){if(d5)return p_;d5=1;var t=Fme(),e=Uc();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,a)}return p_=n,p_}var g_,p5;function Vme(){if(p5)return g_;p5=1;var t=$q(),e=jR(),n=1,r=2;function i(s,o,a,c){var u=a.length,g=u,m=!c;if(s==null)return!g;for(s=Object(s);u--;){var w=a[u];if(m&&w[2]?w[1]!==s[w[0]]:!(w[0]in s))return!1}for(;++u<g;){w=a[u];var A=w[0],I=s[A],_=w[1];if(m&&w[2]){if(I===void 0&&!(A in s))return!1}else{var C=new t;if(c)var R=c(I,_,A,s,o,C);if(!(R===void 0?e(_,I,n|r,c,C):R))return!1}}return!0}return g_=i,g_}var m_,g5;function tW(){if(g5)return m_;g5=1;var t=ff();function e(n){return n===n&&!t(n)}return m_=e,m_}var y_,m5;function Ume(){if(m5)return y_;m5=1;var t=tW(),e=Eb();function n(r){for(var i=e(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,t(a)]}return i}return y_=n,y_}var v_,y5;function nW(){if(y5)return v_;y5=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return v_=t,v_}var w_,v5;function zme(){if(v5)return w_;v5=1;var t=Vme(),e=Ume(),n=nW();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return w_=r,w_}var x_,w5;function Hme(){if(w5)return x_;w5=1;function t(e,n){return e!=null&&n in Object(e)}return x_=t,x_}var b_,x5;function $me(){if(x5)return b_;x5=1;var t=bq(),e=DR(),n=So(),r=LR(),i=BR(),s=vb();function o(a,c,u){c=t(c,a);for(var g=-1,m=c.length,w=!1;++g<m;){var A=s(c[g]);if(!(w=a!=null&&u(a,A)))break;a=a[A]}return w||++g!=m?w:(m=a==null?0:a.length,!!m&&i(m)&&r(A,m)&&(n(a)||e(a)))}return b_=o,b_}var A_,b5;function Gme(){if(b5)return A_;b5=1;var t=Hme(),e=$me();function n(r,i){return r!=null&&e(r,i,t)}return A_=n,A_}var E_,A5;function qme(){if(A5)return E_;A5=1;var t=jR(),e=Aq(),n=Gme(),r=xR(),i=tW(),s=nW(),o=vb(),a=1,c=2;function u(g,m){return r(g)&&i(m)?s(o(g),m):function(w){var A=e(w,g);return A===void 0&&A===m?n(w,g):t(m,A,a|c)}}return E_=u,E_}var S_,E5;function Cg(){if(E5)return S_;E5=1;function t(e){return e}return S_=t,S_}var __,S5;function Wme(){if(S5)return __;S5=1;function t(e){return function(n){return n?.[e]}}return __=t,__}var T_,_5;function Kme(){if(_5)return T_;_5=1;var t=TR();function e(n){return function(r){return t(r,n)}}return T_=e,T_}var C_,T5;function Yme(){if(T5)return C_;T5=1;var t=Wme(),e=Kme(),n=xR(),r=vb();function i(s){return n(s)?t(r(s)):e(s)}return C_=i,C_}var I_,C5;function jl(){if(C5)return I_;C5=1;var t=zme(),e=qme(),n=Cg(),r=So(),i=Yme();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return I_=s,I_}var P_,I5;function rW(){if(I5)return P_;I5=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return P_=t,P_}var N_,P5;function Qme(){if(P5)return N_;P5=1;function t(e){return e!==e}return N_=t,N_}var O_,N5;function Xme(){if(N5)return O_;N5=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return O_=t,O_}var R_,O5;function Zme(){if(O5)return R_;O5=1;var t=rW(),e=Qme(),n=Xme();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return R_=r,R_}var k_,R5;function Jme(){if(R5)return k_;R5=1;var t=Zme();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return k_=e,k_}var M_,k5;function e0e(){if(k5)return M_;k5=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return M_=t,M_}var D_,M5;function t0e(){if(M5)return D_;M5=1;function t(){}return D_=t,D_}var L_,D5;function n0e(){if(D5)return L_;D5=1;var t=eW(),e=t0e(),n=MR(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return L_=i,L_}var B_,L5;function r0e(){if(L5)return B_;L5=1;var t=Gq(),e=Jme(),n=e0e(),r=Wq(),i=n0e(),s=MR(),o=200;function a(c,u,g){var m=-1,w=e,A=c.length,I=!0,_=[],C=_;if(g)I=!1,w=n;else if(A>=o){var R=u?null:i(c);if(R)return s(R);I=!1,w=r,C=new t}else C=u?[]:_;e:for(;++m<A;){var j=c[m],k=u?u(j):j;if(j=g||j!==0?j:0,I&&k===k){for(var U=C.length;U--;)if(C[U]===k)continue e;u&&C.push(k),_.push(j)}else w(C,k,g)||(C!==_&&C.push(k),_.push(j))}return _}return B_=a,B_}var j_,B5;function i0e(){if(B5)return j_;B5=1;var t=jl(),e=r0e();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return j_=n,j_}var s0e=i0e();const j5=Nn(s0e);function iW(t,e,n){return e===!0?j5(t,n):Ht(e)?j5(t,e):t}function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}var o0e=["ref"];function F5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(n),!0).forEach(function(r){Sb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oW(r.key),r)}}function l0e(t,e,n){return e&&V5(t.prototype,e),n&&V5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c0e(t,e,n){return e=Rw(e),u0e(t,sW()?Reflect.construct(e,n||[],Rw(t).constructor):e.apply(t,n))}function u0e(t,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f0e(t)}function f0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sW=function(){return!!t})()}function Rw(t){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rw(t)}function h0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hP(t,e)}function hP(t,e){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hP(t,e)}function Sb(t,e,n){return e=oW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oW(t){var e=d0e(t,"string");return Mp(e)=="symbol"?e:e+""}function d0e(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function p0e(t,e){if(t==null)return{};var n=g0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m0e(t){return t.value}function y0e(t,e){if(se.isValidElement(t))return se.cloneElement(t,e);if(typeof t=="function")return se.createElement(t,e);e.ref;var n=p0e(e,o0e);return se.createElement(kR,n)}var U5=1,hp=(function(t){function e(){var n;a0e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=c0e(this,e,[].concat(i)),Sb(n,"lastBoundingBox",{width:-1,height:-1}),n}return h0e(e,t),l0e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>U5||Math.abs(i.height-this.lastBoundingBox.height)>U5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?tc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,c=i.margin,u=i.chartWidth,g=i.chartHeight,m,w;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var A=this.getBBoxSnapshot();m={left:((u||0)-A.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var I=this.getBBoxSnapshot();w={top:((g||0)-I.height)/2}}else w=a==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return tc(tc({},m),w)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,g=i.payload,m=tc(tc({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(c)),c);return se.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(A){r.wrapperNode=A}},y0e(s,tc(tc({},this.props),{},{payload:iW(g,u,m0e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=tc(tc({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&Je(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(Q.PureComponent);Sb(hp,"displayName","Legend");Sb(hp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var F_,z5;function v0e(){if(z5)return F_;z5=1;var t=Sy(),e=DR(),n=So(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return F_=i,F_}var V_,H5;function aW(){if(H5)return V_;H5=1;var t=Yq(),e=v0e();function n(r,i,s,o,a){var c=-1,u=r.length;for(s||(s=e),a||(a=[]);++c<u;){var g=r[c];i>0&&s(g)?i>1?n(g,i-1,s,o,a):t(a,g):o||(a[a.length]=g)}return a}return V_=n,V_}var U_,$5;function w0e(){if($5)return U_;$5=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),c=a.length;c--;){var u=a[e?c:++s];if(r(o[u],u,o)===!1)break}return n}}return U_=t,U_}var z_,G5;function x0e(){if(G5)return z_;G5=1;var t=w0e(),e=t();return z_=e,z_}var H_,q5;function lW(){if(q5)return H_;q5=1;var t=x0e(),e=Eb();function n(r,i){return r&&t(r,i,e)}return H_=n,H_}var $_,W5;function b0e(){if(W5)return $_;W5=1;var t=Cy();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var o=i.length,a=r?o:-1,c=Object(i);(r?a--:++a<o)&&s(c[a],a,c)!==!1;);return i}}return $_=e,$_}var G_,K5;function FR(){if(K5)return G_;K5=1;var t=lW(),e=b0e(),n=e(t);return G_=n,G_}var q_,Y5;function cW(){if(Y5)return q_;Y5=1;var t=FR(),e=Cy();function n(r,i){var s=-1,o=e(r)?Array(r.length):[];return t(r,function(a,c,u){o[++s]=i(a,c,u)}),o}return q_=n,q_}var W_,Q5;function A0e(){if(Q5)return W_;Q5=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return W_=t,W_}var K_,X5;function E0e(){if(X5)return K_;X5=1;var t=_g();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=t(n),c=r!==void 0,u=r===null,g=r===r,m=t(r);if(!u&&!m&&!a&&n>r||a&&c&&g&&!u&&!m||s&&c&&g||!i&&g||!o)return 1;if(!s&&!a&&!m&&n<r||m&&i&&o&&!s&&!a||u&&i&&o||!c&&o||!g)return-1}return 0}return K_=e,K_}var Y_,Z5;function S0e(){if(Z5)return Y_;Z5=1;var t=E0e();function e(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,c=o.length,u=i.length;++s<c;){var g=t(o[s],a[s]);if(g){if(s>=u)return g;var m=i[s];return g*(m=="desc"?-1:1)}}return n.index-r.index}return Y_=e,Y_}var Q_,J5;function _0e(){if(J5)return Q_;J5=1;var t=_R(),e=TR(),n=jl(),r=cW(),i=A0e(),s=Xq(),o=S0e(),a=Cg(),c=So();function u(g,m,w){m.length?m=t(m,function(_){return c(_)?function(C){return e(C,_.length===1?_[0]:_)}:_}):m=[a];var A=-1;m=t(m,s(n));var I=r(g,function(_,C,R){var j=t(m,function(k){return k(_)});return{criteria:j,index:++A,value:_}});return i(I,function(_,C){return o(_,C,w)})}return Q_=u,Q_}var X_,eB;function T0e(){if(eB)return X_;eB=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return X_=t,X_}var Z_,tB;function C0e(){if(tB)return Z_;tB=1;var t=T0e(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,c=e(o.length-i,0),u=Array(c);++a<c;)u[a]=o[i+a];a=-1;for(var g=Array(i+1);++a<i;)g[a]=o[a];return g[i]=s(u),t(r,this,g)}}return Z_=n,Z_}var J_,nB;function I0e(){if(nB)return J_;nB=1;function t(e){return function(){return e}}return J_=t,J_}var eT,rB;function uW(){if(rB)return eT;rB=1;var t=Wh(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return eT=e,eT}var tT,iB;function P0e(){if(iB)return tT;iB=1;var t=I0e(),e=uW(),n=Cg(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return tT=r,tT}var nT,sB;function N0e(){if(sB)return nT;sB=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),c=e-(a-o);if(o=a,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return nT=r,nT}var rT,oB;function O0e(){if(oB)return rT;oB=1;var t=P0e(),e=N0e(),n=e(t);return rT=n,rT}var iT,aB;function R0e(){if(aB)return iT;aB=1;var t=Cg(),e=C0e(),n=O0e();function r(i,s){return n(e(i,s,t),i+"")}return iT=r,iT}var sT,lB;function _b(){if(lB)return sT;lB=1;var t=AR(),e=Cy(),n=LR(),r=ff();function i(s,o,a){if(!r(a))return!1;var c=typeof o;return(c=="number"?e(a)&&n(o,a.length):c=="string"&&o in a)?t(a[o],s):!1}return sT=i,sT}var oT,cB;function k0e(){if(cB)return oT;cB=1;var t=aW(),e=_0e(),n=R0e(),r=_b(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return oT=i,oT}var M0e=k0e();const VR=Nn(M0e);function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function dP(){return dP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dP.apply(this,arguments)}function D0e(t,e){return F0e(t)||j0e(t,e)||B0e(t,e)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B0e(t,e){if(t){if(typeof t=="string")return uB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uB(t,e)}}function uB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function F0e(t){if(Array.isArray(t))return t}function fB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(n),!0).forEach(function(r){V0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V0e(t,e,n){return e=U0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=z0e(t,"string");return m0(e)=="symbol"?e:e+""}function z0e(t,e){if(m0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H0e(t){return Array.isArray(t)&&Fi(t[0])&&Fi(t[1])?t.join(" ~ "):t}var $0e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,g=e.payload,m=e.formatter,w=e.itemSorter,A=e.wrapperClassName,I=e.labelClassName,_=e.label,C=e.labelFormatter,R=e.accessibilityLayer,j=R===void 0?!1:R,k=function(){if(g&&g.length){var G={padding:0,margin:0},$=(w?VR(g,w):g).map(function(ce,J){if(ce.type==="none")return null;var oe=aT({display:"block",paddingTop:4,paddingBottom:4,color:ce.color||"#000"},a),ae=ce.formatter||m||H0e,re=ce.value,pe=ce.name,we=re,ue=pe;if(ae&&we!=null&&ue!=null){var he=ae(re,pe,ce,J,g);if(Array.isArray(he)){var xe=D0e(he,2);we=xe[0],ue=xe[1]}else we=he}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:oe},Fi(ue)?se.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,Fi(ue)?se.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,se.createElement("span",{className:"recharts-tooltip-item-value"},we),se.createElement("span",{className:"recharts-tooltip-item-unit"},ce.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:G},$)}return null},U=aT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),D=aT({margin:0},u),B=!an(_),O=B?_:"",M=Xt("recharts-default-tooltip",A),V=Xt("recharts-tooltip-label",I);B&&C&&g!==void 0&&g!==null&&(O=C(_,g));var K=j?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",dP({className:M,style:U},K),se.createElement("p",{className:V,style:D},se.isValidElement(O)?O:"".concat(O)),k())};function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}function J1(t,e,n){return e=G0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G0e(t){var e=q0e(t,"string");return y0(e)=="symbol"?e:e+""}function q0e(t,e){if(y0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cm="recharts-tooltip-wrapper",W0e={visibility:"hidden"};function K0e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Xt(cm,J1(J1(J1(J1({},"".concat(cm,"-right"),Je(n)&&e&&Je(e.x)&&n>=e.x),"".concat(cm,"-left"),Je(n)&&e&&Je(e.x)&&n<e.x),"".concat(cm,"-bottom"),Je(r)&&e&&Je(e.y)&&r>=e.y),"".concat(cm,"-top"),Je(r)&&e&&Je(e.y)&&r<e.y))}function hB(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Je(s[r]))return s[r];var g=n[r]-a-i,m=n[r]+i;if(e[r])return o[r]?g:m;if(o[r]){var w=g,A=c[r];return w<A?Math.max(m,c[r]):Math.max(g,c[r])}var I=m+a,_=c[r]+u;return I>_?Math.max(g,c[r]):Math.max(m,c[r])}function Y0e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Q0e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,c=t.viewBox,u,g,m;return o.height>0&&o.width>0&&n?(g=hB({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=hB({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Y0e({translateX:g,translateY:m,useTranslate3d:a})):u=W0e,{cssProperties:u,cssClasses:K0e({translateX:g,translateY:m,coordinate:n})}}function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function dB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(n),!0).forEach(function(r){gP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hW(r.key),r)}}function J0e(t,e,n){return e&&Z0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eye(t,e,n){return e=kw(e),tye(t,fW()?Reflect.construct(e,n||[],kw(t).constructor):e.apply(t,n))}function tye(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nye(t)}function nye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fW=function(){return!!t})()}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kw(t)}function rye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pP(t,e)}function pP(t,e){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pP(t,e)}function gP(t,e,n){return e=hW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hW(t){var e=iye(t,"string");return Dp(e)=="symbol"?e:e+""}function iye(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gB=1,sye=(function(t){function e(){var n;X0e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=eye(this,e,[].concat(i)),gP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,c,u,g;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&a!==void 0?a:0,y:(u=(g=n.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&u!==void 0?u:0}})}}),n}return rye(e,t),J0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>gB||Math.abs(r.height-this.state.lastBoundingBox.height)>gB)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.children,g=i.coordinate,m=i.hasPayload,w=i.isAnimationActive,A=i.offset,I=i.position,_=i.reverseDirection,C=i.useTranslate3d,R=i.viewBox,j=i.wrapperStyle,k=Q0e({allowEscapeViewBox:o,coordinate:g,offsetTopLeft:A,position:I,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:C,viewBox:R}),U=k.cssClasses,D=k.cssProperties,B=pB(pB({transition:w&&s?"transform ".concat(a,"ms ").concat(c):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},j);return se.createElement("div",{tabIndex:-1,className:U,style:B,ref:function(M){r.wrapperNode=M}},u)}}])})(Q.PureComponent),oye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ig={isSsr:oye()};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function mB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mB(Object(n),!0).forEach(function(r){UR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pW(r.key),r)}}function cye(t,e,n){return e&&lye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uye(t,e,n){return e=Mw(e),fye(t,dW()?Reflect.construct(e,n||[],Mw(t).constructor):e.apply(t,n))}function fye(t,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hye(t)}function hye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dW=function(){return!!t})()}function Mw(t){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mw(t)}function dye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mP(t,e)}function mP(t,e){return mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mP(t,e)}function UR(t,e,n){return e=pW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pW(t){var e=pye(t,"string");return Lp(e)=="symbol"?e:e+""}function pye(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gye(t){return t.dataKey}function mye(t,e){return se.isValidElement(t)?se.cloneElement(t,e):typeof t=="function"?se.createElement(t,e):se.createElement($0e,e)}var fa=(function(t){function e(){return aye(this,e),uye(this,e,arguments)}return dye(e,t),cye(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.content,g=i.coordinate,m=i.filterNull,w=i.isAnimationActive,A=i.offset,I=i.payload,_=i.payloadUniqBy,C=i.position,R=i.reverseDirection,j=i.useTranslate3d,k=i.viewBox,U=i.wrapperStyle,D=I??[];m&&D.length&&(D=iW(I.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),_,gye));var B=D.length>0;return se.createElement(sye,{allowEscapeViewBox:o,animationDuration:a,animationEasing:c,isAnimationActive:w,active:s,coordinate:g,hasPayload:B,offset:A,position:C,reverseDirection:R,useTranslate3d:j,viewBox:k,wrapperStyle:U},mye(u,yB(yB({},this.props),{},{payload:D})))}}])})(Q.PureComponent);UR(fa,"displayName","Tooltip");UR(fa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ig.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lT,vB;function yye(){if(vB)return lT;vB=1;var t=Bl(),e=function(){return t.Date.now()};return lT=e,lT}var cT,wB;function vye(){if(wB)return cT;wB=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return cT=e,cT}var uT,xB;function wye(){if(xB)return uT;xB=1;var t=vye(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return uT=n,uT}var fT,bB;function gW(){if(bB)return fT;bB=1;var t=wye(),e=ff(),n=_g(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var g=typeof u.valueOf=="function"?u.valueOf():u;u=e(g)?g+"":g}if(typeof u!="string")return u===0?u:+u;u=t(u);var m=s.test(u);return m||o.test(u)?a(u.slice(2),m?2:8):i.test(u)?r:+u}return fT=c,fT}var hT,AB;function xye(){if(AB)return hT;AB=1;var t=ff(),e=yye(),n=gW(),r="Expected a function",i=Math.max,s=Math.min;function o(a,c,u){var g,m,w,A,I,_,C=0,R=!1,j=!1,k=!0;if(typeof a!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(R=!!u.leading,j="maxWait"in u,w=j?i(n(u.maxWait)||0,c):w,k="trailing"in u?!!u.trailing:k);function U($){var ce=g,J=m;return g=m=void 0,C=$,A=a.apply(J,ce),A}function D($){return C=$,I=setTimeout(M,c),R?U($):A}function B($){var ce=$-_,J=$-C,oe=c-ce;return j?s(oe,w-J):oe}function O($){var ce=$-_,J=$-C;return _===void 0||ce>=c||ce<0||j&&J>=w}function M(){var $=e();if(O($))return V($);I=setTimeout(M,B($))}function V($){return I=void 0,k&&g?U($):(g=m=void 0,A)}function K(){I!==void 0&&clearTimeout(I),C=0,g=_=m=I=void 0}function W(){return I===void 0?A:V(e())}function G(){var $=e(),ce=O($);if(g=arguments,m=this,_=$,ce){if(I===void 0)return D(_);if(j)return clearTimeout(I),I=setTimeout(M,c),U(_)}return I===void 0&&(I=setTimeout(M,c)),A}return G.cancel=K,G.flush=W,G}return hT=o,hT}var dT,EB;function bye(){if(EB)return dT;EB=1;var t=xye(),e=ff(),n="Expected a function";function r(i,s,o){var a=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:a,maxWait:s,trailing:c})}return dT=r,dT}var Aye=bye();const mW=Nn(Aye);function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}function SB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(n),!0).forEach(function(r){Eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eye(t,e,n){return e=Sye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sye(t){var e=_ye(t,"string");return v0(e)=="symbol"?e:e+""}function _ye(t,e){if(v0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(v0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tye(t,e){return Nye(t)||Pye(t,e)||Iye(t,e)||Cye()}function Cye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iye(t,e){if(t){if(typeof t=="string")return _B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _B(t,e)}}function _B(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Nye(t){if(Array.isArray(t))return t}var yP=Q.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,c=a===void 0?"100%":a,u=t.minWidth,g=u===void 0?0:u,m=t.minHeight,w=t.maxHeight,A=t.children,I=t.debounce,_=I===void 0?0:I,C=t.id,R=t.className,j=t.onResize,k=t.style,U=k===void 0?{}:k,D=Q.useRef(null),B=Q.useRef();B.current=j,Q.useImperativeHandle(e,function(){return Object.defineProperty(D.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),D.current},configurable:!0})});var O=Q.useState({containerWidth:i.width,containerHeight:i.height}),M=Tye(O,2),V=M[0],K=M[1],W=Q.useCallback(function($,ce){K(function(J){var oe=Math.round($),ae=Math.round(ce);return J.containerWidth===oe&&J.containerHeight===ae?J:{containerWidth:oe,containerHeight:ae}})},[]);Q.useEffect(function(){var $=function(pe){var we,ue=pe[0].contentRect,he=ue.width,xe=ue.height;W(he,xe),(we=B.current)===null||we===void 0||we.call(B,he,xe)};_>0&&($=mW($,_,{trailing:!0,leading:!1}));var ce=new ResizeObserver($),J=D.current.getBoundingClientRect(),oe=J.width,ae=J.height;return W(oe,ae),ce.observe(D.current),function(){ce.disconnect()}},[W,_]);var G=Q.useMemo(function(){var $=V.containerWidth,ce=V.containerHeight;if($<0||ce<0)return null;$a(th(o)||th(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),$a(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=th(o)?$:o,oe=th(c)?ce:c;n&&n>0&&(J?oe=J/n:oe&&(J=oe*n),w&&oe>w&&(oe=w)),$a(J>0||oe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,oe,o,c,g,m,n);var ae=!Array.isArray(A)&&wc(A.type).endsWith("Chart");return se.Children.map(A,function(re){return se.isValidElement(re)?Q.cloneElement(re,ev({width:J,height:oe},ae?{style:ev({height:"100%",width:"100%",maxHeight:oe,maxWidth:J},re.props.style)}:{})):re})},[n,A,c,w,m,g,V,o]);return se.createElement("div",{id:C?"".concat(C):void 0,className:Xt("recharts-responsive-container",R),style:ev(ev({},U),{},{width:o,height:c,minWidth:g,minHeight:m,maxHeight:w}),ref:D},G)}),Tb=function(e){return null};Tb.displayName="Cell";function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(r){Oye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oye(t,e,n){return e=Rye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rye(t){var e=kye(t,"string");return w0(e)=="symbol"?e:e+""}function kye(t,e){if(w0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pd={widthCache:{},cacheCount:0},Mye=2e3,Dye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CB="recharts_measurement_span";function Lye(t){var e=vP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var $m=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ig.isSsr)return{width:0,height:0};var r=Lye(n),i=JSON.stringify({text:e,copyStyle:r});if(Pd.widthCache[i])return Pd.widthCache[i];try{var s=document.getElementById(CB);s||(s=document.createElement("span"),s.setAttribute("id",CB),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=vP(vP({},Dye),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),c={width:a.width,height:a.height};return Pd.widthCache[i]=c,++Pd.cacheCount>Mye&&(Pd.cacheCount=0,Pd.widthCache={}),c}catch{return{width:0,height:0}}},Bye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function x0(t){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(t)}function Dw(t,e){return Uye(t)||Vye(t,e)||Fye(t,e)||jye()}function jye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fye(t,e){if(t){if(typeof t=="string")return IB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IB(t,e)}}function IB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Uye(t){if(Array.isArray(t))return t}function zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$ye(r.key),r)}}function Hye(t,e,n){return e&&PB(t.prototype,e),n&&PB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ye(t){var e=Gye(t,"string");return x0(e)=="symbol"?e:e+""}function Gye(t,e){if(x0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(x0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kye=Object.keys(yW),zd="NaN";function Yye(t,e){return t*yW[e]}var tv=(function(){function t(e,n){zye(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!qye.test(n)&&(this.num=NaN,this.unit=""),Kye.includes(n)&&(this.num=Yye(e,n),this.unit="px")}return Hye(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Wye.exec(n))!==null&&r!==void 0?r:[],s=Dw(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])})();function vW(t){if(t.includes(zd))return zd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=NB.exec(e))!==null&&n!==void 0?n:[],i=Dw(r,4),s=i[1],o=i[2],a=i[3],c=tv.parse(s??""),u=tv.parse(a??""),g=o==="*"?c.multiply(u):c.divide(u);if(g.isNaN())return zd;e=e.replace(NB,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,w=(m=OB.exec(e))!==null&&m!==void 0?m:[],A=Dw(w,4),I=A[1],_=A[2],C=A[3],R=tv.parse(I??""),j=tv.parse(C??""),k=_==="+"?R.add(j):R.subtract(j);if(k.isNaN())return zd;e=e.replace(OB,k.toString())}return e}var RB=/\(([^()]*)\)/;function Qye(t){for(var e=t;e.includes("(");){var n=RB.exec(e),r=Dw(n,2),i=r[1];e=e.replace(RB,vW(i))}return e}function Xye(t){var e=t.replace(/\s+/g,"");return e=Qye(e),e=vW(e),e}function Zye(t){try{return Xye(t)}catch{return zd}}function pT(t){var e=Zye(t.slice(5,-1));return e===zd?"":e}var Jye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],e1e=["dx","dy","angle","className","breakAll"];function wP(){return wP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wP.apply(this,arguments)}function kB(t,e){if(t==null)return{};var n=t1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MB(t,e){return s1e(t)||i1e(t,e)||r1e(t,e)||n1e()}function n1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r1e(t,e){if(t){if(typeof t=="string")return DB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DB(t,e)}}function DB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function s1e(t){if(Array.isArray(t))return t}var wW=/[ \f\n\r\t\v\u2028\u2029]+/,xW=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];an(n)||(r?s=n.toString().split(""):s=n.toString().split(wW));var o=s.map(function(c){return{word:c,width:$m(c,i).width}}),a=r?0:$m(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},o1e=function(e,n,r,i,s){var o=e.maxLines,a=e.children,c=e.style,u=e.breakAll,g=Je(o),m=a,w=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(oe,ae){var re=ae.word,pe=ae.width,we=oe[oe.length-1];if(we&&(i==null||s||we.width+pe+r<Number(i)))we.words.push(re),we.width+=pe+r;else{var ue={words:[re],width:pe};oe.push(ue)}return oe},[])},A=w(n),I=function(J){return J.reduce(function(oe,ae){return oe.width>ae.width?oe:ae})};if(!g)return A;for(var _="…",C=function(J){var oe=m.slice(0,J),ae=xW({breakAll:u,style:c,children:oe+_}).wordsWithComputedWidth,re=w(ae),pe=re.length>o||I(re).width>Number(i);return[pe,re]},R=0,j=m.length-1,k=0,U;R<=j&&k<=m.length-1;){var D=Math.floor((R+j)/2),B=D-1,O=C(B),M=MB(O,2),V=M[0],K=M[1],W=C(D),G=MB(W,1),$=G[0];if(!V&&!$&&(R=D+1),V&&$&&(j=D-1),!V&&$){U=K;break}k++}return U||A},LB=function(e){var n=an(e)?[]:e.toString().split(wW);return[{words:n}]},a1e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!Ig.isSsr){var c,u,g=xW({breakAll:o,children:i,style:s});if(g){var m=g.wordsWithComputedWidth,w=g.spaceWidth;c=m,u=w}else return LB(i);return o1e({breakAll:o,children:i,maxLines:a,style:s},c,u,n,r)}return LB(i)},BB="#808080",kh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,g=e.scaleToFit,m=g===void 0?!1:g,w=e.textAnchor,A=w===void 0?"start":w,I=e.verticalAnchor,_=I===void 0?"end":I,C=e.fill,R=C===void 0?BB:C,j=kB(e,Jye),k=Q.useMemo(function(){return a1e({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:m,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,m,j.style,j.width]),U=j.dx,D=j.dy,B=j.angle,O=j.className,M=j.breakAll,V=kB(j,e1e);if(!Fi(r)||!Fi(s))return null;var K=r+(Je(U)?U:0),W=s+(Je(D)?D:0),G;switch(_){case"start":G=pT("calc(".concat(u,")"));break;case"middle":G=pT("calc(".concat((k.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:G=pT("calc(".concat(k.length-1," * -").concat(a,")"));break}var $=[];if(m){var ce=k[0].width,J=j.width;$.push("scale(".concat((Je(J)?J/ce:1)/ce,")"))}return B&&$.push("rotate(".concat(B,", ").concat(K,", ").concat(W,")")),$.length&&(V.transform=$.join(" ")),se.createElement("text",wP({},Bt(V,!0),{x:K,y:W,className:Xt("recharts-text",O),textAnchor:A,fill:R.includes("url")?BB:R}),k.map(function(oe,ae){var re=oe.words.join(M?"":" ");return se.createElement("tspan",{x:K,dy:ae===0?G:a,key:"".concat(re,"-").concat(ae)},re)}))};function zu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function l1e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zR(t){let e,n,r;t.length!==2?(e=zu,n=(a,c)=>zu(t(a),c),r=(a,c)=>t(a)-c):(e=t===zu||t===l1e?t:c1e,n=t,r=t);function i(a,c,u=0,g=a.length){if(u<g){if(e(c,c)!==0)return g;do{const m=u+g>>>1;n(a[m],c)<0?u=m+1:g=m}while(u<g)}return u}function s(a,c,u=0,g=a.length){if(u<g){if(e(c,c)!==0)return g;do{const m=u+g>>>1;n(a[m],c)<=0?u=m+1:g=m}while(u<g)}return u}function o(a,c,u=0,g=a.length){const m=i(a,c,u,g-1);return m>u&&r(a[m-1],c)>-r(a[m],c)?m-1:m}return{left:i,center:o,right:s}}function c1e(){return 0}function bW(t){return t===null?NaN:+t}function*u1e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const f1e=zR(zu),Iy=f1e.right;zR(bW).center;class jB extends Map{constructor(e,n=p1e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(FB(this,e))}has(e){return super.has(FB(this,e))}set(e,n){return super.set(h1e(this,e),n)}delete(e){return super.delete(d1e(this,e))}}function FB({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function h1e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function d1e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function p1e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function g1e(t=zu){if(t===zu)return AW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function AW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const m1e=Math.sqrt(50),y1e=Math.sqrt(10),v1e=Math.sqrt(2);function Lw(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=m1e?10:s>=y1e?5:s>=v1e?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?Lw(t,e,n*2):[a,c,u]}function xP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Lw(e,t,n):Lw(t,e,n);if(!(s>=i))return[];const a=s-i+1,c=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)c[u]=(s-u)/-o;else for(let u=0;u<a;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)c[u]=(i+u)/-o;else for(let u=0;u<a;++u)c[u]=(i+u)*o;return c}function bP(t,e,n){return e=+e,t=+t,n=+n,Lw(t,e,n)[2]}function AP(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?bP(e,t,n):bP(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function VB(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UB(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function EW(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?AW:g1e(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,g=Math.log(c),m=.5*Math.exp(2*g/3),w=.5*Math.sqrt(g*m*(c-m)/c)*(u-c/2<0?-1:1),A=Math.max(n,Math.floor(e-u*m/c+w)),I=Math.min(r,Math.floor(e+(c-u)*m/c+w));EW(t,e,A,I,i)}const s=t[e];let o=n,a=r;for(um(t,n,e),i(t[r],s)>0&&um(t,n,r);o<a;){for(um(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?um(t,n,a):(++a,um(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function um(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function w1e(t,e,n){if(t=Float64Array.from(u1e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return UB(t);if(e>=1)return VB(t);var r,i=(r-1)*e,s=Math.floor(i),o=VB(EW(t,s).subarray(0,s+1)),a=UB(t.subarray(s+1));return o+(a-o)*(i-s)}}function x1e(t,e,n=bW){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function b1e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ba(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const EP=Symbol("implicit");function HR(){var t=new jB,e=[],n=[],r=EP;function i(s){let o=t.get(s);if(o===void 0){if(r!==EP)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new jB;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return HR(e,n).unknown(r)},ba.apply(i,arguments),i}function b0(){var t=HR().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,c=0,u=0,g=.5;delete t.unknown;function m(){var w=e().length,A=i<r,I=A?i:r,_=A?r:i;s=(_-I)/Math.max(1,w-c+u*2),a&&(s=Math.floor(s)),I+=(_-I-s*(w-c))*g,o=s*(1-c),a&&(I=Math.round(I),o=Math.round(o));var C=b1e(w).map(function(R){return I+s*R});return n(A?C.reverse():C)}return t.domain=function(w){return arguments.length?(e(w),m()):e()},t.range=function(w){return arguments.length?([r,i]=w,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(w){return[r,i]=w,r=+r,i=+i,a=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(w){return arguments.length?(a=!!w,m()):a},t.padding=function(w){return arguments.length?(c=Math.min(1,u=+w),m()):c},t.paddingInner=function(w){return arguments.length?(c=Math.min(1,w),m()):c},t.paddingOuter=function(w){return arguments.length?(u=+w,m()):u},t.align=function(w){return arguments.length?(g=Math.max(0,Math.min(1,w)),m()):g},t.copy=function(){return b0(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(g)},ba.apply(m(),arguments)}function SW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return SW(e())},t}function Gm(){return SW(b0.apply(null,arguments).paddingInner(1))}function $R(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _W(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Py(){}var A0=.7,Bw=1/A0,dp="\\s*([+-]?\\d+)\\s*",E0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A1e=/^#([0-9a-f]{3,8})$/,E1e=new RegExp(`^rgb\\(${dp},${dp},${dp}\\)$`),S1e=new RegExp(`^rgb\\(${Cl},${Cl},${Cl}\\)$`),_1e=new RegExp(`^rgba\\(${dp},${dp},${dp},${E0}\\)$`),T1e=new RegExp(`^rgba\\(${Cl},${Cl},${Cl},${E0}\\)$`),C1e=new RegExp(`^hsl\\(${E0},${Cl},${Cl}\\)$`),I1e=new RegExp(`^hsla\\(${E0},${Cl},${Cl},${E0}\\)$`),zB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$R(Py,S0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HB,formatHex:HB,formatHex8:P1e,formatHsl:N1e,formatRgb:$B,toString:$B});function HB(){return this.rgb().formatHex()}function P1e(){return this.rgb().formatHex8()}function N1e(){return TW(this).formatHsl()}function $B(){return this.rgb().formatRgb()}function S0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=A1e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?GB(e):n===3?new bo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=E1e.exec(t))?new bo(e[1],e[2],e[3],1):(e=S1e.exec(t))?new bo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_1e.exec(t))?nv(e[1],e[2],e[3],e[4]):(e=T1e.exec(t))?nv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=C1e.exec(t))?KB(e[1],e[2]/100,e[3]/100,1):(e=I1e.exec(t))?KB(e[1],e[2]/100,e[3]/100,e[4]):zB.hasOwnProperty(t)?GB(zB[t]):t==="transparent"?new bo(NaN,NaN,NaN,0):null}function GB(t){return new bo(t>>16&255,t>>8&255,t&255,1)}function nv(t,e,n,r){return r<=0&&(t=e=n=NaN),new bo(t,e,n,r)}function O1e(t){return t instanceof Py||(t=S0(t)),t?(t=t.rgb(),new bo(t.r,t.g,t.b,t.opacity)):new bo}function SP(t,e,n,r){return arguments.length===1?O1e(t):new bo(t,e,n,r??1)}function bo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$R(bo,SP,_W(Py,{brighter(t){return t=t==null?Bw:Math.pow(Bw,t),new bo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?A0:Math.pow(A0,t),new bo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bo(ph(this.r),ph(this.g),ph(this.b),jw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qB,formatHex:qB,formatHex8:R1e,formatRgb:WB,toString:WB}));function qB(){return`#${nh(this.r)}${nh(this.g)}${nh(this.b)}`}function R1e(){return`#${nh(this.r)}${nh(this.g)}${nh(this.b)}${nh((isNaN(this.opacity)?1:this.opacity)*255)}`}function WB(){const t=jw(this.opacity);return`${t===1?"rgb(":"rgba("}${ph(this.r)}, ${ph(this.g)}, ${ph(this.b)}${t===1?")":`, ${t})`}`}function jw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ph(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nh(t){return t=ph(t),(t<16?"0":"")+t.toString(16)}function KB(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Va(t,e,n,r)}function TW(t){if(t instanceof Va)return new Va(t.h,t.s,t.l,t.opacity);if(t instanceof Py||(t=S0(t)),!t)return new Va;if(t instanceof Va)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new Va(o,a,c,t.opacity)}function k1e(t,e,n,r){return arguments.length===1?TW(t):new Va(t,e,n,r??1)}function Va(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$R(Va,k1e,_W(Py,{brighter(t){return t=t==null?Bw:Math.pow(Bw,t),new Va(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?A0:Math.pow(A0,t),new Va(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new bo(gT(t>=240?t-240:t+120,i,r),gT(t,i,r),gT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Va(YB(this.h),rv(this.s),rv(this.l),jw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jw(this.opacity);return`${t===1?"hsl(":"hsla("}${YB(this.h)}, ${rv(this.s)*100}%, ${rv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function YB(t){return t=(t||0)%360,t<0?t+360:t}function rv(t){return Math.max(0,Math.min(1,t||0))}function gT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const GR=t=>()=>t;function M1e(t,e){return function(n){return t+n*e}}function D1e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function L1e(t){return(t=+t)==1?CW:function(e,n){return n-e?D1e(e,n,t):GR(isNaN(e)?n:e)}}function CW(t,e){var n=e-t;return n?M1e(t,n):GR(isNaN(t)?e:t)}const QB=(function t(e){var n=L1e(e);function r(i,s){var o=n((i=SP(i)).r,(s=SP(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),u=CW(i.opacity,s.opacity);return function(g){return i.r=o(g),i.g=a(g),i.b=c(g),i.opacity=u(g),i+""}}return r.gamma=t,r})(1);function B1e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function j1e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function F1e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Pg(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function V1e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function U1e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Pg(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var _P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mT=new RegExp(_P.source,"g");function z1e(t){return function(){return t}}function H1e(t){return function(e){return t(e)+""}}function $1e(t,e){var n=_P.lastIndex=mT.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(r=_P.exec(t))&&(i=mT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:Fw(r,i)})),n=mT.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?H1e(c[0].x):z1e(e):(e=c.length,function(u){for(var g=0,m;g<e;++g)a[(m=c[g]).i]=m.x(u);return a.join("")})}function Pg(t,e){var n=typeof e,r;return e==null||n==="boolean"?GR(e):(n==="number"?Fw:n==="string"?(r=S0(e))?(e=r,QB):$1e:e instanceof S0?QB:e instanceof Date?V1e:j1e(e)?B1e:Array.isArray(e)?F1e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?U1e:Fw)(t,e)}function qR(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function G1e(t,e){e===void 0&&(e=t,t=Pg);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function q1e(t){return function(){return t}}function Vw(t){return+t}var XB=[0,1];function Js(t){return t}function TP(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:q1e(isNaN(e)?NaN:.5)}function W1e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function K1e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=TP(i,r),s=n(o,s)):(r=TP(r,i),s=n(s,o)),function(a){return s(r(a))}}function Y1e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=TP(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var c=Iy(t,a,1,r)-1;return s[c](i[c](a))}}function Ny(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cb(){var t=XB,e=XB,n=Pg,r,i,s,o=Js,a,c,u;function g(){var w=Math.min(t.length,e.length);return o!==Js&&(o=W1e(t[0],t[w-1])),a=w>2?Y1e:K1e,c=u=null,m}function m(w){return w==null||isNaN(w=+w)?s:(c||(c=a(t.map(r),e,n)))(r(o(w)))}return m.invert=function(w){return o(i((u||(u=a(e,t.map(r),Fw)))(w)))},m.domain=function(w){return arguments.length?(t=Array.from(w,Vw),g()):t.slice()},m.range=function(w){return arguments.length?(e=Array.from(w),g()):e.slice()},m.rangeRound=function(w){return e=Array.from(w),n=qR,g()},m.clamp=function(w){return arguments.length?(o=w?!0:Js,g()):o!==Js},m.interpolate=function(w){return arguments.length?(n=w,g()):n},m.unknown=function(w){return arguments.length?(s=w,m):s},function(w,A){return r=w,i=A,g()}}function WR(){return Cb()(Js,Js)}function Q1e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Uw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bp(t){return t=Uw(Math.abs(t)),t?t[1]:NaN}function X1e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Z1e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var J1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _0(t){if(!(e=J1e.exec(t)))throw new Error("invalid format: "+t);var e;return new KR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_0.prototype=KR.prototype;function KR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eve(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var IW;function tve(t,e){var n=Uw(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(IW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Uw(t,Math.max(0,e+s-1))[0]}function ZB(t,e){var n=Uw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Q1e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZB(t*100,e),r:ZB,s:tve,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ej(t){return t}var tj=Array.prototype.map,nj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nve(t){var e=t.grouping===void 0||t.thousands===void 0?ej:X1e(tj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?ej:Z1e(tj.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(m){m=_0(m);var w=m.fill,A=m.align,I=m.sign,_=m.symbol,C=m.zero,R=m.width,j=m.comma,k=m.precision,U=m.trim,D=m.type;D==="n"?(j=!0,D="g"):JB[D]||(k===void 0&&(k=12),U=!0,D="g"),(C||w==="0"&&A==="=")&&(C=!0,w="0",A="=");var B=_==="$"?n:_==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",O=_==="$"?r:/[%p]/.test(D)?o:"",M=JB[D],V=/[defgprs%]/.test(D);k=k===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function K(W){var G=B,$=O,ce,J,oe;if(D==="c")$=M(W)+$,W="";else{W=+W;var ae=W<0||1/W<0;if(W=isNaN(W)?c:M(Math.abs(W),k),U&&(W=eve(W)),ae&&+W==0&&I!=="+"&&(ae=!1),G=(ae?I==="("?I:a:I==="-"||I==="("?"":I)+G,$=(D==="s"?nj[8+IW/3]:"")+$+(ae&&I==="("?")":""),V){for(ce=-1,J=W.length;++ce<J;)if(oe=W.charCodeAt(ce),48>oe||oe>57){$=(oe===46?i+W.slice(ce+1):W.slice(ce))+$,W=W.slice(0,ce);break}}}j&&!C&&(W=e(W,1/0));var re=G.length+W.length+$.length,pe=re<R?new Array(R-re+1).join(w):"";switch(j&&C&&(W=e(pe+W,pe.length?R-$.length:1/0),pe=""),A){case"<":W=G+W+$+pe;break;case"=":W=G+pe+W+$;break;case"^":W=pe.slice(0,re=pe.length>>1)+G+W+$+pe.slice(re);break;default:W=pe+G+W+$;break}return s(W)}return K.toString=function(){return m+""},K}function g(m,w){var A=u((m=_0(m),m.type="f",m)),I=Math.max(-8,Math.min(8,Math.floor(Bp(w)/3)))*3,_=Math.pow(10,-I),C=nj[8+I/3];return function(R){return A(_*R)+C}}return{format:u,formatPrefix:g}}var iv,YR,PW;rve({thousands:",",grouping:[3],currency:["$",""]});function rve(t){return iv=nve(t),YR=iv.format,PW=iv.formatPrefix,iv}function ive(t){return Math.max(0,-Bp(Math.abs(t)))}function sve(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bp(e)/3)))*3-Bp(Math.abs(t)))}function ove(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bp(e)-Bp(t))+1}function NW(t,e,n,r){var i=AP(t,e,n),s;switch(r=_0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=sve(i,o))&&(r.precision=s),PW(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=ove(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=ive(i))&&(r.precision=s-(r.type==="%")*2);break}}return YR(r)}function hf(t){var e=t.domain;return t.ticks=function(n){var r=e();return xP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return NW(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],c,u,g=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);g-- >0;){if(u=bP(o,a,n),u===c)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function zw(){var t=WR();return t.copy=function(){return Ny(t,zw())},ba.apply(t,arguments),hf(t)}function OW(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vw),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OW(t).unknown(e)},t=arguments.length?Array.from(t,Vw):[0,1],hf(n)}function RW(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function rj(t){return Math.log(t)}function ij(t){return Math.exp(t)}function ave(t){return-Math.log(-t)}function lve(t){return-Math.exp(-t)}function cve(t){return isFinite(t)?+("1e"+t):t<0?0:t}function uve(t){return t===10?cve:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fve(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sj(t){return(e,n)=>-t(-e,n)}function QR(t){const e=t(rj,ij),n=e.domain;let r=10,i,s;function o(){return i=fve(r),s=uve(r),n()[0]<0?(i=sj(i),s=sj(s),t(ave,lve)):t(rj,ij),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const c=n();let u=c[0],g=c[c.length-1];const m=g<u;m&&([u,g]=[g,u]);let w=i(u),A=i(g),I,_;const C=a==null?10:+a;let R=[];if(!(r%1)&&A-w<C){if(w=Math.floor(w),A=Math.ceil(A),u>0){for(;w<=A;++w)for(I=1;I<r;++I)if(_=w<0?I/s(-w):I*s(w),!(_<u)){if(_>g)break;R.push(_)}}else for(;w<=A;++w)for(I=r-1;I>=1;--I)if(_=w>0?I/s(-w):I*s(w),!(_<u)){if(_>g)break;R.push(_)}R.length*2<C&&(R=xP(u,g,C))}else R=xP(w,A,Math.min(A-w,C)).map(s);return m?R.reverse():R},e.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=_0(c)).precision==null&&(c.trim=!0),c=YR(c)),a===1/0)return c;const u=Math.max(1,r*a/e.ticks().length);return g=>{let m=g/s(Math.round(i(g)));return m*r<r-.5&&(m*=r),m<=u?c(g):""}},e.nice=()=>n(RW(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function kW(){const t=QR(Cb()).domain([1,10]);return t.copy=()=>Ny(t,kW()).base(t.base()),ba.apply(t,arguments),t}function oj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function aj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function XR(t){var e=1,n=t(oj(e),aj(e));return n.constant=function(r){return arguments.length?t(oj(e=+r),aj(e)):e},hf(n)}function MW(){var t=XR(Cb());return t.copy=function(){return Ny(t,MW()).constant(t.constant())},ba.apply(t,arguments)}function lj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hve(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dve(t){return t<0?-t*t:t*t}function ZR(t){var e=t(Js,Js),n=1;function r(){return n===1?t(Js,Js):n===.5?t(hve,dve):t(lj(n),lj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},hf(e)}function JR(){var t=ZR(Cb());return t.copy=function(){return Ny(t,JR()).exponent(t.exponent())},ba.apply(t,arguments),t}function pve(){return JR.apply(null,arguments).exponent(.5)}function cj(t){return Math.sign(t)*t*t}function gve(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function DW(){var t=WR(),e=[0,1],n=!1,r;function i(s){var o=gve(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(cj(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Vw)).map(cj)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return DW(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ba.apply(i,arguments),hf(i)}function LW(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=x1e(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Iy(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(zu),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return LW().domain(t).range(e).unknown(r)},ba.apply(s,arguments)}function BW(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Iy(r,c,0,n)]:s}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,a()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,a()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return BW().domain([t,e]).range(i).unknown(s)},ba.apply(hf(o),arguments)}function jW(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Iy(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return jW().domain(t).range(e).unknown(n)},ba.apply(i,arguments)}const yT=new Date,vT=new Date;function zi(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const c=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return c;let u;do c.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return c},i.filter=s=>zi(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(yT.setTime(+s),vT.setTime(+o),t(yT),t(vT),Math.floor(n(yT,vT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Hw=zi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Hw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Hw);Hw.range;const uc=1e3,ma=uc*60,fc=ma*60,Pc=fc*24,e3=Pc*7,uj=Pc*30,wT=Pc*365,rh=zi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*uc)},(t,e)=>(e-t)/uc,t=>t.getUTCSeconds());rh.range;const t3=zi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uc)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getMinutes());t3.range;const n3=zi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getUTCMinutes());n3.range;const r3=zi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uc-t.getMinutes()*ma)},(t,e)=>{t.setTime(+t+e*fc)},(t,e)=>(e-t)/fc,t=>t.getHours());r3.range;const i3=zi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fc)},(t,e)=>(e-t)/fc,t=>t.getUTCHours());i3.range;const Oy=zi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ma)/Pc,t=>t.getDate()-1);Oy.range;const Ib=zi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pc,t=>t.getUTCDate()-1);Ib.range;const FW=zi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pc,t=>Math.floor(t/Pc));FW.range;function Kh(t){return zi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ma)/e3)}const Pb=Kh(0),$w=Kh(1),mve=Kh(2),yve=Kh(3),jp=Kh(4),vve=Kh(5),wve=Kh(6);Pb.range;$w.range;mve.range;yve.range;jp.range;vve.range;wve.range;function Yh(t){return zi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/e3)}const Nb=Yh(0),Gw=Yh(1),xve=Yh(2),bve=Yh(3),Fp=Yh(4),Ave=Yh(5),Eve=Yh(6);Nb.range;Gw.range;xve.range;bve.range;Fp.range;Ave.range;Eve.range;const s3=zi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());s3.range;const o3=zi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());o3.range;const Nc=zi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Nc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Nc.range;const Oc=zi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Oc.range;function VW(t,e,n,r,i,s){const o=[[rh,1,uc],[rh,5,5*uc],[rh,15,15*uc],[rh,30,30*uc],[s,1,ma],[s,5,5*ma],[s,15,15*ma],[s,30,30*ma],[i,1,fc],[i,3,3*fc],[i,6,6*fc],[i,12,12*fc],[r,1,Pc],[r,2,2*Pc],[n,1,e3],[e,1,uj],[e,3,3*uj],[t,1,wT]];function a(u,g,m){const w=g<u;w&&([u,g]=[g,u]);const A=m&&typeof m.range=="function"?m:c(u,g,m),I=A?A.range(u,+g+1):[];return w?I.reverse():I}function c(u,g,m){const w=Math.abs(g-u)/m,A=zR(([,,C])=>C).right(o,w);if(A===o.length)return t.every(AP(u/wT,g/wT,m));if(A===0)return Hw.every(Math.max(AP(u,g,m),1));const[I,_]=o[w/o[A-1][2]<o[A][2]/w?A-1:A];return I.every(_)}return[a,c]}const[Sve,_ve]=VW(Oc,o3,Nb,FW,i3,n3),[Tve,Cve]=VW(Nc,s3,Pb,Oy,r3,t3);function xT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ive(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,c=t.shortMonths,u=hm(i),g=dm(i),m=hm(s),w=dm(s),A=hm(o),I=dm(o),_=hm(a),C=dm(a),R=hm(c),j=dm(c),k={a:ae,A:re,b:pe,B:we,c:null,d:mj,e:mj,f:Xve,g:awe,G:cwe,H:Kve,I:Yve,j:Qve,L:UW,m:Zve,M:Jve,p:ue,q:he,Q:wj,s:xj,S:ewe,u:twe,U:nwe,V:rwe,w:iwe,W:swe,x:null,X:null,y:owe,Y:lwe,Z:uwe,"%":vj},U={a:xe,A:Re,b:Ue,B:Me,c:null,d:yj,e:yj,f:pwe,g:Swe,G:Twe,H:fwe,I:hwe,j:dwe,L:HW,m:gwe,M:mwe,p:ke,q:De,Q:wj,s:xj,S:ywe,u:vwe,U:wwe,V:xwe,w:bwe,W:Awe,x:null,X:null,y:Ewe,Y:_we,Z:Cwe,"%":vj},D={a:K,A:W,b:G,B:$,c:ce,d:pj,e:pj,f:$ve,g:dj,G:hj,H:gj,I:gj,j:Vve,L:Hve,m:Fve,M:Uve,p:V,q:jve,Q:qve,s:Wve,S:zve,u:kve,U:Mve,V:Dve,w:Rve,W:Lve,x:J,X:oe,y:dj,Y:hj,Z:Bve,"%":Gve};k.x=B(n,k),k.X=B(r,k),k.c=B(e,k),U.x=B(n,U),U.X=B(r,U),U.c=B(e,U);function B(Pe,Fe){return function(Ge){var Te=[],et=-1,dt=0,Ft=Pe.length,Yt,kt,Kt;for(Ge instanceof Date||(Ge=new Date(+Ge));++et<Ft;)Pe.charCodeAt(et)===37&&(Te.push(Pe.slice(dt,et)),(kt=fj[Yt=Pe.charAt(++et)])!=null?Yt=Pe.charAt(++et):kt=Yt==="e"?" ":"0",(Kt=Fe[Yt])&&(Yt=Kt(Ge,kt)),Te.push(Yt),dt=et+1);return Te.push(Pe.slice(dt,et)),Te.join("")}}function O(Pe,Fe){return function(Ge){var Te=fm(1900,void 0,1),et=M(Te,Pe,Ge+="",0),dt,Ft;if(et!=Ge.length)return null;if("Q"in Te)return new Date(Te.Q);if("s"in Te)return new Date(Te.s*1e3+("L"in Te?Te.L:0));if(Fe&&!("Z"in Te)&&(Te.Z=0),"p"in Te&&(Te.H=Te.H%12+Te.p*12),Te.m===void 0&&(Te.m="q"in Te?Te.q:0),"V"in Te){if(Te.V<1||Te.V>53)return null;"w"in Te||(Te.w=1),"Z"in Te?(dt=bT(fm(Te.y,0,1)),Ft=dt.getUTCDay(),dt=Ft>4||Ft===0?Gw.ceil(dt):Gw(dt),dt=Ib.offset(dt,(Te.V-1)*7),Te.y=dt.getUTCFullYear(),Te.m=dt.getUTCMonth(),Te.d=dt.getUTCDate()+(Te.w+6)%7):(dt=xT(fm(Te.y,0,1)),Ft=dt.getDay(),dt=Ft>4||Ft===0?$w.ceil(dt):$w(dt),dt=Oy.offset(dt,(Te.V-1)*7),Te.y=dt.getFullYear(),Te.m=dt.getMonth(),Te.d=dt.getDate()+(Te.w+6)%7)}else("W"in Te||"U"in Te)&&("w"in Te||(Te.w="u"in Te?Te.u%7:"W"in Te?1:0),Ft="Z"in Te?bT(fm(Te.y,0,1)).getUTCDay():xT(fm(Te.y,0,1)).getDay(),Te.m=0,Te.d="W"in Te?(Te.w+6)%7+Te.W*7-(Ft+5)%7:Te.w+Te.U*7-(Ft+6)%7);return"Z"in Te?(Te.H+=Te.Z/100|0,Te.M+=Te.Z%100,bT(Te)):xT(Te)}}function M(Pe,Fe,Ge,Te){for(var et=0,dt=Fe.length,Ft=Ge.length,Yt,kt;et<dt;){if(Te>=Ft)return-1;if(Yt=Fe.charCodeAt(et++),Yt===37){if(Yt=Fe.charAt(et++),kt=D[Yt in fj?Fe.charAt(et++):Yt],!kt||(Te=kt(Pe,Ge,Te))<0)return-1}else if(Yt!=Ge.charCodeAt(Te++))return-1}return Te}function V(Pe,Fe,Ge){var Te=u.exec(Fe.slice(Ge));return Te?(Pe.p=g.get(Te[0].toLowerCase()),Ge+Te[0].length):-1}function K(Pe,Fe,Ge){var Te=A.exec(Fe.slice(Ge));return Te?(Pe.w=I.get(Te[0].toLowerCase()),Ge+Te[0].length):-1}function W(Pe,Fe,Ge){var Te=m.exec(Fe.slice(Ge));return Te?(Pe.w=w.get(Te[0].toLowerCase()),Ge+Te[0].length):-1}function G(Pe,Fe,Ge){var Te=R.exec(Fe.slice(Ge));return Te?(Pe.m=j.get(Te[0].toLowerCase()),Ge+Te[0].length):-1}function $(Pe,Fe,Ge){var Te=_.exec(Fe.slice(Ge));return Te?(Pe.m=C.get(Te[0].toLowerCase()),Ge+Te[0].length):-1}function ce(Pe,Fe,Ge){return M(Pe,e,Fe,Ge)}function J(Pe,Fe,Ge){return M(Pe,n,Fe,Ge)}function oe(Pe,Fe,Ge){return M(Pe,r,Fe,Ge)}function ae(Pe){return o[Pe.getDay()]}function re(Pe){return s[Pe.getDay()]}function pe(Pe){return c[Pe.getMonth()]}function we(Pe){return a[Pe.getMonth()]}function ue(Pe){return i[+(Pe.getHours()>=12)]}function he(Pe){return 1+~~(Pe.getMonth()/3)}function xe(Pe){return o[Pe.getUTCDay()]}function Re(Pe){return s[Pe.getUTCDay()]}function Ue(Pe){return c[Pe.getUTCMonth()]}function Me(Pe){return a[Pe.getUTCMonth()]}function ke(Pe){return i[+(Pe.getUTCHours()>=12)]}function De(Pe){return 1+~~(Pe.getUTCMonth()/3)}return{format:function(Pe){var Fe=B(Pe+="",k);return Fe.toString=function(){return Pe},Fe},parse:function(Pe){var Fe=O(Pe+="",!1);return Fe.toString=function(){return Pe},Fe},utcFormat:function(Pe){var Fe=B(Pe+="",U);return Fe.toString=function(){return Pe},Fe},utcParse:function(Pe){var Fe=O(Pe+="",!0);return Fe.toString=function(){return Pe},Fe}}}var fj={"-":"",_:" ",0:"0"},rs=/^\s*\d+/,Pve=/^%/,Nve=/[\\^$*+?|[\]().{}]/g;function Pn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Ove(t){return t.replace(Nve,"\\$&")}function hm(t){return new RegExp("^(?:"+t.map(Ove).join("|")+")","i")}function dm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Rve(t,e,n){var r=rs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function kve(t,e,n){var r=rs.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Mve(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Dve(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Lve(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function hj(t,e,n){var r=rs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function dj(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Bve(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jve(t,e,n){var r=rs.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Fve(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pj(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Vve(t,e,n){var r=rs.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function gj(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Uve(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function zve(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Hve(t,e,n){var r=rs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $ve(t,e,n){var r=rs.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Gve(t,e,n){var r=Pve.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qve(t,e,n){var r=rs.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Wve(t,e,n){var r=rs.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function mj(t,e){return Pn(t.getDate(),e,2)}function Kve(t,e){return Pn(t.getHours(),e,2)}function Yve(t,e){return Pn(t.getHours()%12||12,e,2)}function Qve(t,e){return Pn(1+Oy.count(Nc(t),t),e,3)}function UW(t,e){return Pn(t.getMilliseconds(),e,3)}function Xve(t,e){return UW(t,e)+"000"}function Zve(t,e){return Pn(t.getMonth()+1,e,2)}function Jve(t,e){return Pn(t.getMinutes(),e,2)}function ewe(t,e){return Pn(t.getSeconds(),e,2)}function twe(t){var e=t.getDay();return e===0?7:e}function nwe(t,e){return Pn(Pb.count(Nc(t)-1,t),e,2)}function zW(t){var e=t.getDay();return e>=4||e===0?jp(t):jp.ceil(t)}function rwe(t,e){return t=zW(t),Pn(jp.count(Nc(t),t)+(Nc(t).getDay()===4),e,2)}function iwe(t){return t.getDay()}function swe(t,e){return Pn($w.count(Nc(t)-1,t),e,2)}function owe(t,e){return Pn(t.getFullYear()%100,e,2)}function awe(t,e){return t=zW(t),Pn(t.getFullYear()%100,e,2)}function lwe(t,e){return Pn(t.getFullYear()%1e4,e,4)}function cwe(t,e){var n=t.getDay();return t=n>=4||n===0?jp(t):jp.ceil(t),Pn(t.getFullYear()%1e4,e,4)}function uwe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pn(e/60|0,"0",2)+Pn(e%60,"0",2)}function yj(t,e){return Pn(t.getUTCDate(),e,2)}function fwe(t,e){return Pn(t.getUTCHours(),e,2)}function hwe(t,e){return Pn(t.getUTCHours()%12||12,e,2)}function dwe(t,e){return Pn(1+Ib.count(Oc(t),t),e,3)}function HW(t,e){return Pn(t.getUTCMilliseconds(),e,3)}function pwe(t,e){return HW(t,e)+"000"}function gwe(t,e){return Pn(t.getUTCMonth()+1,e,2)}function mwe(t,e){return Pn(t.getUTCMinutes(),e,2)}function ywe(t,e){return Pn(t.getUTCSeconds(),e,2)}function vwe(t){var e=t.getUTCDay();return e===0?7:e}function wwe(t,e){return Pn(Nb.count(Oc(t)-1,t),e,2)}function $W(t){var e=t.getUTCDay();return e>=4||e===0?Fp(t):Fp.ceil(t)}function xwe(t,e){return t=$W(t),Pn(Fp.count(Oc(t),t)+(Oc(t).getUTCDay()===4),e,2)}function bwe(t){return t.getUTCDay()}function Awe(t,e){return Pn(Gw.count(Oc(t)-1,t),e,2)}function Ewe(t,e){return Pn(t.getUTCFullYear()%100,e,2)}function Swe(t,e){return t=$W(t),Pn(t.getUTCFullYear()%100,e,2)}function _we(t,e){return Pn(t.getUTCFullYear()%1e4,e,4)}function Twe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Fp(t):Fp.ceil(t),Pn(t.getUTCFullYear()%1e4,e,4)}function Cwe(){return"+0000"}function vj(){return"%"}function wj(t){return+t}function xj(t){return Math.floor(+t/1e3)}var Nd,GW,qW;Iwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Iwe(t){return Nd=Ive(t),GW=Nd.format,Nd.parse,qW=Nd.utcFormat,Nd.utcParse,Nd}function Pwe(t){return new Date(t)}function Nwe(t){return t instanceof Date?+t:+new Date(+t)}function a3(t,e,n,r,i,s,o,a,c,u){var g=WR(),m=g.invert,w=g.domain,A=u(".%L"),I=u(":%S"),_=u("%I:%M"),C=u("%I %p"),R=u("%a %d"),j=u("%b %d"),k=u("%B"),U=u("%Y");function D(B){return(c(B)<B?A:a(B)<B?I:o(B)<B?_:s(B)<B?C:r(B)<B?i(B)<B?R:j:n(B)<B?k:U)(B)}return g.invert=function(B){return new Date(m(B))},g.domain=function(B){return arguments.length?w(Array.from(B,Nwe)):w().map(Pwe)},g.ticks=function(B){var O=w();return t(O[0],O[O.length-1],B??10)},g.tickFormat=function(B,O){return O==null?D:u(O)},g.nice=function(B){var O=w();return(!B||typeof B.range!="function")&&(B=e(O[0],O[O.length-1],B??10)),B?w(RW(O,B)):g},g.copy=function(){return Ny(g,a3(t,e,n,r,i,s,o,a,c,u))},g}function Owe(){return ba.apply(a3(Tve,Cve,Nc,s3,Pb,Oy,r3,t3,rh,GW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rwe(){return ba.apply(a3(Sve,_ve,Oc,o3,Nb,Ib,i3,n3,rh,qW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ob(){var t=0,e=1,n,r,i,s,o=Js,a=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(s(m)-n)*i,a?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(m){return arguments.length?(a=!!m,u):a},u.interpolator=function(m){return arguments.length?(o=m,u):o};function g(m){return function(w){var A,I;return arguments.length?([A,I]=w,o=m(A,I),u):[o(0),o(1)]}}return u.range=g(Pg),u.rangeRound=g(qR),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),u}}function df(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WW(){var t=hf(Ob()(Js));return t.copy=function(){return df(t,WW())},zc.apply(t,arguments)}function KW(){var t=QR(Ob()).domain([1,10]);return t.copy=function(){return df(t,KW()).base(t.base())},zc.apply(t,arguments)}function YW(){var t=XR(Ob());return t.copy=function(){return df(t,YW()).constant(t.constant())},zc.apply(t,arguments)}function l3(){var t=ZR(Ob());return t.copy=function(){return df(t,l3()).exponent(t.exponent())},zc.apply(t,arguments)}function kwe(){return l3.apply(null,arguments).exponent(.5)}function QW(){var t=[],e=Js;function n(r){if(r!=null&&!isNaN(r=+r))return e((Iy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>w1e(t,s/r))},n.copy=function(){return QW(e).domain(t)},zc.apply(n,arguments)}function Rb(){var t=0,e=.5,n=1,r=1,i,s,o,a,c,u=Js,g,m=!1,w;function A(_){return isNaN(_=+_)?w:(_=.5+((_=+g(_))-s)*(r*_<r*s?a:c),u(m?Math.max(0,Math.min(1,_)):_))}A.domain=function(_){return arguments.length?([t,e,n]=_,i=g(t=+t),s=g(e=+e),o=g(n=+n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,A):[t,e,n]},A.clamp=function(_){return arguments.length?(m=!!_,A):m},A.interpolator=function(_){return arguments.length?(u=_,A):u};function I(_){return function(C){var R,j,k;return arguments.length?([R,j,k]=C,u=G1e(_,[R,j,k]),A):[u(0),u(.5),u(1)]}}return A.range=I(Pg),A.rangeRound=I(qR),A.unknown=function(_){return arguments.length?(w=_,A):w},function(_){return g=_,i=_(t),s=_(e),o=_(n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,A}}function XW(){var t=hf(Rb()(Js));return t.copy=function(){return df(t,XW())},zc.apply(t,arguments)}function ZW(){var t=QR(Rb()).domain([.1,1,10]);return t.copy=function(){return df(t,ZW()).base(t.base())},zc.apply(t,arguments)}function JW(){var t=XR(Rb());return t.copy=function(){return df(t,JW()).constant(t.constant())},zc.apply(t,arguments)}function c3(){var t=ZR(Rb());return t.copy=function(){return df(t,c3()).exponent(t.exponent())},zc.apply(t,arguments)}function Mwe(){return c3.apply(null,arguments).exponent(.5)}const bj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:b0,scaleDiverging:XW,scaleDivergingLog:ZW,scaleDivergingPow:c3,scaleDivergingSqrt:Mwe,scaleDivergingSymlog:JW,scaleIdentity:OW,scaleImplicit:EP,scaleLinear:zw,scaleLog:kW,scaleOrdinal:HR,scalePoint:Gm,scalePow:JR,scaleQuantile:LW,scaleQuantize:BW,scaleRadial:DW,scaleSequential:WW,scaleSequentialLog:KW,scaleSequentialPow:l3,scaleSequentialQuantile:QW,scaleSequentialSqrt:kwe,scaleSequentialSymlog:YW,scaleSqrt:pve,scaleSymlog:MW,scaleThreshold:jW,scaleTime:Owe,scaleUtc:Rwe,tickFormat:NW},Symbol.toStringTag,{value:"Module"}));var AT,Aj;function kb(){if(Aj)return AT;Aj=1;var t=_g();function e(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],c=r(a);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,g=a}return g}return AT=e,AT}var ET,Ej;function eK(){if(Ej)return ET;Ej=1;function t(e,n){return e>n}return ET=t,ET}var ST,Sj;function Dwe(){if(Sj)return ST;Sj=1;var t=kb(),e=eK(),n=Cg();function r(i){return i&&i.length?t(i,n,e):void 0}return ST=r,ST}var Lwe=Dwe();const Mb=Nn(Lwe);var _T,_j;function tK(){if(_j)return _T;_j=1;function t(e,n){return e<n}return _T=t,_T}var TT,Tj;function Bwe(){if(Tj)return TT;Tj=1;var t=kb(),e=tK(),n=Cg();function r(i){return i&&i.length?t(i,n,e):void 0}return TT=r,TT}var jwe=Bwe();const Db=Nn(jwe);var CT,Cj;function Fwe(){if(Cj)return CT;Cj=1;var t=_R(),e=jl(),n=cW(),r=So();function i(s,o){var a=r(s)?t:n;return a(s,e(o,3))}return CT=i,CT}var IT,Ij;function Vwe(){if(Ij)return IT;Ij=1;var t=aW(),e=Fwe();function n(r,i){return t(e(r,i),1)}return IT=n,IT}var Uwe=Vwe();const zwe=Nn(Uwe);var PT,Pj;function Hwe(){if(Pj)return PT;Pj=1;var t=jR();function e(n,r){return t(n,r)}return PT=e,PT}var $we=Hwe();const Lb=Nn($we);var Ng=1e9,Gwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},f3,Lr=!0,wa="[DecimalError] ",gh=wa+"Invalid argument: ",u3=wa+"Exponent out of range: ",Og=Math.floor,$f=Math.pow,qwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zo,Xi=1e7,Cr=7,nK=9007199254740991,qw=Og(nK/Cr),ht={};ht.absoluteValue=ht.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ht.comparedTo=ht.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ht.decimalPlaces=ht.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Cr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ht.dividedBy=ht.div=function(t){return xc(this,new this.constructor(t))};ht.dividedToIntegerBy=ht.idiv=function(t){var e=this,n=e.constructor;return lr(xc(e,new n(t),0,1),n.precision)};ht.equals=ht.eq=function(t){return!this.cmp(t)};ht.exponent=function(){return Ii(this)};ht.greaterThan=ht.gt=function(t){return this.cmp(t)>0};ht.greaterThanOrEqualTo=ht.gte=function(t){return this.cmp(t)>=0};ht.isInteger=ht.isint=function(){return this.e>this.d.length-2};ht.isNegative=ht.isneg=function(){return this.s<0};ht.isPositive=ht.ispos=function(){return this.s>0};ht.isZero=function(){return this.s===0};ht.lessThan=ht.lt=function(t){return this.cmp(t)<0};ht.lessThanOrEqualTo=ht.lte=function(t){return this.cmp(t)<1};ht.logarithm=ht.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zo))throw Error(wa+"NaN");if(n.s<1)throw Error(wa+(n.s?"NaN":"-Infinity"));return n.eq(zo)?new r(0):(Lr=!1,e=xc(T0(n,s),T0(t,s),s),Lr=!0,lr(e,i))};ht.minus=ht.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sK(e,t):rK(e,(t.s=-t.s,t))};ht.modulo=ht.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(wa+"NaN");return n.s?(Lr=!1,e=xc(n,t,0,1).times(t),Lr=!0,n.minus(e)):lr(new r(n),i)};ht.naturalExponential=ht.exp=function(){return iK(this)};ht.naturalLogarithm=ht.ln=function(){return T0(this)};ht.negated=ht.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ht.plus=ht.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rK(e,t):sK(e,(t.s=-t.s,t))};ht.precision=ht.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gh+t);if(e=Ii(i)+1,r=i.d.length-1,n=r*Cr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ht.squareRoot=ht.sqrt=function(){var t,e,n,r,i,s,o,a=this,c=a.constructor;if(a.s<1){if(!a.s)return new c(0);throw Error(wa+"NaN")}for(t=Ii(a),Lr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=wl(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Og((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(xc(a,s,o+2)).times(.5),wl(s.d).slice(0,o)===(e=wl(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(lr(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return Lr=!0,lr(r,n)};ht.times=ht.mul=function(t){var e,n,r,i,s,o,a,c,u,g=this,m=g.constructor,w=g.d,A=(t=new m(t)).d;if(!g.s||!t.s)return new m(0);for(t.s*=g.s,n=g.e+t.e,c=w.length,u=A.length,c<u&&(s=w,w=A,A=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)a=s[i]+A[r]*w[i-r-1]+e,s[i--]=a%Xi|0,e=a/Xi|0;s[i]=(s[i]+e)%Xi|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Lr?lr(t,m.precision):t};ht.toDecimalPlaces=ht.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ml(t,0,Ng),e===void 0?e=r.rounding:Ml(e,0,8),lr(n,t+Ii(n)+1,e))};ht.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Mh(r,!0):(Ml(t,0,Ng),e===void 0?e=i.rounding:Ml(e,0,8),r=lr(new i(r),t+1,e),n=Mh(r,!0,t+1)),n};ht.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Mh(i):(Ml(t,0,Ng),e===void 0?e=s.rounding:Ml(e,0,8),r=lr(new s(i),t+Ii(i)+1,e),n=Mh(r.abs(),!1,t+Ii(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ht.toInteger=ht.toint=function(){var t=this,e=t.constructor;return lr(new e(t),Ii(t)+1,e.rounding)};ht.toNumber=function(){return+this};ht.toPower=ht.pow=function(t){var e,n,r,i,s,o,a=this,c=a.constructor,u=12,g=+(t=new c(t));if(!t.s)return new c(zo);if(a=new c(a),!a.s){if(t.s<1)throw Error(wa+"Infinity");return a}if(a.eq(zo))return a;if(r=c.precision,t.eq(zo))return lr(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=g<0?-g:g)<=nK){for(i=new c(zo),e=Math.ceil(r/Cr+4),Lr=!1;n%2&&(i=i.times(a),Oj(i.d,e)),n=Og(n/2),n!==0;)a=a.times(a),Oj(a.d,e);return Lr=!0,t.s<0?new c(zo).div(i):lr(i,r)}}else if(s<0)throw Error(wa+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Lr=!1,i=t.times(T0(a,r+u)),Lr=!0,i=iK(i),i.s=s,i};ht.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ii(i),r=Mh(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ml(t,1,Ng),e===void 0?e=s.rounding:Ml(e,0,8),i=lr(new s(i),t,e),n=Ii(i),r=Mh(i,t<=n||n<=s.toExpNeg,t)),r};ht.toSignificantDigits=ht.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ml(t,1,Ng),e===void 0?e=r.rounding:Ml(e,0,8)),lr(new r(n),t,e)};ht.toString=ht.valueOf=ht.val=ht.toJSON=ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ii(t),n=t.constructor;return Mh(t,e<=n.toExpNeg||e>=n.toExpPos)};function rK(t,e){var n,r,i,s,o,a,c,u,g=t.constructor,m=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),Lr?lr(e,m):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,a=u.length):(r=u,i=o,a=c.length),o=Math.ceil(m/Cr),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=c.length,s=u.length,a-s<0&&(s=a,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/Xi|0,c[s]%=Xi;for(n&&(c.unshift(n),++i),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=i,Lr?lr(e,m):e}function Ml(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gh+t)}function wl(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Cr-r.length,n&&(s+=Cu(n)),s+=r;o=t[e],r=o+"",n=Cr-r.length,n&&(s+=Cu(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var xc=(function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Xi|0,o=s/Xi|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Xi+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,c,u,g,m,w,A,I,_,C,R,j,k,U,D,B,O,M,V=r.constructor,K=r.s==i.s?1:-1,W=r.d,G=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(wa+"Division by zero");for(c=r.e-i.e,O=G.length,D=W.length,A=new V(K),I=A.d=[],u=0;G[u]==(W[u]||0);)++u;if(G[u]>(W[u]||0)&&--c,s==null?j=s=V.precision:o?j=s+(Ii(r)-Ii(i))+1:j=s,j<0)return new V(0);if(j=j/Cr+2|0,u=0,O==1)for(g=0,G=G[0],j++;(u<D||g)&&j--;u++)k=g*Xi+(W[u]||0),I[u]=k/G|0,g=k%G|0;else{for(g=Xi/(G[0]+1)|0,g>1&&(G=t(G,g),W=t(W,g),O=G.length,D=W.length),U=O,_=W.slice(0,O),C=_.length;C<O;)_[C++]=0;M=G.slice(),M.unshift(0),B=G[0],G[1]>=Xi/2&&++B;do g=0,a=e(G,_,O,C),a<0?(R=_[0],O!=C&&(R=R*Xi+(_[1]||0)),g=R/B|0,g>1?(g>=Xi&&(g=Xi-1),m=t(G,g),w=m.length,C=_.length,a=e(m,_,w,C),a==1&&(g--,n(m,O<w?M:G,w))):(g==0&&(a=g=1),m=G.slice()),w=m.length,w<C&&m.unshift(0),n(_,m,C),a==-1&&(C=_.length,a=e(G,_,O,C),a<1&&(g++,n(_,O<C?M:G,C))),C=_.length):a===0&&(g++,_=[0]),I[u++]=g,a&&_[0]?_[C++]=W[U]||0:(_=[W[U]],C=1);while((U++<D||_[0]!==void 0)&&j--)}return I[0]||I.shift(),A.e=c,lr(A,o?s+Ii(A)+1:s)}})();function iK(t,e){var n,r,i,s,o,a,c=0,u=0,g=t.constructor,m=g.precision;if(Ii(t)>16)throw Error(u3+Ii(t));if(!t.s)return new g(zo);for(Lr=!1,a=m,o=new g(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log($f(2,u))/Math.LN10*2+5|0,a+=r,n=i=s=new g(zo),g.precision=a;;){if(i=lr(i.times(t),a),n=n.times(++c),o=s.plus(xc(i,n,a)),wl(o.d).slice(0,a)===wl(s.d).slice(0,a)){for(;u--;)s=lr(s.times(s),a);return g.precision=m,e==null?(Lr=!0,lr(s,m)):s}s=o}}function Ii(t){for(var e=t.e*Cr,n=t.d[0];n>=10;n/=10)e++;return e}function NT(t,e,n){if(e>t.LN10.sd())throw Lr=!0,n&&(t.precision=n),Error(wa+"LN10 precision limit exceeded");return lr(new t(t.LN10),e)}function Cu(t){for(var e="";t--;)e+="0";return e}function T0(t,e){var n,r,i,s,o,a,c,u,g,m=1,w=10,A=t,I=A.d,_=A.constructor,C=_.precision;if(A.s<1)throw Error(wa+(A.s?"NaN":"-Infinity"));if(A.eq(zo))return new _(0);if(e==null?(Lr=!1,u=C):u=e,A.eq(10))return e==null&&(Lr=!0),NT(_,u);if(u+=w,_.precision=u,n=wl(I),r=n.charAt(0),s=Ii(A),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(t),n=wl(A.d),r=n.charAt(0),m++;s=Ii(A),r>1?(A=new _("0."+n),s++):A=new _(r+"."+n.slice(1))}else return c=NT(_,u+2,C).times(s+""),A=T0(new _(r+"."+n.slice(1)),u-w).plus(c),_.precision=C,e==null?(Lr=!0,lr(A,C)):A;for(a=o=A=xc(A.minus(zo),A.plus(zo),u),g=lr(A.times(A),u),i=3;;){if(o=lr(o.times(g),u),c=a.plus(xc(o,new _(i),u)),wl(c.d).slice(0,u)===wl(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(NT(_,u+2,C).times(s+""))),a=xc(a,new _(m),u),_.precision=C,e==null?(Lr=!0,lr(a,C)):a;a=c,i+=2}}function Nj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Og(n/Cr),t.d=[],r=(n+1)%Cr,n<0&&(r+=Cr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Cr;r<i;)t.d.push(+e.slice(r,r+=Cr));e=e.slice(r),r=Cr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Lr&&(t.e>qw||t.e<-qw))throw Error(u3+n)}else t.s=0,t.e=0,t.d=[0];return t}function lr(t,e,n){var r,i,s,o,a,c,u,g,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Cr,i=e,u=m[g=0];else{if(g=Math.ceil((r+1)/Cr),s=m.length,g>=s)return t;for(u=s=m[g],o=1;s>=10;s/=10)o++;r%=Cr,i=r-Cr+o}if(n!==void 0&&(s=$f(10,o-i-1),a=u/s%10|0,c=e<0||m[g+1]!==void 0||u%s,c=n<4?(a||c)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||c||n==6&&(r>0?i>0?u/$f(10,o-i):0:m[g-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(s=Ii(t),m.length=1,e=e-s-1,m[0]=$f(10,(Cr-e%Cr)%Cr),t.e=Og(-e/Cr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=g,s=1,g--):(m.length=g+1,s=$f(10,Cr-r),m[g]=i>0?(u/$f(10,o-i)%$f(10,i)|0)*s:0),c)for(;;)if(g==0){(m[0]+=s)==Xi&&(m[0]=1,++t.e);break}else{if(m[g]+=s,m[g]!=Xi)break;m[g--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(Lr&&(t.e>qw||t.e<-qw))throw Error(u3+Ii(t));return t}function sK(t,e){var n,r,i,s,o,a,c,u,g,m,w=t.constructor,A=w.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new w(t),Lr?lr(e,A):e;if(c=t.d,m=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(g=o<0,g?(n=c,o=-o,a=m.length):(n=m,r=u,a=c.length),i=Math.max(Math.ceil(A/Cr),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,a=m.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(c[i]!=m[i]){g=c[i]<m[i];break}o=0}for(g&&(n=c,c=m,m=n,e.s=-e.s),a=c.length,i=m.length-a;i>0;--i)c[a++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=Xi-1;--c[s],c[i]+=Xi}c[i]-=m[i]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Lr?lr(e,A):e):new w(0)}function Mh(t,e,n){var r,i=Ii(t),s=wl(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Cu(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Cu(-i-1)+s,n&&(r=n-o)>0&&(s+=Cu(r))):i>=o?(s+=Cu(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Cu(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Cu(r))),t.s<0?"-"+s:s}function Oj(t,e){if(t.length>e)return t.length=e,!0}function oK(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(gh+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Nj(o,s.toString())}else if(typeof s!="string")throw Error(gh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,qwe.test(s))Nj(o,s);else throw Error(gh+s)}if(i.prototype=ht,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oK,i.config=i.set=Wwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Wwe(t){if(!t||typeof t!="object")throw Error(wa+"Object expected");var e,n,r,i=["precision",1,Ng,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Og(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gh+n+": "+r);return this}var f3=oK(Gwe);zo=new f3(1);const nr=f3;function Kwe(t){return Zwe(t)||Xwe(t)||Qwe(t)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(t,e){if(t){if(typeof t=="string")return CP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CP(t,e)}}function Xwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Zwe(t){if(Array.isArray(t))return CP(t)}function CP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jwe=function(e){return e},aK={},lK=function(e){return e===aK},Rj=function(e){return function n(){return arguments.length===0||arguments.length===1&&lK(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},exe=function t(e,n){return e===1?n:Rj(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==aK}).length;return o>=e?n.apply(void 0,i):t(e-o,Rj(function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];var g=i.map(function(m){return lK(m)?c.shift():m});return n.apply(void 0,Kwe(g).concat(c))}))})},Bb=function(e){return exe(e.length,e)},IP=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},txe=Bb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),nxe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Jwe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,c){return c(a)},s.apply(void 0,arguments))}},PP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cK=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,c){return a===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function rxe(t){var e;return t===0?e=1:e=Math.floor(new nr(t).abs().log(10).toNumber())+1,e}function ixe(t,e,n){for(var r=new nr(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var sxe=Bb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),oxe=Bb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),axe=Bb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const jb={rangeStep:ixe,getDigitCount:rxe,interpolateNumber:sxe,uninterpolateNumber:oxe,uninterpolateTruncation:axe};function NP(t){return uxe(t)||cxe(t)||uK(t)||lxe()}function lxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uxe(t){if(Array.isArray(t))return OP(t)}function C0(t,e){return dxe(t)||hxe(t,e)||uK(t,e)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uK(t,e){if(t){if(typeof t=="string")return OP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(t,e)}}function OP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hxe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function dxe(t){if(Array.isArray(t))return t}function fK(t){var e=C0(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function hK(t,e,n){if(t.lte(0))return new nr(0);var r=jb.getDigitCount(t.toNumber()),i=new nr(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new nr(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=a.mul(i);return e?c:new nr(Math.ceil(c))}function pxe(t,e,n){var r=1,i=new nr(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new nr(10).pow(jb.getDigitCount(t)-1),i=new nr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new nr(Math.floor(t)))}else t===0?i=new nr(Math.floor((e-1)/2)):n||(i=new nr(Math.floor(t)));var o=Math.floor((e-1)/2),a=nxe(txe(function(c){return i.add(new nr(c-o).mul(r)).toNumber()}),IP);return a(0,e)}function dK(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var s=hK(new nr(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new nr(0):(o=new nr(t).add(e).div(2),o=o.sub(new nr(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new nr(e).sub(o).div(s).toNumber()),u=a+c+1;return u>n?dK(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,a=e>0?a:a+(n-u)),{step:s,tickMin:o.sub(new nr(a).mul(s)),tickMax:o.add(new nr(c).mul(s))})}function gxe(t){var e=C0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=fK([n,r]),c=C0(a,2),u=c[0],g=c[1];if(u===-1/0||g===1/0){var m=g===1/0?[u].concat(NP(IP(0,i-1).map(function(){return 1/0}))):[].concat(NP(IP(0,i-1).map(function(){return-1/0})),[g]);return n>r?PP(m):m}if(u===g)return pxe(u,i,s);var w=dK(u,g,o,s),A=w.step,I=w.tickMin,_=w.tickMax,C=jb.rangeStep(I,_.add(new nr(.1).mul(A)),A);return n>r?PP(C):C}function mxe(t,e){var n=C0(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fK([r,i]),a=C0(o,2),c=a[0],u=a[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var g=Math.max(e,2),m=hK(new nr(u).sub(c).div(g-1),s,0),w=[].concat(NP(jb.rangeStep(new nr(c),new nr(u).sub(new nr(.99).mul(m)),m)),[u]);return r>i?PP(w):w}var yxe=cK(gxe),vxe=cK(mxe),wxe="Invariant failed";function Dh(t,e){throw new Error(wxe)}var xxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(this,arguments)}function bxe(t,e){return _xe(t)||Sxe(t,e)||Exe(t,e)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(t,e){if(t){if(typeof t=="string")return kj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kj(t,e)}}function kj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function _xe(t){if(Array.isArray(t))return t}function Txe(t,e){if(t==null)return{};var n=Cxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ixe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mK(r.key),r)}}function Nxe(t,e,n){return e&&Pxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oxe(t,e,n){return e=Kw(e),Rxe(t,pK()?Reflect.construct(e,n||[],Kw(t).constructor):e.apply(t,n))}function Rxe(t,e){if(e&&(Vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kxe(t)}function kxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pK=function(){return!!t})()}function Kw(t){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kw(t)}function Mxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RP(t,e)}function RP(t,e){return RP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RP(t,e)}function gK(t,e,n){return e=mK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mK(t){var e=Dxe(t,"string");return Vp(e)=="symbol"?e:e+""}function Dxe(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fb=(function(t){function e(){return Ixe(this,e),Oxe(this,e,arguments)}return Mxe(e,t),Nxe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,c=r.data,u=r.dataPointFormatter,g=r.xAxis,m=r.yAxis,w=Txe(r,xxe),A=Bt(w,!1);this.props.direction==="x"&&g.type!=="number"&&Dh();var I=c.map(function(_){var C=u(_,a),R=C.x,j=C.y,k=C.value,U=C.errorVal;if(!U)return null;var D=[],B,O;if(Array.isArray(U)){var M=bxe(U,2);B=M[0],O=M[1]}else B=O=U;if(s==="vertical"){var V=g.scale,K=j+i,W=K+o,G=K-o,$=V(k-B),ce=V(k+O);D.push({x1:ce,y1:W,x2:ce,y2:G}),D.push({x1:$,y1:K,x2:ce,y2:K}),D.push({x1:$,y1:W,x2:$,y2:G})}else if(s==="horizontal"){var J=m.scale,oe=R+i,ae=oe-o,re=oe+o,pe=J(k-B),we=J(k+O);D.push({x1:ae,y1:we,x2:re,y2:we}),D.push({x1:oe,y1:pe,x2:oe,y2:we}),D.push({x1:ae,y1:pe,x2:re,y2:pe})}return se.createElement(Yn,Ww({className:"recharts-errorBar",key:"bar-".concat(D.map(function(ue){return"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))},A),D.map(function(ue){return se.createElement("line",Ww({},ue,{key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))}))});return se.createElement(Yn,{className:"recharts-errorBars"},I)}}])})(se.Component);gK(Fb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gK(Fb,"displayName","ErrorBar");function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){Lxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lxe(t,e,n){return e=Bxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bxe(t){var e=jxe(t,"string");return I0(e)=="symbol"?e:e+""}function jxe(t,e){if(I0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yK=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Vo(n,hp);if(!o)return null;var a=hp.defaultProps,c=a!==void 0?Lf(Lf({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(g,m){var w=m.item,A=m.props,I=A.sectors||A.data||[];return g.concat(I.map(function(_){return{type:o.props.iconType||w.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):u=(r||[]).map(function(g){var m=g.item,w=m.type.defaultProps,A=w!==void 0?Lf(Lf({},w),m.props):{},I=A.dataKey,_=A.name,C=A.legendType,R=A.hide;return{inactive:R,dataKey:I,type:c.iconType||C||"square",color:h3(m),value:_||I,payload:A}}),Lf(Lf(Lf({},c),hp.getWithHeight(o,i)),{},{payload:u,item:o})};function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function Dj(t){return zxe(t)||Uxe(t)||Vxe(t)||Fxe()}function Fxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vxe(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function Uxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zxe(t){if(Array.isArray(t))return kP(t)}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){pp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pp(t,e,n){return e=Hxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hxe(t){var e=$xe(t,"string");return P0(e)=="symbol"?e:e+""}function $xe(t,e){if(P0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ls(t,e,n){return an(t)||an(e)?n:Fi(e)?qo(t,e,n):Ht(e)?e(t):n}function qm(t,e,n,r){var i=zwe(t,function(a){return Ls(a,e)});if(n==="number"){var s=i.filter(function(a){return Je(a)||parseFloat(a)});return s.length?[Db(s),Mb(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!an(a)}):i;return o.map(function(a){return Fi(a)||a instanceof Date?a:""})}var Gxe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r?.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<a;u++){var g=u>0?i[u-1].coordinate:i[a-1].coordinate,m=i[u].coordinate,w=u>=a-1?i[0].coordinate:i[u+1].coordinate,A=void 0;if(Xs(m-g)!==Xs(w-m)){var I=[];if(Xs(w-m)===Xs(c[1]-c[0])){A=w;var _=m+c[1]-c[0];I[0]=Math.min(_,(_+g)/2),I[1]=Math.max(_,(_+g)/2)}else{A=g;var C=w+c[1]-c[0];I[0]=Math.min(m,(C+m)/2),I[1]=Math.max(m,(C+m)/2)}var R=[Math.min(m,(A+m)/2),Math.max(m,(A+m)/2)];if(e>R[0]&&e<=R[1]||e>=I[0]&&e<=I[1]){o=i[u].index;break}}else{var j=Math.min(g,w),k=Math.max(g,w);if(e>(j+m)/2&&e<=(k+m)/2){o=i[u].index;break}}}else for(var U=0;U<a;U++)if(U===0&&e<=(r[U].coordinate+r[U+1].coordinate)/2||U>0&&U<a-1&&e>(r[U].coordinate+r[U-1].coordinate)/2&&e<=(r[U].coordinate+r[U+1].coordinate)/2||U===a-1&&e>(r[U].coordinate+r[U-1].coordinate)/2){o=r[U].index;break}return o},h3=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ti(ti({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:a;break;default:c=a;break}return c},qxe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),c=0,u=a.length;c<u;c++)for(var g=s[a[c]].stackGroups,m=Object.keys(g),w=0,A=m.length;w<A;w++){var I=g[m[w]],_=I.items,C=I.cateAxisId,R=_.filter(function(O){return wc(O.type).indexOf("Bar")>=0});if(R&&R.length){var j=R[0].type.defaultProps,k=j!==void 0?ti(ti({},j),R[0].props):R[0].props,U=k.barSize,D=k[C];o[D]||(o[D]=[]);var B=an(U)?n:U;o[D].push({item:R[0],stackList:R.slice(1),barSize:an(B)?void 0:Zs(B,r,0)})}}return o},Wxe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,c=o.length;if(c<1)return null;var u=Zs(n,i,0,!0),g,m=[];if(o[0].barSize===+o[0].barSize){var w=!1,A=i/c,I=o.reduce(function(U,D){return U+D.barSize||0},0);I+=(c-1)*u,I>=i&&(I-=(c-1)*u,u=0),I>=i&&A>0&&(w=!0,A*=.9,I=c*A);var _=(i-I)/2>>0,C={offset:_-u,size:0};g=o.reduce(function(U,D){var B={item:D.item,position:{offset:C.offset+C.size+u,size:w?A:D.barSize}},O=[].concat(Dj(U),[B]);return C=O[O.length-1].position,D.stackList&&D.stackList.length&&D.stackList.forEach(function(M){O.push({item:M,position:C})}),O},m)}else{var R=Zs(r,i,0,!0);i-2*R-(c-1)*u<=0&&(u=0);var j=(i-2*R-(c-1)*u)/c;j>1&&(j>>=0);var k=a===+a?Math.min(j,a):j;g=o.reduce(function(U,D,B){var O=[].concat(Dj(U),[{item:D.item,position:{offset:R+(j+u)*B+(j-k)/2,size:k}}]);return D.stackList&&D.stackList.length&&D.stackList.forEach(function(M){O.push({item:M,position:O[O.length-1].position})}),O},m)}return g},Kxe=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,c=o-(a.left||0)-(a.right||0),u=yK({children:s,legendWidth:c});if(u){var g=i||{},m=g.width,w=g.height,A=u.align,I=u.verticalAlign,_=u.layout;if((_==="vertical"||_==="horizontal"&&I==="middle")&&A!=="center"&&Je(e[A]))return ti(ti({},e),{},pp({},A,e[A]+(m||0)));if((_==="horizontal"||_==="vertical"&&A==="center")&&I!=="middle"&&Je(e[I]))return ti(ti({},e),{},pp({},I,e[I]+(w||0)))}return e},Yxe=function(e,n,r){return an(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},vK=function(e,n,r,i,s){var o=n.props.children,a=ya(o,Fb).filter(function(u){return Yxe(i,s,u.props.direction)});if(a&&a.length){var c=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,g){var m=Ls(g,r);if(an(m))return u;var w=Array.isArray(m)?[Db(m),Mb(m)]:[m,m],A=c.reduce(function(I,_){var C=Ls(g,_,0),R=w[0]-Math.abs(Array.isArray(C)?C[0]:C),j=w[1]+Math.abs(Array.isArray(C)?C[1]:C);return[Math.min(R,I[0]),Math.max(j,I[1])]},[1/0,-1/0]);return[Math.min(A[0],u[0]),Math.max(A[1],u[1])]},[1/0,-1/0])}return null},Qxe=function(e,n,r,i,s){var o=n.map(function(a){return vK(e,a,r,s,i)}).filter(function(a){return!an(a)});return o&&o.length?o.reduce(function(a,c){return[Math.min(a[0],c[0]),Math.max(a[1],c[1])]},[1/0,-1/0]):null},wK=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&vK(e,c,u,i)||qm(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(c,u){for(var g=0,m=u.length;g<m;g++)a[u[g]]||(a[u[g]]=!0,c.push(u[g]));return c},[])},xK=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},bK=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,a=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||a.push(n),o||a.push(r),a},hc=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&a?.length>=2?Xs(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(m){var w=s?s.indexOf(m):m;return{coordinate:i(w)+u,value:m,offset:u}});return g.filter(function(m){return!_y(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,w){return{coordinate:i(m)+u,value:m,index:w,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+u,value:m,offset:u}}):i.domain().map(function(m,w){return{coordinate:i(m)+u,value:s?s[m]:m,index:w,offset:u}})},OT=new WeakMap,sv=function(e,n){if(typeof n!="function")return e;OT.has(e)||OT.set(e,new WeakMap);var r=OT.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},AK=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:b0(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:zw(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Gm(),realScaleType:"point"}:s==="category"?{scale:b0(),realScaleType:"band"}:{scale:zw(),realScaleType:"linear"};if(Oh(i)){var c="scale".concat(wb(i));return{scale:(bj[c]||Gm)(),realScaleType:bj[c]?c:"point"}}return Ht(i)?{scale:i}:{scale:Gm(),realScaleType:"point"}},Bj=1e-4,EK=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-Bj,o=Math.max(i[0],i[1])+Bj,a=e(n[0]),c=e(n[r-1]);(a<s||a>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},Xxe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Zxe=function(e,n){if(!n||n.length!==2||!Je(n[0])||!Je(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Je(e[0])||e[0]<r)&&(s[0]=r),(!Je(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Jxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var c=_y(e[a][r][1])?e[a][r][0]:e[a][r][1];c>=0?(e[a][r][0]=s,e[a][r][1]=s+c,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+c,o=e[a][r][1])}},ebe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=_y(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},tbe={sign:Jxe,expand:zge,none:Rp,silhouette:Hge,wiggle:$ge,positive:ebe},nbe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=tbe[r],o=Uge().keys(i).value(function(a,c){return+Ls(a,c,0)}).order(lP).offset(s);return o(e)},rbe=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,c={},u=a.reduce(function(m,w){var A,I=(A=w.type)!==null&&A!==void 0&&A.defaultProps?ti(ti({},w.type.defaultProps),w.props):w.props,_=I.stackId,C=I.hide;if(C)return m;var R=I[r],j=m[R]||{hasStack:!1,stackGroups:{}};if(Fi(_)){var k=j.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(w),j.hasStack=!0,j.stackGroups[_]=k}else j.stackGroups[Ty("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[w]};return ti(ti({},m),{},pp({},R,j))},c),g={};return Object.keys(u).reduce(function(m,w){var A=u[w];if(A.hasStack){var I={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(_,C){var R=A.stackGroups[C];return ti(ti({},_),{},pp({},C,{numericAxisId:r,cateAxisId:i,items:R.items,stackedData:nbe(e,R.items,s)}))},I)}return ti(ti({},m),{},pp({},w,A))},g)},SK=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var g=yxe(u,s,a);return e.domain([Db(g),Mb(g)]),{niceTicks:g}}if(s&&i==="number"){var m=e.domain(),w=vxe(m,s,a);return{niceTicks:w}}return null},jj=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var c=Ls(o,n.dataKey,n.domain[a]);return an(c)?null:n.scale(c)-s/2+i},ibe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},sbe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ti(ti({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Fi(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},obe=function(e){return e.reduce(function(n,r){return[Db(r.concat([n[0]]).filter(Je)),Mb(r.concat([n[1]]).filter(Je))]},[1/0,-1/0])},_K=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,c=a.reduce(function(u,g){var m=obe(g.slice(n,r+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Fj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MP=function(e,n,r){if(Ht(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Je(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Fj.test(e[0])){var s=+Fj.exec(e[0])[1];i[0]=n[0]-s}else Ht(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Je(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Vj.test(e[1])){var o=+Vj.exec(e[1])[1];i[1]=n[1]+o}else Ht(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Yw=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=VR(n,function(m){return m.coordinate}),o=1/0,a=1,c=s.length;a<c;a++){var u=s[a],g=s[a-1];o=Math.min((u.coordinate||0)-(g.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Uj=function(e,n,r){return!e||!e.length||Lb(e,qo(r,"type.defaultProps.domain"))?n:e},TK=function(e,n){var r=e.type.defaultProps?ti(ti({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,c=r.tooltipType,u=r.chartType,g=r.hide;return ti(ti({},Bt(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:h3(e),value:Ls(n,i),type:c,payload:n,chartType:u,hide:g})};function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){CK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CK(t,e,n){return e=abe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function abe(t){var e=lbe(t,"string");return N0(e)=="symbol"?e:e+""}function lbe(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cbe(t,e){return dbe(t)||hbe(t,e)||fbe(t,e)||ube()}function ube(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fbe(t,e){if(t){if(typeof t=="string")return Hj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hj(t,e)}}function Hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function dbe(t){if(Array.isArray(t))return t}var Qw=Math.PI/180,pbe=function(e){return e*180/Math.PI},mr=function(e,n,r,i){return{x:e+Math.cos(-Qw*i)*r,y:n+Math.sin(-Qw*i)*r}},IK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gbe=function(e,n,r,i,s){var o=e.width,a=e.height,c=e.startAngle,u=e.endAngle,g=Zs(e.cx,o,o/2),m=Zs(e.cy,a,a/2),w=IK(o,a,r),A=Zs(e.innerRadius,w,0),I=Zs(e.outerRadius,w,w*.8),_=Object.keys(n);return _.reduce(function(C,R){var j=n[R],k=j.domain,U=j.reversed,D;if(an(j.range))i==="angleAxis"?D=[c,u]:i==="radiusAxis"&&(D=[A,I]),U&&(D=[D[1],D[0]]);else{D=j.range;var B=D,O=cbe(B,2);c=O[0],u=O[1]}var M=AK(j,s),V=M.realScaleType,K=M.scale;K.domain(k).range(D),EK(K);var W=SK(K,nc(nc({},j),{},{realScaleType:V})),G=nc(nc(nc({},j),W),{},{range:D,radius:I,realScaleType:V,scale:K,cx:g,cy:m,innerRadius:A,outerRadius:I,startAngle:c,endAngle:u});return nc(nc({},C),{},CK({},R,G))},{})},mbe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},ybe=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=mbe({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var c=(r-s)/a,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:a,angle:pbe(u),angleInRadian:u}},vbe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},wbe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},$j=function(e,n){var r=e.x,i=e.y,s=ybe({x:r,y:i},n),o=s.radius,a=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var g=vbe(n),m=g.startAngle,w=g.endAngle,A=a,I;if(m<=w){for(;A>w;)A-=360;for(;A<m;)A+=360;I=A>=m&&A<=w}else{for(;A>m;)A-=360;for(;A<w;)A+=360;I=A>=w&&A<=m}return I?nc(nc({},n),{},{radius:o,angle:wbe(A,n)}):null},PK=function(e){return!Q.isValidElement(e)&&!Ht(e)&&typeof e!="boolean"?e.className:""};function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}var xbe=["offset"];function bbe(t){return _be(t)||Sbe(t)||Ebe(t)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t,e){if(t){if(typeof t=="string")return DP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(t,e)}}function Sbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _be(t){if(Array.isArray(t))return DP(t)}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tbe(t,e){if(t==null)return{};var n=Cbe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){Ibe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ibe(t,e,n){return e=Pbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t){var e=Nbe(t,"string");return O0(e)=="symbol"?e:e+""}function Nbe(t,e){if(O0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(this,arguments)}var Obe=function(e){var n=e.value,r=e.formatter,i=an(e.children)?n:e.children;return Ht(r)?r(i):i},Rbe=function(e,n){var r=Xs(n-e),i=Math.min(Math.abs(n-e),360);return r*i},kbe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,c=s,u=c.cx,g=c.cy,m=c.innerRadius,w=c.outerRadius,A=c.startAngle,I=c.endAngle,_=c.clockWise,C=(m+w)/2,R=Rbe(A,I),j=R>=0?1:-1,k,U;i==="insideStart"?(k=A+j*o,U=_):i==="insideEnd"?(k=I-j*o,U=!_):i==="end"&&(k=I+j*o,U=_),U=R<=0?U:!U;var D=mr(u,g,C,k),B=mr(u,g,C,k+(U?1:-1)*359),O="M".concat(D.x,",").concat(D.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(U?0:1,`,
    `).concat(B.x,",").concat(B.y),M=an(e.id)?Ty("recharts-radial-line-"):e.id;return se.createElement("text",R0({},r,{dominantBaseline:"central",className:Xt("recharts-radial-bar-label",a)}),se.createElement("defs",null,se.createElement("path",{id:M,d:O})),se.createElement("textPath",{xlinkHref:"#".concat(M)},n))},Mbe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,c=s.innerRadius,u=s.outerRadius,g=s.startAngle,m=s.endAngle,w=(g+m)/2;if(i==="outside"){var A=mr(o,a,u+r,w),I=A.x,_=A.y;return{x:I,y:_,textAnchor:I>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var C=(c+u)/2,R=mr(o,a,C,w),j=R.x,k=R.y;return{x:j,y:k,textAnchor:"middle",verticalAnchor:"middle"}},Dbe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,c=o.y,u=o.width,g=o.height,m=g>=0?1:-1,w=m*i,A=m>0?"end":"start",I=m>0?"start":"end",_=u>=0?1:-1,C=_*i,R=_>0?"end":"start",j=_>0?"start":"end";if(s==="top"){var k={x:a+u/2,y:c-m*i,textAnchor:"middle",verticalAnchor:A};return ji(ji({},k),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var U={x:a+u/2,y:c+g+w,textAnchor:"middle",verticalAnchor:I};return ji(ji({},U),r?{height:Math.max(r.y+r.height-(c+g),0),width:u}:{})}if(s==="left"){var D={x:a-C,y:c+g/2,textAnchor:R,verticalAnchor:"middle"};return ji(ji({},D),r?{width:Math.max(D.x-r.x,0),height:g}:{})}if(s==="right"){var B={x:a+u+C,y:c+g/2,textAnchor:j,verticalAnchor:"middle"};return ji(ji({},B),r?{width:Math.max(r.x+r.width-B.x,0),height:g}:{})}var O=r?{width:u,height:g}:{};return s==="insideLeft"?ji({x:a+C,y:c+g/2,textAnchor:j,verticalAnchor:"middle"},O):s==="insideRight"?ji({x:a+u-C,y:c+g/2,textAnchor:R,verticalAnchor:"middle"},O):s==="insideTop"?ji({x:a+u/2,y:c+w,textAnchor:"middle",verticalAnchor:I},O):s==="insideBottom"?ji({x:a+u/2,y:c+g-w,textAnchor:"middle",verticalAnchor:A},O):s==="insideTopLeft"?ji({x:a+C,y:c+w,textAnchor:j,verticalAnchor:I},O):s==="insideTopRight"?ji({x:a+u-C,y:c+w,textAnchor:R,verticalAnchor:I},O):s==="insideBottomLeft"?ji({x:a+C,y:c+g-w,textAnchor:j,verticalAnchor:A},O):s==="insideBottomRight"?ji({x:a+u-C,y:c+g-w,textAnchor:R,verticalAnchor:A},O):Tg(s)&&(Je(s.x)||th(s.x))&&(Je(s.y)||th(s.y))?ji({x:a+Zs(s.x,u),y:c+Zs(s.y,g),textAnchor:"end",verticalAnchor:"end"},O):ji({x:a+u/2,y:c+g/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Lbe=function(e){return"cx"in e&&Je(e.cx)};function Ji(t){var e=t.offset,n=e===void 0?5:e,r=Tbe(t,xbe),i=ji({offset:n},r),s=i.viewBox,o=i.position,a=i.value,c=i.children,u=i.content,g=i.className,m=g===void 0?"":g,w=i.textBreakAll;if(!s||an(a)&&an(c)&&!Q.isValidElement(u)&&!Ht(u))return null;if(Q.isValidElement(u))return Q.cloneElement(u,i);var A;if(Ht(u)){if(A=Q.createElement(u,i),Q.isValidElement(A))return A}else A=Obe(i);var I=Lbe(s),_=Bt(i,!0);if(I&&(o==="insideStart"||o==="insideEnd"||o==="end"))return kbe(i,A,_);var C=I?Mbe(i):Dbe(i);return se.createElement(kh,R0({className:Xt("recharts-label",m)},_,C,{breakAll:w}),A)}Ji.displayName="Label";var NK=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,c=e.radius,u=e.innerRadius,g=e.outerRadius,m=e.x,w=e.y,A=e.top,I=e.left,_=e.width,C=e.height,R=e.clockWise,j=e.labelViewBox;if(j)return j;if(Je(_)&&Je(C)){if(Je(m)&&Je(w))return{x:m,y:w,width:_,height:C};if(Je(A)&&Je(I))return{x:A,y:I,width:_,height:C}}return Je(m)&&Je(w)?{x:m,y:w,width:0,height:0}:Je(n)&&Je(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:g||c||a||0,clockWise:R}:e.viewBox?e.viewBox:{}},Bbe=function(e,n){return e?e===!0?se.createElement(Ji,{key:"label-implicit",viewBox:n}):Fi(e)?se.createElement(Ji,{key:"label-implicit",viewBox:n,value:e}):Q.isValidElement(e)?e.type===Ji?Q.cloneElement(e,{key:"label-implicit",viewBox:n}):se.createElement(Ji,{key:"label-implicit",content:e,viewBox:n}):Ht(e)?se.createElement(Ji,{key:"label-implicit",content:e,viewBox:n}):Tg(e)?se.createElement(Ji,R0({viewBox:n},e,{key:"label-implicit"})):null:null},jbe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=NK(e),o=ya(i,Ji).map(function(c,u){return Q.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var a=Bbe(e.label,n||s);return[a].concat(bbe(o))};Ji.parseViewBox=NK;Ji.renderCallByParent=jbe;var RT,qj;function Fbe(){if(qj)return RT;qj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return RT=t,RT}var Vbe=Fbe();const Ube=Nn(Vbe);function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}var zbe=["valueAccessor"],Hbe=["data","dataKey","clockWise","id","textBreakAll"];function $be(t){return Kbe(t)||Wbe(t)||qbe(t)||Gbe()}function Gbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qbe(t,e){if(t){if(typeof t=="string")return LP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(t,e)}}function Wbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kbe(t){if(Array.isArray(t))return LP(t)}function LP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(this,arguments)}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){Ybe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ybe(t,e,n){return e=Qbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qbe(t){var e=Xbe(t,"string");return k0(e)=="symbol"?e:e+""}function Xbe(t,e){if(k0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yj(t,e){if(t==null)return{};var n=Zbe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jbe=function(e){return Array.isArray(e.value)?Ube(e.value):e.value};function Hu(t){var e=t.valueAccessor,n=e===void 0?Jbe:e,r=Yj(t,zbe),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,c=r.textBreakAll,u=Yj(r,Hbe);return!i||!i.length?null:se.createElement(Yn,{className:"recharts-label-list"},i.map(function(g,m){var w=an(s)?n(g,m):Ls(g&&g.payload,s),A=an(a)?{}:{id:"".concat(a,"-").concat(m)};return se.createElement(Ji,Xw({},Bt(g,!0),u,A,{parentViewBox:g.parentViewBox,value:w,textBreakAll:c,viewBox:Ji.parseViewBox(an(o)?g:Kj(Kj({},g),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Hu.displayName="LabelList";function eAe(t,e){return t?t===!0?se.createElement(Hu,{key:"labelList-implicit",data:e}):se.isValidElement(t)||Ht(t)?se.createElement(Hu,{key:"labelList-implicit",data:e,content:t}):Tg(t)?se.createElement(Hu,Xw({data:e},t,{key:"labelList-implicit"})):null:null}function tAe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ya(r,Hu).map(function(o,a){return Q.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=eAe(t.label,e);return[s].concat($be(i))}Hu.renderCallByParent=tAe;function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function BP(){return BP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BP.apply(this,arguments)}function Qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(n),!0).forEach(function(r){nAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nAe(t,e,n){return e=rAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rAe(t){var e=iAe(t,"string");return M0(e)=="symbol"?e:e+""}function iAe(t,e){if(M0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sAe=function(e,n){var r=Xs(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ov=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,g=c*(a?1:-1)+i,m=Math.asin(c/g)/Qw,w=u?s:s+o*m,A=mr(n,r,g,w),I=mr(n,r,i,w),_=u?s-o*m:s,C=mr(n,r,g*Math.cos(m*Qw),_);return{center:A,circleTangency:I,lineTangency:C,theta:m}},OK=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,c=sAe(o,a),u=o+c,g=mr(n,r,s,o),m=mr(n,r,s,u),w="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var A=mr(n,r,i,o),I=mr(n,r,i,u);w+="L ".concat(I.x,",").concat(I.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(A.x,",").concat(A.y," Z")}else w+="L ".concat(n,",").concat(r," Z");return w},oAe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,g=e.endAngle,m=Xs(g-u),w=ov({cx:n,cy:r,radius:s,angle:u,sign:m,cornerRadius:o,cornerIsExternal:c}),A=w.circleTangency,I=w.lineTangency,_=w.theta,C=ov({cx:n,cy:r,radius:s,angle:g,sign:-m,cornerRadius:o,cornerIsExternal:c}),R=C.circleTangency,j=C.lineTangency,k=C.theta,U=c?Math.abs(u-g):Math.abs(u-g)-_-k;if(U<0)return a?"M ".concat(I.x,",").concat(I.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):OK({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:g});var D="M ".concat(I.x,",").concat(I.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(U>180),",").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var B=ov({cx:n,cy:r,radius:i,angle:u,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=B.circleTangency,M=B.lineTangency,V=B.theta,K=ov({cx:n,cy:r,radius:i,angle:g,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),W=K.circleTangency,G=K.lineTangency,$=K.theta,ce=c?Math.abs(u-g):Math.abs(u-g)-V-$;if(ce<0&&o===0)return"".concat(D,"L").concat(n,",").concat(r,"Z");D+="L".concat(G.x,",").concat(G.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(W.x,",").concat(W.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ce>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else D+="L".concat(n,",").concat(r,"Z");return D},aAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RK=function(e){var n=Xj(Xj({},aAe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,g=n.startAngle,m=n.endAngle,w=n.className;if(o<s||g===m)return null;var A=Xt("recharts-sector",w),I=o-s,_=Zs(a,I,0,!0),C;return _>0&&Math.abs(g-m)<360?C=oAe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(_,I/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:g,endAngle:m}):C=OK({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:g,endAngle:m}),se.createElement("path",BP({},Bt(n,!0),{className:A,d:C,role:"img"}))};function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function jP(){return jP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jP.apply(this,arguments)}function Zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(n),!0).forEach(function(r){lAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lAe(t,e,n){return e=cAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cAe(t){var e=uAe(t,"string");return D0(e)=="symbol"?e:e+""}function uAe(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e9={curveBasisClosed:Nge,curveBasisOpen:Oge,curveBasis:Pge,curveBumpX:gge,curveBumpY:mge,curveLinearClosed:Rge,curveLinear:bb,curveMonotoneX:kge,curveMonotoneY:Mge,curveNatural:Dge,curveStep:Lge,curveStepAfter:jge,curveStepBefore:Bge},av=function(e){return e.x===+e.x&&e.y===+e.y},pm=function(e){return e.x},gm=function(e){return e.y},fAe=function(e,n){if(Ht(e))return e;var r="curve".concat(wb(e));return(r==="curveMonotone"||r==="curveBump")&&n?e9["".concat(r).concat(n==="vertical"?"Y":"X")]:e9[r]||bb},hAe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,c=e.connectNulls,u=c===void 0?!1:c,g=fAe(r,a),m=u?s.filter(function(_){return av(_)}):s,w;if(Array.isArray(o)){var A=u?o.filter(function(_){return av(_)}):o,I=m.map(function(_,C){return Jj(Jj({},_),{},{base:A[C]})});return a==="vertical"?w=Z1().y(gm).x1(pm).x0(function(_){return _.base.x}):w=Z1().x(pm).y1(gm).y0(function(_){return _.base.y}),w.defined(av).curve(g),w(I)}return a==="vertical"&&Je(o)?w=Z1().y(gm).x1(pm).x0(o):Je(o)?w=Z1().x(pm).y1(gm).y0(o):w=Nq().x(pm).y(gm),w.defined(av).curve(g),w(m)},FP=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?hAe(e):i;return Q.createElement("path",jP({},Bt(e,!1),_w(e),{className:Xt("recharts-curve",n),d:o,ref:s}))},kT={exports:{}},MT,t9;function dAe(){if(t9)return MT;t9=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return MT=t,MT}var DT,n9;function pAe(){if(n9)return DT;n9=1;var t=dAe();function e(){}function n(){}return n.resetWarningCache=e,DT=function(){function r(o,a,c,u,g,m){if(m!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},DT}var r9;function gAe(){return r9||(r9=1,kT.exports=pAe()()),kT.exports}var mAe=gAe();const Fn=Nn(mAe);var yAe=Object.getOwnPropertyNames,vAe=Object.getOwnPropertySymbols,wAe=Object.prototype.hasOwnProperty;function i9(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function lv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function s9(t){return yAe(t).concat(vAe(t))}var xAe=Object.hasOwn||(function(t,e){return wAe.call(t,e)});function Qh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var bAe="__v",AAe="__o",EAe="_owner",o9=Object.getOwnPropertyDescriptor,a9=Object.keys;function SAe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function _Ae(t,e){return Qh(t.getTime(),e.getTime())}function TAe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function CAe(t,e){return t===e}function l9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),g=!1,m=0;(a=u.next())&&!a.done;){if(i[m]){m++;continue}var w=o.value,A=a.value;if(n.equals(w[0],A[0],c,m,t,e,n)&&n.equals(w[1],A[1],w[0],A[0],t,e,n)){g=i[m]=!0;break}m++}if(!g)return!1;c++}return!0}var IAe=Qh;function PAe(t,e,n){var r=a9(t),i=r.length;if(a9(e).length!==i)return!1;for(;i-- >0;)if(!kK(t,e,n,r[i]))return!1;return!0}function mm(t,e,n){var r=s9(t),i=r.length;if(s9(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!kK(t,e,n,s)||(o=o9(t,s),a=o9(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function NAe(t,e){return Qh(t.valueOf(),e.valueOf())}function OAe(t,e){return t.source===e.source&&t.flags===e.flags}function c9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,g=0;(a=c.next())&&!a.done;){if(!i[g]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){u=i[g]=!0;break}g++}if(!u)return!1}return!0}function RAe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function kAe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function kK(t,e,n,r){return(r===EAe||r===AAe||r===bAe)&&(t.$$typeof||e.$$typeof)?!0:xAe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var MAe="[object Arguments]",DAe="[object Boolean]",LAe="[object Date]",BAe="[object Error]",jAe="[object Map]",FAe="[object Number]",VAe="[object Object]",UAe="[object RegExp]",zAe="[object Set]",HAe="[object String]",$Ae="[object URL]",GAe=Array.isArray,u9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,f9=Object.assign,qAe=Object.prototype.toString.call.bind(Object.prototype.toString);function WAe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,g=t.areSetsEqual,m=t.areTypedArraysEqual,w=t.areUrlsEqual;return function(I,_,C){if(I===_)return!0;if(I==null||_==null)return!1;var R=typeof I;if(R!==typeof _)return!1;if(R!=="object")return R==="number"?o(I,_,C):R==="function"?i(I,_,C):!1;var j=I.constructor;if(j!==_.constructor)return!1;if(j===Object)return a(I,_,C);if(GAe(I))return e(I,_,C);if(u9!=null&&u9(I))return m(I,_,C);if(j===Date)return n(I,_,C);if(j===RegExp)return u(I,_,C);if(j===Map)return s(I,_,C);if(j===Set)return g(I,_,C);var k=qAe(I);return k===LAe?n(I,_,C):k===UAe?u(I,_,C):k===jAe?s(I,_,C):k===zAe?g(I,_,C):k===VAe?typeof I.then!="function"&&typeof _.then!="function"&&a(I,_,C):k===$Ae?w(I,_,C):k===BAe?r(I,_,C):k===MAe?a(I,_,C):k===DAe||k===FAe||k===HAe?c(I,_,C):!1}}function KAe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?mm:SAe,areDatesEqual:_Ae,areErrorsEqual:TAe,areFunctionsEqual:CAe,areMapsEqual:r?i9(l9,mm):l9,areNumbersEqual:IAe,areObjectsEqual:r?mm:PAe,arePrimitiveWrappersEqual:NAe,areRegExpsEqual:OAe,areSetsEqual:r?i9(c9,mm):c9,areTypedArraysEqual:r?mm:RAe,areUrlsEqual:kAe};if(n&&(i=f9({},i,n(i))),e){var s=lv(i.areArraysEqual),o=lv(i.areMapsEqual),a=lv(i.areObjectsEqual),c=lv(i.areSetsEqual);i=f9({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:c})}return i}function YAe(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function QAe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var g=r(),m=g.cache,w=m===void 0?e?new WeakMap:void 0:m,A=g.meta;return n(c,u,{cache:w,equals:i,meta:A,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var XAe=pf();pf({strict:!0});pf({circular:!0});pf({circular:!0,strict:!0});pf({createInternalComparator:function(){return Qh}});pf({strict:!0,createInternalComparator:function(){return Qh}});pf({circular:!0,createInternalComparator:function(){return Qh}});pf({circular:!0,createInternalComparator:function(){return Qh},strict:!0});function pf(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=KAe(t),c=WAe(a),u=r?r(c):YAe(c);return QAe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function ZAe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function h9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):ZAe(i)};requestAnimationFrame(r)}function VP(t){"@babel/helpers - typeof";return VP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VP(t)}function JAe(t){return rEe(t)||nEe(t)||tEe(t)||eEe()}function eEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tEe(t,e){if(t){if(typeof t=="string")return d9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d9(t,e)}}function d9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rEe(t){if(Array.isArray(t))return t}function iEe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=JAe(o),c=a[0],u=a.slice(1);if(typeof c=="number"){h9(i.bind(null,u),c);return}i(c),h9(i.bind(null,u));return}VP(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function p9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p9(Object(n),!0).forEach(function(r){MK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MK(t,e,n){return e=sEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sEe(t){var e=oEe(t,"string");return L0(e)==="symbol"?e:String(e)}function oEe(t,e){if(L0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aEe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},lEe=function(e){return e},cEe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Wm=function(e,n){return Object.keys(n).reduce(function(r,i){return g9(g9({},r),{},MK({},i,e(i,n[i])))},{})},m9=function(e,n,r){return e.map(function(i){return"".concat(cEe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function uEe(t,e){return dEe(t)||hEe(t,e)||DK(t,e)||fEe()}function fEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function dEe(t){if(Array.isArray(t))return t}function pEe(t){return yEe(t)||mEe(t)||DK(t)||gEe()}function gEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(t,e){if(t){if(typeof t=="string")return UP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(t,e)}}function mEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yEe(t){if(Array.isArray(t))return UP(t)}function UP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zw=1e-4,LK=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},BK=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},y9=function(e,n){return function(r){var i=LK(e,n);return BK(i,r)}},vEe=function(e,n){return function(r){var i=LK(e,n),s=[].concat(pEe(i.map(function(o,a){return o*a}).slice(1)),[0]);return BK(s,r)}},v9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(C){return parseFloat(C)}),g=uEe(u,4);i=g[0],s=g[1],o=g[2],a=g[3]}}}var m=y9(i,o),w=y9(s,a),A=vEe(i,o),I=function(R){return R>1?1:R<0?0:R},_=function(R){for(var j=R>1?1:R,k=j,U=0;U<8;++U){var D=m(k)-j,B=A(k);if(Math.abs(D-j)<Zw||B<Zw)return w(k);k=I(k-D/B)}return w(k)};return _.isStepper=!1,_},wEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,c=function(g,m,w){var A=-(g-m)*r,I=w*s,_=w+(A-I)*a/1e3,C=w*a/1e3+g;return Math.abs(C-m)<Zw&&Math.abs(_)<Zw?[m,0]:[C,_]};return c.isStepper=!0,c.dt=a,c},xEe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return v9(i);case"spring":return wEe();default:if(i.split("(")[0]==="cubic-bezier")return v9(i)}return typeof i=="function"?i:null};function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function w9(t){return EEe(t)||AEe(t)||jK(t)||bEe()}function bEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EEe(t){if(Array.isArray(t))return HP(t)}function x9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(n),!0).forEach(function(r){zP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zP(t,e,n){return e=SEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SEe(t){var e=_Ee(t,"string");return B0(e)==="symbol"?e:String(e)}function _Ee(t,e){if(B0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(B0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TEe(t,e){return PEe(t)||IEe(t,e)||jK(t,e)||CEe()}function CEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jK(t,e){if(t){if(typeof t=="string")return HP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function PEe(t){if(Array.isArray(t))return t}var Jw=function(e,n,r){return e+(n-e)*r},$P=function(e){var n=e.from,r=e.to;return n!==r},NEe=function t(e,n,r){var i=Wm(function(s,o){if($P(o)){var a=e(o.from,o.to,o.velocity),c=TEe(a,2),u=c[0],g=c[1];return hs(hs({},o),{},{from:u,velocity:g})}return o},n);return r<1?Wm(function(s,o){return $P(o)?hs(hs({},o),{},{velocity:Jw(o.velocity,i[s].velocity,r),from:Jw(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const OEe=(function(t,e,n,r,i){var s=aEe(t,e),o=s.reduce(function(C,R){return hs(hs({},C),{},zP({},R,[t[R],e[R]]))},{}),a=s.reduce(function(C,R){return hs(hs({},C),{},zP({},R,{from:t[R],velocity:0,to:e[R]}))},{}),c=-1,u,g,m=function(){return null},w=function(){return Wm(function(R,j){return j.from},a)},A=function(){return!Object.values(a).filter($P).length},I=function(R){u||(u=R);var j=R-u,k=j/n.dt;a=NEe(n,a,k),i(hs(hs(hs({},t),e),w())),u=R,A()||(c=requestAnimationFrame(m))},_=function(R){g||(g=R);var j=(R-g)/r,k=Wm(function(D,B){return Jw.apply(void 0,w9(B).concat([n(j)]))},o);if(i(hs(hs(hs({},t),e),k)),j<1)c=requestAnimationFrame(m);else{var U=Wm(function(D,B){return Jw.apply(void 0,w9(B).concat([n(1)]))},o);i(hs(hs(hs({},t),e),U))}};return m=n.isStepper?I:_,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}var REe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kEe(t,e){if(t==null)return{};var n=MEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LT(t){return jEe(t)||BEe(t)||LEe(t)||DEe()}function DEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LEe(t,e){if(t){if(typeof t=="string")return GP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(t,e)}}function BEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jEe(t){if(Array.isArray(t))return GP(t)}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(n),!0).forEach(function(r){Rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rm(t,e,n){return e=FK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FK(r.key),r)}}function UEe(t,e,n){return e&&VEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FK(t){var e=zEe(t,"string");return Up(e)==="symbol"?e:String(e)}function zEe(t,e){if(Up(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qP(t,e)}function qP(t,e){return qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qP(t,e)}function $Ee(t){var e=GEe();return function(){var r=ex(t),i;if(e){var s=ex(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return WP(this,i)}}function WP(t,e){if(e&&(Up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KP(t)}function KP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}var Rc=(function(t){HEe(n,t);var e=$Ee(n);function n(r,i){var s;FEe(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,c=o.attributeName,u=o.from,g=o.to,m=o.steps,w=o.children,A=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(KP(s)),s.changeStyle=s.changeStyle.bind(KP(s)),!a||A<=0)return s.state={style:{}},typeof w=="function"&&(s.state={style:g}),WP(s);if(m&&m.length)s.state={style:m[0].style};else if(u){if(typeof w=="function")return s.state={style:u},WP(s);s.state={style:c?Rm({},c,u):u}}else s.state={style:{}};return s}return UEe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,g=s.to,m=s.from,w=this.state.style;if(a){if(!o){var A={style:c?Rm({},c,g):g};this.state&&w&&(c&&w[c]!==g||!c&&w!==g)&&this.setState(A);return}if(!(XAe(i.to,g)&&i.canBegin&&i.isActive)){var I=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=I||u?m:i.to;if(this.state&&w){var C={style:c?Rm({},c,_):_};(c&&w[c]!==_||!c&&w!==_)&&this.setState(C)}this.runAnimation(Oa(Oa({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,c=i.duration,u=i.easing,g=i.begin,m=i.onAnimationEnd,w=i.onAnimationStart,A=OEe(o,a,xEe(u),c,this.changeStyle),I=function(){s.stopJSAnimation=A()};this.manager.start([w,g,I,c,m])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,c=i.onAnimationStart,u=o[0],g=u.style,m=u.duration,w=m===void 0?0:m,A=function(_,C,R){if(R===0)return _;var j=C.duration,k=C.easing,U=k===void 0?"ease":k,D=C.style,B=C.properties,O=C.onAnimationEnd,M=R>0?o[R-1]:C,V=B||Object.keys(D);if(typeof U=="function"||U==="spring")return[].concat(LT(_),[s.runJSAnimation.bind(s,{from:M.style,to:D,duration:j,easing:U}),j]);var K=m9(V,j,U),W=Oa(Oa(Oa({},M.style),D),{},{transition:K});return[].concat(LT(_),[W,j,O]).filter(lEe)};return this.manager.start([c].concat(LT(o.reduce(A,[g,Math.max(w,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=iEe());var s=i.begin,o=i.duration,a=i.attributeName,c=i.to,u=i.easing,g=i.onAnimationStart,m=i.onAnimationEnd,w=i.steps,A=i.children,I=this.manager;if(this.unSubscribe=I.subscribe(this.handleStyleChange),typeof u=="function"||typeof A=="function"||u==="spring"){this.runJSAnimation(i);return}if(w.length>1){this.runStepAnimation(i);return}var _=a?Rm({},a,c):c,C=m9(Object.keys(_),o,u);I.start([g,s,Oa(Oa({},_),{},{transition:C}),o,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=kEe(i,REe),u=Q.Children.count(s),g=this.state.style;if(typeof s=="function")return s(g);if(!a||u===0||o<=0)return s;var m=function(A){var I=A.props,_=I.style,C=_===void 0?{}:_,R=I.className,j=Q.cloneElement(A,Oa(Oa({},c),{},{style:Oa(Oa({},C),g),className:R}));return j};return u===1?m(Q.Children.only(s)):se.createElement("div",null,Q.Children.map(s,function(w){return m(w)}))}}]),n})(Q.PureComponent);Rc.displayName="Animate";Rc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rc.propTypes={from:Fn.oneOfType([Fn.object,Fn.string]),to:Fn.oneOfType([Fn.object,Fn.string]),attributeName:Fn.string,duration:Fn.number,begin:Fn.number,easing:Fn.oneOfType([Fn.string,Fn.func]),steps:Fn.arrayOf(Fn.shape({duration:Fn.number.isRequired,style:Fn.object.isRequired,easing:Fn.oneOfType([Fn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fn.func]),properties:Fn.arrayOf("string"),onAnimationEnd:Fn.func})),children:Fn.oneOfType([Fn.node,Fn.func]),isActive:Fn.bool,canBegin:Fn.bool,onAnimationEnd:Fn.func,shouldReAnimate:Fn.bool,onAnimationStart:Fn.func,onAnimationReStart:Fn.func};function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(this,arguments)}function qEe(t,e){return QEe(t)||YEe(t,e)||KEe(t,e)||WEe()}function WEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KEe(t,e){if(t){if(typeof t=="string")return A9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A9(t,e)}}function A9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function QEe(t){if(Array.isArray(t))return t}function E9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E9(Object(n),!0).forEach(function(r){XEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XEe(t,e,n){return e=ZEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZEe(t){var e=JEe(t,"string");return j0(e)=="symbol"?e:e+""}function JEe(t,e){if(j0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _9=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,g;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],w=0,A=4;w<A;w++)m[w]=s[w]>o?o:s[w];g="M".concat(e,",").concat(n+a*m[0]),m[0]>0&&(g+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(n)),g+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(g+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*m[1])),g+="L ".concat(e+r,",").concat(n+i-a*m[2]),m[2]>0&&(g+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),g+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(g+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*m[3])),g+="Z"}else if(o>0&&s===+s&&s>0){var I=Math.min(o,s);g="M ".concat(e,",").concat(n+a*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(u,",").concat(e+c*I,",").concat(n,`
            L `).concat(e+r-c*I,",").concat(n,`
            A `).concat(I,",").concat(I,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*I,`
            L `).concat(e+r,",").concat(n+i-a*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(u,",").concat(e+r-c*I,",").concat(n+i,`
            L `).concat(e+c*I,",").concat(n+i,`
            A `).concat(I,",").concat(I,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*I," Z")}else g="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return g},e2e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,c=n.height;if(Math.abs(a)>0&&Math.abs(c)>0){var u=Math.min(s,s+a),g=Math.max(s,s+a),m=Math.min(o,o+c),w=Math.max(o,o+c);return r>=u&&r<=g&&i>=m&&i<=w}return!1},t2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},d3=function(e){var n=S9(S9({},t2e),e),r=Q.useRef(),i=Q.useState(-1),s=qEe(i,2),o=s[0],a=s[1];Q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&a(U)}catch{}},[]);var c=n.x,u=n.y,g=n.width,m=n.height,w=n.radius,A=n.className,I=n.animationEasing,_=n.animationDuration,C=n.animationBegin,R=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||u!==+u||g!==+g||m!==+m||g===0||m===0)return null;var k=Xt("recharts-rectangle",A);return j?se.createElement(Rc,{canBegin:o>0,from:{width:g,height:m,x:c,y:u},to:{width:g,height:m,x:c,y:u},duration:_,animationEasing:I,isActive:j},function(U){var D=U.width,B=U.height,O=U.x,M=U.y;return se.createElement(Rc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:_,isActive:R,easing:I},se.createElement("path",tx({},Bt(n,!0),{className:k,d:_9(O,M,D,B,w),ref:r})))}):se.createElement("path",tx({},Bt(n,!0),{className:k,d:_9(c,u,g,m,w)}))},n2e=["points","className","baseLinePoints","connectNulls"];function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}function r2e(t,e){if(t==null)return{};var n=i2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T9(t){return l2e(t)||a2e(t)||o2e(t)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2e(t,e){if(t){if(typeof t=="string")return YP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(t,e)}}function a2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l2e(t){if(Array.isArray(t))return YP(t)}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var C9=function(e){return e&&e.x===+e.x&&e.y===+e.y},c2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){C9(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),C9(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Km=function(e,n){var r=c2e(e);n&&(r=[r.reduce(function(s,o){return[].concat(T9(s),T9(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,c){return"".concat(o).concat(c===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},u2e=function(e,n,r){var i=Km(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Km(n.reverse(),r).slice(1))},f2e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=r2e(e,n2e);if(!n||!n.length)return null;var a=Xt("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=u2e(n,i,s);return se.createElement("g",{className:a},se.createElement("path",Hd({},Bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?se.createElement("path",Hd({},Bt(o,!0),{fill:"none",d:Km(n,s)})):null,c?se.createElement("path",Hd({},Bt(o,!0),{fill:"none",d:Km(i,s)})):null)}var g=Km(n,s);return se.createElement("path",Hd({},Bt(o,!0),{fill:g.slice(-1)==="Z"?o.fill:"none",className:a,d:g}))};function QP(){return QP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QP.apply(this,arguments)}var p3=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Xt("recharts-dot",s);return n===+n&&r===+r&&i===+i?Q.createElement("circle",QP({},Bt(e,!1),_w(e),{className:o,cx:n,cy:r,r:i})):null};function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}var h2e=["x","y","top","left","width","height","className"];function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XP.apply(this,arguments)}function I9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I9(Object(n),!0).forEach(function(r){p2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p2e(t,e,n){return e=g2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2e(t){var e=m2e(t,"string");return F0(e)=="symbol"?e:e+""}function m2e(t,e){if(F0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y2e(t,e){if(t==null)return{};var n=v2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var w2e=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},x2e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,c=e.left,u=c===void 0?0:c,g=e.width,m=g===void 0?0:g,w=e.height,A=w===void 0?0:w,I=e.className,_=y2e(e,h2e),C=d2e({x:r,y:s,top:a,left:u,width:m,height:A},_);return!Je(r)||!Je(s)||!Je(m)||!Je(A)||!Je(a)||!Je(u)?null:se.createElement("path",XP({},Bt(C,!0),{className:Xt("recharts-cross",I),d:w2e(r,s,m,A,a,u)}))},BT,P9;function b2e(){if(P9)return BT;P9=1;var t=kb(),e=eK(),n=jl();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return BT=r,BT}var A2e=b2e();const E2e=Nn(A2e);var jT,N9;function S2e(){if(N9)return jT;N9=1;var t=kb(),e=jl(),n=tK();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return jT=r,jT}var _2e=S2e();const T2e=Nn(_2e);var C2e=["cx","cy","angle","ticks","axisLine"],I2e=["ticks","tick","angle","tickFormatter","stroke"];function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ym.apply(this,arguments)}function O9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(n),!0).forEach(function(r){Vb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R9(t,e){if(t==null)return{};var n=P2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UK(r.key),r)}}function O2e(t,e,n){return e&&k9(t.prototype,e),n&&k9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R2e(t,e,n){return e=nx(e),k2e(t,VK()?Reflect.construct(e,n||[],nx(t).constructor):e.apply(t,n))}function k2e(t,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M2e(t)}function M2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!t})()}function nx(t){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nx(t)}function D2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZP(t,e)}function ZP(t,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZP(t,e)}function Vb(t,e,n){return e=UK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UK(t){var e=L2e(t,"string");return zp(e)=="symbol"?e:e+""}function L2e(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ub=(function(t){function e(){return N2e(this,e),R2e(this,e,arguments)}return D2e(e,t),O2e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,c=s.cy;return mr(a,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,c=E2e(a,function(g){return g.coordinate||0}),u=T2e(a,function(g){return g.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,c=r.axisLine,u=R9(r,C2e),g=a.reduce(function(I,_){return[Math.min(I[0],_.coordinate),Math.max(I[1],_.coordinate)]},[1/0,-1/0]),m=mr(i,s,g[0],o),w=mr(i,s,g[1],o),A=Bf(Bf(Bf({},Bt(u,!1)),{},{fill:"none"},Bt(c,!1)),{},{x1:m.x,y1:m.y,x2:w.x,y2:w.y});return se.createElement("line",Ym({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,c=i.tickFormatter,u=i.stroke,g=R9(i,I2e),m=this.getTickTextAnchor(),w=Bt(g,!1),A=Bt(o,!1),I=s.map(function(_,C){var R=r.getTickValueCoord(_),j=Bf(Bf(Bf(Bf({textAnchor:m,transform:"rotate(".concat(90-a,", ").concat(R.x,", ").concat(R.y,")")},w),{},{stroke:"none",fill:u},A),{},{index:C},R),{},{payload:_});return se.createElement(Yn,Ym({className:Xt("recharts-polar-radius-axis-tick",PK(o)),key:"tick-".concat(_.coordinate)},Rh(r.props,_,C)),e.renderTickItem(o,j,c?c(_.value,C):_.value))});return se.createElement(Yn,{className:"recharts-polar-radius-axis-ticks"},I)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:se.createElement(Yn,{className:Xt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Ji.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return se.isValidElement(r)?o=se.cloneElement(r,i):Ht(r)?o=r(i):o=se.createElement(kh,Ym({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(Q.PureComponent);Vb(Ub,"displayName","PolarRadiusAxis");Vb(Ub,"axisType","radiusAxis");Vb(Ub,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}function M9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(n),!0).forEach(function(r){zb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HK(r.key),r)}}function j2e(t,e,n){return e&&D9(t.prototype,e),n&&D9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F2e(t,e,n){return e=rx(e),V2e(t,zK()?Reflect.construct(e,n||[],rx(t).constructor):e.apply(t,n))}function V2e(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U2e(t)}function U2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zK=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rx(t)}function z2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JP(t,e)}function JP(t,e){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JP(t,e)}function zb(t,e,n){return e=HK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HK(t){var e=H2e(t,"string");return Hp(e)=="symbol"?e:e+""}function H2e(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $2e=Math.PI/180,L9=1e-5,Hb=(function(t){function e(){return B2e(this,e),F2e(this,e,arguments)}return z2e(e,t),j2e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,c=i.orientation,u=i.tickSize,g=u||8,m=mr(s,o,a,r.coordinate),w=mr(s,o,a+(c==="inner"?-1:1)*g,r.coordinate);return{x1:m.x,y1:m.y,x2:w.x,y2:w.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*$2e),o;return s>L9?o=i==="outer"?"start":"end":s<-L9?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,c=r.axisLineType,u=jf(jf({},Bt(this.props,!1)),{},{fill:"none"},Bt(a,!1));if(c==="circle")return se.createElement(p3,Wf({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var g=this.props.ticks,m=g.map(function(w){return mr(i,s,o,w.coordinate)});return se.createElement(f2e,Wf({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,c=i.tickFormatter,u=i.stroke,g=Bt(this.props,!1),m=Bt(o,!1),w=jf(jf({},g),{},{fill:"none"},Bt(a,!1)),A=s.map(function(I,_){var C=r.getTickLineCoord(I),R=r.getTickTextAnchor(I),j=jf(jf(jf({textAnchor:R},g),{},{stroke:"none",fill:u},m),{},{index:_,payload:I,x:C.x2,y:C.y2});return se.createElement(Yn,Wf({className:Xt("recharts-polar-angle-axis-tick",PK(o)),key:"tick-".concat(I.coordinate)},Rh(r.props,I,_)),a&&se.createElement("line",Wf({className:"recharts-polar-angle-axis-tick-line"},w,C)),o&&e.renderTickItem(o,j,c?c(I.value,_):I.value))});return se.createElement(Yn,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:se.createElement(Yn,{className:Xt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return se.isValidElement(r)?o=se.cloneElement(r,i):Ht(r)?o=r(i):o=se.createElement(kh,Wf({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(Q.PureComponent);zb(Hb,"displayName","PolarAngleAxis");zb(Hb,"axisType","angleAxis");zb(Hb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var FT,B9;function G2e(){if(B9)return FT;B9=1;var t=Jq(),e=t(Object.getPrototypeOf,Object);return FT=e,FT}var VT,j9;function q2e(){if(j9)return VT;j9=1;var t=Vc(),e=G2e(),n=Uc(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,c=o.call(Object);function u(g){if(!n(g)||t(g)!=r)return!1;var m=e(g);if(m===null)return!0;var w=a.call(m,"constructor")&&m.constructor;return typeof w=="function"&&w instanceof w&&o.call(w)==c}return VT=u,VT}var W2e=q2e();const K2e=Nn(W2e);var UT,F9;function Y2e(){if(F9)return UT;F9=1;var t=Vc(),e=Uc(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return UT=r,UT}var Q2e=Y2e();const X2e=Nn(Q2e);function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}function Z2e(t,e){return nSe(t)||tSe(t,e)||eSe(t,e)||J2e()}function J2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eSe(t,e){if(t){if(typeof t=="string")return V9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V9(t,e)}}function V9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function nSe(t){if(Array.isArray(t))return t}function U9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(n),!0).forEach(function(r){rSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rSe(t,e,n){return e=iSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iSe(t){var e=sSe(t,"string");return V0(e)=="symbol"?e:e+""}function sSe(t,e){if(V0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(V0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H9=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},oSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aSe=function(e){var n=z9(z9({},oSe),e),r=Q.useRef(),i=Q.useState(-1),s=Z2e(i,2),o=s[0],a=s[1];Q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&a(k)}catch{}},[]);var c=n.x,u=n.y,g=n.upperWidth,m=n.lowerWidth,w=n.height,A=n.className,I=n.animationEasing,_=n.animationDuration,C=n.animationBegin,R=n.isUpdateAnimationActive;if(c!==+c||u!==+u||g!==+g||m!==+m||w!==+w||g===0&&m===0||w===0)return null;var j=Xt("recharts-trapezoid",A);return R?se.createElement(Rc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:w,x:c,y:u},to:{upperWidth:g,lowerWidth:m,height:w,x:c,y:u},duration:_,animationEasing:I,isActive:R},function(k){var U=k.upperWidth,D=k.lowerWidth,B=k.height,O=k.x,M=k.y;return se.createElement(Rc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:_,easing:I},se.createElement("path",ix({},Bt(n,!0),{className:j,d:H9(O,M,U,D,B),ref:r})))}):se.createElement("g",null,se.createElement("path",ix({},Bt(n,!0),{className:j,d:H9(c,u,g,m,w)})))},lSe=["option","shapeType","propTransformer","activeClassName","isActive"];function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function cSe(t,e){if(t==null)return{};var n=uSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(n),!0).forEach(function(r){fSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fSe(t,e,n){return e=hSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hSe(t){var e=dSe(t,"string");return U0(e)=="symbol"?e:e+""}function dSe(t,e){if(U0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pSe(t,e){return sx(sx({},e),t)}function gSe(t,e){return t==="symbols"}function G9(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return se.createElement(d3,n);case"trapezoid":return se.createElement(aSe,n);case"sector":return se.createElement(RK,n);case"symbols":if(gSe(e))return se.createElement(RR,n);break;default:return null}}function mSe(t){return Q.isValidElement(t)?t.props:t}function $K(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?pSe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,c=cSe(t,lSe),u;if(Q.isValidElement(e))u=Q.cloneElement(e,sx(sx({},c),mSe(e)));else if(Ht(e))u=e(c);else if(K2e(e)&&!X2e(e)){var g=i(e,c);u=se.createElement(G9,{shapeType:n,elementProps:g})}else{var m=c;u=se.createElement(G9,{shapeType:n,elementProps:m})}return a?se.createElement(Yn,{className:o},u):u}function $b(t,e){return e!=null&&"trapezoids"in t.props}function Gb(t,e){return e!=null&&"sectors"in t.props}function z0(t,e){return e!=null&&"points"in t.props}function ySe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function vSe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function wSe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function xSe(t,e){var n;return $b(t,e)?n=ySe:Gb(t,e)?n=vSe:z0(t,e)&&(n=wSe),n}function bSe(t,e){var n;return $b(t,e)?n="trapezoids":Gb(t,e)?n="sectors":z0(t,e)&&(n="points"),n}function ASe(t,e){if($b(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Gb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return z0(t,e)?e.payload:{}}function ESe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=bSe(n,e),s=ASe(n,e),o=r.filter(function(c,u){var g=Lb(s,c),m=n.props[i].filter(function(I){var _=xSe(n,e);return _(I,e)}),w=n.props[i].indexOf(m[m.length-1]),A=u===w;return g&&A}),a=r.indexOf(o[o.length-1]);return a}var Vv;function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}function q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(n),!0).forEach(function(r){ga(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qK(r.key),r)}}function _Se(t,e,n){return e&&W9(t.prototype,e),n&&W9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TSe(t,e,n){return e=ox(e),CSe(t,GK()?Reflect.construct(e,n||[],ox(t).constructor):e.apply(t,n))}function CSe(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ISe(t)}function ISe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GK=function(){return!!t})()}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(t)}function PSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eN(t,e)}function eN(t,e){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eN(t,e)}function ga(t,e,n){return e=qK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qK(t){var e=NSe(t,"string");return $p(e)=="symbol"?e:e+""}function NSe(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hc=(function(t){function e(n){var r;return SSe(this,e),r=TSe(this,e,[n]),ga(r,"pieRef",null),ga(r,"sectorRefs",[]),ga(r,"id",Ty("recharts-pie-")),ga(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ht(i)&&i()}),ga(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ht(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return PSe(e,t),_Se(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,c=s.dataKey,u=s.valueKey,g=Bt(this.props,!1),m=Bt(o,!1),w=Bt(a,!1),A=o&&o.offsetRadius||20,I=r.map(function(_,C){var R=(_.startAngle+_.endAngle)/2,j=mr(_.cx,_.cy,_.outerRadius+A,R),k=hr(hr(hr(hr({},g),_),{},{stroke:"none"},m),{},{index:C,textAnchor:e.getTextAnchor(j.x,_.cx)},j),U=hr(hr(hr(hr({},g),_),{},{fill:"none",stroke:_.fill},w),{},{index:C,points:[mr(_.cx,_.cy,_.outerRadius,R),j]}),D=c;return an(c)&&an(u)?D="value":an(c)&&(D=u),se.createElement(Yn,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(C)},a&&e.renderLabelLineItem(a,U,"line"),e.renderLabelItem(o,k,Ls(_,D)))});return se.createElement(Yn,{className:"recharts-pie-labels"},I)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,c=s.inactiveShape;return r.map(function(u,g){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var m=i.isActiveIndex(g),w=c&&i.hasActiveIndex()?c:null,A=m?o:w,I=hr(hr({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return se.createElement(Yn,$d({ref:function(C){C&&!i.sectorRefs.includes(C)&&i.sectorRefs.push(C)},tabIndex:-1,className:"recharts-pie-sector"},Rh(i.props,u,g),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(g)}),se.createElement($K,$d({option:A,isActive:m,shapeType:"sector"},I)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,c=i.animationDuration,u=i.animationEasing,g=i.animationId,m=this.state,w=m.prevSectors,A=m.prevIsAnimationActive;return se.createElement(Rc,{begin:a,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(I){var _=I.t,C=[],R=s&&s[0],j=R.startAngle;return s.forEach(function(k,U){var D=w&&w[U],B=U>0?qo(k,"paddingAngle",0):0;if(D){var O=Tu(D.endAngle-D.startAngle,k.endAngle-k.startAngle),M=hr(hr({},k),{},{startAngle:j+B,endAngle:j+O(_)+B});C.push(M),j=M.endAngle}else{var V=k.endAngle,K=k.startAngle,W=Tu(0,V-K),G=W(_),$=hr(hr({},k),{},{startAngle:j+B,endAngle:j+G+B});C.push($),j=$.endAngle}}),se.createElement(Yn,null,r.renderSectorsStatically(C))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Lb(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,c=i.label,u=i.cx,g=i.cy,m=i.innerRadius,w=i.outerRadius,A=i.isAnimationActive,I=this.state.isAnimationFinished;if(s||!o||!o.length||!Je(u)||!Je(g)||!Je(m)||!Je(w))return null;var _=Xt("recharts-pie",a);return se.createElement(Yn,{tabIndex:this.props.rootTabIndex,className:_,ref:function(R){r.pieRef=R}},this.renderSectors(),c&&this.renderLabels(o),Ji.renderCallByParent(this.props,null,!1),(!A||I)&&Hu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(se.isValidElement(r))return se.cloneElement(r,i);if(Ht(r))return r(i);var o=Xt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return se.createElement(FP,$d({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(se.isValidElement(r))return se.cloneElement(r,i);var o=s;if(Ht(r)&&(o=r(i),se.isValidElement(o)))return o;var a=Xt("recharts-pie-label-text",typeof r!="boolean"&&!Ht(r)?r.className:"");return se.createElement(kh,$d({},i,{alignmentBaseline:"middle",className:a}),o)}}])})(Q.PureComponent);Vv=Hc;ga(Hc,"displayName","Pie");ga(Hc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ig.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ga(Hc,"parseDeltaAngle",function(t,e){var n=Xs(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ga(Hc,"getRealPieData",function(t){var e=t.data,n=t.children,r=Bt(t,!1),i=ya(n,Tb);return e&&e.length?e.map(function(s,o){return hr(hr(hr({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return hr(hr({},r),s.props)}):[]});ga(Hc,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=IK(i,s),a=r+Zs(t.cx,i,i/2),c=n+Zs(t.cy,s,s/2),u=Zs(t.innerRadius,o,0),g=Zs(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:c,innerRadius:u,outerRadius:g,maxRadius:m}});ga(Hc,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?hr(hr({},e.type.defaultProps),e.props):e.props,i=Vv.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,c=r.paddingAngle,u=r.dataKey,g=r.nameKey,m=r.valueKey,w=r.tooltipType,A=Math.abs(r.minAngle),I=Vv.parseCoordinateOfPie(r,n),_=Vv.parseDeltaAngle(o,a),C=Math.abs(_),R=u;an(u)&&an(m)?($a(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R="value"):an(u)&&($a(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R=m);var j=i.filter(function(M){return Ls(M,R,0)!==0}).length,k=(C>=360?j:j-1)*c,U=C-j*A-k,D=i.reduce(function(M,V){var K=Ls(V,R,0);return M+(Je(K)?K:0)},0),B;if(D>0){var O;B=i.map(function(M,V){var K=Ls(M,R,0),W=Ls(M,g,V),G=(Je(K)?K:0)/D,$;V?$=O.endAngle+Xs(_)*c*(K!==0?1:0):$=o;var ce=$+Xs(_)*((K!==0?A:0)+G*U),J=($+ce)/2,oe=(I.innerRadius+I.outerRadius)/2,ae=[{name:W,value:K,payload:M,dataKey:R,type:w}],re=mr(I.cx,I.cy,oe,J);return O=hr(hr(hr({percent:G,cornerRadius:s,name:W,tooltipPayload:ae,midAngle:J,middleRadius:oe,tooltipPosition:re},M),I),{},{value:Ls(M,R),startAngle:$,endAngle:ce,payload:M,paddingAngle:Xs(_)*c}),O})}return hr(hr({},I),{},{sectors:B,data:i})});var zT,K9;function OSe(){if(K9)return zT;K9=1;var t=Math.ceil,e=Math.max;function n(r,i,s,o){for(var a=-1,c=e(t((i-r)/(s||1)),0),u=Array(c);c--;)u[o?c:++a]=r,r+=s;return u}return zT=n,zT}var HT,Y9;function WK(){if(Y9)return HT;Y9=1;var t=gW(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return HT=r,HT}var $T,Q9;function RSe(){if(Q9)return $T;Q9=1;var t=OSe(),e=_b(),n=WK();function r(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),t(s,o,a,i)}}return $T=r,$T}var GT,X9;function kSe(){if(X9)return GT;X9=1;var t=RSe(),e=t();return GT=e,GT}var MSe=kSe();const ax=Nn(MSe);function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function Z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(n),!0).forEach(function(r){KK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KK(t,e,n){return e=DSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DSe(t){var e=LSe(t,"string");return H0(e)=="symbol"?e:e+""}function LSe(t,e){if(H0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(H0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BSe=["Webkit","Moz","O","ms"],jSe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=BSe.reduce(function(s,o){return J9(J9({},s),{},KK({},o+r,n))},{});return i[e]=n,i};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(this,arguments)}function eF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(n),!0).forEach(function(r){Bo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QK(r.key),r)}}function VSe(t,e,n){return e&&tF(t.prototype,e),n&&tF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function USe(t,e,n){return e=cx(e),zSe(t,YK()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function zSe(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HSe(t)}function HSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YK=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function $Se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tN(t,e)}function tN(t,e){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tN(t,e)}function Bo(t,e,n){return e=QK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QK(t){var e=GSe(t,"string");return Gp(e)=="symbol"?e:e+""}function GSe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qSe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Gm().domain(ax(0,c)).range([s,s+o-a]),g=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:g}},nF=function(e){return e.changedTouches&&!!e.changedTouches.length},qp=(function(t){function e(n){var r;return FSe(this,e),r=USe(this,e,[n]),Bo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Bo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Bo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o?.({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Bo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bo(r,"handleSlideDragStart",function(i){var s=nF(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $Se(e,t),VSe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,c=a.gap,u=a.data,g=u.length-1,m=Math.min(i,s),w=Math.max(i,s),A=e.getIndexInRange(o,m),I=e.getIndexInRange(o,w);return{startIndex:A-A%c,endIndex:I===g?g:I-I%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,c=Ls(s[r],a,r);return Ht(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,c=this.props,u=c.x,g=c.width,m=c.travellerWidth,w=c.startIndex,A=c.endIndex,I=c.onChange,_=r.pageX-s;_>0?_=Math.min(_,u+g-m-a,u+g-m-o):_<0&&(_=Math.max(_,u-o,u-a));var C=this.getIndex({startX:o+_,endX:a+_});(C.startIndex!==w||C.endIndex!==A)&&I&&I(C),this.setState({startX:o+_,endX:a+_,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=nF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,c=i.startX,u=this.state[o],g=this.props,m=g.x,w=g.width,A=g.travellerWidth,I=g.onChange,_=g.gap,C=g.data,R={startX:this.state.startX,endX:this.state.endX},j=r.pageX-s;j>0?j=Math.min(j,m+w-A-u):j<0&&(j=Math.max(j,m-u)),R[o]=u+j;var k=this.getIndex(R),U=k.startIndex,D=k.endIndex,B=function(){var M=C.length-1;return o==="startX"&&(a>c?U%_===0:D%_===0)||a<c&&D===M||o==="endX"&&(a>c?D%_===0:U%_===0)||a>c&&D===M};this.setState(Bo(Bo({},o,u+j),"brushMoveStartX",r.pageX),function(){I&&B()&&I(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,c=o.startX,u=o.endX,g=this.state[i],m=a.indexOf(g);if(m!==-1){var w=m+r;if(!(w===-1||w>=a.length)){var A=a[w];i==="startX"&&A>=u||i==="endX"&&A<=c||this.setState(Bo({},i,A),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.fill,u=r.stroke;return se.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.data,u=r.children,g=r.padding,m=Q.Children.only(u);return m?se.cloneElement(m,{x:i,y:s,width:o,height:a,margin:g,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,c=this.props,u=c.y,g=c.travellerWidth,m=c.height,w=c.traveller,A=c.ariaLabel,I=c.data,_=c.startIndex,C=c.endIndex,R=Math.max(r,this.props.x),j=qT(qT({},Bt(this.props,!1)),{},{x:R,y:u,width:g,height:m}),k=A||"Min value: ".concat((s=I[_])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=I[C])===null||o===void 0?void 0:o.name);return se.createElement(Yn,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(D){["ArrowLeft","ArrowRight"].includes(D.key)&&(D.preventDefault(),D.stopPropagation(),a.handleTravellerMoveKeyboard(D.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(w,j))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,c=s.stroke,u=s.travellerWidth,g=Math.min(r,i)+u,m=Math.max(Math.abs(i-r)-u,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:g,y:o,width:m,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,c=r.travellerWidth,u=r.stroke,g=this.state,m=g.startX,w=g.endX,A=5,I={pointerEvents:"none",fill:u};return se.createElement(Yn,{className:"recharts-brush-texts"},se.createElement(kh,lx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,w)-A,y:o+a/2},I),this.getTextOfTick(i)),se.createElement(kh,lx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,w)+c+A,y:o+a/2},I),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,c=r.y,u=r.width,g=r.height,m=r.alwaysShowText,w=this.state,A=w.startX,I=w.endX,_=w.isTextActive,C=w.isSlideMoving,R=w.isTravellerMoving,j=w.isTravellerFocused;if(!i||!i.length||!Je(a)||!Je(c)||!Je(u)||!Je(g)||u<=0||g<=0)return null;var k=Xt("recharts-brush",s),U=se.Children.count(o)===1,D=jSe("userSelect","none");return se.createElement(Yn,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:D},this.renderBackground(),U&&this.renderPanorama(),this.renderSlide(A,I),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(I,"endX"),(_||C||R||j||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,c=r.stroke,u=Math.floor(s+a/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:i,y:s,width:o,height:a,fill:c,stroke:"none"}),se.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return se.isValidElement(r)?s=se.cloneElement(r,i):Ht(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,c=r.travellerWidth,u=r.updateId,g=r.startIndex,m=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return qT({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?qSe({data:s,width:o,x:a,travellerWidth:c,startIndex:g,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([a,a+o-c]);var w=i.scale.domain().map(function(A){return i.scale(A)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:w}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var c=Math.floor((o+a)/2);r[c]>i?a=c:o=c}return i>=r[a]?a:o}}])})(Q.PureComponent);Bo(qp,"displayName","Brush");Bo(qp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var WT,rF;function WSe(){if(rF)return WT;rF=1;var t=FR();function e(n,r){var i;return t(n,function(s,o,a){return i=r(s,o,a),!i}),!!i}return WT=e,WT}var KT,iF;function KSe(){if(iF)return KT;iF=1;var t=qq(),e=jl(),n=WSe(),r=So(),i=_b();function s(o,a,c){var u=r(o)?t:n;return c&&i(o,a,c)&&(a=void 0),u(o,e(a,3))}return KT=s,KT}var YSe=KSe();const QSe=Nn(YSe);var Il=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},YT,sF;function XSe(){if(sF)return YT;sF=1;var t=uW();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return YT=e,YT}var QT,oF;function ZSe(){if(oF)return QT;oF=1;var t=XSe(),e=lW(),n=jl();function r(i,s){var o={};return s=n(s,3),e(i,function(a,c,u){t(o,c,s(a,c,u))}),o}return QT=r,QT}var JSe=ZSe();const e_e=Nn(JSe);var XT,aF;function t_e(){if(aF)return XT;aF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return XT=t,XT}var ZT,lF;function n_e(){if(lF)return ZT;lF=1;var t=FR();function e(n,r){var i=!0;return t(n,function(s,o,a){return i=!!r(s,o,a),i}),i}return ZT=e,ZT}var JT,cF;function r_e(){if(cF)return JT;cF=1;var t=t_e(),e=n_e(),n=jl(),r=So(),i=_b();function s(o,a,c){var u=r(o)?t:e;return c&&i(o,a,c)&&(a=void 0),u(o,n(a,3))}return JT=s,JT}var i_e=r_e();const XK=Nn(i_e);var s_e=["x","y"];function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nN.apply(this,arguments)}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){o_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o_e(t,e,n){return e=a_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a_e(t){var e=l_e(t,"string");return $0(e)=="symbol"?e:e+""}function l_e(t,e){if($0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c_e(t,e){if(t==null)return{};var n=u_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function f_e(t,e){var n=t.x,r=t.y,i=c_e(t,s_e),s="".concat(n),o=parseInt(s,10),a="".concat(r),c=parseInt(a,10),u="".concat(e.height||i.height),g=parseInt(u,10),m="".concat(e.width||i.width),w=parseInt(m,10);return ym(ym(ym(ym(ym({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:g,width:w,name:e.name,radius:e.radius})}function fF(t){return se.createElement($K,nN({shapeType:"rectangle",propTransformer:f_e,activeClassName:"recharts-active-bar"},t))}var h_e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Je(r)||Bpe(r);return s?e(r,i):(s||Dh(),n)}},d_e=["value","background"],ZK;function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function p_e(t,e){if(t==null)return{};var n=g_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(this,arguments)}function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(n),!0).forEach(function(r){Lu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eY(r.key),r)}}function y_e(t,e,n){return e&&dF(t.prototype,e),n&&dF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v_e(t,e,n){return e=fx(e),w_e(t,JK()?Reflect.construct(e,n||[],fx(t).constructor):e.apply(t,n))}function w_e(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x_e(t)}function x_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JK=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(t)}function b_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rN(t,e)}function rN(t,e){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rN(t,e)}function Lu(t,e,n){return e=eY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eY(t){var e=A_e(t,"string");return Wp(e)=="symbol"?e:e+""}function A_e(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dl=(function(t){function e(){var n;m_e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=v_e(this,e,[].concat(i)),Lu(n,"state",{isAnimationFinished:!1}),Lu(n,"id",Ty("recharts-bar-")),Lu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Lu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return b_e(e,t),y_e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,c=s.activeIndex,u=s.activeBar,g=Bt(this.props,!1);return r&&r.map(function(m,w){var A=w===c,I=A?u:o,_=Ai(Ai(Ai({},g),m),{},{isActive:A,option:I,index:w,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return se.createElement(Yn,ux({className:"recharts-bar-rectangle"},Rh(i.props,m,w),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(w)}),se.createElement(fF,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,g=i.animationEasing,m=i.animationId,w=this.state.prevData;return se.createElement(Rc,{begin:c,duration:u,isActive:a,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var I=A.t,_=s.map(function(C,R){var j=w&&w[R];if(j){var k=Tu(j.x,C.x),U=Tu(j.y,C.y),D=Tu(j.width,C.width),B=Tu(j.height,C.height);return Ai(Ai({},C),{},{x:k(I),y:U(I),width:D(I),height:B(I)})}if(o==="horizontal"){var O=Tu(0,C.height),M=O(I);return Ai(Ai({},C),{},{y:C.y+C.height-M,height:M})}var V=Tu(0,C.width),K=V(I);return Ai(Ai({},C),{},{width:K})});return se.createElement(Yn,null,r.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Lb(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,c=Bt(this.props.background,!1);return s.map(function(u,g){u.value;var m=u.background,w=p_e(u,d_e);if(!m)return null;var A=Ai(Ai(Ai(Ai(Ai({},w),{},{fill:"#eee"},m),c),Rh(r.props,u,g)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:g,className:"recharts-bar-background-rectangle"});return se.createElement(fF,ux({key:"background-bar-".concat(g),option:r.props.background,isActive:g===a},A))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,c=s.yAxis,u=s.layout,g=s.children,m=ya(g,Fb);if(!m)return null;var w=u==="vertical"?o[0].height/2:o[0].width/2,A=function(C,R){var j=Array.isArray(C.value)?C.value[1]:C.value;return{x:C.x,y:C.y,value:j,errorVal:Ls(C,R)}},I={clipPath:r?"url(#clipPath-".concat(i,")"):null};return se.createElement(Yn,I,m.map(function(_){return se.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,offset:w,dataPointFormatter:A})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,c=r.yAxis,u=r.left,g=r.top,m=r.width,w=r.height,A=r.isAnimationActive,I=r.background,_=r.id;if(i||!s||!s.length)return null;var C=this.state.isAnimationFinished,R=Xt("recharts-bar",o),j=a&&a.allowDataOverflow,k=c&&c.allowDataOverflow,U=j||k,D=an(_)?this.id:_;return se.createElement(Yn,{className:R},j||k?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(D)},se.createElement("rect",{x:j?u:u-m/2,y:k?g:g-w/2,width:j?m:m*2,height:k?w:w*2}))):null,se.createElement(Yn,{className:"recharts-bar-rectangles",clipPath:U?"url(#clipPath-".concat(D,")"):null},I?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(U,D),(!A||C)&&Hu.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(Q.PureComponent);ZK=Dl;Lu(Dl,"displayName","Bar");Lu(Dl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ig.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Lu(Dl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,g=t.dataStartIndex,m=t.displayedData,w=t.offset,A=Xxe(r,n);if(!A)return null;var I=e.layout,_=n.type.defaultProps,C=_!==void 0?Ai(Ai({},_),n.props):n.props,R=C.dataKey,j=C.children,k=C.minPointSize,U=I==="horizontal"?o:s,D=u?U.scale.domain():null,B=ibe({numericAxis:U}),O=ya(j,Tb),M=m.map(function(V,K){var W,G,$,ce,J,oe;u?W=Zxe(u[g+K],D):(W=Ls(V,R),Array.isArray(W)||(W=[B,W]));var ae=h_e(k,ZK.defaultProps.minPointSize)(W[1],K);if(I==="horizontal"){var re,pe=[o.scale(W[0]),o.scale(W[1])],we=pe[0],ue=pe[1];G=jj({axis:s,ticks:a,bandSize:i,offset:A.offset,entry:V,index:K}),$=(re=ue??we)!==null&&re!==void 0?re:void 0,ce=A.size;var he=we-ue;if(J=Number.isNaN(he)?0:he,oe={x:G,y:o.y,width:ce,height:o.height},Math.abs(ae)>0&&Math.abs(J)<Math.abs(ae)){var xe=Xs(J||ae)*(Math.abs(ae)-Math.abs(J));$-=xe,J+=xe}}else{var Re=[s.scale(W[0]),s.scale(W[1])],Ue=Re[0],Me=Re[1];if(G=Ue,$=jj({axis:o,ticks:c,bandSize:i,offset:A.offset,entry:V,index:K}),ce=Me-Ue,J=A.size,oe={x:s.x,y:$,width:s.width,height:J},Math.abs(ae)>0&&Math.abs(ce)<Math.abs(ae)){var ke=Xs(ce||ae)*(Math.abs(ae)-Math.abs(ce));ce+=ke}}return Ai(Ai(Ai({},V),{},{x:G,y:$,width:ce,height:J,value:u?W:W[1],payload:V,background:oe},O&&O[K]&&O[K].props),{},{tooltipPayload:[TK(n,V)],tooltipPosition:{x:G+ce/2,y:$+J/2}})});return Ai({data:M,layout:I},w)});function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function E_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tY(r.key),r)}}function S_e(t,e,n){return e&&pF(t.prototype,e),n&&pF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(n),!0).forEach(function(r){qb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qb(t,e,n){return e=tY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tY(t){var e=__e(t,"string");return G0(e)=="symbol"?e:e+""}function __e(t,e){if(G0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T_e=function(e,n,r,i,s){var o=e.width,a=e.height,c=e.layout,u=e.children,g=Object.keys(n),m={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},w=!!Vo(u,Dl);return g.reduce(function(A,I){var _=n[I],C=_.orientation,R=_.domain,j=_.padding,k=j===void 0?{}:j,U=_.mirror,D=_.reversed,B="".concat(C).concat(U?"Mirror":""),O,M,V,K,W;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var G=R[1]-R[0],$=1/0,ce=_.categoricalDomain.sort(Vpe);if(ce.forEach(function(Re,Ue){Ue>0&&($=Math.min((Re||0)-(ce[Ue-1]||0),$))}),Number.isFinite($)){var J=$/G,oe=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(O=J*oe/2),_.padding==="no-gap"){var ae=Zs(e.barCategoryGap,J*oe),re=J*oe/2;O=re-ae-(re-ae)/oe*ae}}}i==="xAxis"?M=[r.left+(k.left||0)+(O||0),r.left+r.width-(k.right||0)-(O||0)]:i==="yAxis"?M=c==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(O||0),r.top+r.height-(k.bottom||0)-(O||0)]:M=_.range,D&&(M=[M[1],M[0]]);var pe=AK(_,s,w),we=pe.scale,ue=pe.realScaleType;we.domain(R).range(M),EK(we);var he=SK(we,Ba(Ba({},_),{},{realScaleType:ue}));i==="xAxis"?(W=C==="top"&&!U||C==="bottom"&&U,V=r.left,K=m[B]-W*_.height):i==="yAxis"&&(W=C==="left"&&!U||C==="right"&&U,V=m[B]-W*_.width,K=r.top);var xe=Ba(Ba(Ba({},_),he),{},{realScaleType:ue,x:V,y:K,scale:we,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return xe.bandSize=Yw(xe,he),!_.hide&&i==="xAxis"?m[B]+=(W?-1:1)*xe.height:_.hide||(m[B]+=(W?-1:1)*xe.width),Ba(Ba({},A),{},qb({},I,xe))},{})},nY=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},C_e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return nY({x:n,y:r},{x:i,y:s})},rY=(function(){function t(e){E_e(this,t),this.scale=e}return S_e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();qb(rY,"EPS",1e-4);var g3=function(e){var n=Object.keys(e).reduce(function(r,i){return Ba(Ba({},r),{},qb({},i,rY.create(e[i])))},{});return Ba(Ba({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return e_e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:a})})},isInRange:function(i){return XK(i,function(s,o){return n[o].isInRange(s)})}})};function I_e(t){return(t%180+180)%180}var P_e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=I_e(i),o=s*Math.PI/180,a=Math.atan(r/n),c=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},eC,mF;function N_e(){if(mF)return eC;mF=1;var t=jl(),e=Cy(),n=Eb();function r(i){return function(s,o,a){var c=Object(s);if(!e(s)){var u=t(o,3);s=n(s),o=function(m){return u(c[m],m,c)}}var g=i(s,o,a);return g>-1?c[u?s[g]:g]:void 0}}return eC=r,eC}var tC,yF;function O_e(){if(yF)return tC;yF=1;var t=WK();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return tC=e,tC}var nC,vF;function R_e(){if(vF)return nC;vF=1;var t=rW(),e=jl(),n=O_e(),r=Math.max;function i(s,o,a){var c=s==null?0:s.length;if(!c)return-1;var u=a==null?0:n(a);return u<0&&(u=r(c+u,0)),t(s,e(o,3),u)}return nC=i,nC}var rC,wF;function k_e(){if(wF)return rC;wF=1;var t=N_e(),e=R_e(),n=t(e);return rC=n,rC}var M_e=k_e();const D_e=Nn(M_e);var L_e=wq();const B_e=Nn(L_e);var j_e=B_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),m3=Q.createContext(void 0),y3=Q.createContext(void 0),iY=Q.createContext(void 0),sY=Q.createContext({}),oY=Q.createContext(void 0),aY=Q.createContext(0),lY=Q.createContext(0),xF=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,c=e.width,u=e.height,g=j_e(s);return se.createElement(m3.Provider,{value:r},se.createElement(y3.Provider,{value:i},se.createElement(sY.Provider,{value:s},se.createElement(iY.Provider,{value:g},se.createElement(oY.Provider,{value:o},se.createElement(aY.Provider,{value:u},se.createElement(lY.Provider,{value:c},a)))))))},F_e=function(){return Q.useContext(oY)},cY=function(e){var n=Q.useContext(m3);n==null&&Dh();var r=n[e];return r==null&&Dh(),r},V_e=function(){var e=Q.useContext(m3);return Ru(e)},U_e=function(){var e=Q.useContext(y3),n=D_e(e,function(r){return XK(r.domain,Number.isFinite)});return n||Ru(e)},uY=function(e){var n=Q.useContext(y3);n==null&&Dh();var r=n[e];return r==null&&Dh(),r},z_e=function(){var e=Q.useContext(iY);return e},H_e=function(){return Q.useContext(sY)},v3=function(){return Q.useContext(lY)},w3=function(){return Q.useContext(aY)};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function $_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hY(r.key),r)}}function q_e(t,e,n){return e&&G_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W_e(t,e,n){return e=hx(e),K_e(t,fY()?Reflect.construct(e,n||[],hx(t).constructor):e.apply(t,n))}function K_e(t,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y_e(t)}function Y_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fY=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(t)}function Q_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iN(t,e)}function iN(t,e){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iN(t,e)}function bF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(n),!0).forEach(function(r){x3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x3(t,e,n){return e=hY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hY(t){var e=X_e(t,"string");return Kp(e)=="symbol"?e:e+""}function X_e(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Z_e(t,e){return nTe(t)||tTe(t,e)||eTe(t,e)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eTe(t,e){if(t){if(typeof t=="string")return EF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EF(t,e)}}function EF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function nTe(t){if(Array.isArray(t))return t}function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sN.apply(this,arguments)}var rTe=function(e,n){var r;return se.isValidElement(e)?r=se.cloneElement(e,n):Ht(e)?r=e(n):r=se.createElement("line",sN({},n,{className:"recharts-reference-line-line"})),r},iTe=function(e,n,r,i,s,o,a,c,u){var g=s.x,m=s.y,w=s.width,A=s.height;if(r){var I=u.y,_=e.y.apply(I,{position:o});if(Il(u,"discard")&&!e.y.isInRange(_))return null;var C=[{x:g+w,y:_},{x:g,y:_}];return c==="left"?C.reverse():C}if(n){var R=u.x,j=e.x.apply(R,{position:o});if(Il(u,"discard")&&!e.x.isInRange(j))return null;var k=[{x:j,y:m+A},{x:j,y:m}];return a==="top"?k.reverse():k}if(i){var U=u.segment,D=U.map(function(B){return e.apply(B,{position:o})});return Il(u,"discard")&&QSe(D,function(B){return!e.isInRange(B)})?null:D}return null};function sTe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,c=t.alwaysShow,u=F_e(),g=cY(i),m=uY(s),w=z_e();if(!u||!w)return null;$a(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=g3({x:g.scale,y:m.scale}),I=Fi(e),_=Fi(n),C=r&&r.length===2,R=iTe(A,I,_,C,w,t.position,g.orientation,m.orientation,t);if(!R)return null;var j=Z_e(R,2),k=j[0],U=k.x,D=k.y,B=j[1],O=B.x,M=B.y,V=Il(t,"hidden")?"url(#".concat(u,")"):void 0,K=AF(AF({clipPath:V},Bt(t,!0)),{},{x1:U,y1:D,x2:O,y2:M});return se.createElement(Yn,{className:Xt("recharts-reference-line",a)},rTe(o,K),Ji.renderCallByParent(t,C_e({x1:U,y1:D,x2:O,y2:M})))}var b3=(function(t){function e(){return $_e(this,e),W_e(this,e,arguments)}return Q_e(e,t),q_e(e,[{key:"render",value:function(){return se.createElement(sTe,this.props)}}])})(se.Component);x3(b3,"displayName","ReferenceLine");x3(b3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oN.apply(this,arguments)}function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function SF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(n),!0).forEach(function(r){Wb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pY(r.key),r)}}function lTe(t,e,n){return e&&aTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cTe(t,e,n){return e=dx(e),uTe(t,dY()?Reflect.construct(e,n||[],dx(t).constructor):e.apply(t,n))}function uTe(t,e){if(e&&(Yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(t)}function fTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dY=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(t)}function hTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aN(t,e)}function aN(t,e){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aN(t,e)}function Wb(t,e,n){return e=pY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pY(t){var e=dTe(t,"string");return Yp(e)=="symbol"?e:e+""}function dTe(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pTe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=g3({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return Il(e,"discard")&&!o.isInRange(a)?null:a},Kb=(function(t){function e(){return oTe(this,e),cTe(this,e,arguments)}return hTe(e,t),lTe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,c=r.clipPathId,u=Fi(i),g=Fi(s);if($a(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!g)return null;var m=pTe(this.props);if(!m)return null;var w=m.x,A=m.y,I=this.props,_=I.shape,C=I.className,R=Il(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=_F(_F({clipPath:R},Bt(this.props,!0)),{},{cx:w,cy:A});return se.createElement(Yn,{className:Xt("recharts-reference-dot",C)},e.renderDot(_,j),Ji.renderCallByParent(this.props,{x:w-o,y:A-o,width:2*o,height:2*o}))}}])})(se.Component);Wb(Kb,"displayName","ReferenceDot");Wb(Kb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wb(Kb,"renderDot",function(t,e){var n;return se.isValidElement(t)?n=se.cloneElement(t,e):Ht(t)?n=t(e):n=se.createElement(p3,oN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lN.apply(this,arguments)}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function TF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(n),!0).forEach(function(r){Yb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mY(r.key),r)}}function yTe(t,e,n){return e&&mTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vTe(t,e,n){return e=px(e),wTe(t,gY()?Reflect.construct(e,n||[],px(t).constructor):e.apply(t,n))}function wTe(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xTe(t)}function xTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gY=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(t)}function bTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cN(t,e)}function cN(t,e){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cN(t,e)}function Yb(t,e,n){return e=mY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t){var e=ATe(t,"string");return Qp(e)=="symbol"?e:e+""}function ATe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ETe=function(e,n,r,i,s){var o=s.x1,a=s.x2,c=s.y1,u=s.y2,g=s.xAxis,m=s.yAxis;if(!g||!m)return null;var w=g3({x:g.scale,y:m.scale}),A={x:e?w.x.apply(o,{position:"start"}):w.x.rangeMin,y:r?w.y.apply(c,{position:"start"}):w.y.rangeMin},I={x:n?w.x.apply(a,{position:"end"}):w.x.rangeMax,y:i?w.y.apply(u,{position:"end"}):w.y.rangeMax};return Il(s,"discard")&&(!w.isInRange(A)||!w.isInRange(I))?null:nY(A,I)},Qb=(function(t){function e(){return gTe(this,e),vTe(this,e,arguments)}return bTe(e,t),yTe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,c=r.className,u=r.alwaysShow,g=r.clipPathId;$a(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Fi(i),w=Fi(s),A=Fi(o),I=Fi(a),_=this.props.shape;if(!m&&!w&&!A&&!I&&!_)return null;var C=ETe(m,w,A,I,this.props);if(!C&&!_)return null;var R=Il(this.props,"hidden")?"url(#".concat(g,")"):void 0;return se.createElement(Yn,{className:Xt("recharts-reference-area",c)},e.renderRect(_,CF(CF({clipPath:R},Bt(this.props,!0)),C)),Ji.renderCallByParent(this.props,C))}}])})(se.Component);Yb(Qb,"displayName","ReferenceArea");Yb(Qb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yb(Qb,"renderRect",function(t,e){var n;return se.isValidElement(t)?n=se.cloneElement(t,e):Ht(t)?n=t(e):n=se.createElement(d3,lN({},e,{className:"recharts-reference-area-rect"})),n});function yY(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function STe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return P_e(r,n)}function _Te(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function gx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function TTe(t,e){return yY(t,e+1)}function CTe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,c=0,u=1,g=o,m=function(){var I=r?.[c];if(I===void 0)return{v:yY(r,u)};var _=c,C,R=function(){return C===void 0&&(C=n(I,_)),C},j=I.coordinate,k=c===0||gx(t,j,R,g,a);k||(c=0,g=o,u+=1),k&&(g=j+t*(R()/2+i),c+=u)},w;u<=s.length;)if(w=m(),w)return w.v;return[]}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function IF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(n),!0).forEach(function(r){ITe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ITe(t,e,n){return e=PTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PTe(t){var e=NTe(t,"string");return q0(e)=="symbol"?e:e+""}function NTe(t,e){if(q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OTe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,c=e.end,u=function(w){var A=s[w],I,_=function(){return I===void 0&&(I=n(A,w)),I};if(w===o-1){var C=t*(A.coordinate+t*_()/2-c);s[w]=A=Rs(Rs({},A),{},{tickCoord:C>0?A.coordinate-C*t:A.coordinate})}else s[w]=A=Rs(Rs({},A),{},{tickCoord:A.coordinate});var R=gx(t,A.tickCoord,_,a,c);R&&(c=A.tickCoord-t*(_()/2+i),s[w]=Rs(Rs({},A),{},{isShow:!0}))},g=o-1;g>=0;g--)u(g);return s}function RTe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,c=e.start,u=e.end;if(s){var g=r[a-1],m=n(g,a-1),w=t*(g.coordinate+t*m/2-u);o[a-1]=g=Rs(Rs({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate});var A=gx(t,g.tickCoord,function(){return m},c,u);A&&(u=g.tickCoord-t*(m/2+i),o[a-1]=Rs(Rs({},g),{},{isShow:!0}))}for(var I=s?a-1:a,_=function(j){var k=o[j],U,D=function(){return U===void 0&&(U=n(k,j)),U};if(j===0){var B=t*(k.coordinate-t*D()/2-c);o[j]=k=Rs(Rs({},k),{},{tickCoord:B<0?k.coordinate-B*t:k.coordinate})}else o[j]=k=Rs(Rs({},k),{},{tickCoord:k.coordinate});var O=gx(t,k.tickCoord,D,c,u);O&&(c=k.tickCoord+t*(D()/2+i),o[j]=Rs(Rs({},k),{},{isShow:!0}))},C=0;C<I;C++)_(C);return o}function A3(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,c=t.interval,u=t.tickFormatter,g=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Je(c)||Ig.isSsr)return TTe(i,typeof c=="number"&&Je(c)?c:0);var w=[],A=a==="top"||a==="bottom"?"width":"height",I=g&&A==="width"?$m(g,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(k,U){var D=Ht(u)?u(k.value,U):k.value;return A==="width"?STe($m(D,{fontSize:e,letterSpacing:n}),I,m):$m(D,{fontSize:e,letterSpacing:n})[A]},C=i.length>=2?Xs(i[1].coordinate-i[0].coordinate):1,R=_Te(s,C,A);return c==="equidistantPreserveStart"?CTe(C,R,_,i,o):(c==="preserveStart"||c==="preserveStartEnd"?w=RTe(C,R,_,i,o,c==="preserveStartEnd"):w=OTe(C,R,_,i,o),w.filter(function(j){return j.isShow}))}var kTe=["viewBox"],MTe=["viewBox"],DTe=["ticks"];function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function PF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(n),!0).forEach(function(r){E3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iC(t,e){if(t==null)return{};var n=LTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wY(r.key),r)}}function jTe(t,e,n){return e&&NF(t.prototype,e),n&&NF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FTe(t,e,n){return e=mx(e),VTe(t,vY()?Reflect.construct(e,n||[],mx(t).constructor):e.apply(t,n))}function VTe(t,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UTe(t)}function UTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vY=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(t)}function zTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uN(t,e)}function uN(t,e){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uN(t,e)}function E3(t,e,n){return e=wY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wY(t){var e=HTe(t,"string");return Xp(e)=="symbol"?e:e+""}function HTe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rg=(function(t){function e(n){var r;return BTe(this,e),r=FTe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return zTe(e,t),jTe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=iC(r,kTe),a=this.props,c=a.viewBox,u=iC(a,MTe);return!fp(s,c)||!fp(o,u)||!fp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,c=i.height,u=i.orientation,g=i.tickSize,m=i.mirror,w=i.tickMargin,A,I,_,C,R,j,k=m?-1:1,U=r.tickSize||g,D=Je(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":A=I=r.coordinate,C=o+ +!m*c,_=C-k*U,j=_-k*w,R=D;break;case"left":_=C=r.coordinate,I=s+ +!m*a,A=I-k*U,R=A-k*w,j=D;break;case"right":_=C=r.coordinate,I=s+ +m*a,A=I+k*U,R=A+k*w,j=D;break;default:A=I=r.coordinate,C=o+ +m*c,_=C+k*U,j=_+k*w,R=D;break}return{line:{x1:A,y1:_,x2:I,y2:C},tick:{x:R,y:j}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.orientation,u=r.mirror,g=r.axisLine,m=Bi(Bi(Bi({},Bt(this.props,!1)),Bt(g,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var w=+(c==="top"&&!u||c==="bottom"&&u);m=Bi(Bi({},m),{},{x1:i,y1:s+w*a,x2:i+o,y2:s+w*a})}else{var A=+(c==="left"&&!u||c==="right"&&u);m=Bi(Bi({},m),{},{x1:i+A*o,y1:s,x2:i+A*o,y2:s+a})}return se.createElement("line",Gd({},m,{className:Xt("recharts-cartesian-axis-line",qo(g,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,c=a.tickLine,u=a.stroke,g=a.tick,m=a.tickFormatter,w=a.unit,A=A3(Bi(Bi({},this.props),{},{ticks:r}),i,s),I=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),C=Bt(this.props,!1),R=Bt(g,!1),j=Bi(Bi({},C),{},{fill:"none"},Bt(c,!1)),k=A.map(function(U,D){var B=o.getTickLineCoord(U),O=B.line,M=B.tick,V=Bi(Bi(Bi(Bi({textAnchor:I,verticalAnchor:_},C),{},{stroke:"none",fill:u},R),M),{},{index:D,payload:U,visibleTicksCount:A.length,tickFormatter:m});return se.createElement(Yn,Gd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},Rh(o.props,U,D)),c&&se.createElement("line",Gd({},j,O,{className:Xt("recharts-cartesian-axis-tick-line",qo(c,"className"))})),g&&e.renderTickItem(g,V,"".concat(Ht(m)?m(U.value,D):U.value).concat(w||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,c=i.ticksGenerator,u=i.className,g=i.hide;if(g)return null;var m=this.props,w=m.ticks,A=iC(m,DTe),I=w;return Ht(c)&&(I=w&&w.length>0?c(this.props):c(A)),o<=0||a<=0||!I||!I.length?null:se.createElement(Yn,{className:Xt("recharts-cartesian-axis",u),ref:function(C){r.layerReference=C}},s&&this.renderAxisLine(),this.renderTicks(I,this.state.fontSize,this.state.letterSpacing),Ji.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,a=Xt(i.className,"recharts-cartesian-axis-tick-value");return se.isValidElement(r)?o=se.cloneElement(r,Bi(Bi({},i),{},{className:a})):Ht(r)?o=r(Bi(Bi({},i),{},{className:a})):o=se.createElement(kh,Gd({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(Q.Component);E3(Rg,"displayName","CartesianAxis");E3(Rg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $Te=["x1","y1","x2","y2","key"],GTe=["offset"];function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function OF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(n),!0).forEach(function(r){qTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qTe(t,e,n){return e=WTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WTe(t){var e=KTe(t,"string");return Lh(e)=="symbol"?e:e+""}function KTe(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}function RF(t,e){if(t==null)return{};var n=YTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var QTe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,c=e.ry;return se.createElement("rect",{x:i,y:s,ry:c,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function xY(t,e){var n;if(se.isValidElement(t))n=se.cloneElement(t,e);else if(Ht(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,c=RF(e,$Te),u=Bt(c,!1);u.offset;var g=RF(u,GTe);n=se.createElement("line",ih({},g,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function XTe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,c){var u=Ds(Ds({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(c),index:c});return xY(i,u)});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ZTe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,c){var u=Ds(Ds({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(c),index:c});return xY(i,u)});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function JTe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var g=a.map(function(w){return Math.round(w+i-i)}).sort(function(w,A){return w-A});i!==g[0]&&g.unshift(0);var m=g.map(function(w,A){var I=!g[A+1],_=I?i+o-w:g[A+1]-w;if(_<=0)return null;var C=A%e.length;return se.createElement("rect",{key:"react-".concat(A),y:w,x:r,height:_,width:s,stroke:"none",fill:e[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function eCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var g=u.map(function(w){return Math.round(w+s-s)}).sort(function(w,A){return w-A});s!==g[0]&&g.unshift(0);var m=g.map(function(w,A){var I=!g[A+1],_=I?s+a-w:g[A+1]-w;if(_<=0)return null;var C=A%r.length;return se.createElement("rect",{key:"react-".concat(A),x:w,y:o,width:_,height:c,stroke:"none",fill:r[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var tCe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return bK(A3(Ds(Ds(Ds({},Rg.defaultProps),r),{},{ticks:hc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},nCe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return bK(A3(Ds(Ds(Ds({},Rg.defaultProps),r),{},{ticks:hc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Od={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function S3(t){var e,n,r,i,s,o,a=v3(),c=w3(),u=H_e(),g=Ds(Ds({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Od.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Od.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Od.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Od.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Od.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Od.verticalFill,x:Je(t.x)?t.x:u.left,y:Je(t.y)?t.y:u.top,width:Je(t.width)?t.width:u.width,height:Je(t.height)?t.height:u.height}),m=g.x,w=g.y,A=g.width,I=g.height,_=g.syncWithTicks,C=g.horizontalValues,R=g.verticalValues,j=V_e(),k=U_e();if(!Je(A)||A<=0||!Je(I)||I<=0||!Je(m)||m!==+m||!Je(w)||w!==+w)return null;var U=g.verticalCoordinatesGenerator||tCe,D=g.horizontalCoordinatesGenerator||nCe,B=g.horizontalPoints,O=g.verticalPoints;if((!B||!B.length)&&Ht(D)){var M=C&&C.length,V=D({yAxis:k?Ds(Ds({},k),{},{ticks:M?C:k.ticks}):void 0,width:a,height:c,offset:u},M?!0:_);$a(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Lh(V),"]")),Array.isArray(V)&&(B=V)}if((!O||!O.length)&&Ht(U)){var K=R&&R.length,W=U({xAxis:j?Ds(Ds({},j),{},{ticks:K?R:j.ticks}):void 0,width:a,height:c,offset:u},K?!0:_);$a(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Lh(W),"]")),Array.isArray(W)&&(O=W)}return se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(QTe,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),se.createElement(XTe,ih({},g,{offset:u,horizontalPoints:B,xAxis:j,yAxis:k})),se.createElement(ZTe,ih({},g,{offset:u,verticalPoints:O,xAxis:j,yAxis:k})),se.createElement(JTe,ih({},g,{horizontalPoints:B})),se.createElement(eCe,ih({},g,{verticalPoints:O})))}S3.displayName="CartesianGrid";function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function rCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EY(r.key),r)}}function sCe(t,e,n){return e&&iCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oCe(t,e,n){return e=yx(e),aCe(t,bY()?Reflect.construct(e,n||[],yx(t).constructor):e.apply(t,n))}function aCe(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lCe(t)}function lCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bY=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yx(t)}function cCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fN(t,e)}function fN(t,e){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fN(t,e)}function AY(t,e,n){return e=EY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EY(t){var e=uCe(t,"string");return Zp(e)=="symbol"?e:e+""}function uCe(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hN(){return hN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hN.apply(this,arguments)}function fCe(t){var e=t.xAxisId,n=v3(),r=w3(),i=cY(e);return i==null?null:Q.createElement(Rg,hN({},i,{className:Xt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return hc(o,!0)}}))}var Ry=(function(t){function e(){return rCe(this,e),oCe(this,e,arguments)}return cCe(e,t),sCe(e,[{key:"render",value:function(){return Q.createElement(fCe,this.props)}}])})(Q.Component);AY(Ry,"displayName","XAxis");AY(Ry,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function hCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TY(r.key),r)}}function pCe(t,e,n){return e&&dCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gCe(t,e,n){return e=vx(e),mCe(t,SY()?Reflect.construct(e,n||[],vx(t).constructor):e.apply(t,n))}function mCe(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yCe(t)}function yCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SY=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vx(t)}function vCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dN(t,e)}function dN(t,e){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dN(t,e)}function _Y(t,e,n){return e=TY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TY(t){var e=wCe(t,"string");return Jp(e)=="symbol"?e:e+""}function wCe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pN.apply(this,arguments)}var xCe=function(e){var n=e.yAxisId,r=v3(),i=w3(),s=uY(n);return s==null?null:Q.createElement(Rg,pN({},s,{className:Xt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return hc(a,!0)}}))},ky=(function(t){function e(){return hCe(this,e),gCe(this,e,arguments)}return vCe(e,t),pCe(e,[{key:"render",value:function(){return Q.createElement(xCe,this.props)}}])})(Q.Component);_Y(ky,"displayName","YAxis");_Y(ky,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kF(t){return SCe(t)||ECe(t)||ACe(t)||bCe()}function bCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ACe(t,e){if(t){if(typeof t=="string")return gN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gN(t,e)}}function ECe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SCe(t){if(Array.isArray(t))return gN(t)}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mN=function(e,n,r,i,s){var o=ya(e,b3),a=ya(e,Kb),c=[].concat(kF(o),kF(a)),u=ya(e,Qb),g="".concat(i,"Id"),m=i[0],w=n;if(c.length&&(w=c.reduce(function(_,C){if(C.props[g]===r&&Il(C.props,"extendDomain")&&Je(C.props[m])){var R=C.props[m];return[Math.min(_[0],R),Math.max(_[1],R)]}return _},w)),u.length){var A="".concat(m,"1"),I="".concat(m,"2");w=u.reduce(function(_,C){if(C.props[g]===r&&Il(C.props,"extendDomain")&&Je(C.props[A])&&Je(C.props[I])){var R=C.props[A],j=C.props[I];return[Math.min(_[0],R,j),Math.max(_[1],R,j)]}return _},w)}return s&&s.length&&(w=s.reduce(function(_,C){return Je(C)?[Math.min(_[0],C),Math.max(_[1],C)]:_},w)),w},sC={exports:{}},MF;function _Ce(){return MF||(MF=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,g){this.fn=c,this.context=u,this.once=g||!1}function s(c,u,g,m,w){if(typeof g!="function")throw new TypeError("The listener must be a function");var A=new i(g,m||c,w),I=n?n+u:u;return c._events[I]?c._events[I].fn?c._events[I]=[c._events[I],A]:c._events[I].push(A):(c._events[I]=A,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],g,m;if(this._eventsCount===0)return u;for(m in g=this._events)e.call(g,m)&&u.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(g)):u},a.prototype.listeners=function(u){var g=n?n+u:u,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var w=0,A=m.length,I=new Array(A);w<A;w++)I[w]=m[w].fn;return I},a.prototype.listenerCount=function(u){var g=n?n+u:u,m=this._events[g];return m?m.fn?1:m.length:0},a.prototype.emit=function(u,g,m,w,A,I){var _=n?n+u:u;if(!this._events[_])return!1;var C=this._events[_],R=arguments.length,j,k;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,g),!0;case 3:return C.fn.call(C.context,g,m),!0;case 4:return C.fn.call(C.context,g,m,w),!0;case 5:return C.fn.call(C.context,g,m,w,A),!0;case 6:return C.fn.call(C.context,g,m,w,A,I),!0}for(k=1,j=new Array(R-1);k<R;k++)j[k-1]=arguments[k];C.fn.apply(C.context,j)}else{var U=C.length,D;for(k=0;k<U;k++)switch(C[k].once&&this.removeListener(u,C[k].fn,void 0,!0),R){case 1:C[k].fn.call(C[k].context);break;case 2:C[k].fn.call(C[k].context,g);break;case 3:C[k].fn.call(C[k].context,g,m);break;case 4:C[k].fn.call(C[k].context,g,m,w);break;default:if(!j)for(D=1,j=new Array(R-1);D<R;D++)j[D-1]=arguments[D];C[k].fn.apply(C[k].context,j)}}return!0},a.prototype.on=function(u,g,m){return s(this,u,g,m,!1)},a.prototype.once=function(u,g,m){return s(this,u,g,m,!0)},a.prototype.removeListener=function(u,g,m,w){var A=n?n+u:u;if(!this._events[A])return this;if(!g)return o(this,A),this;var I=this._events[A];if(I.fn)I.fn===g&&(!w||I.once)&&(!m||I.context===m)&&o(this,A);else{for(var _=0,C=[],R=I.length;_<R;_++)(I[_].fn!==g||w&&!I[_].once||m&&I[_].context!==m)&&C.push(I[_]);C.length?this._events[A]=C.length===1?C[0]:C:o(this,A)}return this},a.prototype.removeAllListeners=function(u){var g;return u?(g=n?n+u:u,this._events[g]&&o(this,g)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(sC)),sC.exports}var TCe=_Ce();const CCe=Nn(TCe);var oC=new CCe,aC="recharts.syncMouseEvents";function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function ICe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CY(r.key),r)}}function NCe(t,e,n){return e&&PCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lC(t,e,n){return e=CY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=OCe(t,"string");return W0(e)=="symbol"?e:e+""}function OCe(t,e){if(W0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(W0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RCe=(function(){function t(){ICe(this,t),lC(this,"activeIndex",0),lC(this,"coordinateList",[]),lC(this,"layout","horizontal")}return NCe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,g=n.offset,m=g===void 0?null:g,w=n.mouseHandlerCallback,A=w===void 0?null:w;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,g=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=s+c+u,w=o+this.offset.top+a/2+g;this.mouseHandlerCallback({pageX:m,pageY:w})}}}])})();function kCe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&Je(r)&&Je(i))return!0}return!1}function MCe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function IY(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=mr(e,n,r,i),a=mr(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function DCe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,c=e.cy,u=e.innerRadius,g=e.outerRadius,m=e.angle,w=mr(a,c,u,m),A=mr(a,c,g,m);r=w.x,i=w.y,s=A.x,o=A.y}else return IY(e);return[{x:r,y:i},{x:s,y:o}]}function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function DF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(n),!0).forEach(function(r){LCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LCe(t,e,n){return e=BCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BCe(t){var e=jCe(t,"string");return K0(e)=="symbol"?e:e+""}function jCe(t,e){if(K0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(K0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FCe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,c=t.offset,u=t.activeTooltipIndex,g=t.tooltipAxisBandSize,m=t.layout,w=t.chartName,A=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!A||!s||!o||w!=="ScatterChart"&&i!=="axis")return null;var I,_=FP;if(w==="ScatterChart")I=o,_=x2e;else if(w==="BarChart")I=MCe(m,o,c,g),_=d3;else if(m==="radial"){var C=IY(o),R=C.cx,j=C.cy,k=C.radius,U=C.startAngle,D=C.endAngle;I={cx:R,cy:j,startAngle:U,endAngle:D,innerRadius:k,outerRadius:k},_=RK}else I={points:DCe(m,o,c)},_=FP;var B=cv(cv(cv(cv({stroke:"#ccc",pointerEvents:"none"},c),I),Bt(A,!1)),{},{payload:a,payloadIndex:u,className:Xt("recharts-tooltip-cursor",A.className)});return Q.isValidElement(A)?Q.cloneElement(A,B):Q.createElement(_,B)}var VCe=["item"],UCe=["children","className","width","height","style","compact","title","desc"];function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}function LF(t,e){return $Ce(t)||HCe(t,e)||NY(t,e)||zCe()}function zCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function $Ce(t){if(Array.isArray(t))return t}function BF(t,e){if(t==null)return{};var n=GCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OY(r.key),r)}}function KCe(t,e,n){return e&&WCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YCe(t,e,n){return e=wx(e),QCe(t,PY()?Reflect.construct(e,n||[],wx(t).constructor):e.apply(t,n))}function QCe(t,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XCe(t)}function XCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PY=function(){return!!t})()}function wx(t){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wx(t)}function ZCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yN(t,e)}function yN(t,e){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yN(t,e)}function tg(t){return tIe(t)||eIe(t)||NY(t)||JCe()}function JCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(t,e){if(t){if(typeof t=="string")return vN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vN(t,e)}}function eIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tIe(t){if(Array.isArray(t))return vN(t)}function vN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(n),!0).forEach(function(r){Nt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nt(t,e,n){return e=OY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OY(t){var e=nIe(t,"string");return eg(e)=="symbol"?e:e+""}function nIe(t,e){if(eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rIe={xAxis:["bottom","top"],yAxis:["left","right"]},iIe={width:"100%",height:"100%"},RY={x:0,y:0};function uv(t){return t}var sIe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},oIe=function(e,n,r,i){var s=n.find(function(g){return g&&g.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return Le(Le(Le({},i),mr(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var c=s.coordinate,u=i.angle;return Le(Le(Le({},i),mr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return RY},Xb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,c){var u=c.props.data;return u&&u.length?[].concat(tg(a),tg(u)):a},[]);return o.length>0?o:e&&e.length&&Je(i)&&Je(s)?e.slice(i,s+1):[]};function kY(t){return t==="number"?[0,"auto"]:void 0}var wN=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=Xb(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(c,u){var g,m=(g=u.props.data)!==null&&g!==void 0?g:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var w;if(o.dataKey&&!o.allowDuplicatedCategory){var A=m===void 0?a:m;w=JI(A,o.dataKey,i)}else w=m&&m[r]||a[r];return w?[].concat(tg(c),[TK(u,w)]):c},[])},FF=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=sIe(s,r),a=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,g=Gxe(o,a,u,c);if(g>=0&&u){var m=u[g]&&u[g].value,w=wN(e,n,g,m),A=oIe(r,a,g,s);return{activeTooltipIndex:g,activeLabel:m,activePayload:w,activeCoordinate:A}}return null},aIe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,g=e.layout,m=e.children,w=e.stackOffset,A=xK(g,s);return r.reduce(function(I,_){var C,R=_.type.defaultProps!==void 0?Le(Le({},_.type.defaultProps),_.props):_.props,j=R.type,k=R.dataKey,U=R.allowDataOverflow,D=R.allowDuplicatedCategory,B=R.scale,O=R.ticks,M=R.includeHidden,V=R[o];if(I[V])return I;var K=Xb(e.data,{graphicalItems:i.filter(function(he){var xe,Re=o in he.props?he.props[o]:(xe=he.type.defaultProps)===null||xe===void 0?void 0:xe[o];return Re===V}),dataStartIndex:c,dataEndIndex:u}),W=K.length,G,$,ce;kCe(R.domain,U,j)&&(G=MP(R.domain,null,U),A&&(j==="number"||B!=="auto")&&(ce=qm(K,k,"category")));var J=kY(j);if(!G||G.length===0){var oe,ae=(oe=R.domain)!==null&&oe!==void 0?oe:J;if(k){if(G=qm(K,k,j),j==="category"&&A){var re=Fpe(G);D&&re?($=G,G=ax(0,W)):D||(G=Uj(ae,G,_).reduce(function(he,xe){return he.indexOf(xe)>=0?he:[].concat(tg(he),[xe])},[]))}else if(j==="category")D?G=G.filter(function(he){return he!==""&&!an(he)}):G=Uj(ae,G,_).reduce(function(he,xe){return he.indexOf(xe)>=0||xe===""||an(xe)?he:[].concat(tg(he),[xe])},[]);else if(j==="number"){var pe=Qxe(K,i.filter(function(he){var xe,Re,Ue=o in he.props?he.props[o]:(xe=he.type.defaultProps)===null||xe===void 0?void 0:xe[o],Me="hide"in he.props?he.props.hide:(Re=he.type.defaultProps)===null||Re===void 0?void 0:Re.hide;return Ue===V&&(M||!Me)}),k,s,g);pe&&(G=pe)}A&&(j==="number"||B!=="auto")&&(ce=qm(K,k,"category"))}else A?G=ax(0,W):a&&a[V]&&a[V].hasStack&&j==="number"?G=w==="expand"?[0,1]:_K(a[V].stackGroups,c,u):G=wK(K,i.filter(function(he){var xe=o in he.props?he.props[o]:he.type.defaultProps[o],Re="hide"in he.props?he.props.hide:he.type.defaultProps.hide;return xe===V&&(M||!Re)}),j,g,!0);if(j==="number")G=mN(m,G,V,s,O),ae&&(G=MP(ae,G,U));else if(j==="category"&&ae){var we=ae,ue=G.every(function(he){return we.indexOf(he)>=0});ue&&(G=we)}}return Le(Le({},I),{},Nt({},V,Le(Le({},R),{},{axisType:s,domain:G,categoricalDomain:ce,duplicateDomain:$,originalDomain:(C=R.domain)!==null&&C!==void 0?C:J,isCategorical:A,layout:g})))},{})},lIe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,g=e.layout,m=e.children,w=Xb(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),A=w.length,I=xK(g,s),_=-1;return r.reduce(function(C,R){var j=R.type.defaultProps!==void 0?Le(Le({},R.type.defaultProps),R.props):R.props,k=j[o],U=kY("number");if(!C[k]){_++;var D;return I?D=ax(0,A):a&&a[k]&&a[k].hasStack?(D=_K(a[k].stackGroups,c,u),D=mN(m,D,k,s)):(D=MP(U,wK(w,r.filter(function(B){var O,M,V=o in B.props?B.props[o]:(O=B.type.defaultProps)===null||O===void 0?void 0:O[o],K="hide"in B.props?B.props.hide:(M=B.type.defaultProps)===null||M===void 0?void 0:M.hide;return V===k&&!K}),"number",g),i.defaultProps.allowDataOverflow),D=mN(m,D,k,s)),Le(Le({},C),{},Nt({},k,Le(Le({axisType:s},i.defaultProps),{},{hide:!0,orientation:qo(rIe,"".concat(s,".").concat(_%2),null),domain:D,originalDomain:U,isCategorical:I,layout:g})))}return C},{})},cIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,g=e.children,m="".concat(i,"Id"),w=ya(g,s),A={};return w&&w.length?A=aIe(e,{axes:w,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:a,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(A=lIe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:a,dataStartIndex:c,dataEndIndex:u})),A},uIe=function(e){var n=Ru(e),r=hc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:VR(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Yw(n,r)}},VF=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vo(n,qp),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},fIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=wc(n&&n.type);return r&&r.indexOf("Bar")>=0})},UF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hIe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,c=a===void 0?{}:a,u=r.width,g=r.height,m=r.children,w=r.margin||{},A=Vo(m,qp),I=Vo(m,hp),_=Object.keys(c).reduce(function(D,B){var O=c[B],M=O.orientation;return!O.mirror&&!O.hide?Le(Le({},D),{},Nt({},M,D[M]+O.width)):D},{left:w.left||0,right:w.right||0}),C=Object.keys(o).reduce(function(D,B){var O=o[B],M=O.orientation;return!O.mirror&&!O.hide?Le(Le({},D),{},Nt({},M,qo(D,"".concat(M))+O.height)):D},{top:w.top||0,bottom:w.bottom||0}),R=Le(Le({},C),_),j=R.bottom;A&&(R.bottom+=A.props.height||qp.defaultProps.height),I&&n&&(R=Kxe(R,i,r,n));var k=u-R.left-R.right,U=g-R.top-R.bottom;return Le(Le({brushBottom:j},R),{},{width:Math.max(k,0),height:Math.max(U,0)})},dIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},MY=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,g=e.formatAxisMap,m=e.defaultProps,w=function(R,j){var k=j.graphicalItems,U=j.stackGroups,D=j.offset,B=j.updateId,O=j.dataStartIndex,M=j.dataEndIndex,V=R.barSize,K=R.layout,W=R.barGap,G=R.barCategoryGap,$=R.maxBarSize,ce=UF(K),J=ce.numericAxisName,oe=ce.cateAxisName,ae=fIe(k),re=[];return k.forEach(function(pe,we){var ue=Xb(R.data,{graphicalItems:[pe],dataStartIndex:O,dataEndIndex:M}),he=pe.type.defaultProps!==void 0?Le(Le({},pe.type.defaultProps),pe.props):pe.props,xe=he.dataKey,Re=he.maxBarSize,Ue=he["".concat(J,"Id")],Me=he["".concat(oe,"Id")],ke={},De=c.reduce(function(nt,_n){var wi=j["".concat(_n.axisType,"Map")],si=he["".concat(_n.axisType,"Id")];wi&&wi[si]||_n.axisType==="zAxis"||Dh();var so=wi[si];return Le(Le({},nt),{},Nt(Nt({},_n.axisType,so),"".concat(_n.axisType,"Ticks"),hc(so)))},ke),Pe=De[oe],Fe=De["".concat(oe,"Ticks")],Ge=U&&U[Ue]&&U[Ue].hasStack&&sbe(pe,U[Ue].stackGroups),Te=wc(pe.type).indexOf("Bar")>=0,et=Yw(Pe,Fe),dt=[],Ft=ae&&qxe({barSize:V,stackGroups:U,totalSize:dIe(De,oe)});if(Te){var Yt,kt,Kt=an(Re)?$:Re,xt=(Yt=(kt=Yw(Pe,Fe,!0))!==null&&kt!==void 0?kt:Kt)!==null&&Yt!==void 0?Yt:0;dt=Wxe({barGap:W,barCategoryGap:G,bandSize:xt!==et?xt:et,sizeList:Ft[Me],maxBarSize:Kt}),xt!==et&&(dt=dt.map(function(nt){return Le(Le({},nt),{},{position:Le(Le({},nt.position),{},{offset:nt.position.offset-xt/2})})}))}var ii=pe&&pe.type&&pe.type.getComposedData;ii&&re.push({props:Le(Le({},ii(Le(Le({},De),{},{displayedData:ue,props:R,dataKey:xe,item:pe,bandSize:et,barPosition:dt,offset:D,stackedData:Ge,layout:K,dataStartIndex:O,dataEndIndex:M}))),{},Nt(Nt(Nt({key:pe.key||"item-".concat(we)},J,De[J]),oe,De[oe]),"animationId",B)),childIndex:Xpe(pe,R.children),item:pe})}),re},A=function(R,j){var k=R.props,U=R.dataStartIndex,D=R.dataEndIndex,B=R.updateId;if(!nL({props:k}))return null;var O=k.children,M=k.layout,V=k.stackOffset,K=k.data,W=k.reverseStackOrder,G=UF(M),$=G.numericAxisName,ce=G.cateAxisName,J=ya(O,r),oe=rbe(K,J,"".concat($,"Id"),"".concat(ce,"Id"),V,W),ae=c.reduce(function(he,xe){var Re="".concat(xe.axisType,"Map");return Le(Le({},he),{},Nt({},Re,cIe(k,Le(Le({},xe),{},{graphicalItems:J,stackGroups:xe.axisType===$&&oe,dataStartIndex:U,dataEndIndex:D}))))},{}),re=hIe(Le(Le({},ae),{},{props:k,graphicalItems:J}),j?.legendBBox);Object.keys(ae).forEach(function(he){ae[he]=g(k,ae[he],re,he.replace("Map",""),n)});var pe=ae["".concat(ce,"Map")],we=uIe(pe),ue=w(k,Le(Le({},ae),{},{dataStartIndex:U,dataEndIndex:D,updateId:B,graphicalItems:J,stackGroups:oe,offset:re}));return Le(Le({formattedGraphicalItems:ue,graphicalItems:J,offset:re,stackGroups:oe},we),ae)},I=(function(C){function R(j){var k,U,D;return qCe(this,R),D=YCe(this,R,[j]),Nt(D,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Nt(D,"accessibilityManager",new RCe),Nt(D,"handleLegendBBoxUpdate",function(B){if(B){var O=D.state,M=O.dataStartIndex,V=O.dataEndIndex,K=O.updateId;D.setState(Le({legendBBox:B},A({props:D.props,dataStartIndex:M,dataEndIndex:V,updateId:K},Le(Le({},D.state),{},{legendBBox:B}))))}}),Nt(D,"handleReceiveSyncEvent",function(B,O,M){if(D.props.syncId===B){if(M===D.eventEmitterSymbol&&typeof D.props.syncMethod!="function")return;D.applySyncEvent(O)}}),Nt(D,"handleBrushChange",function(B){var O=B.startIndex,M=B.endIndex;if(O!==D.state.dataStartIndex||M!==D.state.dataEndIndex){var V=D.state.updateId;D.setState(function(){return Le({dataStartIndex:O,dataEndIndex:M},A({props:D.props,dataStartIndex:O,dataEndIndex:M,updateId:V},D.state))}),D.triggerSyncEvent({dataStartIndex:O,dataEndIndex:M})}}),Nt(D,"handleMouseEnter",function(B){var O=D.getMouseInfo(B);if(O){var M=Le(Le({},O),{},{isTooltipActive:!0});D.setState(M),D.triggerSyncEvent(M);var V=D.props.onMouseEnter;Ht(V)&&V(M,B)}}),Nt(D,"triggeredAfterMouseMove",function(B){var O=D.getMouseInfo(B),M=O?Le(Le({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};D.setState(M),D.triggerSyncEvent(M);var V=D.props.onMouseMove;Ht(V)&&V(M,B)}),Nt(D,"handleItemMouseEnter",function(B){D.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),Nt(D,"handleItemMouseLeave",function(){D.setState(function(){return{isTooltipActive:!1}})}),Nt(D,"handleMouseMove",function(B){B.persist(),D.throttleTriggeredAfterMouseMove(B)}),Nt(D,"handleMouseLeave",function(B){D.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};D.setState(O),D.triggerSyncEvent(O);var M=D.props.onMouseLeave;Ht(M)&&M(O,B)}),Nt(D,"handleOuterEvent",function(B){var O=Qpe(B),M=qo(D.props,"".concat(O));if(O&&Ht(M)){var V,K;/.*touch.*/i.test(O)?K=D.getMouseInfo(B.changedTouches[0]):K=D.getMouseInfo(B),M((V=K)!==null&&V!==void 0?V:{},B)}}),Nt(D,"handleClick",function(B){var O=D.getMouseInfo(B);if(O){var M=Le(Le({},O),{},{isTooltipActive:!0});D.setState(M),D.triggerSyncEvent(M);var V=D.props.onClick;Ht(V)&&V(M,B)}}),Nt(D,"handleMouseDown",function(B){var O=D.props.onMouseDown;if(Ht(O)){var M=D.getMouseInfo(B);O(M,B)}}),Nt(D,"handleMouseUp",function(B){var O=D.props.onMouseUp;if(Ht(O)){var M=D.getMouseInfo(B);O(M,B)}}),Nt(D,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&D.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),Nt(D,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&D.handleMouseDown(B.changedTouches[0])}),Nt(D,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&D.handleMouseUp(B.changedTouches[0])}),Nt(D,"handleDoubleClick",function(B){var O=D.props.onDoubleClick;if(Ht(O)){var M=D.getMouseInfo(B);O(M,B)}}),Nt(D,"handleContextMenu",function(B){var O=D.props.onContextMenu;if(Ht(O)){var M=D.getMouseInfo(B);O(M,B)}}),Nt(D,"triggerSyncEvent",function(B){D.props.syncId!==void 0&&oC.emit(aC,D.props.syncId,B,D.eventEmitterSymbol)}),Nt(D,"applySyncEvent",function(B){var O=D.props,M=O.layout,V=O.syncMethod,K=D.state.updateId,W=B.dataStartIndex,G=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)D.setState(Le({dataStartIndex:W,dataEndIndex:G},A({props:D.props,dataStartIndex:W,dataEndIndex:G,updateId:K},D.state)));else if(B.activeTooltipIndex!==void 0){var $=B.chartX,ce=B.chartY,J=B.activeTooltipIndex,oe=D.state,ae=oe.offset,re=oe.tooltipTicks;if(!ae)return;if(typeof V=="function")J=V(re,B);else if(V==="value"){J=-1;for(var pe=0;pe<re.length;pe++)if(re[pe].value===B.activeLabel){J=pe;break}}var we=Le(Le({},ae),{},{x:ae.left,y:ae.top}),ue=Math.min($,we.x+we.width),he=Math.min(ce,we.y+we.height),xe=re[J]&&re[J].value,Re=wN(D.state,D.props.data,J),Ue=re[J]?{x:M==="horizontal"?re[J].coordinate:ue,y:M==="horizontal"?he:re[J].coordinate}:RY;D.setState(Le(Le({},B),{},{activeLabel:xe,activeCoordinate:Ue,activePayload:Re,activeTooltipIndex:J}))}else D.setState(B)}),Nt(D,"renderCursor",function(B){var O,M=D.state,V=M.isTooltipActive,K=M.activeCoordinate,W=M.activePayload,G=M.offset,$=M.activeTooltipIndex,ce=M.tooltipAxisBandSize,J=D.getTooltipEventType(),oe=(O=B.props.active)!==null&&O!==void 0?O:V,ae=D.props.layout,re=B.key||"_recharts-cursor";return se.createElement(FCe,{key:re,activeCoordinate:K,activePayload:W,activeTooltipIndex:$,chartName:n,element:B,isActive:oe,layout:ae,offset:G,tooltipAxisBandSize:ce,tooltipEventType:J})}),Nt(D,"renderPolarAxis",function(B,O,M){var V=qo(B,"type.axisType"),K=qo(D.state,"".concat(V,"Map")),W=B.type.defaultProps,G=W!==void 0?Le(Le({},W),B.props):B.props,$=K&&K[G["".concat(V,"Id")]];return Q.cloneElement(B,Le(Le({},$),{},{className:Xt(V,$.className),key:B.key||"".concat(O,"-").concat(M),ticks:hc($,!0)}))}),Nt(D,"renderPolarGrid",function(B){var O=B.props,M=O.radialLines,V=O.polarAngles,K=O.polarRadius,W=D.state,G=W.radiusAxisMap,$=W.angleAxisMap,ce=Ru(G),J=Ru($),oe=J.cx,ae=J.cy,re=J.innerRadius,pe=J.outerRadius;return Q.cloneElement(B,{polarAngles:Array.isArray(V)?V:hc(J,!0).map(function(we){return we.coordinate}),polarRadius:Array.isArray(K)?K:hc(ce,!0).map(function(we){return we.coordinate}),cx:oe,cy:ae,innerRadius:re,outerRadius:pe,key:B.key||"polar-grid",radialLines:M})}),Nt(D,"renderLegend",function(){var B=D.state.formattedGraphicalItems,O=D.props,M=O.children,V=O.width,K=O.height,W=D.props.margin||{},G=V-(W.left||0)-(W.right||0),$=yK({children:M,formattedGraphicalItems:B,legendWidth:G,legendContent:u});if(!$)return null;var ce=$.item,J=BF($,VCe);return Q.cloneElement(ce,Le(Le({},J),{},{chartWidth:V,chartHeight:K,margin:W,onBBoxUpdate:D.handleLegendBBoxUpdate}))}),Nt(D,"renderTooltip",function(){var B,O=D.props,M=O.children,V=O.accessibilityLayer,K=Vo(M,fa);if(!K)return null;var W=D.state,G=W.isTooltipActive,$=W.activeCoordinate,ce=W.activePayload,J=W.activeLabel,oe=W.offset,ae=(B=K.props.active)!==null&&B!==void 0?B:G;return Q.cloneElement(K,{viewBox:Le(Le({},oe),{},{x:oe.left,y:oe.top}),active:ae,label:J,payload:ae?ce:[],coordinate:$,accessibilityLayer:V})}),Nt(D,"renderBrush",function(B){var O=D.props,M=O.margin,V=O.data,K=D.state,W=K.offset,G=K.dataStartIndex,$=K.dataEndIndex,ce=K.updateId;return Q.cloneElement(B,{key:B.key||"_recharts-brush",onChange:sv(D.handleBrushChange,B.props.onChange),data:V,x:Je(B.props.x)?B.props.x:W.left,y:Je(B.props.y)?B.props.y:W.top+W.height+W.brushBottom-(M.bottom||0),width:Je(B.props.width)?B.props.width:W.width,startIndex:G,endIndex:$,updateId:"brush-".concat(ce)})}),Nt(D,"renderReferenceElement",function(B,O,M){if(!B)return null;var V=D,K=V.clipPathId,W=D.state,G=W.xAxisMap,$=W.yAxisMap,ce=W.offset,J=B.type.defaultProps||{},oe=B.props,ae=oe.xAxisId,re=ae===void 0?J.xAxisId:ae,pe=oe.yAxisId,we=pe===void 0?J.yAxisId:pe;return Q.cloneElement(B,{key:B.key||"".concat(O,"-").concat(M),xAxis:G[re],yAxis:$[we],viewBox:{x:ce.left,y:ce.top,width:ce.width,height:ce.height},clipPathId:K})}),Nt(D,"renderActivePoints",function(B){var O=B.item,M=B.activePoint,V=B.basePoint,K=B.childIndex,W=B.isRange,G=[],$=O.props.key,ce=O.item.type.defaultProps!==void 0?Le(Le({},O.item.type.defaultProps),O.item.props):O.item.props,J=ce.activeDot,oe=ce.dataKey,ae=Le(Le({index:K,dataKey:oe,cx:M.x,cy:M.y,r:4,fill:h3(O.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Bt(J,!1)),_w(J));return G.push(R.renderActiveDot(J,ae,"".concat($,"-activePoint-").concat(K))),V?G.push(R.renderActiveDot(J,Le(Le({},ae),{},{cx:V.x,cy:V.y}),"".concat($,"-basePoint-").concat(K))):W&&G.push(null),G}),Nt(D,"renderGraphicChild",function(B,O,M){var V=D.filterFormatItem(B,O,M);if(!V)return null;var K=D.getTooltipEventType(),W=D.state,G=W.isTooltipActive,$=W.tooltipAxis,ce=W.activeTooltipIndex,J=W.activeLabel,oe=D.props.children,ae=Vo(oe,fa),re=V.props,pe=re.points,we=re.isRange,ue=re.baseLine,he=V.item.type.defaultProps!==void 0?Le(Le({},V.item.type.defaultProps),V.item.props):V.item.props,xe=he.activeDot,Re=he.hide,Ue=he.activeBar,Me=he.activeShape,ke=!!(!Re&&G&&ae&&(xe||Ue||Me)),De={};K!=="axis"&&ae&&ae.props.trigger==="click"?De={onClick:sv(D.handleItemMouseEnter,B.props.onClick)}:K!=="axis"&&(De={onMouseLeave:sv(D.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:sv(D.handleItemMouseEnter,B.props.onMouseEnter)});var Pe=Q.cloneElement(B,Le(Le({},V.props),De));function Fe(_n){return typeof $.dataKey=="function"?$.dataKey(_n.payload):null}if(ke)if(ce>=0){var Ge,Te;if($.dataKey&&!$.allowDuplicatedCategory){var et=typeof $.dataKey=="function"?Fe:"payload.".concat($.dataKey.toString());Ge=JI(pe,et,J),Te=we&&ue&&JI(ue,et,J)}else Ge=pe?.[ce],Te=we&&ue&&ue[ce];if(Me||Ue){var dt=B.props.activeIndex!==void 0?B.props.activeIndex:ce;return[Q.cloneElement(B,Le(Le(Le({},V.props),De),{},{activeIndex:dt})),null,null]}if(!an(Ge))return[Pe].concat(tg(D.renderActivePoints({item:V,activePoint:Ge,basePoint:Te,childIndex:ce,isRange:we})))}else{var Ft,Yt=(Ft=D.getItemByXY(D.state.activeCoordinate))!==null&&Ft!==void 0?Ft:{graphicalItem:Pe},kt=Yt.graphicalItem,Kt=kt.item,xt=Kt===void 0?B:Kt,ii=kt.childIndex,nt=Le(Le(Le({},V.props),De),{},{activeIndex:ii});return[Q.cloneElement(xt,nt),null,null]}return we?[Pe,null,null]:[Pe,null]}),Nt(D,"renderCustomized",function(B,O,M){return Q.cloneElement(B,Le(Le({key:"recharts-customized-".concat(M)},D.props),D.state))}),Nt(D,"renderMap",{CartesianGrid:{handler:uv,once:!0},ReferenceArea:{handler:D.renderReferenceElement},ReferenceLine:{handler:uv},ReferenceDot:{handler:D.renderReferenceElement},XAxis:{handler:uv},YAxis:{handler:uv},Brush:{handler:D.renderBrush,once:!0},Bar:{handler:D.renderGraphicChild},Line:{handler:D.renderGraphicChild},Area:{handler:D.renderGraphicChild},Radar:{handler:D.renderGraphicChild},RadialBar:{handler:D.renderGraphicChild},Scatter:{handler:D.renderGraphicChild},Pie:{handler:D.renderGraphicChild},Funnel:{handler:D.renderGraphicChild},Tooltip:{handler:D.renderCursor,once:!0},PolarGrid:{handler:D.renderPolarGrid,once:!0},PolarAngleAxis:{handler:D.renderPolarAxis},PolarRadiusAxis:{handler:D.renderPolarAxis},Customized:{handler:D.renderCustomized}}),D.clipPathId="".concat((k=j.id)!==null&&k!==void 0?k:Ty("recharts"),"-clip"),D.throttleTriggeredAfterMouseMove=mW(D.triggeredAfterMouseMove,(U=j.throttleDelay)!==null&&U!==void 0?U:1e3/60),D.state={},D}return ZCe(R,C),KCe(R,[{key:"componentDidMount",value:function(){var k,U;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,U=k.children,D=k.data,B=k.height,O=k.layout,M=Vo(U,fa);if(M){var V=M.props.defaultIndex;if(!(typeof V!="number"||V<0||V>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[V]&&this.state.tooltipTicks[V].value,W=wN(this.state,D,V,K),G=this.state.tooltipTicks[V].coordinate,$=(this.state.offset.top+B)/2,ce=O==="horizontal",J=ce?{x:G,y:$}:{y:G,x:$},oe=this.state.formattedGraphicalItems.find(function(re){var pe=re.item;return pe.type.name==="Scatter"});oe&&(J=Le(Le({},J),oe.props.points[V].tooltipPosition),W=oe.props.points[V].tooltipPayload);var ae={activeTooltipIndex:V,isTooltipActive:!0,activeLabel:K,activePayload:W,activeCoordinate:J};this.setState(ae),this.renderCursor(M),this.accessibilityManager.setIndex(V)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,U){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==U.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var D,B;this.accessibilityManager.setDetails({offset:{left:(D=this.props.margin.left)!==null&&D!==void 0?D:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(k){tP([Vo(k.children,fa)],[Vo(this.props.children,fa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=Vo(this.props.children,fa);if(k&&typeof k.props.shared=="boolean"){var U=k.props.shared?"axis":"item";return a.indexOf(U)>=0?U:s}return s}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var U=this.container,D=U.getBoundingClientRect(),B=Bye(D),O={chartX:Math.round(k.pageX-B.left),chartY:Math.round(k.pageY-B.top)},M=D.width/U.offsetWidth||1,V=this.inRange(O.chartX,O.chartY,M);if(!V)return null;var K=this.state,W=K.xAxisMap,G=K.yAxisMap,$=this.getTooltipEventType(),ce=FF(this.state,this.props.data,this.props.layout,V);if($!=="axis"&&W&&G){var J=Ru(W).scale,oe=Ru(G).scale,ae=J&&J.invert?J.invert(O.chartX):null,re=oe&&oe.invert?oe.invert(O.chartY):null;return Le(Le({},O),{},{xValue:ae,yValue:re},ce)}return ce?Le(Le({},O),ce):null}},{key:"inRange",value:function(k,U){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,O=k/D,M=U/D;if(B==="horizontal"||B==="vertical"){var V=this.state.offset,K=O>=V.left&&O<=V.left+V.width&&M>=V.top&&M<=V.top+V.height;return K?{x:O,y:M}:null}var W=this.state,G=W.angleAxisMap,$=W.radiusAxisMap;if(G&&$){var ce=Ru(G);return $j({x:O,y:M},ce)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,U=this.getTooltipEventType(),D=Vo(k,fa),B={};D&&U==="axis"&&(D.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=_w(this.props,this.handleOuterEvent);return Le(Le({},O),B)}},{key:"addListener",value:function(){oC.on(aC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){oC.removeListener(aC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,U,D){for(var B=this.state.formattedGraphicalItems,O=0,M=B.length;O<M;O++){var V=B[O];if(V.item===k||V.props.key===k.key||U===wc(V.item.type)&&D===V.childIndex)return V}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,U=this.state.offset,D=U.left,B=U.top,O=U.height,M=U.width;return se.createElement("defs",null,se.createElement("clipPath",{id:k},se.createElement("rect",{x:D,y:B,height:O,width:M})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(U,D){var B=LF(D,2),O=B[0],M=B[1];return Le(Le({},U),{},Nt({},O,M.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(U,D){var B=LF(D,2),O=B[0],M=B[1];return Le(Le({},U),{},Nt({},O,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var U;return(U=this.state.xAxisMap)===null||U===void 0||(U=U[k])===null||U===void 0?void 0:U.scale}},{key:"getYScaleByAxisId",value:function(k){var U;return(U=this.state.yAxisMap)===null||U===void 0||(U=U[k])===null||U===void 0?void 0:U.scale}},{key:"getItemByXY",value:function(k){var U=this.state,D=U.formattedGraphicalItems,B=U.activeItem;if(D&&D.length)for(var O=0,M=D.length;O<M;O++){var V=D[O],K=V.props,W=V.item,G=W.type.defaultProps!==void 0?Le(Le({},W.type.defaultProps),W.props):W.props,$=wc(W.type);if($==="Bar"){var ce=(K.data||[]).find(function(re){return e2e(k,re)});if(ce)return{graphicalItem:V,payload:ce}}else if($==="RadialBar"){var J=(K.data||[]).find(function(re){return $j(k,re)});if(J)return{graphicalItem:V,payload:J}}else if($b(V,B)||Gb(V,B)||z0(V,B)){var oe=ESe({graphicalItem:V,activeTooltipItem:B,itemData:G.data}),ae=G.activeIndex===void 0?oe:G.activeIndex;return{graphicalItem:Le(Le({},V),{},{childIndex:ae}),payload:z0(V,B)?G.data[oe]:V.props.data[oe]}}}return null}},{key:"render",value:function(){var k=this;if(!nL(this))return null;var U=this.props,D=U.children,B=U.className,O=U.width,M=U.height,V=U.style,K=U.compact,W=U.title,G=U.desc,$=BF(U,UCe),ce=Bt($,!1);if(K)return se.createElement(xF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(rP,qd({},ce,{width:O,height:M,title:W,desc:G}),this.renderClipPath(),iL(D,this.renderMap)));if(this.props.accessibilityLayer){var J,oe;ce.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,ce.role=(oe=this.props.role)!==null&&oe!==void 0?oe:"application",ce.onKeyDown=function(re){k.accessibilityManager.keyboardEvent(re)},ce.onFocus=function(){k.accessibilityManager.focus()}}var ae=this.parseEventsOfWrapper();return se.createElement(xF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",qd({className:Xt("recharts-wrapper",B),style:Le({position:"relative",cursor:"default",width:O,height:M},V)},ae,{ref:function(pe){k.container=pe}}),se.createElement(rP,qd({},ce,{width:O,height:M,title:W,desc:G,style:iIe}),this.renderClipPath(),iL(D,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(Q.Component);Nt(I,"displayName",n),Nt(I,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Nt(I,"getDerivedStateFromProps",function(C,R){var j=C.dataKey,k=C.data,U=C.children,D=C.width,B=C.height,O=C.layout,M=C.stackOffset,V=C.margin,K=R.dataStartIndex,W=R.dataEndIndex;if(R.updateId===void 0){var G=VF(C);return Le(Le(Le({},G),{},{updateId:0},A(Le(Le({props:C},G),{},{updateId:0}),R)),{},{prevDataKey:j,prevData:k,prevWidth:D,prevHeight:B,prevLayout:O,prevStackOffset:M,prevMargin:V,prevChildren:U})}if(j!==R.prevDataKey||k!==R.prevData||D!==R.prevWidth||B!==R.prevHeight||O!==R.prevLayout||M!==R.prevStackOffset||!fp(V,R.prevMargin)){var $=VF(C),ce={chartX:R.chartX,chartY:R.chartY,isTooltipActive:R.isTooltipActive},J=Le(Le({},FF(R,k,O)),{},{updateId:R.updateId+1}),oe=Le(Le(Le({},$),ce),J);return Le(Le(Le({},oe),A(Le({props:C},oe),R)),{},{prevDataKey:j,prevData:k,prevWidth:D,prevHeight:B,prevLayout:O,prevStackOffset:M,prevMargin:V,prevChildren:U})}if(!tP(U,R.prevChildren)){var ae,re,pe,we,ue=Vo(U,qp),he=ue&&(ae=(re=ue.props)===null||re===void 0?void 0:re.startIndex)!==null&&ae!==void 0?ae:K,xe=ue&&(pe=(we=ue.props)===null||we===void 0?void 0:we.endIndex)!==null&&pe!==void 0?pe:W,Re=he!==K||xe!==W,Ue=!an(k),Me=Ue&&!Re?R.updateId:R.updateId+1;return Le(Le({updateId:Me},A(Le(Le({props:C},R),{},{updateId:Me,dataStartIndex:he,dataEndIndex:xe}),R)),{},{prevChildren:U,dataStartIndex:he,dataEndIndex:xe})}return null}),Nt(I,"renderActiveDot",function(C,R,j){var k;return Q.isValidElement(C)?k=Q.cloneElement(C,R):Ht(C)?k=C(R):k=se.createElement(p3,R),se.createElement(Yn,{className:"recharts-active-dot",key:j},k)});var _=Q.forwardRef(function(R,j){return se.createElement(I,qd({},R,{ref:j}))});return _.displayName=I.displayName,_},DY=MY({chartName:"BarChart",GraphicalChild:Dl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ry},{axisType:"yAxis",AxisComp:ky}],formatAxisMap:T_e}),pIe=MY({chartName:"PieChart",GraphicalChild:Hc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Hb},{axisType:"radiusAxis",AxisComp:Ub}],formatAxisMap:gbe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const sh={rice:{cropName:"Rice",recommendedPrice:2800,marketPrice:2650,priceRange:{min:2500,max:3e3},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["High demand in urban markets","Good quality expected","Seasonal price increase"]},wheat:{cropName:"Wheat",recommendedPrice:2200,marketPrice:2150,priceRange:{min:2e3,max:2400},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"stable",factors:["Stable demand","Average quality expected","Government procurement available"]},corn:{cropName:"Corn",recommendedPrice:1800,marketPrice:1750,priceRange:{min:1600,max:2e3},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["Feed industry demand","Export opportunities","Weather concerns in other regions"]},sugarcane:{cropName:"Sugarcane",recommendedPrice:350,marketPrice:320,priceRange:{min:300,max:380},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["Sugar mill procurement","Good sugar recovery rate","Festival season demand"]},tomato:{cropName:"Tomato",recommendedPrice:2500,marketPrice:2200,priceRange:{min:1800,max:3e3},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["Cold storage shortage","High restaurant demand","Transport cost increase"]},onion:{cropName:"Onion",recommendedPrice:1200,marketPrice:1100,priceRange:{min:900,max:1500},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"stable",factors:["Steady household demand","Storage availability","Government buffer stock"]},potato:{cropName:"Potato",recommendedPrice:800,marketPrice:750,priceRange:{min:600,max:1e3},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"down",factors:["Oversupply in market","Good storage conditions","Import competition"]},cotton:{cropName:"Cotton",recommendedPrice:6200,marketPrice:5800,priceRange:{min:5500,max:6500},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["Textile industry recovery","Export demand rising","Quality premium available"]}};function zF(t){const e=t.toLowerCase().trim();if(sh[e])return sh[e];const n=Object.keys(sh).find(r=>r.includes(e)||e.includes(r));return n?sh[n]:null}function gIe(t){if(!t||t.length<2)return[];const e=t.toLowerCase();return Object.keys(sh).filter(n=>n.includes(e)||sh[n].cropName.toLowerCase().includes(e)).map(n=>sh[n].cropName).slice(0,5)}const mIe="6.15.0";function yIe(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Ys(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function It(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&yIe(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Wd(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Wd(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Wd(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Wd(r,e)}: ${Wd(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ys(t,e){return t&&t.code===e}function _3(t){return ys(t,"CALL_EXCEPTION")}function Dr(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Wd(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+Wd(a))}}s.push(`code=${e}`),s.push(`version=${mIe}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return It(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&It(i,{shortMessage:r}),i}function ze(t,e,n,r){if(!t)throw Dr(e,n,r)}function ye(t,e,n,r){ze(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function LY(t,e,n){n==null&&(n=""),n&&(n=": "+n),ze(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),ze(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function My(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),ze(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function BY(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}ye(!1,"invalid BytesLike value",e||"value",t)}function rn(t,e){return BY(t,e,!1)}function Qs(t,e){return BY(t,e,!0)}function yr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function T3(t){return yr(t,!0)||t instanceof Uint8Array}const HF="0123456789abcdef";function it(t){const e=rn(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=HF[(i&240)>>4]+HF[i&15]}return n}function ri(t){return"0x"+t.map(e=>it(e).substring(2)).join("")}function gp(t){return yr(t,!0)?(t.length-2)/2:rn(t).length}function Zr(t,e,n){const r=rn(t);return n!=null&&n>r.length&&ze(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),it(r.slice(e??0,n??r.length))}function jY(t,e,n){const r=rn(t);ze(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),it(i)}function kc(t,e){return jY(t,e,!0)}function vIe(t,e){return jY(t,e,!1)}const Zb=BigInt(0),Ua=BigInt(1),Kd=9007199254740991;function xx(t,e){const n=Jb(t,"value"),r=BigInt(Qt(e,"width"));if(ze(n>>r===Zb,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Ua){const i=(Ua<<r)-Ua;return-((~n&i)+Ua)}return n}function FY(t,e){let n=ft(t,"value");const r=BigInt(Qt(e,"width")),i=Ua<<r-Ua;if(n<Zb){n=-n,ze(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(Ua<<r)-Ua;return(~n&s)+Ua}else ze(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function oh(t,e){const n=Jb(t,"value"),r=BigInt(Qt(e,"bits"));return n&(Ua<<r)-Ua}function ft(t,e){switch(typeof t){case"bigint":return t;case"number":return ye(Number.isInteger(t),"underflow",e||"value",t),ye(t>=-Kd&&t<=Kd,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ye(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ye(!1,"invalid BigNumberish value",e||"value",t)}function Jb(t,e){const n=ft(t,e);return ze(n>=Zb,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const $F="0123456789abcdef";function eA(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=$F[n>>4],e+=$F[n&15];return BigInt(e)}return ft(t)}function Qt(t,e){switch(typeof t){case"bigint":return ye(t>=-Kd&&t<=Kd,"overflow",e||"value",t),Number(t);case"number":return ye(Number.isInteger(t),"underflow",e||"value",t),ye(t>=-Kd&&t<=Kd,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Qt(BigInt(t),e)}catch(n){ye(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ye(!1,"invalid numeric value",e||"value",t)}function wIe(t){return Qt(eA(t))}function tf(t,e){let r=Jb(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Qt(e,"width");for(ze(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Vi(t){const e=Jb(t,"value");if(e===Zb)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function Fa(t){let e=it(T3(t)?t:Vi(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const GF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const qF=BigInt(58);function xIe(t){const e=rn(t);let n=eA(e),r="";for(;n;)r=GF[Number(n%qF)]+r,n/=qF;for(let i=0;i<e.length&&!e[i];i++)r=GF[0]+r;return r}function bIe(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return rn(e)}function AIe(t){const e=rn(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}class VY{filter;emitter;#e;constructor(e,n,r){this.#e=n,It(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function EIe(t,e,n,r,i){ye(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function UY(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function SIe(t,e,n,r,i){return t==="OVERLONG"?(ye(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),UY(t,e,n))}const _Ie=Object.freeze({error:EIe,ignore:UY,replace:SIe});function TIe(t,e){e==null&&(e=_Ie.error);const n=rn(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(s>>7===0){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let c=s&(1<<8-o-1)-1;for(let u=0;u<o;u++){let g=n[i];if((g&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),c=null;break}c=c<<6|g&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,c);continue}if(c<=a){i+=e("OVERLONG",i-1-o,n,r,c);continue}r.push(c)}}return r}function bc(t,e){ye(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);ye(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function CIe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function bx(t,e){return CIe(TIe(t,e))}function zY(t){async function e(n,r){ze(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();ze(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),ze(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Dr("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=Dr("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let u;try{u=await fetch(n.url,c)}catch(A){throw clearTimeout(a),s||A}clearTimeout(a);const g={};u.headers.forEach((A,I)=>{g[I.toLowerCase()]=A});const m=await u.arrayBuffer(),w=m==null?null:new Uint8Array(m);return{statusCode:u.status,statusMessage:u.statusText,headers:g,body:w}}return e}const IIe=12,PIe=250;let WF=zY();const NIe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),OIe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let cC=!1;async function HY(t,e){try{const n=t.match(NIe);if(!n)throw new Error("invalid data");return new $u(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?bIe(n[3]):kIe(n[3]))}catch{return new $u(599,"BAD REQUEST (invalid data: URI)",{},null,new Mc(t))}}function $Y(t){async function e(n,r){try{const i=n.match(OIe);if(!i)throw new Error("invalid link");return new Mc(`${t}${i[2]}`)}catch{return new $u(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Mc(n))}}return e}const fv={data:HY,ipfs:$Y("https://gateway.ipfs.io/ipfs/")},GY=new WeakMap;class RIe{#e;#t;constructor(e){this.#e=[],this.#t=!1,GY.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){ze(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){ze(!this.cancelled,"cancelled","CANCELLED",{})}}function hv(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class Mc{#e;#t;#n;#r;#i;#o;#s;#a;#f;#c;#p;#g;#l;#u;#h;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}set body(e){if(e==null)this.#s=void 0,this.#a=void 0;else if(typeof e=="string")this.#s=bc(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#s=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#s=bc(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#s!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#f&&(e.authorization=`Basic ${AIe(bc(this.#f))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#f||null}setCredentials(e,n){ye(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#f=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){ye(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#c||null}set preflightFunc(e){this.#c=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#g||null}set retryFunc(e){this.#g=e}get getUrlFunc(){return this.#h||WF}set getUrlFunc(e){this.#h=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#u={slotInterval:PIe,maxAttempts:IIe},this.#h=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#s?it(this.#s):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#d(e,n,r,i,s){if(e>=this.#u.maxAttempts)return s.makeServerError("exceeded maximum retry limit");ze(KF()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await MIe(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in fv){const g=await fv[a](o.url,hv(i.#l));if(g instanceof $u){let m=g;if(this.processFunc){hv(i.#l);try{m=await this.processFunc(o,m)}catch(w){(w.throttle==null||typeof w.stall!="number")&&m.makeServerError("error in post-processing function",w).assertOk()}}return m}o=g}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,hv(i.#l));let u=new $u(c.statusCode,c.statusMessage,c.headers,c.body,i);if(u.statusCode===301||u.statusCode===302){try{const g=u.headers.location||"";return o.redirect(g).#d(e+1,n,0,i,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const g=u.headers["retry-after"];let m=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof g=="string"&&g.match(/^[1-9][0-9]*$/)&&(m=parseInt(g)),o.clone().#d(e+1,n,m,i,u)}if(this.processFunc){hv(i.#l);try{u=await this.processFunc(o,u)}catch(g){(g.throttle==null||typeof g.stall!="number")&&u.makeServerError("error in post-processing function",g).assertOk();let m=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return g.stall>=0&&(m=g.stall),o.clone().#d(e+1,n,m,i,u)}}return u}send(){return ze(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new RIe(this),this.#d(0,KF()+this.timeout,0,this,new $u(0,"",{},null,this))}cancel(){ze(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=GY.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();ze(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new Mc(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#s&&(i.#s=new Uint8Array(this.#s)),i.#a=this.#a,i}clone(){const e=new Mc(this.url);return e.#r=this.#r,this.#s&&(e.#s=this.#s),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#f=this.#f,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#c=this.#c,e.#p=this.#p,e.#g=this.#g,e.#u=Object.assign({},this.#u),e.#h=this.#h,e}static lockConfig(){cC=!0}static getGateway(e){return fv[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(cC)throw new Error("gateways locked");fv[e]=n}static registerGetUrl(e){if(cC)throw new Error("gateways locked");WF=e}static createGetUrlFunc(e){return zY(e)}static createDataGateway(){return HY}static createIpfsGatewayFunc(e){return $Y(e)}}class $u{#e;#t;#n;#r;#i;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?it(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":bx(this.#r)}catch{ze(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{ze(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,i,s){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=s||null,this.#o={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new $u(599,r,this.headers,this.body,this.#i||void 0);return i.#o={message:e,error:n},i}throwThrottleError(e,n){n==null?n=-1:ye(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw It(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=bx(this.#r))}catch{}ze(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function KF(){return new Date().getTime()}function kIe(t){return bc(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function MIe(t){return new Promise(e=>setTimeout(e,t))}const DIe=BigInt(-1),ka=BigInt(0),Yd=BigInt(1),LIe=BigInt(5),Rd={};let mp="0000";for(;mp.length<80;)mp+=mp;function Ff(t){let e=mp;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function vm(t,e,n){const r=BigInt(e.width);if(e.signed){const i=Yd<<r-Yd;ze(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>ka?t=xx(oh(t,r),r):t=-xx(oh(-t,r),r)}else{const i=Yd<<r;ze(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-Yd}return t}function uC(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ye(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,o=(a,c,u)=>s[a]==null?u:(ye(typeof s[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}ye(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),ye(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function BIe(t,e){let n="";t<ka&&(n="-",t*=DIe);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=mp+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}class ic{format;#e;#t;#n;_value;constructor(e,n,r){My(e,Rd,"FixedNumber"),this.#t=n,this.#e=r;const i=BIe(n,r.decimals);It(this,{format:r.name,_value:i}),this.#n=Ff(r.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#r(e){ye(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#i(e,n){return e=vm(e,this.#e,n),new ic(Rd,e,this.#e)}#o(e,n){return this.#r(e),this.#i(this.#t+e.#t,n)}addUnsafe(e){return this.#o(e)}add(e){return this.#o(e,"add")}#s(e,n){return this.#r(e),this.#i(this.#t-e.#t,n)}subUnsafe(e){return this.#s(e)}sub(e){return this.#s(e,"sub")}#a(e,n){return this.#r(e),this.#i(this.#t*e.#t/this.#n,n)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#r(e);const n=this.#t*e.#t;return ze(n%this.#n===ka,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(n/this.#n,"mulSignal")}#f(e,n){return ze(e.#t!==ka,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e),this.#i(this.#t*this.#n/e.#t,n)}divUnsafe(e){return this.#f(e)}div(e){return this.#f(e,"div")}divSignal(e){ze(e.#t!==ka,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e);const n=this.#t*this.#n;return ze(n%e.#t===ka,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(n/e.#t,"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Ff(i):i<0&&(n*=Ff(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<ka&&(e-=this.#n-Yd),e=this.#t/this.#n*this.#n,this.#i(e,"floor")}ceiling(){let e=this.#t;return this.#t>ka&&(e+=this.#n-Yd),e=this.#t/this.#n*this.#n,this.#i(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=LIe*Ff(n-1);let i=this.value+r;const s=Ff(n);return i=i/s*s,vm(i,this.#e,"round"),new ic(Rd,i,this.#e)}isZero(){return this.#t===ka}isNegative(){return this.#t<ka}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ic.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:Qt(n),s=uC(r);let o=ft(e,"value");const a=i-s.decimals;if(a>0){const c=Ff(a);ze(o%c===ka,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=Ff(-a));return vm(o,s,"fromValue"),new ic(Rd,o,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);ye(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=uC(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=mp;ze(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(r[1]+s+o);return vm(a,i,"fromString"),new ic(Rd,a,i)}static fromBytes(e,n){let r=eA(rn(e,"value"));const i=uC(n);return i.signed&&(r=xx(r,i.width)),vm(r,i,"fromBytes"),new ic(Rd,r,i)}}function jIe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function YF(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function QF(t,e,n,r){const i=[];for(;n<e+1+r;){const s=qY(t,n);i.push(s.result),n+=s.consumed,ze(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function qY(t,e){ze(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{ze(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=YF(t,e+1,r);return n(e+1+r+i),QF(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),QF(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=YF(t,e+1,r);n(e+1+r+i);const s=it(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=it(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:jIe(t[e])}}function Dy(t){const e=rn(t,"data"),n=qY(e,0);return ye(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function XF(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function WY(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(WY(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=XF(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(rn(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=XF(e.length);return n.unshift(183+n.length),n.concat(e)}const ZF="0123456789abcdef";function nf(t){let e="0x";for(const n of WY(t))e+=ZF[n>>4],e+=ZF[n&15];return e}const KY=["wei","kwei","mwei","gwei","szabo","finney","ether"];function JF(t,e){let n=18;if(typeof e=="string"){const r=KY.indexOf(e);ye(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Qt(e,"unit"));return ic.fromValue(t,n,{decimals:n,width:512}).toString()}function fC(t,e){ye(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=KY.indexOf(e);ye(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Qt(e,"unit"));return ic.fromString(t,{decimals:n,width:512}).value}const eo=32,xN=new Uint8Array(eo),FIe=["then"],dv={},YY=new WeakMap;function Kf(t){return YY.get(t)}function e7(t,e){YY.set(t,e)}function wm(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function bN(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof dc?bN(Kf(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof dc&&(o=bN(Kf(o),o,n)),r[i]=o),r},{})}class dc extends Array{#e;constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),s=!0;n!==dv&&(r=e,i=[],s=!1),super(r.length),r.forEach((c,u)=>{this[u]=c});const o=i.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(e7(this,Object.freeze(r.map((c,u)=>{const g=i[u];return g!=null&&o.get(g)===1?g:null}))),this.#e=[],this.#e==null&&this.#e,!s)return;Object.freeze(this);const a=new Proxy(this,{get:(c,u,g)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const w=Qt(u,"%index");if(w<0||w>=this.length)throw new RangeError("out of result range");const A=c[w];return A instanceof Error&&wm(`index ${w}`,A),A}if(FIe.indexOf(u)>=0)return Reflect.get(c,u,g);const m=c[u];if(m instanceof Function)return function(...w){return m.apply(this===g?c:this,w)};if(!(u in c))return c.getValue.apply(this===g?c:this,[u])}return Reflect.get(c,u,g)}});return e7(a,Kf(this)),a}toArray(e){const n=[];return this.forEach((r,i)=>{r instanceof Error&&wm(`index ${i}`,r),e&&r instanceof dc&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=Kf(this);return n.reduce((r,i,s)=>(ze(i!=null,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),bN(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=Kf(this),i=[],s=[];for(let o=e;o<n;o++)i.push(this[o]),s.push(r[o]);return new dc(dv,i,s)}filter(e,n){const r=Kf(this),i=[],s=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&wm(`index ${o}`,a),e.call(n,a,o,this)&&(i.push(a),s.push(r[o]))}return new dc(dv,i,s)}map(e,n){const r=[];for(let i=0;i<this.length;i++){const s=this[i];s instanceof Error&&wm(`index ${i}`,s),r.push(e.call(n,s,i,this))}return r}getValue(e){const n=Kf(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&wm(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new dc(dv,e,n)}}function t7(t){let e=Vi(t);return ze(e.length<=eo,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:eo,offset:e.length}),e.length!==eo&&(e=Qs(ri([xN.slice(e.length%eo),e]))),e}class $c{name;type;localName;dynamic;constructor(e,n,r,i){It(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ye(!1,e,this.localName,n)}}class AN{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return ri(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(Qs(e.data))}writeBytes(e){let n=Qs(e);const r=n.length%eo;return r&&(n=Qs(ri([n,xN.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(t7(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(xN),this.#t+=eo,n=>{this.#e[e]=t7(n)}}}class C3{allowLoose;#e;#t;#n;#r;#i;constructor(e,n,r){It(this,{allowLoose:!!n}),this.#e=Qs(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return it(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#r)return this.#r.#o(e);this.#n+=e,ze(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Qs(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#s(e,n,r){let i=Math.ceil(n/eo)*eo;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?i=n:ze(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Qs(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){const n=new C3(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return n.#r=this,n}readBytes(e,n){let r=this.#s(0,e,!!n);return this.#o(e),this.#t+=r.length,r.slice(0,e)}readValue(){return eA(this.readBytes(eo))}readIndex(){return wIe(this.readBytes(eo))}}function Ax(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function I3(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function VIe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ax(t.outputLen),Ax(t.blockLen)}function ng(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function QY(t,e){I3(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const hC=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XY=t=>t instanceof Uint8Array,UIe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),dC=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),fl=(t,e)=>t<<32-e|t>>>e,zIe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!zIe)throw new Error("Non little-endian hardware is not supported");function HIe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function tA(t){if(typeof t=="string"&&(t=HIe(t)),!XY(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function $Ie(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!XY(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class P3{clone(){return this._cloneInto()}}function N3(t){const e=r=>t().update(tA(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function GIe(t=32){if(hC&&typeof hC.getRandomValues=="function")return hC.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class ZY extends P3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,VIe(e);const r=tA(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return ng(this),this.iHash.update(e),this}digestInto(e){ng(this),I3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const JY=(t,e,n)=>new ZY(t,e).update(n).digest();JY.create=(t,e)=>new ZY(t,e);function qIe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}class eQ extends P3{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dC(this.buffer)}update(e){ng(this);const{view:n,buffer:r,blockLen:i}=this;e=tA(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=dC(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ng(this),QY(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let m=o;m<i;m++)n[m]=0;qIe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=dC(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,g=this.get();if(u>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<u;m++)a.setUint32(4*m,g[m],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const WIe=(t,e,n)=>t&e^~t&n,KIe=(t,e,n)=>t&e^t&n^e&n,YIe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vu=new Uint32Array(64);class QIe extends eQ{constructor(){super(64,32,8,!1),this.A=yu[0]|0,this.B=yu[1]|0,this.C=yu[2]|0,this.D=yu[3]|0,this.E=yu[4]|0,this.F=yu[5]|0,this.G=yu[6]|0,this.H=yu[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let m=0;m<16;m++,n+=4)vu[m]=e.getUint32(n,!1);for(let m=16;m<64;m++){const w=vu[m-15],A=vu[m-2],I=fl(w,7)^fl(w,18)^w>>>3,_=fl(A,17)^fl(A,19)^A>>>10;vu[m]=_+vu[m-7]+I+vu[m-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:g}=this;for(let m=0;m<64;m++){const w=fl(a,6)^fl(a,11)^fl(a,25),A=g+w+WIe(a,c,u)+YIe[m]+vu[m]|0,_=(fl(r,2)^fl(r,13)^fl(r,22))+KIe(r,i,s)|0;g=u,u=c,c=a,a=o+A|0,o=s,s=i,i=r,r=A+_|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,g=g+this.H|0,this.set(r,i,s,o,a,c,u,g)}roundClean(){vu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const tQ=N3(()=>new QIe),pv=BigInt(2**32-1),EN=BigInt(32);function nQ(t,e=!1){return e?{h:Number(t&pv),l:Number(t>>EN&pv)}:{h:Number(t>>EN&pv)|0,l:Number(t&pv)|0}}function rQ(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=nQ(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const XIe=(t,e)=>BigInt(t>>>0)<<EN|BigInt(e>>>0),ZIe=(t,e,n)=>t>>>n,JIe=(t,e,n)=>t<<32-n|e>>>n,ePe=(t,e,n)=>t>>>n|e<<32-n,tPe=(t,e,n)=>t<<32-n|e>>>n,nPe=(t,e,n)=>t<<64-n|e>>>n-32,rPe=(t,e,n)=>t>>>n-32|e<<64-n,iPe=(t,e)=>e,sPe=(t,e)=>t,iQ=(t,e,n)=>t<<n|e>>>32-n,sQ=(t,e,n)=>e<<n|t>>>32-n,oQ=(t,e,n)=>e<<n-32|t>>>64-n,aQ=(t,e,n)=>t<<n-32|e>>>64-n;function oPe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const aPe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),lPe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,cPe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),uPe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,fPe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),hPe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,en={fromBig:nQ,split:rQ,toBig:XIe,shrSH:ZIe,shrSL:JIe,rotrSH:ePe,rotrSL:tPe,rotrBH:nPe,rotrBL:rPe,rotr32H:iPe,rotr32L:sPe,rotlSH:iQ,rotlSL:sQ,rotlBH:oQ,rotlBL:aQ,add:oPe,add3L:aPe,add3H:lPe,add4L:cPe,add4H:uPe,add5H:hPe,add5L:fPe},[dPe,pPe]=en.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),wu=new Uint32Array(80),xu=new Uint32Array(80);class gPe extends eQ{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:g,Fh:m,Fl:w,Gh:A,Gl:I,Hh:_,Hl:C}=this;return[e,n,r,i,s,o,a,c,u,g,m,w,A,I,_,C]}set(e,n,r,i,s,o,a,c,u,g,m,w,A,I,_,C){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=g|0,this.Fh=m|0,this.Fl=w|0,this.Gh=A|0,this.Gl=I|0,this.Hh=_|0,this.Hl=C|0}process(e,n){for(let k=0;k<16;k++,n+=4)wu[k]=e.getUint32(n),xu[k]=e.getUint32(n+=4);for(let k=16;k<80;k++){const U=wu[k-15]|0,D=xu[k-15]|0,B=en.rotrSH(U,D,1)^en.rotrSH(U,D,8)^en.shrSH(U,D,7),O=en.rotrSL(U,D,1)^en.rotrSL(U,D,8)^en.shrSL(U,D,7),M=wu[k-2]|0,V=xu[k-2]|0,K=en.rotrSH(M,V,19)^en.rotrBH(M,V,61)^en.shrSH(M,V,6),W=en.rotrSL(M,V,19)^en.rotrBL(M,V,61)^en.shrSL(M,V,6),G=en.add4L(O,W,xu[k-7],xu[k-16]),$=en.add4H(G,B,K,wu[k-7],wu[k-16]);wu[k]=$|0,xu[k]=G|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:g,Eh:m,El:w,Fh:A,Fl:I,Gh:_,Gl:C,Hh:R,Hl:j}=this;for(let k=0;k<80;k++){const U=en.rotrSH(m,w,14)^en.rotrSH(m,w,18)^en.rotrBH(m,w,41),D=en.rotrSL(m,w,14)^en.rotrSL(m,w,18)^en.rotrBL(m,w,41),B=m&A^~m&_,O=w&I^~w&C,M=en.add5L(j,D,O,pPe[k],xu[k]),V=en.add5H(M,R,U,B,dPe[k],wu[k]),K=M|0,W=en.rotrSH(r,i,28)^en.rotrBH(r,i,34)^en.rotrBH(r,i,39),G=en.rotrSL(r,i,28)^en.rotrBL(r,i,34)^en.rotrBL(r,i,39),$=r&s^r&a^s&a,ce=i&o^i&c^o&c;R=_|0,j=C|0,_=A|0,C=I|0,A=m|0,I=w|0,{h:m,l:w}=en.add(u|0,g|0,V|0,K|0),u=a|0,g=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const J=en.add3L(K,G,ce);r=en.add3H(J,V,W,$),i=J|0}({h:r,l:i}=en.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=en.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=en.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:g}=en.add(this.Dh|0,this.Dl|0,u|0,g|0),{h:m,l:w}=en.add(this.Eh|0,this.El|0,m|0,w|0),{h:A,l:I}=en.add(this.Fh|0,this.Fl|0,A|0,I|0),{h:_,l:C}=en.add(this.Gh|0,this.Gl|0,_|0,C|0),{h:R,l:j}=en.add(this.Hh|0,this.Hl|0,R|0,j|0),this.set(r,i,s,o,a,c,u,g,m,w,A,I,_,C,R,j)}roundClean(){wu.fill(0),xu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const mPe=N3(()=>new gPe);function yPe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const n7=yPe();n7.crypto||n7.msCrypto;function vPe(t){switch(t){case"sha256":return tQ.create();case"sha512":return mPe.create()}ye(!1,"invalid hashing algorithm name","algorithm",t)}const[lQ,cQ,uQ]=[[],[],[]],wPe=BigInt(0),xm=BigInt(1),xPe=BigInt(2),bPe=BigInt(7),APe=BigInt(256),EPe=BigInt(113);for(let t=0,e=xm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],lQ.push(2*(5*r+n)),cQ.push((t+1)*(t+2)/2%64);let i=wPe;for(let s=0;s<7;s++)e=(e<<xm^(e>>bPe)*EPe)%APe,e&xPe&&(i^=xm<<(xm<<BigInt(s))-xm);uQ.push(i)}const[SPe,_Pe]=rQ(uQ,!0),r7=(t,e,n)=>n>32?oQ(t,e,n):iQ(t,e,n),i7=(t,e,n)=>n>32?aQ(t,e,n):sQ(t,e,n);function TPe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],g=n[c+1],m=r7(u,g,1)^n[a],w=i7(u,g,1)^n[a+1];for(let A=0;A<50;A+=10)t[o+A]^=m,t[o+A+1]^=w}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=cQ[o],c=r7(i,s,a),u=i7(i,s,a),g=lQ[o];i=t[g],s=t[g+1],t[g]=c,t[g+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=SPe[r],t[1]^=_Pe[r]}n.fill(0)}class O3 extends P3{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ax(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=UIe(this.state)}keccak(){TPe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ng(this);const{blockLen:n,state:r}=this;e=tA(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ng(this,!1),I3(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ax(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(QY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new O3(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const CPe=(t,e,n)=>N3(()=>new O3(e,t,n)),IPe=CPe(1,136,256/8);let fQ=!1;const hQ=function(t){return IPe(t)};let dQ=hQ;function _i(t){const e=rn(t,"data");return it(dQ(e))}_i._=hQ;_i.lock=function(){fQ=!0};_i.register=function(t){if(fQ)throw new TypeError("keccak256 is locked");dQ=t};Object.freeze(_i);const pQ=function(t){return vPe("sha256").update(t).digest()};let gQ=pQ,mQ=!1;function kg(t){const e=rn(t,"data");return it(gQ(e))}kg._=pQ;kg.lock=function(){mQ=!0};kg.register=function(t){if(mQ)throw new Error("sha256 is locked");gQ=t};Object.freeze(kg);Object.freeze(kg);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yQ=BigInt(0),nA=BigInt(1),PPe=BigInt(2),rA=t=>t instanceof Uint8Array,NPe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rg(t){if(!rA(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=NPe[t[n]];return e}function vQ(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function R3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ig(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function mh(t){return R3(rg(t))}function k3(t){if(!rA(t))throw new Error("Uint8Array expected");return R3(rg(Uint8Array.from(t).reverse()))}function sg(t,e){return ig(t.toString(16).padStart(e*2,"0"))}function M3(t,e){return sg(t,e).reverse()}function OPe(t){return ig(vQ(t))}function Da(t,e,n){let r;if(typeof e=="string")try{r=ig(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(rA(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Y0(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!rA(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function RPe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function kPe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function MPe(t){let e;for(e=0;t>yQ;t>>=nA,e+=1);return e}function DPe(t,e){return t>>BigInt(e)&nA}const LPe=(t,e,n)=>t|(n?nA:yQ)<<BigInt(e),D3=t=>(PPe<<BigInt(t-1))-nA,pC=t=>new Uint8Array(t),s7=t=>Uint8Array.from(t);function wQ(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=pC(t),i=pC(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...m)=>n(i,r,...m),c=(m=pC())=>{i=a(s7([0]),m),r=a(),m.length!==0&&(i=a(s7([1]),m),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const w=[];for(;m<e;){r=a();const A=r.slice();w.push(A),m+=r.length}return Y0(...w)};return(m,w)=>{o(),c(m);let A;for(;!(A=w(u()));)c();return o(),A}}const BPe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ly(t,e,n={}){const r=(i,s,o)=>{const a=BPe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const jPe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:DPe,bitLen:MPe,bitMask:D3,bitSet:LPe,bytesToHex:rg,bytesToNumberBE:mh,bytesToNumberLE:k3,concatBytes:Y0,createHmacDrbg:wQ,ensureBytes:Da,equalBytes:RPe,hexToBytes:ig,hexToNumber:R3,numberToBytesBE:sg,numberToBytesLE:M3,numberToHexUnpadded:vQ,numberToVarBytesBE:OPe,utf8ToBytes:kPe,validateObject:Ly},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ns=BigInt(0),yi=BigInt(1),Yf=BigInt(2),FPe=BigInt(3),SN=BigInt(4),o7=BigInt(5),a7=BigInt(8);BigInt(9);BigInt(16);function wo(t,e){const n=t%e;return n>=ns?n:e+n}function VPe(t,e,n){if(n<=ns||e<ns)throw new Error("Expected power/modulo > 0");if(n===yi)return ns;let r=yi;for(;e>ns;)e&yi&&(r=r*t%n),t=t*t%n,e>>=yi;return r}function aa(t,e,n){let r=t;for(;e-- >ns;)r*=r,r%=n;return r}function _N(t,e){if(t===ns||e<=ns)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=wo(t,e),r=e,i=ns,s=yi;for(;n!==ns;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==yi)throw new Error("invert: does not exist");return wo(i,e)}function UPe(t){const e=(t-yi)/Yf;let n,r,i;for(n=t-yi,r=0;n%Yf===ns;n/=Yf,r++);for(i=Yf;i<t&&VPe(i,e,t)!==t-yi;i++);if(r===1){const o=(t+yi)/SN;return function(c,u){const g=c.pow(u,o);if(!c.eql(c.sqr(g),u))throw new Error("Cannot find square root");return g}}const s=(n+yi)/Yf;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,g=a.pow(a.mul(a.ONE,i),n),m=a.pow(c,s),w=a.pow(c,n);for(;!a.eql(w,a.ONE);){if(a.eql(w,a.ZERO))return a.ZERO;let A=1;for(let _=a.sqr(w);A<u&&!a.eql(_,a.ONE);A++)_=a.sqr(_);const I=a.pow(g,yi<<BigInt(u-A-1));g=a.sqr(I),m=a.mul(m,I),w=a.mul(w,g),u=A}return m}}function zPe(t){if(t%SN===FPe){const e=(t+yi)/SN;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%a7===o7){const e=(t-o7)/a7;return function(r,i){const s=r.mul(i,Yf),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,Yf),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return UPe(t)}const HPe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $Pe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=HPe.reduce((r,i)=>(r[i]="function",r),e);return Ly(t,n)}function GPe(t,e,n){if(n<ns)throw new Error("Expected power > 0");if(n===ns)return t.ONE;if(n===yi)return e;let r=t.ONE,i=e;for(;n>ns;)n&yi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=yi;return r}function qPe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function xQ(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function WPe(t,e,n=!1,r={}){if(t<=ns)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=xQ(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=zPe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:D3(i),ZERO:ns,ONE:yi,create:c=>wo(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ns<=c&&c<t},is0:c=>c===ns,isOdd:c=>(c&yi)===yi,neg:c=>wo(-c,t),eql:(c,u)=>c===u,sqr:c=>wo(c*c,t),add:(c,u)=>wo(c+u,t),sub:(c,u)=>wo(c-u,t),mul:(c,u)=>wo(c*u,t),pow:(c,u)=>GPe(a,c,u),div:(c,u)=>wo(c*_N(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>_N(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>qPe(a,c),cmov:(c,u,g)=>g?u:c,toBytes:c=>n?M3(c,s):sg(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?k3(c):mh(c)}});return Object.freeze(a)}function bQ(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function AQ(t){const e=bQ(t);return e+Math.ceil(e/2)}function KPe(t,e,n=!1){const r=t.length,i=bQ(e),s=AQ(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?mh(t):k3(t),a=wo(o,e-yi)+yi;return n?M3(a,i):sg(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YPe=BigInt(0),gC=BigInt(1);function QPe(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>YPe;)s&gC&&(o=o.add(a)),a=a.double(),s>>=gC;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let u=i,g=u;for(let m=0;m<o;m++){g=u,c.push(g);for(let w=1;w<a;w++)g=g.add(u),c.push(g);u=g.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let u=t.ZERO,g=t.BASE;const m=BigInt(2**i-1),w=2**i,A=BigInt(i);for(let I=0;I<a;I++){const _=I*c;let C=Number(o&m);o>>=A,C>c&&(C-=w,o+=gC);const R=_,j=_+Math.abs(C)-1,k=I%2!==0,U=C<0;C===0?g=g.add(n(k,s[R])):u=u.add(n(U,s[j]))}return{p:u,f:g}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function EQ(t){return $Pe(t.Fp),Ly(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xQ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XPe(t){const e=EQ(t);Ly(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:ZPe,hexToBytes:JPe}=jPe,ah={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ah;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:ZPe(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ah,n=typeof t=="string"?JPe(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=ah._parseInt(n.subarray(2)),{d:o,l:a}=ah._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const g=u.toString(16);return g.length&1?`0${g}`:g},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},oc=BigInt(0),ua=BigInt(1);BigInt(2);const l7=BigInt(3);BigInt(4);function eNe(t){const e=XPe(t),{Fp:n}=e,r=e.toBytes||((I,_,C)=>{const R=_.toAffine();return Y0(Uint8Array.from([4]),n.toBytes(R.x),n.toBytes(R.y))}),i=e.fromBytes||(I=>{const _=I.subarray(1),C=n.fromBytes(_.subarray(0,n.BYTES)),R=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:C,y:R}});function s(I){const{a:_,b:C}=e,R=n.sqr(I),j=n.mul(R,I);return n.add(n.add(j,n.mul(I,_)),C)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(I){return typeof I=="bigint"&&oc<I&&I<e.n}function a(I){if(!o(I))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(I){const{allowedPrivateKeyLengths:_,nByteLength:C,wrapPrivateKey:R,n:j}=e;if(_&&typeof I!="bigint"){if(I instanceof Uint8Array&&(I=rg(I)),typeof I!="string"||!_.includes(I.length))throw new Error("Invalid key");I=I.padStart(C*2,"0")}let k;try{k=typeof I=="bigint"?I:mh(Da("private key",I,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof I}`)}return R&&(k=wo(k,j)),a(k),k}const u=new Map;function g(I){if(!(I instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(_,C,R){if(this.px=_,this.py=C,this.pz=R,_==null||!n.isValid(_))throw new Error("x required");if(C==null||!n.isValid(C))throw new Error("y required");if(R==null||!n.isValid(R))throw new Error("z required")}static fromAffine(_){const{x:C,y:R}=_||{};if(!_||!n.isValid(C)||!n.isValid(R))throw new Error("invalid affine point");if(_ instanceof m)throw new Error("projective point not allowed");const j=k=>n.eql(k,n.ZERO);return j(C)&&j(R)?m.ZERO:new m(C,R,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const C=n.invertBatch(_.map(R=>R.pz));return _.map((R,j)=>R.toAffine(C[j])).map(m.fromAffine)}static fromHex(_){const C=m.fromAffine(i(Da("pointHex",_)));return C.assertValidity(),C}static fromPrivateKey(_){return m.BASE.multiply(c(_))}_setWindowSize(_){this._WINDOW_SIZE=_,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:_,y:C}=this.toAffine();if(!n.isValid(_)||!n.isValid(C))throw new Error("bad point: x or y not FE");const R=n.sqr(C),j=s(_);if(!n.eql(R,j))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:_}=this.toAffine();if(n.isOdd)return!n.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){g(_);const{px:C,py:R,pz:j}=this,{px:k,py:U,pz:D}=_,B=n.eql(n.mul(C,D),n.mul(k,j)),O=n.eql(n.mul(R,D),n.mul(U,j));return B&&O}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:_,b:C}=e,R=n.mul(C,l7),{px:j,py:k,pz:U}=this;let D=n.ZERO,B=n.ZERO,O=n.ZERO,M=n.mul(j,j),V=n.mul(k,k),K=n.mul(U,U),W=n.mul(j,k);return W=n.add(W,W),O=n.mul(j,U),O=n.add(O,O),D=n.mul(_,O),B=n.mul(R,K),B=n.add(D,B),D=n.sub(V,B),B=n.add(V,B),B=n.mul(D,B),D=n.mul(W,D),O=n.mul(R,O),K=n.mul(_,K),W=n.sub(M,K),W=n.mul(_,W),W=n.add(W,O),O=n.add(M,M),M=n.add(O,M),M=n.add(M,K),M=n.mul(M,W),B=n.add(B,M),K=n.mul(k,U),K=n.add(K,K),M=n.mul(K,W),D=n.sub(D,M),O=n.mul(K,V),O=n.add(O,O),O=n.add(O,O),new m(D,B,O)}add(_){g(_);const{px:C,py:R,pz:j}=this,{px:k,py:U,pz:D}=_;let B=n.ZERO,O=n.ZERO,M=n.ZERO;const V=e.a,K=n.mul(e.b,l7);let W=n.mul(C,k),G=n.mul(R,U),$=n.mul(j,D),ce=n.add(C,R),J=n.add(k,U);ce=n.mul(ce,J),J=n.add(W,G),ce=n.sub(ce,J),J=n.add(C,j);let oe=n.add(k,D);return J=n.mul(J,oe),oe=n.add(W,$),J=n.sub(J,oe),oe=n.add(R,j),B=n.add(U,D),oe=n.mul(oe,B),B=n.add(G,$),oe=n.sub(oe,B),M=n.mul(V,J),B=n.mul(K,$),M=n.add(B,M),B=n.sub(G,M),M=n.add(G,M),O=n.mul(B,M),G=n.add(W,W),G=n.add(G,W),$=n.mul(V,$),J=n.mul(K,J),G=n.add(G,$),$=n.sub(W,$),$=n.mul(V,$),J=n.add(J,$),W=n.mul(G,J),O=n.add(O,W),W=n.mul(oe,J),B=n.mul(ce,B),B=n.sub(B,W),W=n.mul(ce,G),M=n.mul(oe,M),M=n.add(M,W),new m(B,O,M)}subtract(_){return this.add(_.negate())}is0(){return this.equals(m.ZERO)}wNAF(_){return A.wNAFCached(this,u,_,C=>{const R=n.invertBatch(C.map(j=>j.pz));return C.map((j,k)=>j.toAffine(R[k])).map(m.fromAffine)})}multiplyUnsafe(_){const C=m.ZERO;if(_===oc)return C;if(a(_),_===ua)return this;const{endo:R}=e;if(!R)return A.unsafeLadder(this,_);let{k1neg:j,k1:k,k2neg:U,k2:D}=R.splitScalar(_),B=C,O=C,M=this;for(;k>oc||D>oc;)k&ua&&(B=B.add(M)),D&ua&&(O=O.add(M)),M=M.double(),k>>=ua,D>>=ua;return j&&(B=B.negate()),U&&(O=O.negate()),O=new m(n.mul(O.px,R.beta),O.py,O.pz),B.add(O)}multiply(_){a(_);let C=_,R,j;const{endo:k}=e;if(k){const{k1neg:U,k1:D,k2neg:B,k2:O}=k.splitScalar(C);let{p:M,f:V}=this.wNAF(D),{p:K,f:W}=this.wNAF(O);M=A.constTimeNegate(U,M),K=A.constTimeNegate(B,K),K=new m(n.mul(K.px,k.beta),K.py,K.pz),R=M.add(K),j=V.add(W)}else{const{p:U,f:D}=this.wNAF(C);R=U,j=D}return m.normalizeZ([R,j])[0]}multiplyAndAddUnsafe(_,C,R){const j=m.BASE,k=(D,B)=>B===oc||B===ua||!D.equals(j)?D.multiplyUnsafe(B):D.multiply(B),U=k(this,C).add(k(_,R));return U.is0()?void 0:U}toAffine(_){const{px:C,py:R,pz:j}=this,k=this.is0();_==null&&(_=k?n.ONE:n.inv(j));const U=n.mul(C,_),D=n.mul(R,_),B=n.mul(j,_);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:U,y:D}}isTorsionFree(){const{h:_,isTorsionFree:C}=e;if(_===ua)return!0;if(C)return C(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:C}=e;return _===ua?this:C?C(m,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return this.assertValidity(),r(m,this,_)}toHex(_=!0){return rg(this.toRawBytes(_))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const w=e.nBitLength,A=QPe(m,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function tNe(t){const e=EQ(t);return Ly(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function nNe(t){const e=tNe(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(J){return oc<J&&J<n.ORDER}function a(J){return wo(J,r)}function c(J){return _N(J,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:w}=eNe({...e,toBytes(J,oe,ae){const re=oe.toAffine(),pe=n.toBytes(re.x),we=Y0;return ae?we(Uint8Array.from([oe.hasEvenY()?2:3]),pe):we(Uint8Array.from([4]),pe,n.toBytes(re.y))},fromBytes(J){const oe=J.length,ae=J[0],re=J.subarray(1);if(oe===i&&(ae===2||ae===3)){const pe=mh(re);if(!o(pe))throw new Error("Point is not on curve");const we=m(pe);let ue=n.sqrt(we);const he=(ue&ua)===ua;return(ae&1)===1!==he&&(ue=n.neg(ue)),{x:pe,y:ue}}else if(oe===s&&ae===4){const pe=n.fromBytes(re.subarray(0,n.BYTES)),we=n.fromBytes(re.subarray(n.BYTES,2*n.BYTES));return{x:pe,y:we}}else throw new Error(`Point of length ${oe} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),A=J=>rg(sg(J,e.nByteLength));function I(J){const oe=r>>ua;return J>oe}function _(J){return I(J)?a(-J):J}const C=(J,oe,ae)=>mh(J.slice(oe,ae));class R{constructor(oe,ae,re){this.r=oe,this.s=ae,this.recovery=re,this.assertValidity()}static fromCompact(oe){const ae=e.nByteLength;return oe=Da("compactSignature",oe,ae*2),new R(C(oe,0,ae),C(oe,ae,2*ae))}static fromDER(oe){const{r:ae,s:re}=ah.toSig(Da("DER",oe));return new R(ae,re)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(oe){return new R(this.r,this.s,oe)}recoverPublicKey(oe){const{r:ae,s:re,recovery:pe}=this,we=O(Da("msgHash",oe));if(pe==null||![0,1,2,3].includes(pe))throw new Error("recovery id invalid");const ue=pe===2||pe===3?ae+e.n:ae;if(ue>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const he=(pe&1)===0?"02":"03",xe=u.fromHex(he+A(ue)),Re=c(ue),Ue=a(-we*Re),Me=a(re*Re),ke=u.BASE.multiplyAndAddUnsafe(xe,Ue,Me);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ig(this.toDERHex())}toDERHex(){return ah.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ig(this.toCompactHex())}toCompactHex(){return A(this.r)+A(this.s)}}const j={isValidPrivateKey(J){try{return g(J),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const J=AQ(e.n);return KPe(e.randomBytes(J),e.n)},precompute(J=8,oe=u.BASE){return oe._setWindowSize(J),oe.multiply(BigInt(3)),oe}};function k(J,oe=!0){return u.fromPrivateKey(J).toRawBytes(oe)}function U(J){const oe=J instanceof Uint8Array,ae=typeof J=="string",re=(oe||ae)&&J.length;return oe?re===i||re===s:ae?re===2*i||re===2*s:J instanceof u}function D(J,oe,ae=!0){if(U(J))throw new Error("first arg must be private key");if(!U(oe))throw new Error("second arg must be public key");return u.fromHex(oe).multiply(g(J)).toRawBytes(ae)}const B=e.bits2int||function(J){const oe=mh(J),ae=J.length*8-e.nBitLength;return ae>0?oe>>BigInt(ae):oe},O=e.bits2int_modN||function(J){return a(B(J))},M=D3(e.nBitLength);function V(J){if(typeof J!="bigint")throw new Error("bigint expected");if(!(oc<=J&&J<M))throw new Error(`bigint expected < 2^${e.nBitLength}`);return sg(J,e.nByteLength)}function K(J,oe,ae=W){if(["recovered","canonical"].some(Pe=>Pe in ae))throw new Error("sign() legacy options not supported");const{hash:re,randomBytes:pe}=e;let{lowS:we,prehash:ue,extraEntropy:he}=ae;we==null&&(we=!0),J=Da("msgHash",J),ue&&(J=Da("prehashed msgHash",re(J)));const xe=O(J),Re=g(oe),Ue=[V(Re),V(xe)];if(he!=null){const Pe=he===!0?pe(n.BYTES):he;Ue.push(Da("extraEntropy",Pe))}const Me=Y0(...Ue),ke=xe;function De(Pe){const Fe=B(Pe);if(!w(Fe))return;const Ge=c(Fe),Te=u.BASE.multiply(Fe).toAffine(),et=a(Te.x);if(et===oc)return;const dt=a(Ge*a(ke+et*Re));if(dt===oc)return;let Ft=(Te.x===et?0:2)|Number(Te.y&ua),Yt=dt;return we&&I(dt)&&(Yt=_(dt),Ft^=1),new R(et,Yt,Ft)}return{seed:Me,k2sig:De}}const W={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function $(J,oe,ae=W){const{seed:re,k2sig:pe}=K(J,oe,ae),we=e;return wQ(we.hash.outputLen,we.nByteLength,we.hmac)(re,pe)}u.BASE._setWindowSize(8);function ce(J,oe,ae,re=G){const pe=J;if(oe=Da("msgHash",oe),ae=Da("publicKey",ae),"strict"in re)throw new Error("options.strict was renamed to lowS");const{lowS:we,prehash:ue}=re;let he,xe;try{if(typeof pe=="string"||pe instanceof Uint8Array)try{he=R.fromDER(pe)}catch(Te){if(!(Te instanceof ah.Err))throw Te;he=R.fromCompact(pe)}else if(typeof pe=="object"&&typeof pe.r=="bigint"&&typeof pe.s=="bigint"){const{r:Te,s:et}=pe;he=new R(Te,et)}else throw new Error("PARSE");xe=u.fromHex(ae)}catch(Te){if(Te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(we&&he.hasHighS())return!1;ue&&(oe=e.hash(oe));const{r:Re,s:Ue}=he,Me=O(oe),ke=c(Ue),De=a(Me*ke),Pe=a(Re*ke),Fe=u.BASE.multiplyAndAddUnsafe(xe,De,Pe)?.toAffine();return Fe?a(Fe.x)===Re:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:D,sign:$,verify:ce,ProjectivePoint:u,Signature:R,utils:j}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rNe(t){return{hash:t,hmac:(e,...n)=>JY(t,e,$Ie(...n)),randomBytes:GIe}}function iNe(t,e){const n=r=>nNe({...t,...rNe(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const SQ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c7=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sNe=BigInt(1),TN=BigInt(2),u7=(t,e)=>(t+e/TN)/e;function oNe(t){const e=SQ,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,g=u*u*t%e,m=aa(g,n,e)*g%e,w=aa(m,n,e)*g%e,A=aa(w,TN,e)*u%e,I=aa(A,i,e)*A%e,_=aa(I,s,e)*I%e,C=aa(_,a,e)*_%e,R=aa(C,c,e)*C%e,j=aa(R,a,e)*_%e,k=aa(j,n,e)*g%e,U=aa(k,o,e)*I%e,D=aa(U,r,e)*u%e,B=aa(D,TN,e);if(!CN.eql(CN.sqr(B),t))throw new Error("Cannot find square root");return B}const CN=WPe(SQ,void 0,void 0,{sqrt:oNe}),Su=iNe({a:BigInt(0),b:BigInt(7),Fp:CN,n:c7,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=c7,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sNe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=u7(s*t,e),c=u7(-r*t,e);let u=wo(t-a*n-c*i,e),g=wo(-a*r-c*s,e);const m=u>o,w=g>o;if(m&&(u=e-u),w&&(g=e-g),u>o||g>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:m,k1:u,k2neg:w,k2:g}}}},tQ);BigInt(0);Su.ProjectivePoint;const Q0="0x0000000000000000000000000000000000000000",f7="0x0000000000000000000000000000000000000000000000000000000000000000",h7=BigInt(0),d7=BigInt(1),p7=BigInt(2),g7=BigInt(27),m7=BigInt(28),gv=BigInt(35),kd={};function y7(t){return kc(Vi(t),32)}class ei{#e;#t;#n;#r;get r(){return this.#e}set r(e){ye(gp(e)===32,"invalid r","value",e),this.#e=it(e)}get s(){return ye(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){ye(gp(e)===32,"invalid s","value",e),this.#t=it(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(e){const n=Qt(e,"value");ye(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:ei.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=rn(this.s);return this.yParity&&(e[0]|=128),it(e)}get compactSerialized(){return ri([this.r,this.yParityAndS])}get serialized(){return ri([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){My(e,kd,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ei(kd,this.r,this._s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=ft(e,"v");return n==g7||n==m7?h7:(ye(n>=gv,"invalid EIP-155 v","v",e),(n-gv)/p7)}static getChainIdV(e,n){return ft(e)*p7+BigInt(35+n-27)}static getNormalizedV(e){const n=ft(e);return n===h7||n===g7?27:n===d7||n===m7?28:(ye(n>=gv,"invalid v","v",e),n&d7?27:28)}static from(e){function n(u,g){ye(u,g,"signature",e)}if(e==null)return new ei(kd,f7,f7,27);if(typeof e=="string"){const u=rn(e,"signature");if(u.length===64){const g=it(u.slice(0,32)),m=u.slice(32,64),w=m[0]&128?28:27;return m[0]&=127,new ei(kd,g,it(m),w)}if(u.length===65){const g=it(u.slice(0,32)),m=it(u.slice(32,64)),w=ei.getNormalizedV(u[64]);return new ei(kd,g,m,w)}n(!1,"invalid raw signature length")}if(e instanceof ei)return e.clone();const r=e.r;n(r!=null,"missing r");const i=y7(r),s=(function(u,g){if(u!=null)return y7(u);if(g!=null){n(yr(g,32),"invalid yParityAndS");const m=rn(g);return m[0]&=127,it(m)}n(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(u,g,m){if(u!=null){const w=ft(u);return{networkV:w>=gv?w:void 0,v:ei.getNormalizedV(w)}}if(g!=null)return n(yr(g,32),"invalid yParityAndS"),{v:rn(g)[0]&128?28:27};if(m!=null){switch(Qt(m,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new ei(kd,i,s,a);return o&&(c.#r=o),n(e.yParity==null||Qt(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}class ac{#e;constructor(e){ye(gp(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=it(e)}get privateKey(){return this.#e}get publicKey(){return ac.computePublicKey(this.#e)}get compressedPublicKey(){return ac.computePublicKey(this.#e,!0)}sign(e){ye(gp(e)===32,"invalid digest length","digest",e);const n=Su.sign(Qs(e),Qs(this.#e),{lowS:!0});return ei.from({r:tf(n.r,32),s:tf(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=ac.computePublicKey(e);return it(Su.getSharedSecret(Qs(this.#e),rn(n),!1))}static computePublicKey(e,n){let r=rn(e,"key");if(r.length===32){const s=Su.getPublicKey(r,!!n);return it(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=Su.ProjectivePoint.fromHex(r);return it(i.toRawBytes(n))}static recoverPublicKey(e,n){ye(gp(e)===32,"invalid digest length","digest",e);const r=ei.from(n);let i=Su.Signature.fromCompact(Qs(ri([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(Qs(e));return ye(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=Su.ProjectivePoint.fromHex(ac.computePublicKey(e).substring(2)),s=Su.ProjectivePoint.fromHex(ac.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}}const aNe=BigInt(0),lNe=BigInt(36);function v7(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=rn(_i(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const L3={};for(let t=0;t<10;t++)L3[String(t)]=String(t);for(let t=0;t<26;t++)L3[String.fromCharCode(65+t)]=String(10+t);const w7=15;function cNe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>L3[r]).join("");for(;e.length>=w7;){let r=e.substring(0,w7);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const uNe=(function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t})();function fNe(t){t=t.toLowerCase();let e=aNe;for(let n=0;n<t.length;n++)e=e*lNe+uNe[t[n]];return e}function zn(t){if(ye(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=v7(t);return ye(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ye(t.substring(2,4)===cNe(t),"bad icap checksum","address",t);let e=fNe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return v7("0x"+e)}ye(!1,"invalid address","address",t)}function hNe(t){const e=zn(t.from);let r=ft(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,zn(Zr(_i(nf([e,r])),12))}function _Q(t){return t&&typeof t.getAddress=="function"}async function mC(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(ze(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ye(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),zn(n)}function to(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?zn(t):(ze(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),mC(t,e.resolveName(t)));if(_Q(t))return mC(t,t.getAddress());if(t&&typeof t.then=="function")return mC(t,t);ye(!1,"unsupported addressable value","target",t)}const rc={};function ut(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new ni(rc,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function In(t,e){return new ni(rc,`bytes${e||""}`,t,{size:e})}const x7=Symbol.for("_ethers_typed");class ni{type;value;#e;_typedSymbol;constructor(e,n,r,i){i==null&&(i=null),My(rc,e,"Typed"),It(this,{_typedSymbol:x7,type:n,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new ni(rc,e,n)}static uint8(e){return ut(e,8)}static uint16(e){return ut(e,16)}static uint24(e){return ut(e,24)}static uint32(e){return ut(e,32)}static uint40(e){return ut(e,40)}static uint48(e){return ut(e,48)}static uint56(e){return ut(e,56)}static uint64(e){return ut(e,64)}static uint72(e){return ut(e,72)}static uint80(e){return ut(e,80)}static uint88(e){return ut(e,88)}static uint96(e){return ut(e,96)}static uint104(e){return ut(e,104)}static uint112(e){return ut(e,112)}static uint120(e){return ut(e,120)}static uint128(e){return ut(e,128)}static uint136(e){return ut(e,136)}static uint144(e){return ut(e,144)}static uint152(e){return ut(e,152)}static uint160(e){return ut(e,160)}static uint168(e){return ut(e,168)}static uint176(e){return ut(e,176)}static uint184(e){return ut(e,184)}static uint192(e){return ut(e,192)}static uint200(e){return ut(e,200)}static uint208(e){return ut(e,208)}static uint216(e){return ut(e,216)}static uint224(e){return ut(e,224)}static uint232(e){return ut(e,232)}static uint240(e){return ut(e,240)}static uint248(e){return ut(e,248)}static uint256(e){return ut(e,256)}static uint(e){return ut(e,256)}static int8(e){return ut(e,-8)}static int16(e){return ut(e,-16)}static int24(e){return ut(e,-24)}static int32(e){return ut(e,-32)}static int40(e){return ut(e,-40)}static int48(e){return ut(e,-48)}static int56(e){return ut(e,-56)}static int64(e){return ut(e,-64)}static int72(e){return ut(e,-72)}static int80(e){return ut(e,-80)}static int88(e){return ut(e,-88)}static int96(e){return ut(e,-96)}static int104(e){return ut(e,-104)}static int112(e){return ut(e,-112)}static int120(e){return ut(e,-120)}static int128(e){return ut(e,-128)}static int136(e){return ut(e,-136)}static int144(e){return ut(e,-144)}static int152(e){return ut(e,-152)}static int160(e){return ut(e,-160)}static int168(e){return ut(e,-168)}static int176(e){return ut(e,-176)}static int184(e){return ut(e,-184)}static int192(e){return ut(e,-192)}static int200(e){return ut(e,-200)}static int208(e){return ut(e,-208)}static int216(e){return ut(e,-216)}static int224(e){return ut(e,-224)}static int232(e){return ut(e,-232)}static int240(e){return ut(e,-240)}static int248(e){return ut(e,-248)}static int256(e){return ut(e,-256)}static int(e){return ut(e,-256)}static bytes1(e){return In(e,1)}static bytes2(e){return In(e,2)}static bytes3(e){return In(e,3)}static bytes4(e){return In(e,4)}static bytes5(e){return In(e,5)}static bytes6(e){return In(e,6)}static bytes7(e){return In(e,7)}static bytes8(e){return In(e,8)}static bytes9(e){return In(e,9)}static bytes10(e){return In(e,10)}static bytes11(e){return In(e,11)}static bytes12(e){return In(e,12)}static bytes13(e){return In(e,13)}static bytes14(e){return In(e,14)}static bytes15(e){return In(e,15)}static bytes16(e){return In(e,16)}static bytes17(e){return In(e,17)}static bytes18(e){return In(e,18)}static bytes19(e){return In(e,19)}static bytes20(e){return In(e,20)}static bytes21(e){return In(e,21)}static bytes22(e){return In(e,22)}static bytes23(e){return In(e,23)}static bytes24(e){return In(e,24)}static bytes25(e){return In(e,25)}static bytes26(e){return In(e,26)}static bytes27(e){return In(e,27)}static bytes28(e){return In(e,28)}static bytes29(e){return In(e,29)}static bytes30(e){return In(e,30)}static bytes31(e){return In(e,31)}static bytes32(e){return In(e,32)}static address(e){return new ni(rc,"address",e)}static bool(e){return new ni(rc,"bool",!!e)}static bytes(e){return new ni(rc,"bytes",e)}static string(e){return new ni(rc,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new ni(rc,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===x7}static dereference(e,n){if(ni.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class dNe extends $c{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=ni.dereference(n,"string");try{r=zn(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return zn(tf(e.readValue(),20))}}class pNe extends $c{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function TQ(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(u=>{const g=u.localName;return ze(g,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),ze(!c[g],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),c[g]=!0,n[g]})}else ye(!1,"invalid tuple value","tuple",n);ye(e.length===r.length,"types/value length mismatch","tuple",n);let i=new AN,s=new AN,o=[];e.forEach((c,u)=>{let g=r[u];if(c.dynamic){let m=s.length;c.encode(s,g);let w=i.writeUpdatableValue();o.push(A=>{w(A+m)})}else c.encode(i,g)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function CQ(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),c=i.subReader(a);try{o=s.decode(c)}catch(u){if(ys(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(ys(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),dc.fromItems(n,r)}class gNe extends $c{coder;length;constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",s=n===-1||e.dynamic;super("array",i,r,s),It(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=ni.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),LY(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let o=0;o<r.length;o++)s.push(this.coder);return TQ(e,s,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),ze(n*eo<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*eo,length:e.dataLength}));let r=[];for(let i=0;i<n;i++)r.push(new pNe(this.coder));return CQ(e,r)}}class mNe extends $c{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=ni.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class IQ extends $c{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Qs(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class yNe extends IQ{constructor(e){super("bytes",e)}decode(e){return it(super.decode(e))}}class vNe extends $c{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),It(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=Qs(ni.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return it(e.readBytes(this.size))}}const wNe=new Uint8Array([]);class xNe extends $c{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(wNe)}decode(e){return e.readBytes(0),null}}const bNe=BigInt(0),ANe=BigInt(1),ENe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class SNe extends $c{size;signed;constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),It(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=ft(ni.dereference(n,this.type)),i=oh(ENe,eo*8);if(this.signed){let s=oh(i,this.size*8-1);(r>s||r<-(s+ANe))&&this._throwError("value out-of-bounds",n),r=FY(r,8*eo)}else(r<bNe||r>oh(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=oh(e.readValue(),this.size*8);return this.signed&&(n=xx(n,this.size*8)),n}}class _Ne extends IQ{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,bc(ni.dereference(n,"string")))}decode(e){return bx(super.decode(e))}}class mv extends $c{coders;constructor(e,n){let r=!1;const i=[];e.forEach(o=>{o.dynamic&&(r=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,n,r),It(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const s=i.localName;return s&&(r[s]||(r[s]=0),r[s]++),r},{});return this.coders.forEach((r,i)=>{let s=r.localName;!s||n[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,n){const r=ni.dereference(n,"tuple");return TQ(e,this.coders,r)}decode(e){return CQ(e,this.coders)}}function yC(t,e){return{address:zn(t),storageKeys:e.map((n,r)=>(ye(yr(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Xh(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ye(n.length===2,"invalid slot set",`value[${r}]`,n),yC(n[0],n[1])):(ye(n!=null&&typeof n=="object","invalid address-slot set","value",t),yC(n.address,n.storageKeys)));ye(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return yC(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function PQ(t){return{address:zn(t.address),nonce:ft(t.nonce!=null?t.nonce:0),chainId:ft(t.chainId!=null?t.chainId:0),signature:ei.from(t.signature)}}function TNe(t){let e;return typeof t=="string"?e=ac.computePublicKey(t,!1):e=t.publicKey,zn(_i("0x"+e.substring(4)).substring(26))}function CNe(t,e){return TNe(ac.recoverPublicKey(t,e))}const Zi=BigInt(0),INe=BigInt(2),PNe=BigInt(27),NNe=BigInt(28),ONe=BigInt(35),RNe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),vC=4096*32;function kNe(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return rn(t.blobToKzgCommitment(it(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return rn(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return rn(t.blobToKZGCommitment(it(r)));ye(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return rn(t.computeBlobProof(it(r),it(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return rn(t.computeBlobKZGProof(it(r),it(i)));ye(!1,"unsupported KZG library","kzg",t)}}}function b7(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=kg(e).substring(4),"0x"+n}function Mg(t){return t==="0x"?null:zn(t)}function iA(t,e){try{return Xh(t)}catch(n){ye(!1,n.message,e,t)}}function MNe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Mg(i[1]),nonce:rr(i[2],"nonce"),chainId:rr(i[0],"chainId"),signature:ei.from({yParity:Zh(i[3],"yParity"),r:kc(i[4],32),s:kc(i[5],32)})})}return n}catch(n){ye(!1,n.message,e,t)}}function Zh(t,e){return t==="0x"?0:Qt(t,e)}function rr(t,e){if(t==="0x")return Zi;const n=ft(t,e);return ye(n<=RNe,"value exceeds uint size",e,n),n}function An(t,e){const n=ft(t,"value"),r=Vi(n);return ye(r.length<=32,"value too large",`tx.${e}`,n),r}function sA(t){return Xh(t).map(e=>[e.address,e.storageKeys])}function DNe(t){return t.map(e=>[An(e.chainId,"chainId"),e.address,An(e.nonce,"nonce"),An(e.signature.yParity,"yParity"),Vi(e.signature.r),Vi(e.signature.s)])}function LNe(t,e){ye(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)ye(yr(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function BNe(t){const e=Dy(t);ye(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Zh(e[0],"nonce"),gasPrice:rr(e[1],"gasPrice"),gasLimit:rr(e[2],"gasLimit"),to:Mg(e[3]),value:rr(e[4],"value"),data:it(e[5]),chainId:Zi};if(e.length===6)return n;const r=rr(e[6],"v"),i=rr(e[7],"r"),s=rr(e[8],"s");if(i===Zi&&s===Zi)n.chainId=r;else{let o=(r-ONe)/INe;o<Zi&&(o=Zi),n.chainId=o,ye(o!==Zi||r===PNe||r===NNe,"non-canonical legacy v","v",e[6]),n.signature=ei.from({r:kc(e[7],32),s:kc(e[8],32),v:r})}return n}function jNe(t,e){const n=[An(t.nonce,"nonce"),An(t.gasPrice||0,"gasPrice"),An(t.gasLimit,"gasLimit"),t.to||"0x",An(t.value,"value"),t.data];let r=Zi;if(t.chainId!=Zi)r=ft(t.chainId,"tx.chainId"),ye(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Zi&&(n.push(Vi(r)),n.push("0x"),n.push("0x")),nf(n);let i=BigInt(27+e.yParity);return r!==Zi?i=ei.getChainIdV(r,e.v):BigInt(e.v)!==i&&ye(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Vi(i)),n.push(Vi(e.r)),n.push(Vi(e.s)),nf(n)}function oA(t,e){let n;try{if(n=Zh(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ye(!1,"invalid yParity","yParity",e[0])}const r=kc(e[1],32),i=kc(e[2],32),s=ei.from({r,s:i,yParity:n});t.signature=s}function FNe(t){const e=Dy(rn(t).slice(1));ye(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",it(t));const n={type:2,chainId:rr(e[0],"chainId"),nonce:Zh(e[1],"nonce"),maxPriorityFeePerGas:rr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:rr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:rr(e[4],"gasLimit"),to:Mg(e[5]),value:rr(e[6],"value"),data:it(e[7]),accessList:iA(e[8],"accessList")};return e.length===9||oA(n,e.slice(9)),n}function VNe(t,e){const n=[An(t.chainId,"chainId"),An(t.nonce,"nonce"),An(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),An(t.maxFeePerGas||0,"maxFeePerGas"),An(t.gasLimit,"gasLimit"),t.to||"0x",An(t.value,"value"),t.data,sA(t.accessList||[])];return e&&(n.push(An(e.yParity,"yParity")),n.push(Vi(e.r)),n.push(Vi(e.s))),ri(["0x02",nf(n)])}function UNe(t){const e=Dy(rn(t).slice(1));ye(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",it(t));const n={type:1,chainId:rr(e[0],"chainId"),nonce:Zh(e[1],"nonce"),gasPrice:rr(e[2],"gasPrice"),gasLimit:rr(e[3],"gasLimit"),to:Mg(e[4]),value:rr(e[5],"value"),data:it(e[6]),accessList:iA(e[7],"accessList")};return e.length===8||oA(n,e.slice(8)),n}function zNe(t,e){const n=[An(t.chainId,"chainId"),An(t.nonce,"nonce"),An(t.gasPrice||0,"gasPrice"),An(t.gasLimit,"gasLimit"),t.to||"0x",An(t.value,"value"),t.data,sA(t.accessList||[])];return e&&(n.push(An(e.yParity,"recoveryParam")),n.push(Vi(e.r)),n.push(Vi(e.s))),ri(["0x01",nf(n)])}function HNe(t){let e=Dy(rn(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const s=e[1],o=e[2],a=e[3];ye(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),ye(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),ye(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),ye(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),ye(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:s[c],commitment:o[c],proof:a[c]});e=e[0]}ye(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",it(t));const i={type:3,chainId:rr(e[0],"chainId"),nonce:Zh(e[1],"nonce"),maxPriorityFeePerGas:rr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:rr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:rr(e[4],"gasLimit"),to:Mg(e[5]),value:rr(e[6],"value"),data:it(e[7]),accessList:iA(e[8],"accessList"),maxFeePerBlobGas:rr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),ye(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),ye(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)ye(yr(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||oA(i,e.slice(11)),i}function $Ne(t,e,n){const r=[An(t.chainId,"chainId"),An(t.nonce,"nonce"),An(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),An(t.maxFeePerGas||0,"maxFeePerGas"),An(t.gasLimit,"gasLimit"),t.to||Q0,An(t.value,"value"),t.data,sA(t.accessList||[]),An(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),LNe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(An(e.yParity,"yParity")),r.push(Vi(e.r)),r.push(Vi(e.s)),n)?ri(["0x03",nf([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):ri(["0x03",nf(r)])}function GNe(t){const e=Dy(rn(t).slice(1));ye(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",it(t));const n={type:4,chainId:rr(e[0],"chainId"),nonce:Zh(e[1],"nonce"),maxPriorityFeePerGas:rr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:rr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:rr(e[4],"gasLimit"),to:Mg(e[5]),value:rr(e[6],"value"),data:it(e[7]),accessList:iA(e[8],"accessList"),authorizationList:MNe(e[9],"authorizationList")};return e.length===10||oA(n,e.slice(10)),n}function qNe(t,e){const n=[An(t.chainId,"chainId"),An(t.nonce,"nonce"),An(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),An(t.maxFeePerGas||0,"maxFeePerGas"),An(t.gasLimit,"gasLimit"),t.to||"0x",An(t.value,"value"),t.data,sA(t.accessList||[]),DNe(t.authorizationList||[])];return e&&(n.push(An(e.yParity,"yParity")),n.push(Vi(e.r)),n.push(Vi(e.s))),ri(["0x04",nf(n)])}class La{#e;#t;#n;#r;#i;#o;#s;#a;#f;#c;#p;#g;#l;#u;#h;#d;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:ye(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Q0:e}set to(e){this.#t=e==null?null:zn(e)}get nonce(){return this.#r}set nonce(e){this.#r=Qt(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=ft(e)}get gasPrice(){const e=this.#o;return e==null&&(this.type===0||this.type===1)?Zi:e}set gasPrice(e){this.#o=e==null?null:ft(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#s;return e??(this.type===2||this.type===3?Zi:null)}set maxPriorityFeePerGas(e){this.#s=e==null?null:ft(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?Zi:null)}set maxFeePerGas(e){this.#a=e==null?null:ft(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=it(e)}get value(){return this.#f}set value(e){this.#f=ft(e,"value")}get chainId(){return this.#c}set chainId(e){this.#c=ft(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:ei.from(e)}get accessList(){const e=this.#g||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#g=e==null?null:Xh(e)}get authorizationList(){const e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(n=>PQ(n))}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?Zi:e}set maxFeePerBlobGas(e){this.#l=e==null?null:ft(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ye(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)ye(yr(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#u=e}get blobs(){return this.#d==null?null:this.#d.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#d=null;return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(T3(s)){ze(this.#h,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=rn(s);if(ye(o.length<=vC,"blob is too large",`blobs[${i}]`,s),o.length!==vC){const u=new Uint8Array(vC);u.set(o),o=u}const a=this.#h.blobToKzgCommitment(o),c=it(this.#h.computeBlobKzgProof(o,a));n.push({data:it(o),commitment:it(a),proof:c}),r.push(b7(1,a))}else{const o=it(s.commitment);n.push({data:it(s.data),commitment:o,proof:it(s.proof)}),r.push(b7(1,o))}}this.#d=n,this.#u=r}get kzg(){return this.#h}set kzg(e){e==null?this.#h=null:this.#h=kNe(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=Zi,this.#o=null,this.#s=null,this.#a=null,this.#n="0x",this.#f=Zi,this.#c=Zi,this.#p=null,this.#g=null,this.#l=null,this.#u=null,this.#h=null,this.#d=null,this.#y=null}get hash(){return this.signature==null?null:_i(this.#m(!0,!1))}get unsignedHash(){return _i(this.unsignedSerialized)}get from(){return this.signature==null?null:CNe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ac.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#m(e,n){ze(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return jNe(this,r);case 1:return zNe(this,r);case 2:return VNe(this,r);case 3:return $Ne(this,r,n?this.blobs:null);case 4:return qNe(this,r)}ze(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#m(!0,!0)}get unsignedSerialized(){return this.#m(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#l!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&ze(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ze(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ze(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return La.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new La;if(typeof e=="string"){const r=rn(e);if(r[0]>=127)return La.from(BNe(r));switch(r[0]){case 1:return La.from(UNe(r));case 2:return La.from(FNe(r));case 3:return La.from(HNe(r));case 4:return La.from(GNe(r))}ze(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new La;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=ei.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(ye(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ye(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ye(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ye(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function Bh(t){return _i(bc(t))}var WNe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const A7=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),E7=4;function KNe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let D=1;D<r;D++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,u=0;function g(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const m=31,w=2**m,A=w>>>1,I=A>>1,_=w-1;let C=0;for(let D=0;D<m;D++)C=C<<1|g();let R=[],j=0,k=w;for(;;){let D=Math.floor(((C-j+1)*i-1)/k),B=0,O=r;for(;O-B>1;){let K=B+O>>>1;D<s[K]?O=K:B=K}if(B==0)break;R.push(B);let M=j+Math.floor(k*s[B]/i),V=j+Math.floor(k*s[B+1]/i)-1;for(;((M^V)&A)==0;)C=C<<1&_|g(),M=M<<1&_,V=V<<1&_|1;for(;M&~V&I;)C=C&A|C<<1&_>>>1|g(),M=M<<1^A,V=(V^A)<<1|A|1;j=M,k=1+V-M}let U=r-4;return R.map(D=>{switch(D-U){case 3:return U+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return U+256+(t[a++]<<8|t[a++]);case 1:return U+t[a++];default:return D-1}})}function YNe(t){let e=0;return()=>t[e++]}function NQ(t){return YNe(KNe(QNe(t)))}function QNe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function XNe(t){return t&1?~t>>1:t>>1}function ZNe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=XNe(e());return n}function X0(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function OQ(t){return Z0(()=>{let e=X0(t);if(e.length)return e})}function RQ(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(JNe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(eOe(n,t))}return e.flat()}function Z0(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function kQ(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)ZNe(t,n).forEach((s,o)=>r[o].push(s));return r}function JNe(t,e){let n=1+e(),r=e(),i=Z0(e);return kQ(i.length,1+t,e).flatMap((o,a)=>{let[c,...u]=o;return Array(i[a]).fill().map((g,m)=>{let w=m*r;return[c+m*n,u.map(A=>A+w)]})})}function eOe(t,e){let n=1+e();return kQ(n,1+t,e).map(i=>[i[0],i.slice(1)])}function tOe(t){let e=[],n=X0(t);return i(r([]),[]),e;function r(s){let o=t(),a=Z0(()=>{let c=X0(t).map(u=>n[u]);if(c.length)return r(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let u of o)for(let g of u.Q)i(u,[...a,g],c)}}}function nOe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function MQ(t){return`{${nOe(t)}}`}function rOe(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function og(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function iOe(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var sOe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const J0=44032,Ex=4352,Sx=4449,_x=4519,DQ=19,LQ=21,ag=28,Tx=LQ*ag,oOe=DQ*Tx,aOe=J0+oOe,lOe=Ex+DQ,cOe=Sx+LQ,uOe=_x+ag;function km(t){return t>>24&255}function BQ(t){return t&16777215}let IN,S7,PN,Uv;function fOe(){let t=NQ(sOe);IN=new Map(OQ(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),S7=new Set(X0(t)),PN=new Map,Uv=new Map;for(let[e,n]of RQ(t)){if(!S7.has(e)&&n.length==2){let[r,i]=n,s=Uv.get(r);s||(s=new Map,Uv.set(r,s)),s.set(i,e)}PN.set(e,n.reverse())}}function jQ(t){return t>=J0&&t<aOe}function hOe(t,e){if(t>=Ex&&t<lOe&&e>=Sx&&e<cOe)return J0+(t-Ex)*Tx+(e-Sx)*ag;if(jQ(t)&&e>_x&&e<uOe&&(t-J0)%ag==0)return t+(e-_x);{let n=Uv.get(t);return n&&(n=n.get(e),n)?n:-1}}function FQ(t){IN||fOe();let e=[],n=[],r=!1;function i(s){let o=IN.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(jQ(s)){let o=s-J0,a=o/Tx|0,c=o%Tx/ag|0,u=o%ag;i(Ex+a),i(Sx+c),u>0&&i(_x+u)}else{let o=PN.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=km(e[0]);for(let o=1;o<e.length;o++){let a=km(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(s=km(e[--c]),s<=a))break}s=km(e[o])}}return e}function dOe(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=km(s),a=BQ(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let c=hOe(r,a);c>=0?r=c:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function VQ(t){return FQ(t).map(BQ)}function pOe(t){return dOe(FQ(t))}const _7=45,UQ=".",zQ=65039,HQ=1,Cx=t=>Array.from(t);function ey(t,e){return t.P.has(e)||t.Q.has(e)}class gOe extends Array{get is_emoji(){return!0}}let NN,$Q,lh,ON,GQ,yp,wC,Vd,Gf,T7,RN;function B3(){if(NN)return;let t=NQ(WNe);const e=()=>X0(t),n=()=>new Set(e()),r=(g,m)=>m.forEach(w=>g.add(w));NN=new Map(RQ(t)),$Q=n(),lh=e(),ON=new Set(e().map(g=>lh[g])),lh=new Set(lh),GQ=n(),n();let i=OQ(t),s=t();const o=()=>{let g=new Set;return e().forEach(m=>r(g,i[m])),r(g,e()),g};yp=Z0(g=>{let m=Z0(t).map(w=>w+96);if(m.length){let w=g>=s;m[0]-=32,m=og(m),w&&(m=`Restricted[${m}]`);let A=o(),I=o(),_=!t();return{N:m,P:A,Q:I,M:_,R:w}}}),wC=n(),Vd=new Map;let a=e().concat(Cx(wC)).sort((g,m)=>g-m);a.forEach((g,m)=>{let w=t(),A=a[m]=w?a[m-w]:{V:[],M:new Map};A.V.push(g),wC.has(g)||Vd.set(g,A)});for(let{V:g,M:m}of new Set(Vd.values())){let w=[];for(let I of g){let _=yp.filter(R=>ey(R,I)),C=w.find(({G:R})=>_.some(j=>R.has(j)));C||(C={G:new Set,V:[]},w.push(C)),C.V.push(I),r(C.G,_)}let A=w.flatMap(I=>Cx(I.G));for(let{G:I,V:_}of w){let C=new Set(A.filter(R=>!I.has(R)));for(let R of _)m.set(R,C)}}Gf=new Set;let c=new Set;const u=g=>Gf.has(g)?c.add(g):Gf.add(g);for(let g of yp){for(let m of g.P)u(m);for(let m of g.Q)u(m)}for(let g of Gf)!Vd.has(g)&&!c.has(g)&&Vd.set(g,HQ);r(Gf,VQ(Gf)),T7=tOe(t).map(g=>gOe.from(g)).sort(iOe),RN=new Map;for(let g of T7){let m=[RN];for(let w of g){let A=m.map(I=>{let _=I.get(w);return _||(_=new Map,I.set(w,_)),_});w===zQ?m.push(...A):m=A}for(let w of m)w.V=g}}function j3(t){return(qQ(t)?"":`${F3(aA([t]))} `)+MQ(t)}function F3(t){return`"${t}"‎`}function mOe(t){if(t.length>=4&&t[2]==_7&&t[3]==_7)throw new Error(`invalid label extension: "${og(t.slice(0,4))}"`)}function yOe(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function vOe(t){let e=t[0],n=A7.get(e);if(n)throw Qm(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=A7.get(e);if(o){if(i==s)throw Qm(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw Qm(`trailing ${n}`)}function aA(t,e=1/0,n=MQ){let r=[];wOe(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];qQ(a)&&(r.push(og(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(og(t.slice(i,s))),r.join("")}function wOe(t){return B3(),lh.has(t)}function qQ(t){return B3(),GQ.has(t)}function xOe(t){return SOe(bOe(t,pOe,COe))}function bOe(t,e,n){if(!t)return[];B3();let r=0;return t.split(UQ).map(i=>{let s=rOe(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=TOe(s,e,n),c=a.length,u;if(!c)throw new Error("empty label");let g=o.output=a.flat();if(yOe(g),!(o.emoji=c>1||a[0].is_emoji)&&g.every(w=>w<128))mOe(g),u="ASCII";else{let w=a.flatMap(A=>A.is_emoji?[]:A);if(!w.length)u="Emoji";else{if(lh.has(g[0]))throw Qm("leading combining mark");for(let _=1;_<c;_++){let C=a[_];if(!C.is_emoji&&lh.has(C[0]))throw Qm(`emoji + combining mark: "${og(a[_-1])} + ${aA([C[0]])}"`)}vOe(g);let A=Cx(new Set(w)),[I]=EOe(A);_Oe(I,w),AOe(I,A),u=I.N}}o.type=u}catch(a){o.error=a}return o})}function AOe(t,e){let n,r=[];for(let i of e){let s=Vd.get(i);if(s===HQ)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):Cx(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>ey(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function EOe(t){let e=yp;for(let n of t){let r=e.filter(i=>ey(i,n));if(!r.length)throw yp.some(i=>ey(i,n))?KQ(e[0],n):WQ(n);if(e=r,r.length==1)break}return e}function SOe(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${F3(aA(e,63))}: ${i}`)}return og(r)}).join(UQ)}function WQ(t){return new Error(`disallowed character: ${j3(t)}`)}function KQ(t,e){let n=j3(e),r=yp.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Qm(t){return new Error(`illegal placement: ${t}`)}function _Oe(t,e){for(let n of e)if(!ey(t,n))throw KQ(t,n);if(t.M){let n=VQ(e);for(let r=1,i=n.length;r<i;r++)if(ON.has(n[r])){let s=r+1;for(let o;s<i&&ON.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${j3(o)}`);if(s-r>E7)throw new Error(`excessive non-spacing marks: ${F3(aA(n.slice(r-1,s)))} (${s-r}/${E7})`);r=s}}}function TOe(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=IOe(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(Gf.has(o))i.push(o);else{let a=NN.get(o);if(a)i.push(...a);else if(!$Q.has(o))throw WQ(o)}}}return i.length&&r.push(e(i)),r}function COe(t){return t.filter(e=>e!=zQ)}function IOe(t,e){let n=RN,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const YQ=new Uint8Array(32);YQ.fill(0);function C7(t){return ye(t.length!==0,"invalid ENS name; empty component","comp",t),t}function QQ(t){const e=bc(POe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(C7(e.slice(r,i))),r=i+1);return ye(r<e.length,"invalid ENS name; empty component","name",t),n.push(C7(e.slice(r))),n}function POe(t){try{if(t.length===0)throw new Error("empty label");return xOe(t)}catch(e){ye(!1,`invalid ENS name (${e.message})`,"name",t)}}function kN(t){ye(typeof t=="string","invalid ENS name; not a string","name",t),ye(t.length,"invalid ENS name (empty label)","name",t);let e=YQ;const n=QQ(t);for(;n.length;)e=_i(ri([e,_i(n.pop())]));return it(e)}function NOe(t,e){const n=e;return ye(n<=255,"DNS encoded label cannot exceed 255","length",n),it(ri(QQ(t).map(r=>{ye(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const XQ=new Uint8Array(32);XQ.fill(0);const OOe=BigInt(-1),ZQ=BigInt(0),JQ=BigInt(1),ROe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function kOe(t){const e=rn(t),n=e.length%32;return n?ri([e,XQ.slice(n)]):it(e)}const MOe=tf(JQ,32),DOe=tf(ZQ,32),I7={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},xC=["name","version","chainId","verifyingContract","salt"];function P7(t){return function(e){return ye(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const LOe={name:P7("name"),version:P7("version"),chainId:function(t){const e=ft(t,"domain.chainId");return ye(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Fa(e)},verifyingContract:function(t){try{return zn(t).toLowerCase()}catch{}ye(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=rn(t,"domain.salt");return ye(e.length===32,'invalid domain value "salt"',"domain.salt",t),it(e)}};function bC(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);ye(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=oh(ROe,n?r-1:r),s=n?(i+JQ)*OOe:ZQ;return function(o){const a=ft(o,"value");return ye(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),tf(n?FY(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return ye(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=rn(r);return ye(i.length===n,`invalid length for ${t}`,"value",r),kOe(r)}}}switch(t){case"address":return function(e){return kc(zn(e),32)};case"bool":return function(e){return e?MOe:DOe};case"bytes":return function(e){return _i(e)};case"string":return function(e){return Bh(e)}}return null}function N7(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function yv(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class jo{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(c=>{s[c]=e[c].map(({name:u,type:g})=>{let{base:m,index:w}=yv(g);return m==="int"&&!e.int&&(m="int256"),m==="uint"&&!e.uint&&(m="uint256"),{name:u,type:m+(w||"")}}),n.set(c,new Set),r.set(c,[]),i.set(c,new Set)}),this.#e=JSON.stringify(s);for(const c in s){const u=new Set;for(const g of s[c]){ye(!u.has(g.name),`duplicate variable name ${JSON.stringify(g.name)} in ${JSON.stringify(c)}`,"types",e),u.add(g.name);const m=yv(g.type).base;ye(m!==c,`circular type reference to ${JSON.stringify(m)}`,"types",e),!bC(m)&&(ye(r.has(m),`unknown type ${JSON.stringify(m)}`,"types",e),r.get(m).push(c),n.get(c).add(m))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);ye(o.length!==0,"missing primary type","types",e),ye(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),It(this,{primaryType:o[0]});function a(c,u){ye(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const g of n.get(c))if(r.has(g)){a(g,u);for(const m of u)i.get(m).add(g)}u.delete(c)}a(this.primaryType,new Set);for(const[c,u]of i){const g=Array.from(u);g.sort(),this.#t.set(c,N7(c,s[c])+g.map(m=>N7(m,s[m])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const i=bC(e);if(i)return i}const n=yv(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{ye(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return this.#t.has(i)&&(a=a.map(_i)),_i(ri(a))}}const r=this.types[e];if(r){const i=Bh(this.#t.get(e));return s=>{const o=r.map(({name:a,type:c})=>{const u=this.getEncoder(c)(s[a]);return this.#t.has(c)?_i(u):u});return o.unshift(i),ri(o)}}ye(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return ye(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return _i(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(bC(e))return r(e,n);const i=yv(e).array;if(i)return ye(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{});ye(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new jo(e)}static getPrimaryType(e){return jo.from(e).primaryType}static hashStruct(e,n,r){return jo.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=I7[r];ye(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>xC.indexOf(r.name)-xC.indexOf(i.name)),jo.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return ri(["0x1901",jo.hashDomain(e),jo.from(n).hash(r)])}static hash(e,n,r){return _i(jo.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!yr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=jo.from(n);o.visit(r,(a,c)=>(a==="address"&&!yr(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:r}}static getPayload(e,n,r){jo.hashDomain(e);const i={},s=[];xC.forEach(c=>{const u=e[c];u!=null&&(i[c]=LOe[c](u),s.push({name:c,type:I7[c]}))});const o=jo.from(n);n=o.types;const a=Object.assign({},n);return ye(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,u)=>{if(c.match(/^bytes(\d*)/))return it(rn(u));if(c.match(/^u?int/))return ft(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return ye(typeof u=="string","invalid string","value",u),u}ye(!1,"unsupported type","type",c)})}}}function no(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const BOe="external public payable override",jOe=no(BOe.split(" ")),eX="constant external internal payable private public pure view override",FOe=no(eX.split(" ")),tX="constructor error event fallback function receive struct",nX=no(tX.split(" ")),rX="calldata memory storage payable indexed",VOe=no(rX.split(" ")),UOe="tuple returns",zOe=[tX,rX,UOe,eX].join(" "),HOe=no(zOe.split(" ")),$Oe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},GOe=new RegExp("^(\\s*)"),qOe=new RegExp("^([0-9]+)"),WOe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),iX=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),sX=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class xa{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new xa(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new xa(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function gf(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(GOe);a&&(s+=a[1].length,o=t.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let u=$Oe[o[0]]||"";if(u){if(c.type=u,c.text=o[0],s++,u==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(u=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let g=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const m=e.pop().text;g=m+g,e[e.length-1].value=Qt(m)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=g}continue}if(a=o.match(WOe),a){if(c.text=a[1],s+=c.text.length,HOe.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(sX)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(qOe),a){c.text=a[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new xa(e.map(o=>Object.freeze(o)))}function O7(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function lA(t,e){if(e.peekKeyword(nX)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Dc(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function oX(t){let e=Dc(t,FOe);return O7(e,no("constant payable nonpayable".split(" "))),O7(e,no("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ac(t,e){return t.popParams().map(n=>pr.from(n,e))}function aX(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ft(t.pop().text);throw new Error("invalid gas")}return null}function jh(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const KOe=new RegExp(/^(.*)\[([0-9]*)\]$/);function R7(t){const e=t.match(sX);if(ye(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);ye(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);ye(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const zr={},Eo=Symbol.for("_ethers_internal"),k7="_ParamTypeInternal",M7="_ErrorInternal",D7="_EventInternal",L7="_ConstructorInternal",B7="_FallbackInternal",j7="_FunctionInternal",F7="_StructInternal";class pr{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,i,s,o,a,c){if(My(e,zr,"ParamType"),Object.defineProperty(this,Eo,{value:k7}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");It(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}#e(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((c,u)=>{o.#e(e,c,r,g=>{a[u]=g})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{o[u].#e(e,c,r,g=>{a[u]=g})}),i(a);return}const s=r(this.type,n);s.then?e.push((async function(){i(await s)})()):i(s)}async walkAsync(e,n){const r=[],i=[e];return this.#e(r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(pr.isParamType(e))return e;if(typeof e=="string")try{return pr.from(gf(e),n)}catch{ye(!1,"invalid param type","obj",e)}else if(e instanceof xa){let a="",c="",u=null;Dc(e,no(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(_=>pr.from(_)),a=`tuple(${u.map(_=>_.format()).join(",")})`):(a=R7(e.popType("TYPE")),c=a);let g=null,m=null;for(;e.length&&e.peekType("BRACKET");){const _=e.pop();g=new pr(zr,"",a,c,null,u,m,g),m=_.value,a+=_.text,c="array",u=null}let w=null;if(Dc(e,VOe).has("indexed")){if(!n)throw new Error("");w=!0}const I=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new pr(zr,I,a,c,w,u,m,g)}const r=e.name;ye(!r||typeof r=="string"&&r.match(iX),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ye(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(KOe);if(o){const a=parseInt(o[2]||"-1"),c=pr.from({type:o[1],components:e.components});return new pr(zr,r||"",s,"array",i,null,a,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(u=>pr.from(u)):null;return new pr(zr,r||"",s,"tuple",i,a,null,null)}return s=R7(e.type),new pr(zr,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Eo]===k7}}class Fh{type;inputs;constructor(e,n,r){My(e,zr,"Fragment"),r=Object.freeze(r.slice()),It(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Fh.from(JSON.parse(e))}catch{}return Fh.from(gf(e))}if(e instanceof xa)switch(e.peekKeyword(nX)){case"constructor":return pc.from(e);case"error":return xo.from(e);case"event":return ml.from(e);case"fallback":case"receive":return sc.from(e);case"function":return yl.from(e);case"struct":return yh.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return pc.from(e);case"error":return xo.from(e);case"event":return ml.from(e);case"fallback":case"receive":return sc.from(e);case"function":return yl.from(e);case"struct":return yh.from(e)}ze(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ye(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return pc.isFragment(e)}static isError(e){return xo.isFragment(e)}static isEvent(e){return ml.isFragment(e)}static isFunction(e){return yl.isFragment(e)}static isStruct(e){return yh.isFragment(e)}}class cA extends Fh{name;constructor(e,n,r,i){super(e,n,i),ye(typeof r=="string"&&r.match(iX),"invalid identifier","name",r),i=Object.freeze(i.slice()),It(this,{name:r})}}function ty(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class xo extends cA{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Eo,{value:M7})}get selector(){return Bh(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+ty(e,this.inputs)),n.join(" ")}static from(e){if(xo.isFragment(e))return e;if(typeof e=="string")return xo.from(gf(e));if(e instanceof xa){const n=lA("error",e),r=Ac(e);return jh(e),new xo(zr,n,r)}return new xo(zr,e.name,e.inputs?e.inputs.map(pr.from):[])}static isFragment(e){return e&&e[Eo]===M7}}class ml extends cA{anonymous;constructor(e,n,r,i){super(e,"event",n,r),Object.defineProperty(this,Eo,{value:D7}),It(this,{anonymous:i})}get topicHash(){return Bh(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+ty(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>pr.from(i)),new ml(zr,e,n,!1).topicHash}static from(e){if(ml.isFragment(e))return e;if(typeof e=="string")try{return ml.from(gf(e))}catch{ye(!1,"invalid event fragment","obj",e)}else if(e instanceof xa){const n=lA("event",e),r=Ac(e,!0),i=!!Dc(e,no(["anonymous"])).has("anonymous");return jh(e),new ml(zr,n,r,i)}return new ml(zr,e.name,e.inputs?e.inputs.map(n=>pr.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Eo]===D7}}class pc extends Fh{payable;gas;constructor(e,n,r,i,s){super(e,n,r),Object.defineProperty(this,Eo,{value:L7}),It(this,{payable:i,gas:s})}format(e){if(ze(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${ty(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(pc.isFragment(e))return e;if(typeof e=="string")try{return pc.from(gf(e))}catch{ye(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof xa){Dc(e,no(["constructor"]));const n=Ac(e),r=!!Dc(e,jOe).has("payable"),i=aX(e);return jh(e),new pc(zr,"constructor",n,r,i)}return new pc(zr,"constructor",e.inputs?e.inputs.map(pr.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Eo]===L7}}class sc extends Fh{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,Eo,{value:B7}),It(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(sc.isFragment(e))return e;if(typeof e=="string")try{return sc.from(gf(e))}catch{ye(!1,"invalid fallback fragment","obj",e)}else if(e instanceof xa){const n=e.toString(),r=e.peekKeyword(no(["fallback","receive"]));if(ye(r,"type must be fallback or receive","obj",n),e.popKeyword(no(["fallback","receive"]))==="receive"){const a=Ac(e);return ye(a.length===0,"receive cannot have arguments","obj.inputs",a),Dc(e,no(["payable"])),jh(e),new sc(zr,[],!0)}let s=Ac(e);s.length?ye(s.length===1&&s[0].type==="bytes","invalid fallback inputs","obj.inputs",s.map(a=>a.format("minimal")).join(", ")):s=[pr.from("bytes")];const o=oX(e);if(ye(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Dc(e,no(["returns"])).has("returns")){const a=Ac(e);ye(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return jh(e),new sc(zr,s,o==="payable")}if(e.type==="receive")return new sc(zr,[],!0);if(e.type==="fallback"){const n=[pr.from("bytes")],r=e.stateMutability==="payable";return new sc(zr,n,r)}ye(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Eo]===B7}}class yl extends cA{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,i,s,o){super(e,"function",n,i),Object.defineProperty(this,Eo,{value:j7}),s=Object.freeze(s.slice()),It(this,{constant:r==="view"||r==="pure",gas:o,outputs:s,payable:r==="payable",stateMutability:r})}get selector(){return Bh(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+ty(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(ty(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>pr.from(i)),new yl(zr,e,"view",n,[],null).selector}static from(e){if(yl.isFragment(e))return e;if(typeof e=="string")try{return yl.from(gf(e))}catch{ye(!1,"invalid function fragment","obj",e)}else if(e instanceof xa){const r=lA("function",e),i=Ac(e),s=oX(e);let o=[];Dc(e,no(["returns"])).has("returns")&&(o=Ac(e));const a=aX(e);return jh(e),new yl(zr,r,s,i,o,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new yl(zr,e.name,n,e.inputs?e.inputs.map(pr.from):[],e.outputs?e.outputs.map(pr.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Eo]===j7}}class yh extends cA{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Eo,{value:F7})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return yh.from(gf(e))}catch{ye(!1,"invalid struct fragment","obj",e)}else if(e instanceof xa){const n=lA("struct",e),r=Ac(e);return jh(e),new yh(zr,n,r)}return new yh(zr,e.name,e.inputs?e.inputs.map(pr.from):[])}static isFragment(e){return e&&e[Eo]===F7}}const Qa=new Map;Qa.set(0,"GENERIC_PANIC");Qa.set(1,"ASSERT_FALSE");Qa.set(17,"OVERFLOW");Qa.set(18,"DIVIDE_BY_ZERO");Qa.set(33,"ENUM_RANGE_ERROR");Qa.set(34,"BAD_STORAGE_DATA");Qa.set(49,"STACK_UNDERFLOW");Qa.set(50,"ARRAY_RANGE_ERROR");Qa.set(65,"OUT_OF_MEMORY");Qa.set(81,"UNINITIALIZED_FUNCTION_CALL");const YOe=new RegExp(/^bytes([0-9]*)$/),QOe=new RegExp(/^(u?int)([0-9]*)$/);let AC=null,V7=1024;function XOe(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const u=rn(n);if(n=it(n),u.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(it(u.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(it(u.slice(0,4))==="0x4e487b71")try{const g=Number(r.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[g]},s=`Panic due to ${Qa.get(g)||"UNKNOWN"}(${g})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?zn(e.to):null,data:e.data||"0x"};return e.from&&(c.from=zn(e.from)),Dr(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:c,invocation:o,revert:a})}class lg{#e(e){if(e.isArray())return new gNe(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new mv(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new dNe(e.name);case"bool":return new mNe(e.name);case"string":return new _Ne(e.name);case"bytes":return new yNe(e.name);case"":return new xNe(e.name)}let n=e.type.match(QOe);if(n){let r=parseInt(n[2]||"256");return ye(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new SNe(r/8,n[1]==="int",e.name)}if(n=e.type.match(YOe),n){let r=parseInt(n[1]);return ye(r!==0&&r<=32,"invalid bytes length","param",e),new vNe(r,e.name)}ye(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(i=>this.#e(pr.from(i)));return new mv(n,"_").defaultValue()}encode(e,n){LY(n.length,e.length,"types/values length mismatch");const r=e.map(o=>this.#e(pr.from(o))),i=new mv(r,"_"),s=new AN;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>this.#e(pr.from(o)));return new mv(i,"_").decode(new C3(n,r,V7))}static _setDefaultMaxInflation(e){ye(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),V7=e}static defaultAbiCoder(){return AC==null&&(AC=new lg),AC}static getBuiltinCallException(e,n,r){return XOe(e,n,r,lg.defaultAbiCoder())}}class ZOe{fragment;name;signature;topic;args;constructor(e,n,r){const i=e.name,s=e.format();It(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class JOe{fragment;name;args;signature;selector;value;constructor(e,n,r,i){const s=e.name,o=e.format();It(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class eRe{fragment;name;args;signature;selector;constructor(e,n,r){const i=e.name,s=e.format();It(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class U7{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){It(this,{hash:e,_isIndexed:!0})}}const z7={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},H7={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&z7[t.toString()]&&(e=z7[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class Qf{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const o of n)try{r.push(Fh.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}It(this,{fragments:Object.freeze(r)});let i=null,s=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}It(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(ye(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":c=this.#n;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}const u=o.format();c.has(u)||c.set(u,o)}),this.deploy||It(this,{deploy:pc.from("constructor()")}),It(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return lg.defaultAbiCoder()}#i(e,n,r){if(yr(e)){const s=e.toLowerCase();for(const o of this.#n.values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of this.#n)o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,c=!0;ni.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let u=s.length-1;u>=0;u--){const g=s[u].inputs.length;g!==a&&(!c||g!==a-1)&&s.splice(u,1)}for(let u=s.length-1;u>=0;u--){const g=s[u].inputs;for(let m=0;m<n.length;m++)if(ni.isTyped(n[m])){if(m>=g.length){if(n[m].type==="overrides")continue;s.splice(u,1);break}if(n[m].type!==g[m].baseType){s.splice(u,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ye(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=this.#n.get(yl.from(e).format());return i||null}getFunctionName(e){const n=this.#i(e,null,!1);return ye(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,n){return this.#i(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#n.get(i),r)}}#o(e,n,r){if(yr(e)){const s=e.toLowerCase();for(const o of this.#t.values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of this.#t)o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let c=0;c<n.length;c++)if(ni.isTyped(n[c])&&n[c].type!==a[c].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ye(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=this.#t.get(ml.from(e).format());return i||null}getEventName(e){const n=this.#o(e,null,!1);return ye(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,n){return this.#o(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#t.get(i),r)}}getError(e,n){if(yr(e)){const i=e.toLowerCase();if(H7[i])return xo.from(H7[i].signature);for(const s of this.#e.values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of this.#e)s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?xo.from("error Error(string)"):e==="Panic"?xo.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");ye(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=xo.from(e).format(),e==="Error(string)")return xo.from("error Error(string)");if(e==="Panic(uint256)")return xo.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#e.get(i),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ye(r,"unknown error","fragment",e),e=r}return ye(Zr(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Zr(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ye(r,"unknown error","fragment",e),e=r}return ri([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return ye(Zr(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Zr(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return ri([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);ye(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=Qs(n);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}ze(!1,r,"BAD_DATA",{value:it(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=rn(e,"data"),i=lg.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=it(r.slice(0,4)),c=this.getError(a);if(c)try{const u=this.#r.decode(c.inputs,r.slice(4));i.revert={name:c.name,signature:c.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return it(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);ye(s,"unknown event","eventFragment",e),e=s}ze(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?Bh(o):s.type==="bytes"?_i(it(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=tf(o):s.type.match(/^bytes/)?o=vIe(o,32):s.type==="address"&&this.#r.encode(["address"],[o]),kc(it(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){ye(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?ye(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(c=>i(a,c))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);ye(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),ye(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(Bh(c));else if(o.type==="bytes")r.push(_i(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this.#r.encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const A=this.getEvent(e);ye(A,"unknown event","eventFragment",e),e=A}if(r!=null&&!e.anonymous){const A=e.topicHash;ye(yr(r[0],32)&&r[0].toLowerCase()===A,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((A,I)=>{A.indexed?A.type==="string"||A.type==="bytes"||A.baseType==="tuple"||A.baseType==="array"?(i.push(pr.from({type:"bytes32",name:A.name})),o.push(!0)):(i.push(A),o.push(!1)):(s.push(A),o.push(!1))});const a=r!=null?this.#r.decode(i,ri(r)):null,c=this.#r.decode(s,n,!0),u=[],g=[];let m=0,w=0;return e.inputs.forEach((A,I)=>{let _=null;if(A.indexed)if(a==null)_=new U7(null);else if(o[I])_=new U7(a[w++]);else try{_=a[w++]}catch(C){_=C}else try{_=c[m++]}catch(C){_=C}u.push(_),g.push(A.name||null)}),dc.fromItems(u,g)}parseTransaction(e){const n=rn(e.data,"tx.data"),r=ft(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(it(n.slice(0,4)));if(!i)return null;const s=this.#r.decode(i.inputs,n.slice(4));return new JOe(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new ZOe(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=it(e),r=this.getError(Zr(n,0,4));if(!r)return null;const i=this.#r.decode(r.inputs,Zr(n,4));return new eRe(r,r.selector,i)}static from(e){return e instanceof Qf?e:typeof e=="string"?new Qf(JSON.parse(e)):typeof e.formatJson=="function"?new Qf(e.formatJson()):typeof e.format=="function"?new Qf(e.format("json")):new Qf(e)}}const lX=BigInt(0);function vp(t){return t??null}function mi(t){return t==null?null:t.toString()}class $7{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){It(this,{gasPrice:vp(e),maxFeePerGas:vp(n),maxPriorityFeePerGas:vp(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:mi(e),maxFeePerGas:mi(n),maxPriorityFeePerGas:mi(r)}}}function Ix(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=it(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=ft(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Qt(t[i],`request.${i}`));return t.accessList&&(e.accessList=Xh(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>T3(i)?it(i):Object.assign({},i))),e}class tRe{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new jy(r,n):r),It(this,{provider:n,hash:vp(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:vp(e.prevRandao),extraData:e.extraData,baseFeePerGas:vp(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(ze(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:c,nonce:u,number:g,parentHash:m,parentBeaconBlockRoot:w,stateRoot:A,receiptsRoot:I,timestamp:_,transactions:C}=this;return{_type:"Block",baseFeePerGas:mi(e),difficulty:mi(n),extraData:r,gasLimit:mi(i),gasUsed:mi(s),blobGasUsed:mi(this.blobGasUsed),excessBlobGas:mi(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:u,number:g,parentHash:m,timestamp:_,parentBeaconBlockRoot:w,stateRoot:A,receiptsRoot:I,transactions:C}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const r=e.toLowerCase();for(const i of this.#e)if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;ye(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return nRe(this)}}class By{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const r=Object.freeze(e.topics.slice());It(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ze(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ze(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ze(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return rRe(this)}}class cX{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(i=>new By(i,n)));let r=lX;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),It(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:c,logs:u,status:g,root:m}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:mi(this.cumulativeGasUsed),from:n,gasPrice:mi(this.gasPrice),blobGasUsed:mi(this.blobGasUsed),blobGasPrice:mi(this.blobGasPrice),gasUsed:mi(this.gasUsed),hash:i,index:s,logs:u,logsBloom:c,root:m,status:g,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return fX(this)}reorderedEvent(e){return ze(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),uX(this,e)}}class jy{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:c,data:u,signature:g,accessList:m,blobVersionedHashes:w}=this;return{_type:"TransactionResponse",accessList:m,blockNumber:e,blockHash:n,blobVersionedHashes:w,chainId:mi(this.chainId),data:u,from:a,gasLimit:mi(this.gasLimit),gasPrice:mi(this.gasPrice),hash:i,maxFeePerGas:mi(this.maxFeePerGas),maxPriorityFeePerGas:mi(this.maxPriorityFeePerGas),maxFeePerBlobGas:mi(this.maxFeePerBlobGas),nonce:c,signature:g,to:o,index:r,type:s,value:mi(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Ys({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=this.#e,o=-1,a=s===-1;const c=async()=>{if(a)return null;const{blockNumber:w,nonce:A}=await Ys({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(A<this.nonce){s=w;return}if(a)return null;const I=await this.getTransaction();if(!(I&&I.blockNumber!=null))for(o===-1&&(o=s-3,o<this.#e&&(o=this.#e));o<=w;){if(a)return null;const _=await this.provider.getBlock(o,!0);if(_==null)return;for(const C of _)if(C===this.hash)return;for(let C=0;C<_.length;C++){const R=await _.getTransaction(C);if(R.from===this.from&&R.nonce===this.nonce){if(a)return null;const j=await this.provider.getTransactionReceipt(R.hash);if(j==null||w-j.blockNumber+1<r)return;let k="replaced";R.data===this.data&&R.to===this.to&&R.value===this.value?k="repriced":R.data==="0x"&&R.from===R.to&&R.value===lX&&(k="cancelled"),ze(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:k==="replaced"||k==="cancelled",reason:k,replacement:R.replaceableTransaction(s),hash:R.hash,receipt:j})}}o++}},u=w=>{if(w==null||w.status!==0)return w;ze(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:w.to,from:w.from,data:""},receipt:w})},g=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(g);if(g){if(r===1||await g.confirmations()>=r)return u(g)}else if(await c(),r===0)return null;return await new Promise((w,A)=>{const I=[],_=()=>{I.forEach(R=>R())};if(I.push(()=>{a=!0}),i>0){const R=setTimeout(()=>{_(),A(Dr("wait for transaction timeout","TIMEOUT"))},i);I.push(()=>{clearTimeout(R)})}const C=async R=>{if(await R.confirmations()>=r){_();try{w(u(R))}catch(j){A(j)}}};if(I.push(()=>{this.provider.off(this.hash,C)}),this.provider.on(this.hash,C),s>=0){const R=async()=>{try{await c()}catch(j){if(ys(j,"TRANSACTION_REPLACED")){_(),A(j);return}}a||this.provider.once("block",R)};I.push(()=>{this.provider.off("block",R)}),this.provider.once("block",R)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return ze(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),fX(this)}reorderedEvent(e){return ze(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ze(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),uX(this,e)}replaceableTransaction(e){ye(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new jy(this,this.provider);return n.#e=e,n}}function nRe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function uX(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function fX(t){return{orphan:"drop-transaction",tx:t}}function rRe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class V3 extends By{interface;fragment;args;constructor(e,n,r){super(e,e.provider);const i=n.decodeEventLog(r,e.data,e.topics);It(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class hX extends By{error;constructor(e,n){super(e,e.provider),It(this,{error:n})}}class iRe extends cX{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new V3(e,this.#e,n)}catch(r){return new hX(e,r)}return e})}}class U3 extends jy{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new iRe(this.#e,this.provider,r)}}class dX extends VY{log;constructor(e,n,r,i){super(e,n,r),It(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class sRe extends dX{constructor(e,n,r,i,s){super(e,n,r,new V3(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);It(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const G7=BigInt(0);function pX(t){return t&&typeof t.call=="function"}function gX(t){return t&&typeof t.estimateGas=="function"}function uA(t){return t&&typeof t.resolveName=="function"}function mX(t){return t&&typeof t.sendTransaction=="function"}function yX(t){if(t!=null){if(uA(t))return t;if(t.provider)return t.provider}}class oRe{#e;fragment;constructor(e,n,r){if(It(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=Vh(e.runner,"resolveName"),s=uA(i)?i:null;this.#e=(async function(){const o=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(g,m)=>g==="address"?Array.isArray(m)?Promise.all(m.map(w=>to(w,s))):to(m,s):m)));return e.interface.encodeFilterTopics(n,o)})()}getTopicFilter(){return this.#e}}function Vh(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ch(t){return t==null?null:t.provider||null}async function vX(t,e){const n=ni.dereference(t,"overrides");ye(typeof n=="object","invalid overrides parameter","overrides",t);const r=Ix(n);return ye(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ye(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function aRe(t,e,n){const r=Vh(t,"resolveName"),i=uA(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,c)=>(c=ni.dereference(c,a),a==="address"?to(c,i):c))))}function lRe(t){const e=async function(o){const a=await vX(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await to(a.from,yX(t.runner)));const c=t.interface,u=ft(a.value||G7,"overrides.value")===G7,g=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!g&&!u&&ye(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),ye(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data);const m=c.receive||c.fallback&&c.fallback.payable;return ye(m||u,"cannot send value to non-payable fallback","overrides.value",a.value),ye(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=Vh(t.runner,"call");ze(pX(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(u){throw _3(u)&&u.data?t.interface.makeError(u.data,c):u}},r=async function(o){const a=t.runner;ze(mX(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),u=ch(t.runner);return new U3(t.interface,u,c)},i=async function(o){const a=Vh(t.runner,"estimateGas");return ze(gX(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return It(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function cRe(t,e){const n=function(...u){const g=t.interface.getFunction(e,u);return ze(g,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),g},r=async function(...u){const g=n(...u);let m={};if(g.inputs.length+1===u.length&&(m=await vX(u.pop()),m.from&&(m.from=await to(m.from,yX(t.runner)))),g.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const w=await aRe(t.runner,g.inputs,u);return Object.assign({},m,await Ys({to:t.getAddress(),data:t.interface.encodeFunctionData(g,w)}))},i=async function(...u){const g=await a(...u);return g.length===1?g[0]:g},s=async function(...u){const g=t.runner;ze(mX(g),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const m=await g.sendTransaction(await r(...u)),w=ch(t.runner);return new U3(t.interface,w,m)},o=async function(...u){const g=Vh(t.runner,"estimateGas");return ze(gX(g),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await g.estimateGas(await r(...u))},a=async function(...u){const g=Vh(t.runner,"call");ze(pX(g),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const m=await r(...u);let w="0x";try{w=await g.call(m)}catch(I){throw _3(I)&&I.data?t.interface.makeError(I.data,m):I}const A=n(...u);return t.interface.decodeFunctionResult(A,w)},c=async(...u)=>n(...u).constant?await i(...u):await s(...u);return It(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return ze(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function uRe(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return ze(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new oRe(t,n(...i),i)};return It(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return ze(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Px=Symbol.for("_ethersInternal_contract"),wX=new WeakMap;function fRe(t,e){wX.set(t[Px],e)}function Fo(t){return wX.get(t[Px])}function hRe(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function z3(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(yr(o,32))return o;const a=t.interface.getEvent(o);return ye(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?yr(e,32)?n=[e]:(r=t.interface.getEvent(e),ye(r,"unknown fragment","event",e),n=[r.topicHash]):hRe(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ye(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function Mm(t,e){const{subs:n}=Fo(t);return n.get((await z3(t,e)).tag)||null}async function q7(t,e,n){const r=ch(t.runner);ze(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await z3(t,n),{addr:a,subs:c}=Fo(t);let u=c.get(s);if(!u){const m={address:a||t,topics:o},w=C=>{let R=i;if(R==null)try{R=t.interface.getEvent(C.topics[0])}catch{}if(R){const j=R,k=i?t.interface.decodeEventLog(i,C.data,C.topics):[];DN(t,n,k,U=>new sRe(t,U,n,j,C))}else DN(t,n,[],j=>new dX(t,j,n,C))};let A=[];u={tag:s,listeners:[],start:()=>{A.length||A.push(r.on(m,w))},stop:async()=>{if(A.length==0)return;let C=A;A=[],await Promise.all(C),r.off(m,w)}},c.set(s,u)}return u}let MN=Promise.resolve();async function dRe(t,e,n,r){await MN;const i=await Mm(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const c=Array.from(n);r&&c.push(r(a?null:o));try{o.call(t,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Fo(t).subs.delete(i.tag)),s>0}async function DN(t,e,n,r){try{await MN}catch{}const i=dRe(t,e,n,r);return MN=i,await i}const vv=["then"];class Xm{target;interface;runner;filters;[Px];fallback;constructor(e,n,r,i){ye(typeof e=="string"||_Q(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=Qf.from(n);It(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,Px,{value:{}});let o,a=null,c=null;if(i){const m=ch(r);c=new U3(this.interface,m,i)}let u=new Map;if(typeof e=="string")if(yr(e))a=e,o=Promise.resolve(e);else{const m=Vh(r,"resolveName");if(!uA(m))throw Dr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=m.resolveName(e).then(w=>{if(w==null)throw Dr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Fo(this).addr=w,w})}else o=e.getAddress().then(m=>{if(m==null)throw new Error("TODO");return Fo(this).addr=m,m});fRe(this,{addrPromise:o,addr:a,deployTx:c,subs:u});const g=new Proxy({},{get:(m,w,A)=>{if(typeof w=="symbol"||vv.indexOf(w)>=0)return Reflect.get(m,w,A);try{return this.getEvent(w)}catch(I){if(!ys(I,"INVALID_ARGUMENT")||I.argument!=="key")throw I}},has:(m,w)=>vv.indexOf(w)>=0?Reflect.has(m,w):Reflect.has(m,w)||this.interface.hasEvent(String(w))});return It(this,{filters:g}),It(this,{fallback:s.receive||s.fallback?lRe(this):null}),new Proxy(this,{get:(m,w,A)=>{if(typeof w=="symbol"||w in m||vv.indexOf(w)>=0)return Reflect.get(m,w,A);try{return m.getFunction(w)}catch(I){if(!ys(I,"INVALID_ARGUMENT")||I.argument!=="key")throw I}},has:(m,w)=>typeof w=="symbol"||w in m||vv.indexOf(w)>=0?Reflect.has(m,w):m.interface.hasFunction(w)})}connect(e){return new Xm(this.target,this.interface,e)}attach(e){return new Xm(e,this.interface,this.runner)}async getAddress(){return await Fo(this).addrPromise}async getDeployedCode(){const e=ch(this.runner);ze(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ch(this.runner);return ze(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return Fo(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),cRe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),uRe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=Fo(this),o=i||await s,{fragment:a,topics:c}=await z3(this,e),u={address:o,topics:c,fromBlock:n,toBlock:r},g=ch(this.runner);return ze(g,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await g.getLogs(u)).map(m=>{let w=a;if(w==null)try{w=this.interface.getEvent(m.topics[0])}catch{}if(w)try{return new V3(m,this.interface,w)}catch(A){return new hX(m,A)}return new By(m,g)})}async on(e,n){const r=await q7(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await q7(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await DN(this,e,n,null)}async listenerCount(e){if(e){const i=await Mm(this,e);return i?i.listeners.length:0}const{subs:n}=Fo(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Mm(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=Fo(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await Mm(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Fo(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Mm(this,e);if(!n)return this;n.stop(),Fo(this).subs.delete(n.tag)}else{const{subs:n}=Fo(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Xm{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}}function pRe(){return Xm}class wp extends pRe(){}function EC(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ye(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class gRe{name;constructor(e){It(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const xX=new RegExp("^(ipfs)://(.*)$","i"),W7=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),xX,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class xp{provider;address;name;#e;#t;constructor(e,n,r){It(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new wp(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(ys(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const r=this.#t.interface;n.unshift(kN(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),ze(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[NOe(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await this.#t[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!ys(s,"CALL_EXCEPTION"))throw s}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await this.#n("addr(bytes32)");return s==null||s===Q0?null:s}catch(s){if(ys(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await this.#n("addr(bytes32,uint)",[s]);if(yr(o,20))return zn(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof gRe&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;ze(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${xIe("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;ze(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<W7.length;r++){const i=n.match(W7[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=EC(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const u=c[1],g=new wp(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const _=await g.ownerOf(u);if(a!==_)return e.push({type:"!owner",value:_}),{url:null,linkage:e};e.push({type:"owner",value:_})}else if(s==="erc1155"){const _=await g.balanceOf(a,u);if(!_)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:_.toString()})}let m=await g[o](u);if(m==null||m==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:m}),s==="erc1155"&&(m=m.replace("{id}",tf(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:m})),m.match(/^ipfs:/i)&&(m=EC(m)),e.push({type:"metadata-url",value:m});let w={};const A=await new Mc(m).send();A.assertOk();try{w=A.bodyJson}catch{try{e.push({type:"!metadata",value:A.bodyText})}catch{const R=A.body;return R&&e.push({type:"!metadata",value:it(R)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!w)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(w)});let I=w.image;if(typeof I!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!I.match(/^(https:\/\/|data:)/i)){if(I.match(xX)==null)return e.push({type:"!imageUrl-ipfs",value:I}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:I}),I=EC(I)}return e.push({type:"url",value:I}),{linkage:e,url:I}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return ze(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){const r=await xp.getEnsAddress(e);try{const s=await new wp(r,["function resolver(bytes32) view returns (address)"],e).resolver(kN(n),{enableCcipRead:!0});return s===Q0?null:s}catch(i){throw i}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await xp.#r(e,r);if(i!=null){const s=new xp(e,i,n);return r!==n&&!await s.supportsWildcard()?null:s}r=r.split(".").slice(1).join(".")}}}const K7=BigInt(0);function bn(t,e){return(function(n){return n==null?e:t(n)})}function ny(t,e){return(n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))})}function Fy(t,e){return(n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";ze(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r})}function mRe(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ye(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function cg(t){return ye(yr(t,!0),"invalid data","value",t),t}function gs(t){return ye(yr(t,32),"invalid hash","value",t),t}const yRe=Fy({address:zn,blockHash:gs,blockNumber:Qt,data:cg,index:Qt,removed:bn(mRe,!1),topics:ny(gs),transactionHash:gs,transactionIndex:Qt},{index:["logIndex"]});function vRe(t){return yRe(t)}const wRe=Fy({hash:bn(gs),parentHash:gs,parentBeaconBlockRoot:bn(gs,null),number:Qt,timestamp:Qt,nonce:bn(cg),difficulty:ft,gasLimit:ft,gasUsed:ft,stateRoot:bn(gs,null),receiptsRoot:bn(gs,null),blobGasUsed:bn(ft,null),excessBlobGas:bn(ft,null),miner:bn(zn),prevRandao:bn(gs,null),extraData:cg,baseFeePerGas:bn(ft)},{prevRandao:["mixHash"]});function xRe(t){const e=wRe(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:bX(n)),e}const bRe=Fy({transactionIndex:Qt,blockNumber:Qt,transactionHash:gs,address:zn,topics:ny(gs),data:cg,index:Qt,blockHash:gs},{index:["logIndex"]});function ARe(t){return bRe(t)}const ERe=Fy({to:bn(zn,null),from:bn(zn,null),contractAddress:bn(zn,null),index:Qt,root:bn(it),gasUsed:ft,blobGasUsed:bn(ft,null),logsBloom:bn(cg),blockHash:gs,hash:gs,logs:ny(ARe),blockNumber:Qt,cumulativeGasUsed:ft,effectiveGasPrice:bn(ft),blobGasPrice:bn(ft,null),status:bn(Qt),type:bn(Qt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function SRe(t){return ERe(t)}function bX(t){t.to&&ft(t.to)===K7&&(t.to="0x0000000000000000000000000000000000000000");const e=Fy({hash:gs,index:bn(Qt,void 0),type:n=>n==="0x"||n==null?0:Qt(n),accessList:bn(Xh,null),blobVersionedHashes:bn(ny(gs,!0),null),authorizationList:bn(ny(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:zn(n.address),chainId:ft(n.chainId),nonce:ft(n.nonce),signature:ei.from(r)}},!1),null),blockHash:bn(gs,null),blockNumber:bn(Qt,null),transactionIndex:bn(Qt,null),from:zn,gasPrice:bn(ft),maxPriorityFeePerGas:bn(ft),maxFeePerGas:bn(ft),maxFeePerBlobGas:bn(ft,null),gasLimit:ft,to:bn(zn,null),value:ft,nonce:Qt,data:cg,creates:bn(zn,null),chainId:bn(ft,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=hNe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=ei.from(t.signature):e.signature=ei.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&ft(e.blockHash)===K7&&(e.blockHash=null),e}const _Re="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Vy{name;constructor(e){It(this,{name:e})}clone(){return new Vy(this.name)}}class fA extends Vy{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(s,o){let a=(n||{})[s];a==null&&(a=o),ye(typeof a=="number",`invalud value for ${s}`,"costs",n),r[s]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),It(this,r)}clone(){return new fA(this.effectiveBlock,this)}}class hA extends Vy{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),It(this,{address:e||_Re,targetNetwork:n??1})}clone(){return new hA(this.address,this.targetNetwork)}}class TRe extends Vy{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const SC=new Map;class $o{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=ft(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=ft(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ft(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ft(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ft(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new $o(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new fA;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Xh(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(CRe(),e==null)return $o.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=SC.get(e);if(n)return n();if(typeof e=="bigint")return new $o("unknown",e);ye(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ye(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new $o(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new hA(e.ensAddress,e.ensNetwork)),n}ye(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=SC.get(e);r&&ye(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),SC.set(e,n)}}function Y7(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function Q7(t){return new TRe(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Y7(a.maxFee,9),maxPriorityFeePerGas:Y7(a.maxPriorityFee,9)}}catch(s){ze(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let X7=!1;function CRe(){if(X7)return;X7=!0;function t(e,n,r){const i=function(){const s=new $o(e,n);return r.ensNetwork!=null&&s.attachPlugin(new hA(null,r.ensNetwork)),s.attachPlugin(new fA),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};$o.register(e,i),$o.register(n,i),r.altNames&&r.altNames.forEach(s=>{$o.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Q7("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Q7("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function LN(t){return JSON.parse(JSON.stringify(t))}class IRe{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class H3{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class PRe extends H3{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}}class NRe extends H3{#e;constructor(e,n){super(e),this.#e=LN(n)}async _poll(e,n){throw new Error("@TODO")}}class ORe extends H3{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}}class $3{#e;#t;#n;#r;#i;constructor(e,n){this.#e=e,this.#t=LN(n),this.#n=this.#o.bind(this),this.#r=!1,this.#i=-2}async#o(e){if(this.#i===-2)return;const n=LN(this.#t);n.fromBlock=this.#i+1,n.toBlock=e;const r=await this.#e.getLogs(n);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const RRe=BigInt(2),kRe=10;function wv(t){return t&&typeof t.then=="function"}function zv(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class AX{name;constructor(e){It(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function MRe(t){return JSON.parse(JSON.stringify(t))}function BN(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function _C(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(yr(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:zv("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:zv("orphan",n),filter:MRe(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?BN(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{yr(a)?i.push(a):s.push((async()=>{i.push(await to(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=BN(i.map(a=>a.toLowerCase()))}return{filter:r,tag:zv("event",r),type:"event"}}ye(!1,"unknown ProviderEvent","event",t)}function TC(){return new Date().getTime()}const DRe={cacheTimeout:250,pollingInterval:4e3};class LRe{#e;#t;#n;#r;#i;#o;#s;#a;#f;#c;#p;#g;constructor(e,n){if(this.#g=Object.assign({},DRe,n||{}),e==="any")this.#o=!0,this.#i=null;else if(e){const r=$o.from(e);this.#o=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#o=!1,this.#i=null;this.#a=-1,this.#s=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#f=1,this.#c=new Map,this.#p=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}async#l(e){const n=this.#g.cacheTimeout;if(n<0)return await this._perform(e);const r=zv(e.method,e);let i=this.#s.get(r);return i||(i=this._perform(e),this.#s.set(r,i),setTimeout(()=>{this.#s.get(r)===i&&this.#s.delete(r)},n)),await i}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],u=c.replace("{sender}",i).replace("{data}",s),g=new Mc(u);c.indexOf("{data}")===-1&&(g.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:g,index:a,urls:r});let m="unknown error",w;try{w=await g.send()}catch(A){o.push(A.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:{error:A}});continue}try{const A=w.bodyJson;if(A.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:g,result:A}),A.data;A.message&&(m=A.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:A})}catch{}ze(w.statusCode<400||w.statusCode>=500,`response not found during CCIP fetch: ${m}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:m}}),o.push(m)}ze(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new tRe(xRe(e),this)}_wrapLog(e,n){return new By(vRe(e),this)}_wrapTransactionReceipt(e,n){return new cX(SRe(e),this)}_wrapTransactionResponse(e,n){return new jy(bX(e),this)}_detectNetwork(){ze(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ze(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Qt(await this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return to(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(yr(e))return yr(e,32)?e:Fa(e);if(typeof e=="bigint"&&(e=Qt(e,"blockTag")),typeof e=="number")return e>=0?Fa(e):this.#a>=0?Fa(this.#a+e):this.getBlockNumber().then(n=>Fa(n+e));ye(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?BN(c.map(u=>u.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(c,u,g)=>{let m;switch(c.length){case 0:break;case 1:m=c[0];break;default:c.sort(),m=c}if(r&&(u!=null||g!=null))throw new Error("invalid filter");const w={};return m&&(w.address=m),n.length&&(w.topics=n),u&&(w.fromBlock=u),g&&(w.toBlock=g),r&&(w.blockHash=r),w};let s=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(c=>i(c[0],c[1],c[2])):i(s,o,a)}_getTransactionRequest(e){const n=Ix(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=to(n[i],this);wv(s)?r.push((async function(){n[i]=await s})()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);wv(i)?r.push((async function(){n.blockTag=await i})()):n.blockTag=i}return r.length?(async function(){return await Promise.all(r),n})():n}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw this.#i===i&&(this.#i=null),s}})();return this.#i=i,(await i).clone()}const e=this.#i,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#o?(this.emit("network",r,n),this.#i===e&&(this.#i=Promise.resolve(r))):ze(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await Ys({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const g=await this.#l({method:"getGasPrice"});return ft(g,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const g=await this.#l({method:"getPriorityFee"});return ft(g,"%response")}catch{}return null})()});let a=null,c=null;const u=this._wrapBlock(i,e);return u&&u.baseFeePerGas&&(c=o??BigInt("1000000000"),a=u.baseFeePerGas*RRe+c),new $7(s,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new Mc(r.url),s=await r.processFunc(n,this,i);return new $7(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return wv(n)&&(n=await n),ft(await this.#l({method:"estimateGas",transaction:n}),"%response")}async#u(e,n,r){ze(r<kRe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=Ix(e);try{return it(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&_3(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&Zr(s.data,0,4)==="0x556f1830"){const o=s.data,a=await to(i.to,this);let c;try{c=URe(Zr(s.data,4))}catch(m){ze(!1,m.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}ze(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(i,c.calldata,c.urls);ze(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:c.errorArgs}});const g={to:a,data:ri([c.selector,VRe([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:g});try{const m=await this.#u(g,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},g),result:m}),m}catch(m){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},g),error:m}),m}}throw s}}async#h(e){const{value:n}=await Ys({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:r}=await Ys({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#h(this.#u(n,r,e.enableCcipRead?0:-1))}async#d(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await this.#h(this.#l(Object.assign(e,{address:i,blockTag:s})))}async getBalance(e,n){return ft(await this.#d({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Qt(await this.#d({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return it(await this.#d({method:"getCode"},e,n))}async getStorage(e,n,r){const i=ft(n,"position");return it(await this.#d({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Ys({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=La.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async#y(e,n){if(yr(e,32))return await this.#l({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#l({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){const{network:r,params:i}=await Ys({network:this.getNetwork(),params:this.#y(e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Ys({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Ys({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await this.#l({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Ys({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:e})});return n==null?null:it(n)}async getLogs(e){let n=this._getFilter(e);wv(n)&&(n=await n);const{network:r,params:i}=await Ys({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){ze(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await xp.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=zn(e);const n=kN(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await xp.getEnsAddress(this),s=await new wp(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===Q0)return null;const a=await new wp(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(ys(r,"BAD_DATA")&&r.value==="0x"||ys(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const c=(async u=>{try{const g=await this.getTransactionReceipt(e);if(g!=null&&u-g.blockNumber+1>=i){s(g),a&&(clearTimeout(a),a=null);return}}catch(g){console.log("EEE",g)}this.once("block",c)});r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Dr("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){ze(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#c.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#c.delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=this.#f++,i=()=>{this.#c.delete(r),e()};if(this.paused)this.#c.set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);this.#c.set(r,{timer:s,func:i,time:TC()})}return r}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new AX(e.type);case"block":{const n=new IRe(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new PRe(this,e.type);case"event":return new $3(this,e.filter);case"transaction":return new ORe(this,e.hash);case"orphan":return new NRe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#m(e,n){let r=await _C(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await _C({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#v(e){const n=await _C(e,this),r=n.tag;let i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i}async on(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){const r=await this.#m(e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new VY(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await this.#m(e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){const r=await this.#m(e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await this.#m(e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await this.#v(e);r&&i.stop(),this.#e.delete(n)}else for(const[n,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#c.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;ze(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#c.values())n.timer&&clearTimeout(n.timer),n.time=TC()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#c.values()){let n=e.time;n<0&&(n=0),e.time=TC(),setTimeout(e.func,n)}}}}function BRe(t,e){try{const n=jN(t,e);if(n)return bx(n)}catch{}return null}function jN(t,e){if(t==="0x")return null;try{const n=Qt(Zr(t,e,e+32)),r=Qt(Zr(t,n,n+32));return Zr(t,n+32,n+32+r)}catch{}return null}function Z7(t){const e=Vi(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function jRe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const FRe=new Uint8Array([]);function VRe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(FRe),n+=32;for(let r=0;r<t.length;r++){const i=rn(t[r]);e[r]=Z7(n),e.push(Z7(i.length)),e.push(jRe(i)),n+=32+Math.ceil(i.length/32)*32}return ri(e)}const J7="0x0000000000000000000000000000000000000000000000000000000000000000";function URe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ze(gp(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Zr(t,0,32);ze(Zr(n,0,12)===Zr(J7,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Zr(n,12);try{const r=[],i=Qt(Zr(t,32,64)),s=Qt(Zr(t,i,i+32)),o=Zr(t,i+32);for(let a=0;a<s;a++){const c=BRe(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{ze(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=jN(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{ze(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ze(Zr(t,100,128)===Zr(J7,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Zr(t,96,100);try{const r=jN(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{ze(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Vf(t,e){if(t.provider)return t.provider;ze(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function eV(t,e){let n=Ix(e);if(n.to!=null&&(n.to=to(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),to(r,t)]).then(([i,s])=>(ye(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await Ys(n)}class zRe{provider;constructor(e){It(this,{provider:e||null})}async getNonce(e){return Vf(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await eV(this,e)}async populateTransaction(e){const n=Vf(this,"populateTransaction"),r=await eV(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=ft(r.chainId);ye(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?ye(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&ye(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();ze(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(ze(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):ze(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Ys(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Vf(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Vf(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Vf(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Vf(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Vf(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=La.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){ze(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function HRe(t){return JSON.parse(JSON.stringify(t))}class EX{#e;#t;#n;#r;#i;#o;constructor(e){this.#e=e,this.#t=null,this.#n=this.#s.bind(this),this.#r=!1,this.#i=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#s(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(s){if(!ys(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#o)return;const i=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,i)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#s(-2))}stop(){this.#r&&(this.#r=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class $Re extends EX{#e;constructor(e,n){super(e),this.#e=HRe(n)}_recover(e){return new $3(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const r of n)e.emit(this.#e,e._wrapLog(r,e._network))}}class GRe extends EX{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const qRe="bigint,boolean,function,number,string,symbol".split(/,/g);function Hv(t){if(t==null||qRe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Hv);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function WRe(t){return new Promise(e=>{setTimeout(e,t)})}function Md(t){return t&&t.toLowerCase()}function tV(t){return t&&typeof t.pollingInterval=="number"}const SX={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class CC extends zRe{address;constructor(e,n){super(e),n=zn(n),It(this,{address:n})}connect(e){ze(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=Hv(e),r=[];if(n.from){const s=n.from;r.push((async()=>{const o=await to(s,this.provider);ye(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const s=n.to;r.push((async()=>{n.to=await to(s,this.provider)})())}r.length&&await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,s)=>{const o=[1e3,100];let a=0;const c=async()=>{try{const u=await this.provider.getTransaction(r);if(u!=null){i(u.replaceableTransaction(n));return}}catch(u){if(ys(u,"CANCELLED")||ys(u,"BAD_DATA")||ys(u,"NETWORK_ERROR")||ys(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=r,s(u);return}if(ys(u,"INVALID_ARGUMENT")&&(a++,u.info==null&&(u.info={}),u.info.sendTransactionHash=r,a>10)){s(u);return}this.provider.emit("error",Dr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},o.pop()||4e3)};c()})}async signTransaction(e){const n=Hv(e);if(n.from){const i=await to(n.from,this.provider);ye(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?bc(e):e;return await this.provider.send("personal_sign",[it(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=Hv(r),s=await jo.resolveNames(e,n,i,async o=>{const a=await to(o);return ye(a!=null,"TypedData does not support null address","value",o),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(jo.getPayload(s.domain,n,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?bc(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),it(n)])}}class KRe extends LRe{#e;#t;#n;#r;#i;#o;#s;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const n=this.#n;for(this.#n=[];n.length;){const r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(s=>s.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{const i=r.length===1?r[0].payload:r.map(s=>s.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const s=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:s});for(const{resolve:o,reject:a,payload:c}of r){if(this.destroyed){a(Dr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=s.filter(g=>g.id===c.id)[0];if(u==null){const g=Dr("missing response for request","BAD_DATA",{value:s,info:{payload:c}});this.emit("error",g),a(g);continue}if("error"in u){a(this.getRpcError(c,u));continue}o(u.result)}}catch(s){this.emit("debug",{action:"receiveRpcError",error:s});for(const{reject:o}of r)o(s)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},SX,n||{}),this.#n=[],this.#r=null,this.#o=null,this.#s=null;{let i=null;const s=new Promise(o=>{i=o});this.#i={promise:s,resolve:i}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(ye(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#o=$o.from(e))):r&&(ye(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#o=r)}_getOption(e){return this.#e[e]}get _network(){return ze(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&ft(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#s?await this.#s:this.ready?(this.#s=(async()=>{try{const n=$o.from(ft(await this.send("eth_chainId",[])));return this.#s=null,n}catch(n){throw this.#s=null,n}})(),await this.#s):(this.#s=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#s=null}catch(i){throw this.#s=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return $o.from(ft(r.result));throw this.getRpcError(n,r)})(),await this.#s)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Dr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await WRe(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new GRe(this):e.type==="event"?this._getOption("polling")?new $3(this,e.filter):new $Re(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new AX("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),n[i]=Fa(ft(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=it(e[r]))}),e.accessList&&(n.accessList=Xh(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const i=PQ(r);return{address:i.address,nonce:Fa(i.nonce),chainId:Fa(i.chainId),yParity:Fa(i.signature.yParity),r:Fa(i.signature.r),s:Fa(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Md(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Md(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Md(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Md(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Md):e.filter.address=Md(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Dr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Dr("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=FN(i),c=lg.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:i,payload:e},c}const s=JSON.stringify(QRe(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Dr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return Dr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(s.match(/nonce/i)&&s.match(/too low/i))return Dr("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return Dr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(s.match(/only replay-protected/i))return Dr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:i}}})}let o=!!s.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?Dr("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Dr("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Dr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,i=new Promise((s,o)=>{this.#n.push({resolve:s,reject:o,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new CC(this,i[e])}const{accounts:r}=await Ys({network:this.getNetwork(),accounts:n});e=zn(e);for(const i of r)if(zn(i)===e)return new CC(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new CC(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:n}of this.#n)n(Dr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class YRe extends KRe{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=SX.pollingInterval),this.#e=r}_getSubscriber(e){const n=super._getSubscriber(e);return tV(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{tV(n)&&(n.pollingInterval=this.#e)})}}function FN(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&yr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=FN(t[e]);if(n)return n}return null}if(typeof t=="string")try{return FN(JSON.parse(t))}catch{}return null}function VN(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)VN(t[n],e);if(typeof t=="string")try{return VN(JSON.parse(t),e)}catch{}}}function QRe(t){const e=[];return VN(t,e),e}class Xf extends YRe{#e;#t;constructor(e,n,r){const i=Object.assign({},r??{},{batchMaxCount:1});ye(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(s,o)=>{const a={method:s,params:o};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const c=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){ye(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Xf(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new Xf(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((s,o)=>{let a=[];const c=m=>{a.push(m.detail),r&&u()},u=()=>{if(clearTimeout(g),a.length)if(e&&e.filter){const m=e.filter(a.map(w=>Object.assign({},w.info)));if(m==null)s(null);else if(m instanceof Xf)s(m);else{let w=null;if(m.uuid&&(w=a.filter(I=>m.uuid===I.info.uuid)[0]),w){const{provider:A,info:I}=w;s(new Xf(A,void 0,{providerInfo:I}))}else o(Dr("filter returned unknown info","UNSUPPORTED_OPERATION",{value:m}))}}else{const{provider:m,info:w}=a[0];s(new Xf(m,void 0,{providerInfo:w}))}else s(null);n.removeEventListener("eip6963:announceProvider",c)},g=setTimeout(()=>{u()},i);n.addEventListener("eip6963:announceProvider",c),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}const XRe=["function registerProduct(string memory _id, string memory _name, uint256 _quantity, uint256 _basePrice, string memory _harvestDate, string memory _quality, string memory _location) public","function updateAsDistributor(string memory _productId, uint256 _handlingCost, string memory _transportDetails) public","function updateAsRetailer(string memory _productId, uint256 _retailMargin, string memory _storeDetails) public","function getProduct(string memory _productId) public view returns (tuple(string id, string name, uint256 quantity, uint256 basePrice, uint256 currentPrice, string harvestDate, string quality, string status, address farmer, address distributor, address retailer, string location, uint256 timestamp, bool exists))","function getProductHistory(string memory _productId) public view returns (tuple(string productId, address actor, string action, uint256 newPrice, string details, uint256 timestamp, uint256 blockNumber)[])","function verifyProduct(string memory _productId) public view returns (bool verified, uint256 totalSteps, address[] memory actors, string[] memory actions, uint256[] memory timestamps)","function getAllProductIds() public view returns (string[] memory)","function getContractStats() public view returns (uint256 _totalProducts, uint256 _totalTransactions, uint256 _totalValue, uint256 _activeProducts)","event ProductRegistered(string indexed productId, address indexed farmer, string name, uint256 quantity, uint256 basePrice, string quality, string location)","event ProductUpdated(string indexed productId, address indexed actor, string action, uint256 newPrice, string status)","event SupplyChainStep(string indexed productId, address indexed from, address indexed to, string step, uint256 timestamp)"],ZRe=import.meta?.env?.VITE_AGRICHAIN_CONTRACT_ADDRESS,nV=import.meta?.env?.VITE_CHAIN_ID,rV=import.meta?.env?.VITE_NETWORK_NAME,iV=import.meta?.env?.VITE_INR_DECIMALS,JRe=import.meta?.env?.VITE_PRICE_UNIT?.toUpperCase(),e3e=import.meta?.env?.VITE_ETH_TO_INR_RATE,sV=ZRe||"0x0165878A594ca255338adfa4d48449f69242Eb8F",xv=(()=>{if(!nV)return 31337n;try{const t=nV.toString().trim().toLowerCase();return t.startsWith("0x")?BigInt(t):BigInt(parseInt(t,10))}catch{return 31337n}})(),$v=(()=>{if(!iV)return 18;const e=Number(iV);return!Number.isFinite(e)||e<0||e>36?18:Math.floor(e)})(),t3e=JRe==="ETH_WEI"?"ETH_WEI":"INR_UNITS",n3e=(()=>{const e=Number(e3e);return Number.isFinite(e)&&e>0?e:28e4})();if(import.meta?.env?.DEV){const t=console.warn;console.warn=(...e)=>{const n=e.join(" ");n.includes("ObjectMultiplex")||n.includes("StreamMiddleware")||n.includes("malformed chunk")||t.apply(console,e)}}class r3e{provider=null;contract=null;signer=null;isConnecting=!1;resolvedAddress=null;async verifyContractDeployed(e,n){try{const r=await e.getCode(n);if(!r||r==="0x")throw new Error(`No contract code at ${n}. Is AgriChain deployed on this network?`)}catch(r){throw r}}async requestNetworkSwitch(e){try{const n=`0x${xv.toString(16)}`;await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch(n){if(n?.code===4902)try{const r=rV||"AgroChain Local";await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${xv.toString(16)}`,chainName:r,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["http://localhost:8545","http://127.0.0.1:8545"],blockExplorerUrls:[]}]})}catch(r){throw r}else throw n}}async connect(){if(this.isConnecting)return console.log("Connection already in progress..."),!1;this.isConnecting=!0;try{if(typeof window.ethereum<"u"){if(this.isConnected())return console.log("Already connected to blockchain"),this.isConnecting=!1,!0;const e=await Promise.race([window.ethereum.request({method:"eth_requestAccounts"}),new Promise((o,a)=>setTimeout(()=>a(new Error("Connection timeout")),1e4))]);if(!e||e.length===0)throw new Error("No accounts found");this.provider=new Xf(window.ethereum),this.signer=await this.provider.getSigner();const n=await this.provider.getNetwork();if(!new Set([xv??31337n,31337n,1337n]).has(n.chainId))try{await this.requestNetworkSwitch(n.chainId)}catch{const a=rV||"AgroChain Local",c=xv??31337n;throw new Error(`Please connect to ${a} (Chain ID: ${c.toString()})`)}const i=[sV,"0x5FbDB2315678afecb367f032d93F642f64180aa3","0x0165878A594ca255338adfa4d48449f69242Eb8F"];let s=null;for(const o of i)try{await this.verifyContractDeployed(this.provider,o),s=o;break}catch{}if(!s)throw new Error("AgriChain contract not found at known addresses. Please deploy and set VITE_AGRICHAIN_CONTRACT_ADDRESS");return this.resolvedAddress=s,this.contract=new wp(s,XRe,this.signer),console.log("Connected to blockchain successfully"),this.isConnecting=!1,!0}else return console.warn("MetaMask not detected"),alert("Please install MetaMask or another Web3 wallet!"),this.isConnecting=!1,!1}catch(e){return console.error("Failed to connect to blockchain:",e?.message||e),this.isConnecting=!1,e.message.includes("User rejected")?alert("Connection cancelled by user"):e.message.includes("network")?alert("Please switch to AgroChain Local network in MetaMask"):e.message.includes("No contract code")?alert(`AgriChain contract not found at ${sV}. Please (re)deploy and update VITE_AGRICHAIN_CONTRACT_ADDRESS.`):e.message.includes("timeout")?alert("Connection timed out. Please try again."):alert(`Connection failed: ${e.message}`),!1}}isConnected(){return this.provider!==null&&this.contract!==null}getContractAddress(){return this.resolvedAddress}async getAddress(){if(!this.signer)throw new Error("Wallet not connected");return await this.signer.getAddress()}async registerProduct(e,n,r,i,s,o,a){if(!this.contract)throw new Error("Contract not initialized");try{const c=fC(i.toString(),$v),u=e.trim().toUpperCase(),g=await this.contract.registerProduct(u,n,r,c,s,o,a);return await g.wait(),console.log("Product registered successfully:",g.hash),g.hash}catch(c){throw console.error("Failed to register product:",c),c}}async updateAsDistributor(e,n,r){if(!this.contract)throw new Error("Contract not initialized");try{const i=fC(n.toString(),$v),s=e.trim().toUpperCase(),o=await this.contract.updateAsDistributor(s,i,r);return await o.wait(),console.log("Product updated by distributor:",o.hash),o.hash}catch(i){throw console.error("Failed to update as distributor:",i),i}}async updateAsRetailer(e,n,r){if(!this.contract)throw new Error("Contract not initialized");try{const i=fC(n.toString(),$v),s=e.trim().toUpperCase(),o=await this.contract.updateAsRetailer(s,i,r);return await o.wait(),console.log("Product updated by retailer:",o.hash),o.hash}catch(i){throw console.error("Failed to update as retailer:",i),i}}async getProduct(e){if(!this.contract)throw new Error("Contract not initialized");try{const n=e.trim().toUpperCase(),r=await this.contract.getProduct(n);return{id:r[0],name:r[1],quantity:r[2],basePrice:r[3],currentPrice:r[4],harvestDate:r[5],quality:r[6],status:r[7],farmer:r[8],distributor:r[9],retailer:r[10],location:r[11],timestamp:r[12],exists:r[13]}}catch(n){return console.error("Failed to get product:",n),null}}async getProductHistory(e){if(!this.contract)throw new Error("Contract not initialized");try{const n=e.trim().toUpperCase();return(await this.contract.getProductHistory(n)).map(i=>({productId:i[0],actor:i[1],action:i[2],newPrice:i[3],details:i[4],timestamp:i[5],blockNumber:i[6]}))}catch(n){return console.error("Failed to get product history:",n),[]}}async verifyProduct(e){if(!this.contract)throw new Error("Contract not initialized");try{const n=e.trim().toUpperCase(),r=await this.contract.verifyProduct(n);return{verified:r[0],totalSteps:Number(r[1]),actors:r[2],actions:r[3],timestamps:r[4]}}catch(n){return console.error("Failed to verify product:",n),{verified:!1,totalSteps:0,actors:[],actions:[],timestamps:[]}}}async getAllProductIds(){if(!this.contract)throw new Error("Contract not initialized");try{return await this.contract.getAllProductIds()}catch(e){return console.error("Failed to get all product IDs:",e),[]}}async getContractStats(){if(!this.contract)throw new Error("Contract not initialized");try{const e=await this.contract.getContractStats();return{totalProducts:Number(e[0]),totalTransactions:Number(e[1]),totalValue:e[2],activeProducts:Number(e[3])}}catch(e){return console.error("Failed to get contract stats:",e),{totalProducts:0,totalTransactions:0,totalValue:BigInt(0),activeProducts:0}}}onProductRegistered(e){this.contract&&this.contract.on("ProductRegistered",e)}onProductUpdated(e){this.contract&&this.contract.on("ProductUpdated",e)}onSupplyChainStep(e){this.contract&&this.contract.on("SupplyChainStep",e)}}const Bs=new r3e,oV=t=>{let e;return t3e==="ETH_WEI"?e=Number(JF(t,18))*n3e:e=Number(JF(t,$v)),e.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})},i3e=()=>`AGRI-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`;var Dd={},IC,aV;function s3e(){return aV||(aV=1,IC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),IC}var PC={},bu={},lV;function Jh(){if(lV)return bu;lV=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return bu.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},bu.getSymbolTotalCodewords=function(r){return e[r]},bu.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},bu.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},bu.isKanjiModeEnabled=function(){return typeof t<"u"},bu.toSJIS=function(r){return t(r)},bu}var NC={},cV;function G3(){return cV||(cV=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(NC)),NC}var OC,uV;function o3e(){if(uV)return OC;uV=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},OC=t,OC}var RC,fV;function a3e(){if(fV)return RC;fV=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},RC=t,RC}var kC={},hV;function l3e(){return hV||(hV=1,(function(t){const e=Jh().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(kC)),kC}var MC={},dV;function c3e(){if(dV)return MC;dV=1;const t=Jh().getSymbolSize,e=7;return MC.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},MC}var DC={},pV;function u3e(){return pV||(pV=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,u=null,g=null;for(let m=0;m<s;m++){a=c=0,u=g=null;for(let w=0;w<s;w++){let A=i.get(m,w);A===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=A,a=1),A=i.get(w,m),A===g?c++:(c>=5&&(o+=e.N1+(c-5)),g=A,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const u=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let u=0;u<s;u++){a=c=0;for(let g=0;g<s;g++)a=a<<1&2047|i.get(u,g),g>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(g,u),g>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){s(u),t.applyMask(u,i);const g=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),g<c&&(c=g,a=u)}return a}})(DC)),DC}var bv={},gV;function _X(){if(gV)return bv;gV=1;const t=G3(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return bv.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},bv.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},bv}var LC={},bm={},mV;function f3e(){if(mV)return bm;mV=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),bm.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},bm.exp=function(r){return t[r]},bm.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},bm}var yV;function h3e(){return yV||(yV=1,(function(t){const e=f3e();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(LC)),LC}var BC,vV;function d3e(){if(vV)return BC;vV=1;const t=h3e();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},BC=e,BC}var jC={},FC={},VC={},wV;function TX(){return wV||(wV=1,VC.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),VC}var hl={},xV;function CX(){if(xV)return hl;xV=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;hl.KANJI=new RegExp(n,"g"),hl.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),hl.BYTE=new RegExp(r,"g"),hl.NUMERIC=new RegExp(t,"g"),hl.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return hl.testKanji=function(c){return i.test(c)},hl.testNumeric=function(c){return s.test(c)},hl.testAlphanumeric=function(c){return o.test(c)},hl}var bV;function ed(){return bV||(bV=1,(function(t){const e=TX(),n=CX();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(FC)),FC}var AV;function p3e(){return AV||(AV=1,(function(t){const e=Jh(),n=_X(),r=G3(),i=ed(),s=TX(),o=7973,a=e.getBCHDigit(o);function c(w,A,I){for(let _=1;_<=40;_++)if(A<=t.getCapacity(_,I,w))return _}function u(w,A){return i.getCharCountIndicator(w,A)+4}function g(w,A){let I=0;return w.forEach(function(_){const C=u(_.mode,A);I+=C+_.getBitsLength()}),I}function m(w,A){for(let I=1;I<=40;I++)if(g(w,I)<=t.getCapacity(I,A,i.MIXED))return I}t.from=function(A,I){return s.isValid(A)?parseInt(A,10):I},t.getCapacity=function(A,I,_){if(!s.isValid(A))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=i.BYTE);const C=e.getSymbolTotalCodewords(A),R=n.getTotalCodewordsCount(A,I),j=(C-R)*8;if(_===i.MIXED)return j;const k=j-u(_,A);switch(_){case i.NUMERIC:return Math.floor(k/10*3);case i.ALPHANUMERIC:return Math.floor(k/11*2);case i.KANJI:return Math.floor(k/13);case i.BYTE:default:return Math.floor(k/8)}},t.getBestVersionForData=function(A,I){let _;const C=r.from(I,r.M);if(Array.isArray(A)){if(A.length>1)return m(A,C);if(A.length===0)return 1;_=A[0]}else _=A;return c(_.mode,_.getLength(),C)},t.getEncodedBits=function(A){if(!s.isValid(A)||A<7)throw new Error("Invalid QR Code version");let I=A<<12;for(;e.getBCHDigit(I)-a>=0;)I^=o<<e.getBCHDigit(I)-a;return A<<12|I}})(jC)),jC}var UC={},EV;function g3e(){if(EV)return UC;EV=1;const t=Jh(),e=1335,n=21522,r=t.getBCHDigit(e);return UC.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(a<<10|c)^n},UC}var zC={},HC,SV;function m3e(){if(SV)return HC;SV=1;const t=ed();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},HC=e,HC}var $C,_V;function y3e(){if(_V)return $C;_V=1;const t=ed(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},$C=n,$C}var GC,TV;function v3e(){if(TV)return GC;TV=1;const t=ed();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},GC=e,GC}var qC,CV;function w3e(){if(CV)return qC;CV=1;const t=ed(),e=Jh();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},qC=n,qC}var WC={exports:{}},IV;function x3e(){return IV||(IV=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,u,g,m,w,A,I,_,C;!a.empty();){c=a.pop(),u=c.value,m=c.cost,w=n[u]||{};for(g in w)w.hasOwnProperty(g)&&(A=w[g],I=m+A,_=o[g],C=typeof o[g]>"u",(C||_>I)&&(o[g]=I,a.push(g,I),s[g]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var R=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(R)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(WC)),WC.exports}var PV;function b3e(){return PV||(PV=1,(function(t){const e=ed(),n=m3e(),r=y3e(),i=v3e(),s=w3e(),o=CX(),a=Jh(),c=x3e();function u(R){return unescape(encodeURIComponent(R)).length}function g(R,j,k){const U=[];let D;for(;(D=R.exec(k))!==null;)U.push({data:D[0],index:D.index,mode:j,length:D[0].length});return U}function m(R){const j=g(o.NUMERIC,e.NUMERIC,R),k=g(o.ALPHANUMERIC,e.ALPHANUMERIC,R);let U,D;return a.isKanjiModeEnabled()?(U=g(o.BYTE,e.BYTE,R),D=g(o.KANJI,e.KANJI,R)):(U=g(o.BYTE_KANJI,e.BYTE,R),D=[]),j.concat(k,U,D).sort(function(O,M){return O.index-M.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function w(R,j){switch(j){case e.NUMERIC:return n.getBitsLength(R);case e.ALPHANUMERIC:return r.getBitsLength(R);case e.KANJI:return s.getBitsLength(R);case e.BYTE:return i.getBitsLength(R)}}function A(R){return R.reduce(function(j,k){const U=j.length-1>=0?j[j.length-1]:null;return U&&U.mode===k.mode?(j[j.length-1].data+=k.data,j):(j.push(k),j)},[])}function I(R){const j=[];for(let k=0;k<R.length;k++){const U=R[k];switch(U.mode){case e.NUMERIC:j.push([U,{data:U.data,mode:e.ALPHANUMERIC,length:U.length},{data:U.data,mode:e.BYTE,length:U.length}]);break;case e.ALPHANUMERIC:j.push([U,{data:U.data,mode:e.BYTE,length:U.length}]);break;case e.KANJI:j.push([U,{data:U.data,mode:e.BYTE,length:u(U.data)}]);break;case e.BYTE:j.push([{data:U.data,mode:e.BYTE,length:u(U.data)}])}}return j}function _(R,j){const k={},U={start:{}};let D=["start"];for(let B=0;B<R.length;B++){const O=R[B],M=[];for(let V=0;V<O.length;V++){const K=O[V],W=""+B+V;M.push(W),k[W]={node:K,lastCount:0},U[W]={};for(let G=0;G<D.length;G++){const $=D[G];k[$]&&k[$].node.mode===K.mode?(U[$][W]=w(k[$].lastCount+K.length,K.mode)-w(k[$].lastCount,K.mode),k[$].lastCount+=K.length):(k[$]&&(k[$].lastCount=K.length),U[$][W]=w(K.length,K.mode)+4+e.getCharCountIndicator(K.mode,j))}}D=M}for(let B=0;B<D.length;B++)U[D[B]].end=0;return{map:U,table:k}}function C(R,j){let k;const U=e.getBestModeForData(R);if(k=e.from(j,U),k!==e.BYTE&&k.bit<U.bit)throw new Error('"'+R+'" cannot be encoded with mode '+e.toString(k)+`.
 Suggested mode is: `+e.toString(U));switch(k===e.KANJI&&!a.isKanjiModeEnabled()&&(k=e.BYTE),k){case e.NUMERIC:return new n(R);case e.ALPHANUMERIC:return new r(R);case e.KANJI:return new s(R);case e.BYTE:return new i(R)}}t.fromArray=function(j){return j.reduce(function(k,U){return typeof U=="string"?k.push(C(U,null)):U.data&&k.push(C(U.data,U.mode)),k},[])},t.fromString=function(j,k){const U=m(j,a.isKanjiModeEnabled()),D=I(U),B=_(D,k),O=c.find_path(B.map,"start","end"),M=[];for(let V=1;V<O.length-1;V++)M.push(B.table[O[V]].node);return t.fromArray(A(M))},t.rawSplit=function(j){return t.fromArray(m(j,a.isKanjiModeEnabled()))}})(zC)),zC}var NV;function A3e(){if(NV)return PC;NV=1;const t=Jh(),e=G3(),n=o3e(),r=a3e(),i=l3e(),s=c3e(),o=u3e(),a=_X(),c=d3e(),u=p3e(),g=g3e(),m=ed(),w=b3e();function A(B,O){const M=B.size,V=s.getPositions(O);for(let K=0;K<V.length;K++){const W=V[K][0],G=V[K][1];for(let $=-1;$<=7;$++)if(!(W+$<=-1||M<=W+$))for(let ce=-1;ce<=7;ce++)G+ce<=-1||M<=G+ce||($>=0&&$<=6&&(ce===0||ce===6)||ce>=0&&ce<=6&&($===0||$===6)||$>=2&&$<=4&&ce>=2&&ce<=4?B.set(W+$,G+ce,!0,!0):B.set(W+$,G+ce,!1,!0))}}function I(B){const O=B.size;for(let M=8;M<O-8;M++){const V=M%2===0;B.set(M,6,V,!0),B.set(6,M,V,!0)}}function _(B,O){const M=i.getPositions(O);for(let V=0;V<M.length;V++){const K=M[V][0],W=M[V][1];for(let G=-2;G<=2;G++)for(let $=-2;$<=2;$++)G===-2||G===2||$===-2||$===2||G===0&&$===0?B.set(K+G,W+$,!0,!0):B.set(K+G,W+$,!1,!0)}}function C(B,O){const M=B.size,V=u.getEncodedBits(O);let K,W,G;for(let $=0;$<18;$++)K=Math.floor($/3),W=$%3+M-8-3,G=(V>>$&1)===1,B.set(K,W,G,!0),B.set(W,K,G,!0)}function R(B,O,M){const V=B.size,K=g.getEncodedBits(O,M);let W,G;for(W=0;W<15;W++)G=(K>>W&1)===1,W<6?B.set(W,8,G,!0):W<8?B.set(W+1,8,G,!0):B.set(V-15+W,8,G,!0),W<8?B.set(8,V-W-1,G,!0):W<9?B.set(8,15-W-1+1,G,!0):B.set(8,15-W-1,G,!0);B.set(V-8,8,1,!0)}function j(B,O){const M=B.size;let V=-1,K=M-1,W=7,G=0;for(let $=M-1;$>0;$-=2)for($===6&&$--;;){for(let ce=0;ce<2;ce++)if(!B.isReserved(K,$-ce)){let J=!1;G<O.length&&(J=(O[G]>>>W&1)===1),B.set(K,$-ce,J),W--,W===-1&&(G++,W=7)}if(K+=V,K<0||M<=K){K-=V,V=-V;break}}}function k(B,O,M){const V=new n;M.forEach(function(ce){V.put(ce.mode.bit,4),V.put(ce.getLength(),m.getCharCountIndicator(ce.mode,B)),ce.write(V)});const K=t.getSymbolTotalCodewords(B),W=a.getTotalCodewordsCount(B,O),G=(K-W)*8;for(V.getLengthInBits()+4<=G&&V.put(0,4);V.getLengthInBits()%8!==0;)V.putBit(0);const $=(G-V.getLengthInBits())/8;for(let ce=0;ce<$;ce++)V.put(ce%2?17:236,8);return U(V,B,O)}function U(B,O,M){const V=t.getSymbolTotalCodewords(O),K=a.getTotalCodewordsCount(O,M),W=V-K,G=a.getBlocksCount(O,M),$=V%G,ce=G-$,J=Math.floor(V/G),oe=Math.floor(W/G),ae=oe+1,re=J-oe,pe=new c(re);let we=0;const ue=new Array(G),he=new Array(G);let xe=0;const Re=new Uint8Array(B.buffer);for(let Pe=0;Pe<G;Pe++){const Fe=Pe<ce?oe:ae;ue[Pe]=Re.slice(we,we+Fe),he[Pe]=pe.encode(ue[Pe]),we+=Fe,xe=Math.max(xe,Fe)}const Ue=new Uint8Array(V);let Me=0,ke,De;for(ke=0;ke<xe;ke++)for(De=0;De<G;De++)ke<ue[De].length&&(Ue[Me++]=ue[De][ke]);for(ke=0;ke<re;ke++)for(De=0;De<G;De++)Ue[Me++]=he[De][ke];return Ue}function D(B,O,M,V){let K;if(Array.isArray(B))K=w.fromArray(B);else if(typeof B=="string"){let J=O;if(!J){const oe=w.rawSplit(B);J=u.getBestVersionForData(oe,M)}K=w.fromString(B,J||40)}else throw new Error("Invalid data");const W=u.getBestVersionForData(K,M);if(!W)throw new Error("The amount of data is too big to be stored in a QR Code");if(!O)O=W;else if(O<W)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+W+`.
`);const G=k(O,M,K),$=t.getSymbolSize(O),ce=new r($);return A(ce,O),I(ce),_(ce,O),R(ce,M,0),O>=7&&C(ce,O),j(ce,G),isNaN(V)&&(V=o.getBestMask(ce,R.bind(null,ce,M))),o.applyMask(V,ce),R(ce,M,V),{modules:ce,version:O,errorCorrectionLevel:M,maskPattern:V,segments:K}}return PC.create=function(O,M){if(typeof O>"u"||O==="")throw new Error("No input text");let V=e.M,K,W;return typeof M<"u"&&(V=e.from(M.errorCorrectionLevel,e.M),K=u.from(M.version),W=o.from(M.maskPattern),M.toSJISFunc&&t.setToSJISFunction(M.toSJISFunc)),D(O,K,V,W)},PC}var KC={},YC={},OV;function IX(){return OV||(OV=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),u=Math.floor((o+s.margin*2)*c),g=s.margin*c,m=[s.color.light,s.color.dark];for(let w=0;w<u;w++)for(let A=0;A<u;A++){let I=(w*u+A)*4,_=s.color.light;if(w>=g&&A>=g&&w<u-g&&A<u-g){const C=Math.floor((w-g)/c),R=Math.floor((A-g)/c);_=m[a[C*o+R]?1:0]}r[I++]=_.r,r[I++]=_.g,r[I++]=_.b,r[I]=_.a}}})(YC)),YC}var RV;function E3e(){return RV||(RV=1,(function(t){const e=IX();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=e.getOptions(c);const g=e.getImageWidth(s.modules.size,c),m=u.getContext("2d"),w=m.createImageData(g,g);return e.qrToImageData(w.data,s,c),n(m,u,g),m.putImageData(w,0,0),u},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(s,o,c),g=c.type||"image/png",m=c.rendererOpts||{};return u.toDataURL(g,m.quality)}})(KC)),KC}var QC={},kV;function S3e(){if(kV)return QC;kV=1;const t=IX();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function n(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function r(i,s,o){let a="",c=0,u=!1,g=0;for(let m=0;m<i.length;m++){const w=Math.floor(m%s),A=Math.floor(m/s);!w&&!u&&(u=!0),i[m]?(g++,m>0&&w>0&&i[m-1]||(a+=u?n("M",w+o,.5+A+o):n("m",c,0),c=0,u=!1),w+1<s&&i[m+1]||(a+=n("h",g),g=0)):c++}return a}return QC.render=function(s,o,a){const c=t.getOptions(o),u=s.modules.size,g=s.modules.data,m=u+c.margin*2,w=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",A="<path "+e(c.color.dark,"stroke")+' d="'+r(g,u,c.margin)+'"/>',I='viewBox="0 0 '+m+" "+m+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+I+' shape-rendering="crispEdges">'+w+A+`</svg>
`;return typeof a=="function"&&a(null,C),C},QC}var MV;function _3e(){if(MV)return Dd;MV=1;const t=s3e(),e=A3e(),n=E3e(),r=S3e();function i(s,o,a,c,u){const g=[].slice.call(arguments,1),m=g.length,w=typeof g[m-1]=="function";if(!w&&!t())throw new Error("Callback required as last argument");if(w){if(m<2)throw new Error("Too few arguments provided");m===2?(u=a,a=o,o=c=void 0):m===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=a,a=o,o=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(a=o,o=c=void 0):m===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(A,I){try{const _=e.create(a,c);A(s(_,o,c))}catch(_){I(_)}})}try{const A=e.create(a,c);u(null,s(A,o,c))}catch(A){u(A)}}return Dd.create=e.create,Dd.toCanvas=i.bind(null,n.render),Dd.toDataURL=i.bind(null,n.renderToDataURL),Dd.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),Dd}var T3e=_3e();const DV=Nn(T3e);var lt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(lt||(lt={}));var LV=new Map([[lt.QR_CODE,"QR_CODE"],[lt.AZTEC,"AZTEC"],[lt.CODABAR,"CODABAR"],[lt.CODE_39,"CODE_39"],[lt.CODE_93,"CODE_93"],[lt.CODE_128,"CODE_128"],[lt.DATA_MATRIX,"DATA_MATRIX"],[lt.MAXICODE,"MAXICODE"],[lt.ITF,"ITF"],[lt.EAN_13,"EAN_13"],[lt.EAN_8,"EAN_8"],[lt.PDF_417,"PDF_417"],[lt.RSS_14,"RSS_14"],[lt.RSS_EXPANDED,"RSS_EXPANDED"],[lt.UPC_A,"UPC_A"],[lt.UPC_E,"UPC_E"],[lt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),BV;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(BV||(BV={}));function C3e(t){return Object.values(lt).includes(t)}var rf;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(rf||(rf={}));var ja=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[rf.SCAN_TYPE_CAMERA,rf.SCAN_TYPE_FILE],t})(),PX=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!LV.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,LV.get(e))},t})(),jV=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),UN;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(UN||(UN={}));var NX=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:UN.UNKWOWN_ERROR}},t})(),OX=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function dl(t){return typeof t>"u"||t===null}function I3e(t,e,n){return t>n?n:t<e?e:t}var Qd=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),Kn=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),FV=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),RX=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(e),a=0,c=o;a<c.length;a++){var u=c[a];if(s.has(u))return n.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},t})(),Dm={exports:{}},P3e=Dm.exports,VV;function N3e(){return VV||(VV=1,(function(t,e){(function(n,r){r(e)})(P3e,(function(n){function r(X){return X==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,l){X.__proto__=l}||function(X,l){for(var h in l)l.hasOwnProperty(h)&&(X[h]=l[h])};function s(X,l){i(X,l);function h(){this.constructor=X}X.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}function o(X,l){var h=Object.setPrototypeOf;h?h(X,l):X.__proto__=l}function a(X,l){l===void 0&&(l=X.constructor);var h=Error.captureStackTrace;h&&h(X,l)}var c=(function(X){s(l,X);function l(h){var d=this.constructor,y=X.call(this,h)||this;return Object.defineProperty(y,"name",{value:d.name,enumerable:!1}),o(y,d.prototype),a(y),y}return l})(Error);class u extends c{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}u.kind="Exception";class g extends u{}g.kind="ArgumentException";class m extends u{}m.kind="IllegalArgumentException";class w{constructor(l){if(this.binarizer=l,l===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,h){return this.binarizer.getBlackRow(l,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,h,d,y){const v=this.binarizer.getLuminanceSource().crop(l,h,d,y);return new w(this.binarizer.createBinarizer(v))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends u{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class I{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(l,h,d,y,v){for(;v--;)d[y++]=l[h++]}static currentTimeMillis(){return Date.now()}}class C extends u{}C.kind="IndexOutOfBoundsException";class R extends C{constructor(l=void 0,h=void 0){super(h),this.index=l,this.message=h}}R.kind="ArrayIndexOutOfBoundsException";class j{static fill(l,h){for(let d=0,y=l.length;d<y;d++)l[d]=h}static fillWithin(l,h,d,y){j.rangeCheck(l.length,h,d);for(let v=h;v<d;v++)l[v]=y}static rangeCheck(l,h,d){if(h>d)throw new m("fromIndex("+h+") > toIndex("+d+")");if(h<0)throw new R(h);if(d>l)throw new R(d)}static asList(...l){return l}static create(l,h,d){return Array.from({length:l}).map(v=>Array.from({length:h}).fill(d))}static createInt32Array(l,h,d){return Array.from({length:l}).map(v=>Int32Array.from({length:h}).fill(d))}static equals(l,h){if(!l||!h||!l.length||!h.length||l.length!==h.length)return!1;for(let d=0,y=l.length;d<y;d++)if(l[d]!==h[d])return!1;return!0}static hashCode(l){if(l===null)return 0;let h=1;for(const d of l)h=31*h+d;return h}static fillUint8Array(l,h){for(let d=0;d!==l.length;d++)l[d]=h}static copyOf(l,h){return l.slice(0,h)}static copyOfUint8Array(l,h){if(l.length<=h){const d=new Uint8Array(h);return d.set(l),d}return l.slice(0,h)}static copyOfRange(l,h,d){const y=d-h,v=new Int32Array(y);return _.arraycopy(l,h,v,0,y),v}static binarySearch(l,h,d){d===void 0&&(d=j.numberComparator);let y=0,v=l.length-1;for(;y<=v;){const x=v+y>>1,E=d(h,l[x]);if(E>0)y=x+1;else if(E<0)v=x-1;else return x}return-y-1}static numberComparator(l,h){return l-h}}class k{static numberOfTrailingZeros(l){let h;if(l===0)return 32;let d=31;return h=l<<16,h!==0&&(d-=16,l=h),h=l<<8,h!==0&&(d-=8,l=h),h=l<<4,h!==0&&(d-=4,l=h),h=l<<2,h!==0&&(d-=2,l=h),d-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let h=1;return l>>>16||(h+=16,l<<=16),l>>>24||(h+=8,l<<=8),l>>>28||(h+=4,l<<=4),l>>>30||(h+=2,l<<=2),h-=l>>>31,h}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,h){return Math.trunc(l/h)}static parseInt(l,h=void 0){return parseInt(l,h)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(l,h){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,h==null?this.bits=U.makeArray(l):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const h=U.makeArray(l);_.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const h=this.size;if(l>=h)return h;const d=this.bits;let y=Math.floor(l/32),v=d[y];v&=~((1<<(l&31))-1);const x=d.length;for(;v===0;){if(++y===x)return h;v=d[y]}const E=y*32+k.numberOfTrailingZeros(v);return E>h?h:E}getNextUnset(l){const h=this.size;if(l>=h)return h;const d=this.bits;let y=Math.floor(l/32),v=~d[y];v&=~((1<<(l&31))-1);const x=d.length;for(;v===0;){if(++y===x)return h;v=~d[y]}const E=y*32+k.numberOfTrailingZeros(v);return E>h?h:E}setBulk(l,h){this.bits[Math.floor(l/32)]=h}setRange(l,h){if(h<l||l<0||h>this.size)throw new m;if(h===l)return;h--;const d=Math.floor(l/32),y=Math.floor(h/32),v=this.bits;for(let x=d;x<=y;x++){const E=x>d?0:l&31,L=(2<<(x<y?31:h&31))-(1<<E);v[x]|=L}}clear(){const l=this.bits.length,h=this.bits;for(let d=0;d<l;d++)h[d]=0}isRange(l,h,d){if(h<l||l<0||h>this.size)throw new m;if(h===l)return!0;h--;const y=Math.floor(l/32),v=Math.floor(h/32),x=this.bits;for(let E=y;E<=v;E++){const N=E>y?0:l&31,q=(2<<(E<v?31:h&31))-(1<<N)&4294967295;if((x[E]&q)!==(d?q:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,h){if(h<0||h>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let d=h;d>0;d--)this.appendBit((l>>d-1&1)===1)}appendBitArray(l){const h=l.size;this.ensureCapacity(this.size+h);for(let d=0;d<h;d++)this.appendBit(l.get(d))}xor(l){if(this.size!==l.size)throw new m("Sizes don't match");const h=this.bits;for(let d=0,y=h.length;d<y;d++)h[d]^=l.bits[d]}toBytes(l,h,d,y){for(let v=0;v<y;v++){let x=0;for(let E=0;E<8;E++)this.get(l)&&(x|=1<<7-E),l++;h[d+v]=x}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),d=h+1,y=this.bits;for(let v=0;v<d;v++){let x=y[v];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,l[h-v]=x}if(this.size!==d*32){const v=d*32-this.size;let x=l[0]>>>v;for(let E=1;E<d;E++){const N=l[E];x|=N<<32-v,l[E-1]=x,x=N>>>v}l[d-1]=x}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof U))return!1;const h=l;return this.size===h.size&&j.equals(this.bits,h.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let l="";for(let h=0,d=this.size;h<d;h++)(h&7)===0&&(l+=" "),l+=this.get(h)?"X":".";return l}clone(){return new U(this.size,this.bits.slice())}}var D;(function(X){X[X.OTHER=0]="OTHER",X[X.PURE_BARCODE=1]="PURE_BARCODE",X[X.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",X[X.TRY_HARDER=3]="TRY_HARDER",X[X.CHARACTER_SET=4]="CHARACTER_SET",X[X.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",X[X.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",X[X.ASSUME_GS1=7]="ASSUME_GS1",X[X.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",X[X.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",X[X.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(D||(D={}));var B=D;class O extends u{static getFormatInstance(){return new O}}O.kind="FormatException";var M;(function(X){X[X.Cp437=0]="Cp437",X[X.ISO8859_1=1]="ISO8859_1",X[X.ISO8859_2=2]="ISO8859_2",X[X.ISO8859_3=3]="ISO8859_3",X[X.ISO8859_4=4]="ISO8859_4",X[X.ISO8859_5=5]="ISO8859_5",X[X.ISO8859_6=6]="ISO8859_6",X[X.ISO8859_7=7]="ISO8859_7",X[X.ISO8859_8=8]="ISO8859_8",X[X.ISO8859_9=9]="ISO8859_9",X[X.ISO8859_10=10]="ISO8859_10",X[X.ISO8859_11=11]="ISO8859_11",X[X.ISO8859_13=12]="ISO8859_13",X[X.ISO8859_14=13]="ISO8859_14",X[X.ISO8859_15=14]="ISO8859_15",X[X.ISO8859_16=15]="ISO8859_16",X[X.SJIS=16]="SJIS",X[X.Cp1250=17]="Cp1250",X[X.Cp1251=18]="Cp1251",X[X.Cp1252=19]="Cp1252",X[X.Cp1256=20]="Cp1256",X[X.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",X[X.UTF8=22]="UTF8",X[X.ASCII=23]="ASCII",X[X.Big5=24]="Big5",X[X.GB18030=25]="GB18030",X[X.EUC_KR=26]="EUC_KR"})(M||(M={}));class V{constructor(l,h,d,...y){this.valueIdentifier=l,this.name=d,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=y,V.VALUE_IDENTIFIER_TO_ECI.set(l,this),V.NAME_TO_ECI.set(d,this);const v=this.values;for(let x=0,E=v.length;x!==E;x++){const N=v[x];V.VALUES_TO_ECI.set(N,this)}for(const x of y)V.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new O("incorect value");const h=V.VALUES_TO_ECI.get(l);if(h===void 0)throw new O("incorect value");return h}static getCharacterSetECIByName(l){const h=V.NAME_TO_ECI.get(l);if(h===void 0)throw new O("incorect value");return h}equals(l){if(!(l instanceof V))return!1;const h=l;return this.getName()===h.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(M.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(M.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(M.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(M.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(M.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(M.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(M.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(M.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(M.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(M.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(M.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(M.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(M.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(M.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(M.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(M.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(M.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(M.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(M.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(M.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(M.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(M.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(M.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(M.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(M.Big5,28,"Big5"),V.GB18030=new V(M.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(M.EUC_KR,30,"EUC_KR","EUC-KR");class K extends u{}K.kind="UnsupportedOperationException";class W{static decode(l,h){const d=this.encodingName(h);return this.customDecoder?this.customDecoder(l,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(l,d):new TextDecoder(d).decode(l)}static shouldDecodeOnFallback(l){return!W.isBrowser()&&l==="ISO-8859-1"}static encode(l,h){const d=this.encodingName(h);return this.customEncoder?this.customEncoder(l,d):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof V?l:V.getCharacterSetECIByName(l)}static decodeFallback(l,h){const d=this.encodingCharacterSet(h);if(W.isDecodeFallbackSupported(d)){let y="";for(let v=0,x=l.length;v<x;v++){let E=l[v].toString(16);E.length<2&&(E="0"+E),y+="%"+E}return decodeURIComponent(y)}if(d.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new K(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(V.UTF8)||l.equals(V.ISO8859_1)||l.equals(V.ASCII)}static encodeFallback(l){const d=btoa(unescape(encodeURIComponent(l))).split(""),y=[];for(let v=0;v<d.length;v++)y.push(d[v].charCodeAt(0));return new Uint8Array(y)}}class G{static castAsNonUtf8Char(l,h=null){const d=h?h.getName():this.ISO88591;return W.decode(new Uint8Array([l]),d)}static guessEncoding(l,h){if(h!=null&&h.get(B.CHARACTER_SET)!==void 0)return h.get(B.CHARACTER_SET).toString();const d=l.length;let y=!0,v=!0,x=!0,E=0,N=0,L=0,q=0,Z=0,te=0,le=0,de=0,me=0,be=0,Ie=0;const Ke=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let Ye=0;Ye<d&&(y||v||x);Ye++){const $e=l[Ye]&255;x&&(E>0?($e&128)===0?x=!1:E--:($e&128)!==0&&(($e&64)===0?x=!1:(E++,($e&32)===0?N++:(E++,($e&16)===0?L++:(E++,($e&8)===0?q++:x=!1))))),y&&($e>127&&$e<160?y=!1:$e>159&&($e<192||$e===215||$e===247)&&Ie++),v&&(Z>0?$e<64||$e===127||$e>252?v=!1:Z--:$e===128||$e===160||$e>239?v=!1:$e>160&&$e<224?(te++,de=0,le++,le>me&&(me=le)):$e>127?(Z++,le=0,de++,de>be&&(be=de)):(le=0,de=0))}return x&&E>0&&(x=!1),v&&Z>0&&(v=!1),x&&(Ke||N+L+q>0)?G.UTF8:v&&(G.ASSUME_SHIFT_JIS||me>=3||be>=3)?G.SHIFT_JIS:y&&v?me===2&&te===2||Ie*10>=d?G.SHIFT_JIS:G.ISO88591:y?G.ISO88591:v?G.SHIFT_JIS:x?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(l,...h){let d=-1;function y(x,E,N,L,q,Z){if(x==="%%")return"%";if(h[++d]===void 0)return;x=L?parseInt(L.substr(1)):void 0;let te=q?parseInt(q.substr(1)):void 0,le;switch(Z){case"s":le=h[d];break;case"c":le=h[d][0];break;case"f":le=parseFloat(h[d]).toFixed(x);break;case"p":le=parseFloat(h[d]).toPrecision(x);break;case"e":le=parseFloat(h[d]).toExponential(x);break;case"x":le=parseInt(h[d]).toString(te||16);break;case"d":le=parseFloat(parseInt(h[d],te||10).toPrecision(x)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(te);let de=parseInt(N),me=N&&N[0]+""=="0"?"0":" ";for(;le.length<de;)le=E!==void 0?le+me:me+le;return le}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(v,y)}static getBytes(l,h){return W.encode(l,h)}static getCharCode(l,h=0){return l.charCodeAt(h)}static getCharAt(l){return String.fromCharCode(l)}}G.SHIFT_JIS=V.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=V.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=V.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class ${constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=G.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,h,d){for(let y=h;h<h+d;y++)this.append(l[y]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+1)}substring(l,h){return this.value.substring(l,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+h.length)}}class ce{constructor(l,h,d,y){if(this.width=l,this.height=h,this.rowSize=d,this.bits=y,h==null&&(h=l),this.height=h,l<1||h<1)throw new m("Both dimensions must be greater than 0");d==null&&(d=Math.floor((l+31)/32)),this.rowSize=d,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const h=l.length,d=l[0].length,y=new ce(d,h);for(let v=0;v<h;v++){const x=l[v];for(let E=0;E<d;E++)x[E]&&y.set(E,v)}return y}static parseFromString(l,h,d){if(l===null)throw new m("stringRepresentation cannot be null");const y=new Array(l.length);let v=0,x=0,E=-1,N=0,L=0;for(;L<l.length;)if(l.charAt(L)===`
`||l.charAt(L)==="\r"){if(v>x){if(E===-1)E=v-x;else if(v-x!==E)throw new m("row lengths do not match");x=v,N++}L++}else if(l.substring(L,L+h.length)===h)L+=h.length,y[v]=!0,v++;else if(l.substring(L,L+d.length)===d)L+=d.length,y[v]=!1,v++;else throw new m("illegal character encountered: "+l.substring(L));if(v>x){if(E===-1)E=v-x;else if(v-x!==E)throw new m("row lengths do not match");N++}const q=new ce(E,N);for(let Z=0;Z<v;Z++)y[Z]&&q.set(Math.floor(Z%E),Math.floor(Z/E));return q}get(l,h){const d=h*this.rowSize+Math.floor(l/32);return(this.bits[d]>>>(l&31)&1)!==0}set(l,h){const d=h*this.rowSize+Math.floor(l/32);this.bits[d]|=1<<(l&31)&4294967295}unset(l,h){const d=h*this.rowSize+Math.floor(l/32);this.bits[d]&=~(1<<(l&31)&4294967295)}flip(l,h){const d=h*this.rowSize+Math.floor(l/32);this.bits[d]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new m("input matrix dimensions do not match");const h=new U(Math.floor(this.width/32)+1),d=this.rowSize,y=this.bits;for(let v=0,x=this.height;v<x;v++){const E=v*d,N=l.getRow(v,h).getBitArray();for(let L=0;L<d;L++)y[E+L]^=N[L]}}clear(){const l=this.bits,h=l.length;for(let d=0;d<h;d++)l[d]=0}setRegion(l,h,d,y){if(h<0||l<0)throw new m("Left and top must be nonnegative");if(y<1||d<1)throw new m("Height and width must be at least 1");const v=l+d,x=h+y;if(x>this.height||v>this.width)throw new m("The region must fit inside the matrix");const E=this.rowSize,N=this.bits;for(let L=h;L<x;L++){const q=L*E;for(let Z=l;Z<v;Z++)N[q+Math.floor(Z/32)]|=1<<(Z&31)&4294967295}}getRow(l,h){h==null||h.getSize()<this.width?h=new U(this.width):h.clear();const d=this.rowSize,y=this.bits,v=l*d;for(let x=0;x<d;x++)h.setBulk(x*32,y[v+x]);return h}setRow(l,h){_.arraycopy(h.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),h=this.getHeight();let d=new U(l),y=new U(l);for(let v=0,x=Math.floor((h+1)/2);v<x;v++)d=this.getRow(v,d),y=this.getRow(h-1-v,y),d.reverse(),y.reverse(),this.setRow(v,y),this.setRow(h-1-v,d)}getEnclosingRectangle(){const l=this.width,h=this.height,d=this.rowSize,y=this.bits;let v=l,x=h,E=-1,N=-1;for(let L=0;L<h;L++)for(let q=0;q<d;q++){const Z=y[L*d+q];if(Z!==0){if(L<x&&(x=L),L>N&&(N=L),q*32<v){let te=0;for(;(Z<<31-te&4294967295)===0;)te++;q*32+te<v&&(v=q*32+te)}if(q*32+31>E){let te=31;for(;!(Z>>>te);)te--;q*32+te>E&&(E=q*32+te)}}}return E<v||N<x?null:Int32Array.from([v,x,E-v+1,N-x+1])}getTopLeftOnBit(){const l=this.rowSize,h=this.bits;let d=0;for(;d<h.length&&h[d]===0;)d++;if(d===h.length)return null;const y=d/l;let v=d%l*32;const x=h[d];let E=0;for(;(x<<31-E&4294967295)===0;)E++;return v+=E,Int32Array.from([v,y])}getBottomRightOnBit(){const l=this.rowSize,h=this.bits;let d=h.length-1;for(;d>=0&&h[d]===0;)d--;if(d<0)return null;const y=Math.floor(d/l);let v=Math.floor(d%l)*32;const x=h[d];let E=31;for(;!(x>>>E);)E--;return v+=E,Int32Array.from([v,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ce))return!1;const h=l;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&j.equals(this.bits,h.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+j.hashCode(this.bits),l}toString(l="X ",h="  ",d=`
`){return this.buildToString(l,h,d)}buildToString(l,h,d){let y=new $;for(let v=0,x=this.height;v<x;v++){for(let E=0,N=this.width;E<N;E++)y.append(this.get(E,v)?l:h);y.append(d)}return y.toString()}clone(){return new ce(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends u{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class oe extends I{constructor(l){super(l),this.luminances=oe.EMPTY,this.buckets=new Int32Array(oe.LUMINANCE_BUCKETS)}getBlackRow(l,h){const d=this.getLuminanceSource(),y=d.getWidth();h==null||h.getSize()<y?h=new U(y):h.clear(),this.initArrays(y);const v=d.getRow(l,this.luminances),x=this.buckets;for(let N=0;N<y;N++)x[(v[N]&255)>>oe.LUMINANCE_SHIFT]++;const E=oe.estimateBlackPoint(x);if(y<3)for(let N=0;N<y;N++)(v[N]&255)<E&&h.set(N);else{let N=v[0]&255,L=v[1]&255;for(let q=1;q<y-1;q++){const Z=v[q+1]&255;(L*4-N-Z)/2<E&&h.set(q),N=L,L=Z}}return h}getBlackMatrix(){const l=this.getLuminanceSource(),h=l.getWidth(),d=l.getHeight(),y=new ce(h,d);this.initArrays(h);const v=this.buckets;for(let N=1;N<5;N++){const L=Math.floor(d*N/5),q=l.getRow(L,this.luminances),Z=Math.floor(h*4/5);for(let te=Math.floor(h/5);te<Z;te++){const le=q[te]&255;v[le>>oe.LUMINANCE_SHIFT]++}}const x=oe.estimateBlackPoint(v),E=l.getMatrix();for(let N=0;N<d;N++){const L=N*h;for(let q=0;q<h;q++)(E[L+q]&255)<x&&y.set(q,N)}return y}createBinarizer(l){return new oe(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const h=this.buckets;for(let d=0;d<oe.LUMINANCE_BUCKETS;d++)h[d]=0}static estimateBlackPoint(l){const h=l.length;let d=0,y=0,v=0;for(let q=0;q<h;q++)l[q]>v&&(y=q,v=l[q]),l[q]>d&&(d=l[q]);let x=0,E=0;for(let q=0;q<h;q++){const Z=q-y,te=l[q]*Z*Z;te>E&&(x=q,E=te)}if(y>x){const q=y;y=x,x=q}if(x-y<=h/16)throw new J;let N=x-1,L=-1;for(let q=x-1;q>y;q--){const Z=q-y,te=Z*Z*(x-q)*(d-l[q]);te>L&&(N=q,L=te)}return N<<oe.LUMINANCE_SHIFT}}oe.LUMINANCE_BITS=5,oe.LUMINANCE_SHIFT=8-oe.LUMINANCE_BITS,oe.LUMINANCE_BUCKETS=1<<oe.LUMINANCE_BITS,oe.EMPTY=Uint8ClampedArray.from([0]);class ae extends oe{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),h=l.getWidth(),d=l.getHeight();if(h>=ae.MINIMUM_DIMENSION&&d>=ae.MINIMUM_DIMENSION){const y=l.getMatrix();let v=h>>ae.BLOCK_SIZE_POWER;(h&ae.BLOCK_SIZE_MASK)!==0&&v++;let x=d>>ae.BLOCK_SIZE_POWER;(d&ae.BLOCK_SIZE_MASK)!==0&&x++;const E=ae.calculateBlackPoints(y,v,x,h,d),N=new ce(h,d);ae.calculateThresholdForBlock(y,v,x,h,d,E,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new ae(l)}static calculateThresholdForBlock(l,h,d,y,v,x,E){const N=v-ae.BLOCK_SIZE,L=y-ae.BLOCK_SIZE;for(let q=0;q<d;q++){let Z=q<<ae.BLOCK_SIZE_POWER;Z>N&&(Z=N);const te=ae.cap(q,2,d-3);for(let le=0;le<h;le++){let de=le<<ae.BLOCK_SIZE_POWER;de>L&&(de=L);const me=ae.cap(le,2,h-3);let be=0;for(let Ke=-2;Ke<=2;Ke++){const Ye=x[te+Ke];be+=Ye[me-2]+Ye[me-1]+Ye[me]+Ye[me+1]+Ye[me+2]}const Ie=be/25;ae.thresholdBlock(l,de,Z,Ie,y,E)}}}static cap(l,h,d){return l<h?h:l>d?d:l}static thresholdBlock(l,h,d,y,v,x){for(let E=0,N=d*v+h;E<ae.BLOCK_SIZE;E++,N+=v)for(let L=0;L<ae.BLOCK_SIZE;L++)(l[N+L]&255)<=y&&x.set(h+L,d+E)}static calculateBlackPoints(l,h,d,y,v){const x=v-ae.BLOCK_SIZE,E=y-ae.BLOCK_SIZE,N=new Array(d);for(let L=0;L<d;L++){N[L]=new Int32Array(h);let q=L<<ae.BLOCK_SIZE_POWER;q>x&&(q=x);for(let Z=0;Z<h;Z++){let te=Z<<ae.BLOCK_SIZE_POWER;te>E&&(te=E);let le=0,de=255,me=0;for(let Ie=0,Ke=q*y+te;Ie<ae.BLOCK_SIZE;Ie++,Ke+=y){for(let Ye=0;Ye<ae.BLOCK_SIZE;Ye++){const $e=l[Ke+Ye]&255;le+=$e,$e<de&&(de=$e),$e>me&&(me=$e)}if(me-de>ae.MIN_DYNAMIC_RANGE)for(Ie++,Ke+=y;Ie<ae.BLOCK_SIZE;Ie++,Ke+=y)for(let Ye=0;Ye<ae.BLOCK_SIZE;Ye++)le+=l[Ke+Ye]&255}let be=le>>ae.BLOCK_SIZE_POWER*2;if(me-de<=ae.MIN_DYNAMIC_RANGE&&(be=de/2,L>0&&Z>0)){const Ie=(N[L-1][Z]+2*N[L][Z-1]+N[L-1][Z-1])/4;de<Ie&&(be=Ie)}N[L][Z]=be}}return N}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class re{constructor(l,h){this.width=l,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,h,d,y){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let h=new $;for(let d=0;d<this.height;d++){const y=this.getRow(d,l);for(let v=0;v<this.width;v++){const x=y[v]&255;let E;x<64?E="#":x<128?E="+":x<192?E=".":E=" ",h.append(E)}h.append(`
`)}return h.toString()}}class pe extends re{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,h){const d=this.delegate.getRow(l,h),y=this.getWidth();for(let v=0;v<y;v++)d[v]=255-(d[v]&255);return d}getMatrix(){const l=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(h);for(let y=0;y<h;y++)d[y]=255-(l[y]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(l,h,d,y){return new pe(this.delegate.crop(l,h,d,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new pe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new pe(this.delegate.rotateCounterClockwise45())}}class we extends re{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const h=l.getContext("2d").getImageData(0,0,l.width,l.height);return we.toGrayscaleBuffer(h.data,l.width,l.height)}static toGrayscaleBuffer(l,h,d){const y=new Uint8ClampedArray(h*d);for(let v=0,x=0,E=l.length;v<E;v+=4,x++){let N;if(l[v+3]===0)N=255;else{const q=l[v],Z=l[v+1],te=l[v+2];N=306*q+601*Z+117*te+512>>10}y[x]=N}return y}getRow(l,h){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const d=this.getWidth(),y=l*d;return h===null?h=this.buffer.slice(y,y+d):(h.length<d&&(h=new Uint8ClampedArray(d)),h.set(this.buffer.slice(y,y+d))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,h,d,y){return super.crop(l,h,d,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const h=this.getTempCanvasElement(),d=h.getContext("2d"),y=l*we.DEGREE_TO_RADIANS,v=this.canvas.width,x=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(y))*v+Math.abs(Math.sin(y))*x),N=Math.ceil(Math.abs(Math.sin(y))*v+Math.abs(Math.cos(y))*x);return h.width=E,h.height=N,d.translate(E/2,N/2),d.rotate(y),d.drawImage(this.canvas,v/-2,x/-2),this.buffer=we.makeBufferFromCanvasImageData(h),this}invert(){return new pe(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(l,h,d){this.deviceId=l,this.label=h,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var he=(globalThis||ku||self||window||void 0)&&(globalThis||ku||self||window||void 0).__awaiter||function(X,l,h,d){function y(v){return v instanceof h?v:new h(function(x){x(v)})}return new(h||(h=Promise))(function(v,x){function E(q){try{L(d.next(q))}catch(Z){x(Z)}}function N(q){try{L(d.throw(q))}catch(Z){x(Z)}}function L(q){q.done?v(q.value):y(q.value).then(E,N)}L((d=d.apply(X,l||[])).next())})};class xe{constructor(l,h=500,d){this.reader=l,this.timeBetweenScansMillis=h,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return he(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const d of l){const y=d.kind==="video"?"videoinput":d.kind;if(y!=="videoinput")continue;const v=d.deviceId||d.id,x=d.label||`Video device ${h.length+1}`,E=d.groupId,N={deviceId:v,label:x,kind:y,groupId:E};h.push(N)}return h})}getVideoInputDevices(){return he(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new ue(h.deviceId,h.label))})}findDeviceById(l){return he(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(d=>d.deviceId===l):null})}decodeFromInputVideoDevice(l,h){return he(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,h)})}decodeOnceFromVideoDevice(l,h){return he(this,void 0,void 0,function*(){this.reset();let d;l?d={deviceId:{exact:l}}:d={facingMode:"environment"};const y={video:d};return yield this.decodeOnceFromConstraints(y,h)})}decodeOnceFromConstraints(l,h){return he(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(d,h)})}decodeOnceFromStream(l,h){return he(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(l,h);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(l,h,d){return he(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,h,d)})}decodeFromVideoDevice(l,h,d){return he(this,void 0,void 0,function*(){let y;l?y={deviceId:{exact:l}}:y={facingMode:"environment"};const v={video:y};return yield this.decodeFromConstraints(v,h,d)})}decodeFromConstraints(l,h,d){return he(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(y,h,d)})}decodeFromStream(l,h,d){return he(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(l,h);return yield this.decodeContinuously(y,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,h){return he(this,void 0,void 0,function*(){const d=this.prepareVideoElement(h);return this.addVideoSource(d,l),this.videoElement=d,this.stream=l,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(l){return new Promise((h,d)=>this.playVideoOnLoad(l,()=>h()))}playVideoOnLoad(l,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",h),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return he(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,h){const d=document.getElementById(l);if(!d)throw new g(`element with id '${l}' not found`);if(d.nodeName.toLowerCase()!==h.toLowerCase())throw new g(`element with id '${l}' must be an ${h} element`);return d}decodeFromImage(l,h){if(!l&&!h)throw new g("either imageElement with a src set or an url must be provided");return h&&!l?this.decodeFromImageUrl(h):this.decodeFromImageElement(l)}decodeFromVideo(l,h){if(!l&&!h)throw new g("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,h,d){if(l===void 0&&h===void 0)throw new g("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrlContinuously(h,d):this.decodeFromVideoElementContinuously(l,d)}decodeFromImageElement(l){if(!l)throw new g("An image element must be provided.");this.reset();const h=this.prepareImageElement(l);this.imageElement=h;let d;return this.isImageLoaded(h)?d=this.decodeOnce(h,!1,!0):d=this._decodeOnLoadImage(h),d}decodeFromVideoElement(l){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(l,h){const d=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(d,h)}_decodeFromVideoElementSetup(l){if(!l)throw new g("A video element must be provided.");this.reset();const h=this.prepareVideoElement(l);return this.videoElement=h,h}decodeFromImageUrl(l){if(!l)throw new g("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const d=this._decodeOnLoadImage(h);return h.src=l,d}decodeFromVideoUrl(l){if(!l)throw new g("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),d=this.decodeFromVideoElement(h);return h.src=l,d}decodeFromVideoUrlContinuously(l,h){if(!l)throw new g("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(d,h);return d.src=l,y}_decodeOnLoadImage(l){return new Promise((h,d)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(h,d),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return he(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,h){return he(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,h)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let h;return typeof l>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(h=l),h}prepareVideoElement(l){let h;return!l&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(h=l),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(l,h=!0,d=!0){this._stopAsyncDecode=!1;const y=(v,x)=>{if(this._stopAsyncDecode){x(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(l);v(E)}catch(E){const N=h&&E instanceof J,q=(E instanceof A||E instanceof O)&&d;if(N||q)return setTimeout(y,this._timeBetweenDecodingAttempts,v,x);x(E)}};return new Promise((v,x)=>y(v,x))}decodeContinuously(l,h){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(l);h(y,null),setTimeout(d,this.timeBetweenScansMillis)}catch(y){h(null,y);const v=y instanceof A||y instanceof O,x=y instanceof J;(v||x)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(l){const h=this.createBinaryBitmap(l);return this.decodeBitmap(h)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,h,d){h||(h={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(l,h,d=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const h=this.getCaptureCanvas(l),d=new we(h),y=new ae(d);return new w(y)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const h=this.createCaptureCanvas(l);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let d,y;return typeof l<"u"&&(l instanceof HTMLVideoElement?(d=l.videoWidth,y=l.videoHeight):l instanceof HTMLImageElement&&(d=l.naturalWidth||l.width,y=l.naturalHeight||l.height)),h.style.width=d+"px",h.style.height=y+"px",h.width=d,h.height=y,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,h){try{l.srcObject=h}catch{l.src=URL.createObjectURL(h)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(l,h,d=h==null?0:8*h.length,y,v,x=_.currentTimeMillis()){this.text=l,this.rawBytes=h,this.numBits=d,this.resultPoints=y,this.format=v,this.timestamp=x,this.text=l,this.rawBytes=h,d==null?this.numBits=h==null?0:8*h.length:this.numBits=d,this.resultPoints=y,this.format=v,this.resultMetadata=null,x==null?this.timestamp=_.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,h)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const h=this.resultPoints;if(h===null)this.resultPoints=l;else if(l!==null&&l.length>0){const d=new Array(h.length+l.length);_.arraycopy(h,0,d,0,h.length),_.arraycopy(l,0,d,h.length,l.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ue;(function(X){X[X.AZTEC=0]="AZTEC",X[X.CODABAR=1]="CODABAR",X[X.CODE_39=2]="CODE_39",X[X.CODE_93=3]="CODE_93",X[X.CODE_128=4]="CODE_128",X[X.DATA_MATRIX=5]="DATA_MATRIX",X[X.EAN_8=6]="EAN_8",X[X.EAN_13=7]="EAN_13",X[X.ITF=8]="ITF",X[X.MAXICODE=9]="MAXICODE",X[X.PDF_417=10]="PDF_417",X[X.QR_CODE=11]="QR_CODE",X[X.RSS_14=12]="RSS_14",X[X.RSS_EXPANDED=13]="RSS_EXPANDED",X[X.UPC_A=14]="UPC_A",X[X.UPC_E=15]="UPC_E",X[X.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ue||(Ue={}));var Me=Ue,ke;(function(X){X[X.OTHER=0]="OTHER",X[X.ORIENTATION=1]="ORIENTATION",X[X.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",X[X.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",X[X.ISSUE_NUMBER=4]="ISSUE_NUMBER",X[X.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",X[X.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",X[X.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",X[X.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",X[X.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",X[X.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ke||(ke={}));var De=ke;class Pe{constructor(l,h,d,y,v=-1,x=-1){this.rawBytes=l,this.text=h,this.byteSegments=d,this.ecLevel=y,this.structuredAppendSequenceNumber=v,this.structuredAppendParity=x,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Fe{exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}static addOrSubtract(l,h){return l^h}}class Ge{constructor(l,h){if(h.length===0)throw new m;this.field=l;const d=h.length;if(d>1&&h[0]===0){let y=1;for(;y<d&&h[y]===0;)y++;y===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-y),_.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const h=this.coefficients;let d;if(l===1){d=0;for(let x=0,E=h.length;x!==E;x++){const N=h[x];d=Fe.addOrSubtract(d,N)}return d}d=h[0];const y=h.length,v=this.field;for(let x=1;x<y;x++)d=Fe.addOrSubtract(v.multiply(l,d),h[x]);return d}addOrSubtract(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,d=l.coefficients;if(h.length>d.length){const x=h;h=d,d=x}let y=new Int32Array(d.length);const v=d.length-h.length;_.arraycopy(d,0,y,0,v);for(let x=v;x<d.length;x++)y[x]=Fe.addOrSubtract(h[x-v],d[x]);return new Ge(this.field,y)}multiply(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const h=this.coefficients,d=h.length,y=l.coefficients,v=y.length,x=new Int32Array(d+v-1),E=this.field;for(let N=0;N<d;N++){const L=h[N];for(let q=0;q<v;q++)x[N+q]=Fe.addOrSubtract(x[N+q],E.multiply(L,y[q]))}return new Ge(E,x)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const h=this.coefficients.length,d=this.field,y=new Int32Array(h),v=this.coefficients;for(let x=0;x<h;x++)y[x]=d.multiply(v[x],l);return new Ge(d,y)}multiplyByMonomial(l,h){if(l<0)throw new m;if(h===0)return this.field.getZero();const d=this.coefficients,y=d.length,v=new Int32Array(y+l),x=this.field;for(let E=0;E<y;E++)v[E]=x.multiply(d[E],h);return new Ge(x,v)}divide(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new m("Divide by 0");const h=this.field;let d=h.getZero(),y=this;const v=l.getCoefficient(l.getDegree()),x=h.inverse(v);for(;y.getDegree()>=l.getDegree()&&!y.isZero();){const E=y.getDegree()-l.getDegree(),N=h.multiply(y.getCoefficient(y.getDegree()),x),L=l.multiplyByMonomial(E,N),q=h.buildMonomial(E,N);d=d.addOrSubtract(q),y=y.addOrSubtract(L)}return[d,y]}toString(){let l="";for(let h=this.getDegree();h>=0;h--){let d=this.getCoefficient(h);if(d!==0){if(d<0?(l+=" - ",d=-d):l.length>0&&(l+=" + "),h===0||d!==1){const y=this.field.log(d);y===0?l+="1":y===1?l+="a":(l+="a^",l+=y)}h!==0&&(h===1?l+="x":(l+="x^",l+=h))}}return l}}class Te extends u{}Te.kind="ArithmeticException";class et extends Fe{constructor(l,h,d){super(),this.primitive=l,this.size=h,this.generatorBase=d;const y=new Int32Array(h);let v=1;for(let E=0;E<h;E++)y[E]=v,v*=2,v>=h&&(v^=l,v&=h-1);this.expTable=y;const x=new Int32Array(h);for(let E=0;E<h-1;E++)x[y[E]]=E;this.logTable=x,this.zero=new Ge(this,Int32Array.from([0])),this.one=new Ge(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new m;if(h===0)return this.zero;const d=new Int32Array(l+1);return d[0]=h,new Ge(this,d)}inverse(l){if(l===0)throw new Te;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;class dt extends u{}dt.kind="ReedSolomonException";class Ft extends u{}Ft.kind="IllegalStateException";class Yt{constructor(l){this.field=l}decode(l,h){const d=this.field,y=new Ge(d,l),v=new Int32Array(h);let x=!0;for(let le=0;le<h;le++){const de=y.evaluateAt(d.exp(le+d.getGeneratorBase()));v[v.length-1-le]=de,de!==0&&(x=!1)}if(x)return;const E=new Ge(d,v),N=this.runEuclideanAlgorithm(d.buildMonomial(h,1),E,h),L=N[0],q=N[1],Z=this.findErrorLocations(L),te=this.findErrorMagnitudes(q,Z);for(let le=0;le<Z.length;le++){const de=l.length-1-d.log(Z[le]);if(de<0)throw new dt("Bad error location");l[de]=et.addOrSubtract(l[de],te[le])}}runEuclideanAlgorithm(l,h,d){if(l.getDegree()<h.getDegree()){const le=l;l=h,h=le}const y=this.field;let v=l,x=h,E=y.getZero(),N=y.getOne();for(;x.getDegree()>=(d/2|0);){let le=v,de=E;if(v=x,E=N,v.isZero())throw new dt("r_{i-1} was zero");x=le;let me=y.getZero();const be=v.getCoefficient(v.getDegree()),Ie=y.inverse(be);for(;x.getDegree()>=v.getDegree()&&!x.isZero();){const Ke=x.getDegree()-v.getDegree(),Ye=y.multiply(x.getCoefficient(x.getDegree()),Ie);me=me.addOrSubtract(y.buildMonomial(Ke,Ye)),x=x.addOrSubtract(v.multiplyByMonomial(Ke,Ye))}if(N=me.multiply(E).addOrSubtract(de),x.getDegree()>=v.getDegree())throw new Ft("Division algorithm failed to reduce polynomial?")}const L=N.getCoefficient(0);if(L===0)throw new dt("sigmaTilde(0) was zero");const q=y.inverse(L),Z=N.multiplyScalar(q),te=x.multiplyScalar(q);return[Z,te]}findErrorLocations(l){const h=l.getDegree();if(h===1)return Int32Array.from([l.getCoefficient(1)]);const d=new Int32Array(h);let y=0;const v=this.field;for(let x=1;x<v.getSize()&&y<h;x++)l.evaluateAt(x)===0&&(d[y]=v.inverse(x),y++);if(y!==h)throw new dt("Error locator degree does not match number of roots");return d}findErrorMagnitudes(l,h){const d=h.length,y=new Int32Array(d),v=this.field;for(let x=0;x<d;x++){const E=v.inverse(h[x]);let N=1;for(let L=0;L<d;L++)if(x!==L){const q=v.multiply(h[L],E),Z=(q&1)===0?q|1:q&-2;N=v.multiply(N,Z)}y[x]=v.multiply(l.evaluateAt(E),v.inverse(N)),v.getGeneratorBase()!==0&&(y[x]=v.multiply(y[x],E))}return y}}var kt;(function(X){X[X.UPPER=0]="UPPER",X[X.LOWER=1]="LOWER",X[X.MIXED=2]="MIXED",X[X.DIGIT=3]="DIGIT",X[X.PUNCT=4]="PUNCT",X[X.BINARY=5]="BINARY"})(kt||(kt={}));class Kt{decode(l){this.ddata=l;let h=l.getBits(),d=this.extractBits(h),y=this.correctBits(d),v=Kt.convertBoolArrayToByteArray(y),x=Kt.getEncodedData(y),E=new Pe(v,x,null,null);return E.setNumBits(y.length),E}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let h=l.length,d=kt.UPPER,y=kt.UPPER,v="",x=0;for(;x<h;)if(y===kt.BINARY){if(h-x<5)break;let E=Kt.readCode(l,x,5);if(x+=5,E===0){if(h-x<11)break;E=Kt.readCode(l,x,11)+31,x+=11}for(let N=0;N<E;N++){if(h-x<8){x=h;break}const L=Kt.readCode(l,x,8);v+=G.castAsNonUtf8Char(L),x+=8}y=d}else{let E=y===kt.DIGIT?4:5;if(h-x<E)break;let N=Kt.readCode(l,x,E);x+=E;let L=Kt.getCharacter(y,N);L.startsWith("CTRL_")?(d=y,y=Kt.getTable(L.charAt(5)),L.charAt(6)==="L"&&(d=y)):(v+=L,y=d)}return v}static getTable(l){switch(l){case"L":return kt.LOWER;case"P":return kt.PUNCT;case"M":return kt.MIXED;case"D":return kt.DIGIT;case"B":return kt.BINARY;case"U":default:return kt.UPPER}}static getCharacter(l,h){switch(l){case kt.UPPER:return Kt.UPPER_TABLE[h];case kt.LOWER:return Kt.LOWER_TABLE[h];case kt.MIXED:return Kt.MIXED_TABLE[h];case kt.PUNCT:return Kt.PUNCT_TABLE[h];case kt.DIGIT:return Kt.DIGIT_TABLE[h];default:throw new Ft("Bad table")}}correctBits(l){let h,d;this.ddata.getNbLayers()<=2?(d=6,h=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,h=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,h=et.AZTEC_DATA_10):(d=12,h=et.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),v=l.length/d;if(v<y)throw new O;let x=l.length%d,E=new Int32Array(v);for(let te=0;te<v;te++,x+=d)E[te]=Kt.readCode(l,x,d);try{new Yt(h).decode(E,v-y)}catch(te){throw new O(te)}let N=(1<<d)-1,L=0;for(let te=0;te<y;te++){let le=E[te];if(le===0||le===N)throw new O;(le===1||le===N-1)&&L++}let q=new Array(y*d-L),Z=0;for(let te=0;te<y;te++){let le=E[te];if(le===1||le===N-1)q.fill(le>1,Z,Z+d-1),Z+=d-1;else for(let de=d-1;de>=0;--de)q[Z++]=(le&1<<de)!==0}return q}extractBits(l){let h=this.ddata.isCompact(),d=this.ddata.getNbLayers(),y=(h?11:14)+d*4,v=new Int32Array(y),x=new Array(this.totalBitsInLayer(d,h));if(h)for(let E=0;E<v.length;E++)v[E]=E;else{let E=y+1+2*k.truncDivision(k.truncDivision(y,2)-1,15),N=y/2,L=k.truncDivision(E,2);for(let q=0;q<N;q++){let Z=q+k.truncDivision(q,15);v[N-q-1]=L-Z-1,v[N+q]=L+Z+1}}for(let E=0,N=0;E<d;E++){let L=(d-E)*4+(h?9:12),q=E*2,Z=y-1-q;for(let te=0;te<L;te++){let le=te*2;for(let de=0;de<2;de++)x[N+le+de]=l.get(v[q+de],v[q+te]),x[N+2*L+le+de]=l.get(v[q+te],v[Z-de]),x[N+4*L+le+de]=l.get(v[Z-de],v[Z-te]),x[N+6*L+le+de]=l.get(v[Z-te],v[q+de])}N+=L*8}return x}static readCode(l,h,d){let y=0;for(let v=h;v<h+d;v++)y<<=1,l[v]&&(y|=1);return y}static readByte(l,h){let d=l.length-h;return d>=8?Kt.readCode(l,h,8):Kt.readCode(l,h,d)<<8-d}static convertBoolArrayToByteArray(l){let h=new Uint8Array((l.length+7)/8);for(let d=0;d<h.length;d++)h[d]=Kt.readByte(l,8*d);return h}totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}Kt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Kt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Kt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Kt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Kt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class xt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,h,d,y){const v=l-d,x=h-y;return Math.sqrt(v*v+x*x)}static sum(l){let h=0;for(let d=0,y=l.length;d!==y;d++){const v=l[d];h+=v}return h}}class ii{static floatToIntBits(l){return l}}ii.MAX_VALUE=Number.MAX_SAFE_INTEGER;class nt{constructor(l,h){this.x=l,this.y=h}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof nt){const h=l;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*ii.floatToIntBits(this.x)+ii.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const h=this.distance(l[0],l[1]),d=this.distance(l[1],l[2]),y=this.distance(l[0],l[2]);let v,x,E;if(d>=h&&d>=y?(x=l[0],v=l[1],E=l[2]):y>=d&&y>=h?(x=l[1],v=l[0],E=l[2]):(x=l[2],v=l[0],E=l[1]),this.crossProductZ(v,x,E)<0){const N=v;v=E,E=N}l[0]=v,l[1]=x,l[2]=E}static distance(l,h){return xt.distance(l.x,l.y,h.x,h.y)}static crossProductZ(l,h,d){const y=h.x,v=h.y;return(d.x-y)*(l.y-v)-(d.y-v)*(l.x-y)}}class _n{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class wi extends _n{constructor(l,h,d,y,v){super(l,h),this.compact=d,this.nbDatablocks=y,this.nbLayers=v}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class si{constructor(l,h,d,y){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),h==null&&(h=si.INIT_SIZE),d==null&&(d=l.getWidth()/2|0),y==null&&(y=l.getHeight()/2|0);const v=h/2|0;if(this.leftInit=d-v,this.rightInit=d+v,this.upInit=y-v,this.downInit=y+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let l=this.leftInit,h=this.rightInit,d=this.upInit,y=this.downInit,v=!1,x=!0,E=!1,N=!1,L=!1,q=!1,Z=!1;const te=this.width,le=this.height;for(;x;){x=!1;let de=!0;for(;(de||!N)&&h<te;)de=this.containsBlackPoint(d,y,h,!1),de?(h++,x=!0,N=!0):N||h++;if(h>=te){v=!0;break}let me=!0;for(;(me||!L)&&y<le;)me=this.containsBlackPoint(l,h,y,!0),me?(y++,x=!0,L=!0):L||y++;if(y>=le){v=!0;break}let be=!0;for(;(be||!q)&&l>=0;)be=this.containsBlackPoint(d,y,l,!1),be?(l--,x=!0,q=!0):q||l--;if(l<0){v=!0;break}let Ie=!0;for(;(Ie||!Z)&&d>=0;)Ie=this.containsBlackPoint(l,h,d,!0),Ie?(d--,x=!0,Z=!0):Z||d--;if(d<0){v=!0;break}x&&(E=!0)}if(!v&&E){const de=h-l;let me=null;for(let Ye=1;me===null&&Ye<de;Ye++)me=this.getBlackPointOnSegment(l,y-Ye,l+Ye,y);if(me==null)throw new J;let be=null;for(let Ye=1;be===null&&Ye<de;Ye++)be=this.getBlackPointOnSegment(l,d+Ye,l+Ye,d);if(be==null)throw new J;let Ie=null;for(let Ye=1;Ie===null&&Ye<de;Ye++)Ie=this.getBlackPointOnSegment(h,d+Ye,h-Ye,d);if(Ie==null)throw new J;let Ke=null;for(let Ye=1;Ke===null&&Ye<de;Ye++)Ke=this.getBlackPointOnSegment(h,y-Ye,h-Ye,y);if(Ke==null)throw new J;return this.centerEdges(Ke,me,Ie,be)}else throw new J}getBlackPointOnSegment(l,h,d,y){const v=xt.round(xt.distance(l,h,d,y)),x=(d-l)/v,E=(y-h)/v,N=this.image;for(let L=0;L<v;L++){const q=xt.round(l+L*x),Z=xt.round(h+L*E);if(N.get(q,Z))return new nt(q,Z)}return null}centerEdges(l,h,d,y){const v=l.getX(),x=l.getY(),E=h.getX(),N=h.getY(),L=d.getX(),q=d.getY(),Z=y.getX(),te=y.getY(),le=si.CORR;return v<this.width/2?[new nt(Z-le,te+le),new nt(E+le,N+le),new nt(L-le,q-le),new nt(v+le,x-le)]:[new nt(Z+le,te+le),new nt(E+le,N-le),new nt(L-le,q+le),new nt(v-le,x-le)]}containsBlackPoint(l,h,d,y){const v=this.image;if(y){for(let x=l;x<=h;x++)if(v.get(x,d))return!0}else for(let x=l;x<=h;x++)if(v.get(d,x))return!0;return!1}}si.INIT_SIZE=10,si.CORR=1;class so{static checkAndNudgePoints(l,h){const d=l.getWidth(),y=l.getHeight();let v=!0;for(let x=0;x<h.length&&v;x+=2){const E=Math.floor(h[x]),N=Math.floor(h[x+1]);if(E<-1||E>d||N<-1||N>y)throw new J;v=!1,E===-1?(h[x]=0,v=!0):E===d&&(h[x]=d-1,v=!0),N===-1?(h[x+1]=0,v=!0):N===y&&(h[x+1]=y-1,v=!0)}v=!0;for(let x=h.length-2;x>=0&&v;x-=2){const E=Math.floor(h[x]),N=Math.floor(h[x+1]);if(E<-1||E>d||N<-1||N>y)throw new J;v=!1,E===-1?(h[x]=0,v=!0):E===d&&(h[x]=d-1,v=!0),N===-1?(h[x+1]=0,v=!0):N===y&&(h[x+1]=y-1,v=!0)}}}class ln{constructor(l,h,d,y,v,x,E,N,L){this.a11=l,this.a21=h,this.a31=d,this.a12=y,this.a22=v,this.a32=x,this.a13=E,this.a23=N,this.a33=L}static quadrilateralToQuadrilateral(l,h,d,y,v,x,E,N,L,q,Z,te,le,de,me,be){const Ie=ln.quadrilateralToSquare(l,h,d,y,v,x,E,N);return ln.squareToQuadrilateral(L,q,Z,te,le,de,me,be).times(Ie)}transformPoints(l){const h=l.length,d=this.a11,y=this.a12,v=this.a13,x=this.a21,E=this.a22,N=this.a23,L=this.a31,q=this.a32,Z=this.a33;for(let te=0;te<h;te+=2){const le=l[te],de=l[te+1],me=v*le+N*de+Z;l[te]=(d*le+x*de+L)/me,l[te+1]=(y*le+E*de+q)/me}}transformPointsWithValues(l,h){const d=this.a11,y=this.a12,v=this.a13,x=this.a21,E=this.a22,N=this.a23,L=this.a31,q=this.a32,Z=this.a33,te=l.length;for(let le=0;le<te;le++){const de=l[le],me=h[le],be=v*de+N*me+Z;l[le]=(d*de+x*me+L)/be,h[le]=(y*de+E*me+q)/be}}static squareToQuadrilateral(l,h,d,y,v,x,E,N){const L=l-d+v-E,q=h-y+x-N;if(L===0&&q===0)return new ln(d-l,v-d,l,y-h,x-y,h,0,0,1);{const Z=d-v,te=E-v,le=y-x,de=N-x,me=Z*de-te*le,be=(L*de-te*q)/me,Ie=(Z*q-L*le)/me;return new ln(d-l+be*d,E-l+Ie*E,l,y-h+be*y,N-h+Ie*N,h,be,Ie,1)}}static quadrilateralToSquare(l,h,d,y,v,x,E,N){return ln.squareToQuadrilateral(l,h,d,y,v,x,E,N).buildAdjoint()}buildAdjoint(){return new ln(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new ln(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Nr extends so{sampleGrid(l,h,d,y,v,x,E,N,L,q,Z,te,le,de,me,be,Ie,Ke,Ye){const $e=ln.quadrilateralToQuadrilateral(y,v,x,E,N,L,q,Z,te,le,de,me,be,Ie,Ke,Ye);return this.sampleGridWithTransform(l,h,d,$e)}sampleGridWithTransform(l,h,d,y){if(h<=0||d<=0)throw new J;const v=new ce(h,d),x=new Float32Array(2*h);for(let E=0;E<d;E++){const N=x.length,L=E+.5;for(let q=0;q<N;q+=2)x[q]=q/2+.5,x[q+1]=L;y.transformPoints(x),so.checkAndNudgePoints(l,x);try{for(let q=0;q<N;q+=2)l.get(Math.floor(x[q]),Math.floor(x[q+1]))&&v.set(q/2,E)}catch{throw new J}}return v}}class oi{static setGridSampler(l){oi.gridSampler=l}static getInstance(){return oi.gridSampler}}oi.gridSampler=new Nr;class vr{constructor(l,h){this.x=l,this.y=h}toResultPoint(){return new nt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Hi{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let h=this.getMatrixCenter(),d=this.getBullsEyeCorners(h);if(l){let x=d[0];d[0]=d[2],d[2]=x}this.extractParameters(d);let y=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),v=this.getMatrixCornerPoints(d);return new wi(y,v,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new J;let h=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(l[0],l[1],h),this.sampleLine(l[1],l[2],h),this.sampleLine(l[2],l[3],h),this.sampleLine(l[3],l[0],h)]);this.shift=this.getRotation(d,h);let y=0;for(let x=0;x<4;x++){let E=d[(this.shift+x)%4];this.compact?(y<<=7,y+=E>>1&127):(y<<=10,y+=(E>>2&992)+(E>>1&31))}let v=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)}getRotation(l,h){let d=0;l.forEach((y,v,x)=>{let E=(y>>h-2<<1)+(y&1);d=(d<<3)+E}),d=((d&1)<<11)+(d>>1);for(let y=0;y<4;y++)if(k.bitCount(d^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new J}getCorrectedParameterData(l,h){let d,y;h?(d=7,y=2):(d=10,y=4);let v=d-y,x=new Int32Array(d);for(let N=d-1;N>=0;--N)x[N]=l&15,l>>=4;try{new Yt(et.AZTEC_PARAM).decode(x,v)}catch{throw new J}let E=0;for(let N=0;N<y;N++)E=(E<<4)+x[N];return E}getBullsEyeCorners(l){let h=l,d=l,y=l,v=l,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Z=this.getFirstDifferent(h,x,1,-1),te=this.getFirstDifferent(d,x,1,1),le=this.getFirstDifferent(y,x,-1,1),de=this.getFirstDifferent(v,x,-1,-1);if(this.nbCenterLayers>2){let me=this.distancePoint(de,Z)*this.nbCenterLayers/(this.distancePoint(v,h)*(this.nbCenterLayers+2));if(me<.75||me>1.25||!this.isWhiteOrBlackRectangle(Z,te,le,de))break}h=Z,d=te,y=le,v=de,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let E=new nt(h.getX()+.5,h.getY()-.5),N=new nt(d.getX()+.5,d.getY()+.5),L=new nt(y.getX()-.5,y.getY()+.5),q=new nt(v.getX()-.5,v.getY()-.5);return this.expandSquare([E,N,L,q],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,h,d,y;try{let E=new si(this.image).detect();l=E[0],h=E[1],d=E[2],y=E[3]}catch{let N=this.image.getWidth()/2,L=this.image.getHeight()/2;l=this.getFirstDifferent(new vr(N+7,L-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new vr(N+7,L+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new vr(N-7,L+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new vr(N-7,L-7),!1,-1,-1).toResultPoint()}let v=xt.round((l.getX()+y.getX()+h.getX()+d.getX())/4),x=xt.round((l.getY()+y.getY()+h.getY()+d.getY())/4);try{let E=new si(this.image,15,v,x).detect();l=E[0],h=E[1],d=E[2],y=E[3]}catch{l=this.getFirstDifferent(new vr(v+7,x-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new vr(v+7,x+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new vr(v-7,x+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new vr(v-7,x-7),!1,-1,-1).toResultPoint()}return v=xt.round((l.getX()+y.getX()+h.getX()+d.getX())/4),x=xt.round((l.getY()+y.getY()+h.getY()+d.getY())/4),new vr(v,x)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,h,d,y,v){let x=oi.getInstance(),E=this.getDimension(),N=E/2-this.nbCenterLayers,L=E/2+this.nbCenterLayers;return x.sampleGrid(l,E,E,N,N,L,N,L,L,N,L,h.getX(),h.getY(),d.getX(),d.getY(),y.getX(),y.getY(),v.getX(),v.getY())}sampleLine(l,h,d){let y=0,v=this.distanceResultPoint(l,h),x=v/d,E=l.getX(),N=l.getY(),L=x*(h.getX()-l.getX())/v,q=x*(h.getY()-l.getY())/v;for(let Z=0;Z<d;Z++)this.image.get(xt.round(E+Z*L),xt.round(N+Z*q))&&(y|=1<<d-Z-1);return y}isWhiteOrBlackRectangle(l,h,d,y){let v=3;l=new vr(l.getX()-v,l.getY()+v),h=new vr(h.getX()-v,h.getY()-v),d=new vr(d.getX()+v,d.getY()-v),y=new vr(y.getX()+v,y.getY()+v);let x=this.getColor(y,l);if(x===0)return!1;let E=this.getColor(l,h);return E!==x||(E=this.getColor(h,d),E!==x)?!1:(E=this.getColor(d,y),E===x)}getColor(l,h){let d=this.distancePoint(l,h),y=(h.getX()-l.getX())/d,v=(h.getY()-l.getY())/d,x=0,E=l.getX(),N=l.getY(),L=this.image.get(l.getX(),l.getY()),q=Math.ceil(d);for(let te=0;te<q;te++)E+=y,N+=v,this.image.get(xt.round(E),xt.round(N))!==L&&x++;let Z=x/d;return Z>.1&&Z<.9?0:Z<=.1===L?1:-1}getFirstDifferent(l,h,d,y){let v=l.getX()+d,x=l.getY()+y;for(;this.isValid(v,x)&&this.image.get(v,x)===h;)v+=d,x+=y;for(v-=d,x-=y;this.isValid(v,x)&&this.image.get(v,x)===h;)v+=d;for(v-=d;this.isValid(v,x)&&this.image.get(v,x)===h;)x+=y;return x-=y,new vr(v,x)}expandSquare(l,h,d){let y=d/(2*h),v=l[0].getX()-l[2].getX(),x=l[0].getY()-l[2].getY(),E=(l[0].getX()+l[2].getX())/2,N=(l[0].getY()+l[2].getY())/2,L=new nt(E+y*v,N+y*x),q=new nt(E-y*v,N-y*x);v=l[1].getX()-l[3].getX(),x=l[1].getY()-l[3].getY(),E=(l[1].getX()+l[3].getX())/2,N=(l[1].getY()+l[3].getY())/2;let Z=new nt(E+y*v,N+y*x),te=new nt(E-y*v,N-y*x);return[L,Z,q,te]}isValid(l,h){return l>=0&&l<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(l){let h=xt.round(l.getX()),d=xt.round(l.getY());return this.isValid(h,d)}distancePoint(l,h){return xt.distance(l.getX(),l.getY(),h.getX(),h.getY())}distanceResultPoint(l,h){return xt.distance(l.getX(),l.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class Us{decode(l,h=null){let d=null,y=new Hi(l.getBlackMatrix()),v=null,x=null;try{let q=y.detectMirror(!1);v=q.getPoints(),this.reportFoundResultPoints(h,v),x=new Kt().decode(q)}catch(q){d=q}if(x==null)try{let q=y.detectMirror(!0);v=q.getPoints(),this.reportFoundResultPoints(h,v),x=new Kt().decode(q)}catch(q){throw d??q}let E=new Re(x.getText(),x.getRawBytes(),x.getNumBits(),v,Me.AZTEC,_.currentTimeMillis()),N=x.getByteSegments();N!=null&&E.putMetadata(De.BYTE_SEGMENTS,N);let L=x.getECLevel();return L!=null&&E.putMetadata(De.ERROR_CORRECTION_LEVEL,L),E}reportFoundResultPoints(l,h){if(l!=null){let d=l.get(B.NEED_RESULT_POINT_CALLBACK);d!=null&&h.forEach((y,v,x)=>{d.foundPossibleResultPoint(y)})}}reset(){}}class ws extends xe{constructor(l=500){super(new Us,l)}}class Qn{decode(l,h){try{return this.doDecode(l,h)}catch{if(h&&h.get(B.TRY_HARDER)===!0&&l.isRotateSupported()){const v=l.rotateCounterClockwise(),x=this.doDecode(v,h),E=x.getResultMetadata();let N=270;E!==null&&E.get(De.ORIENTATION)===!0&&(N=N+E.get(De.ORIENTATION)%360),x.putMetadata(De.ORIENTATION,N);const L=x.getResultPoints();if(L!==null){const q=v.getHeight();for(let Z=0;Z<L.length;Z++)L[Z]=new nt(q-L[Z].getY()-1,L[Z].getX())}return x}else throw new J}}reset(){}doDecode(l,h){const d=l.getWidth(),y=l.getHeight();let v=new U(d);const x=h&&h.get(B.TRY_HARDER)===!0,E=Math.max(1,y>>(x?8:5));let N;x?N=y:N=15;const L=Math.trunc(y/2);for(let q=0;q<N;q++){const Z=Math.trunc((q+1)/2),te=(q&1)===0,le=L+E*(te?Z:-Z);if(le<0||le>=y)break;try{v=l.getBlackRow(le,v)}catch{continue}for(let de=0;de<2;de++){if(de===1&&(v.reverse(),h&&h.get(B.NEED_RESULT_POINT_CALLBACK)===!0)){const me=new Map;h.forEach((be,Ie)=>me.set(Ie,be)),me.delete(B.NEED_RESULT_POINT_CALLBACK),h=me}try{const me=this.decodeRow(le,v,h);if(de===1){me.putMetadata(De.ORIENTATION,180);const be=me.getResultPoints();be!==null&&(be[0]=new nt(d-be[0].getX()-1,be[0].getY()),be[1]=new nt(d-be[1].getX()-1,be[1].getY()))}return me}catch{}}}throw new J}static recordPattern(l,h,d){const y=d.length;for(let L=0;L<y;L++)d[L]=0;const v=l.getSize();if(h>=v)throw new J;let x=!l.get(h),E=0,N=h;for(;N<v;){if(l.get(N)!==x)d[E]++;else{if(++E===y)break;d[E]=1,x=!x}N++}if(!(E===y||E===y-1&&N===v))throw new J}static recordPatternInReverse(l,h,d){let y=d.length,v=l.get(h);for(;h>0&&y>=0;)l.get(--h)!==v&&(y--,v=!v);if(y>=0)throw new J;Qn.recordPattern(l,h+1,d)}static patternMatchVariance(l,h,d){const y=l.length;let v=0,x=0;for(let L=0;L<y;L++)v+=l[L],x+=h[L];if(v<x)return Number.POSITIVE_INFINITY;const E=v/x;d*=E;let N=0;for(let L=0;L<y;L++){const q=l[L],Z=h[L]*E,te=q>Z?q-Z:Z-q;if(te>d)return Number.POSITIVE_INFINITY;N+=te}return N/v}}class Xe extends Qn{static findStartPattern(l){const h=l.getSize(),d=l.getNextSet(0);let y=0,v=Int32Array.from([0,0,0,0,0,0]),x=d,E=!1;const N=6;for(let L=d;L<h;L++)if(l.get(L)!==E)v[y]++;else{if(y===N-1){let q=Xe.MAX_AVG_VARIANCE,Z=-1;for(let te=Xe.CODE_START_A;te<=Xe.CODE_START_C;te++){const le=Qn.patternMatchVariance(v,Xe.CODE_PATTERNS[te],Xe.MAX_INDIVIDUAL_VARIANCE);le<q&&(q=le,Z=te)}if(Z>=0&&l.isRange(Math.max(0,x-(L-x)/2),x,!1))return Int32Array.from([x,L,Z]);x+=v[0]+v[1],v=v.slice(2,v.length-1),v[y-1]=0,v[y]=0,y--}else y++;v[y]=1,E=!E}throw new J}static decodeCode(l,h,d){Qn.recordPattern(l,d,h);let y=Xe.MAX_AVG_VARIANCE,v=-1;for(let x=0;x<Xe.CODE_PATTERNS.length;x++){const E=Xe.CODE_PATTERNS[x],N=this.patternMatchVariance(h,E,Xe.MAX_INDIVIDUAL_VARIANCE);N<y&&(y=N,v=x)}if(v>=0)return v;throw new J}decodeRow(l,h,d){const y=d&&d.get(B.ASSUME_GS1)===!0,v=Xe.findStartPattern(h),x=v[2];let E=0;const N=new Uint8Array(20);N[E++]=x;let L;switch(x){case Xe.CODE_START_A:L=Xe.CODE_CODE_A;break;case Xe.CODE_START_B:L=Xe.CODE_CODE_B;break;case Xe.CODE_START_C:L=Xe.CODE_CODE_C;break;default:throw new O}let q=!1,Z=!1,te="",le=v[0],de=v[1];const me=Int32Array.from([0,0,0,0,0,0]);let be=0,Ie=0,Ke=x,Ye=0,$e=!0,tn=!1,Ut=!1;for(;!q;){const _a=Z;switch(Z=!1,be=Ie,Ie=Xe.decodeCode(h,me,de),N[E++]=Ie,Ie!==Xe.CODE_STOP&&($e=!0),Ie!==Xe.CODE_STOP&&(Ye++,Ke+=Ye*Ie),le=de,de+=me.reduce((eu,Ug)=>eu+Ug,0),Ie){case Xe.CODE_START_A:case Xe.CODE_START_B:case Xe.CODE_START_C:throw new O}switch(L){case Xe.CODE_CODE_A:if(Ie<64)Ut===tn?te+=String.fromCharCode(32+Ie):te+=String.fromCharCode(32+Ie+128),Ut=!1;else if(Ie<96)Ut===tn?te+=String.fromCharCode(Ie-64):te+=String.fromCharCode(Ie+64),Ut=!1;else switch(Ie!==Xe.CODE_STOP&&($e=!1),Ie){case Xe.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_A:!tn&&Ut?(tn=!0,Ut=!1):tn&&Ut?(tn=!1,Ut=!1):Ut=!0;break;case Xe.CODE_SHIFT:Z=!0,L=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_B:L=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_C:L=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:q=!0;break}break;case Xe.CODE_CODE_B:if(Ie<96)Ut===tn?te+=String.fromCharCode(32+Ie):te+=String.fromCharCode(32+Ie+128),Ut=!1;else switch(Ie!==Xe.CODE_STOP&&($e=!1),Ie){case Xe.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_B:!tn&&Ut?(tn=!0,Ut=!1):tn&&Ut?(tn=!1,Ut=!1):Ut=!0;break;case Xe.CODE_SHIFT:Z=!0,L=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_A:L=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_C:L=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:q=!0;break}break;case Xe.CODE_CODE_C:if(Ie<100)Ie<10&&(te+="0"),te+=Ie;else switch(Ie!==Xe.CODE_STOP&&($e=!1),Ie){case Xe.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case Xe.CODE_CODE_A:L=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_B:L=Xe.CODE_CODE_B;break;case Xe.CODE_STOP:q=!0;break}break}_a&&(L=L===Xe.CODE_CODE_A?Xe.CODE_CODE_B:Xe.CODE_CODE_A)}const Ts=de-le;if(de=h.getNextUnset(de),!h.isRange(de,Math.min(h.getSize(),de+(de-le)/2),!1))throw new J;if(Ke-=Ye*be,Ke%103!==be)throw new A;const Oo=te.length;if(Oo===0)throw new J;Oo>0&&$e&&(L===Xe.CODE_CODE_C?te=te.substring(0,Oo-2):te=te.substring(0,Oo-1));const hi=(v[1]+v[0])/2,Mn=le+Ts/2,Fr=N.length,cs=new Uint8Array(Fr);for(let _a=0;_a<Fr;_a++)cs[_a]=N[_a];const Gl=[new nt(hi,l),new nt(Mn,l)];return new Re(te,cs,0,Gl,Me.CODE_128,new Date().getTime())}}Xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Xe.MAX_AVG_VARIANCE=.25,Xe.MAX_INDIVIDUAL_VARIANCE=.7,Xe.CODE_SHIFT=98,Xe.CODE_CODE_C=99,Xe.CODE_CODE_B=100,Xe.CODE_CODE_A=101,Xe.CODE_FNC_1=102,Xe.CODE_FNC_2=97,Xe.CODE_FNC_3=96,Xe.CODE_FNC_4_A=101,Xe.CODE_FNC_4_B=100,Xe.CODE_START_A=103,Xe.CODE_START_B=104,Xe.CODE_START_C=105,Xe.CODE_STOP=106;class Xn extends Qn{constructor(l=!1,h=!1){super(),this.usingCheckDigit=l,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,h,d){let y=this.counters;y.fill(0),this.decodeRowResult="";let v=Xn.findAsteriskPattern(h,y),x=h.getNextSet(v[1]),E=h.getSize(),N,L;do{Xn.recordPattern(h,x,y);let me=Xn.toNarrowWidePattern(y);if(me<0)throw new J;N=Xn.patternToChar(me),this.decodeRowResult+=N,L=x;for(let be of y)x+=be;x=h.getNextSet(x)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let q=0;for(let me of y)q+=me;let Z=x-L-q;if(x!==E&&Z*2<q)throw new J;if(this.usingCheckDigit){let me=this.decodeRowResult.length-1,be=0;for(let Ie=0;Ie<me;Ie++)be+=Xn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ie));if(this.decodeRowResult.charAt(me)!==Xn.ALPHABET_STRING.charAt(be%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,me)}if(this.decodeRowResult.length===0)throw new J;let te;this.extendedMode?te=Xn.decodeExtended(this.decodeRowResult):te=this.decodeRowResult;let le=(v[1]+v[0])/2,de=L+q/2;return new Re(te,null,0,[new nt(le,l),new nt(de,l)],Me.CODE_39,new Date().getTime())}static findAsteriskPattern(l,h){let d=l.getSize(),y=l.getNextSet(0),v=0,x=y,E=!1,N=h.length;for(let L=y;L<d;L++)if(l.get(L)!==E)h[v]++;else{if(v===N-1){if(this.toNarrowWidePattern(h)===Xn.ASTERISK_ENCODING&&l.isRange(Math.max(0,x-Math.floor((L-x)/2)),x,!1))return[x,L];x+=h[0]+h[1],h.copyWithin(0,2,2+v-1),h[v-1]=0,h[v]=0,v--}else v++;h[v]=1,E=!E}throw new J}static toNarrowWidePattern(l){let h=l.length,d=0,y;do{let v=2147483647;for(let N of l)N<v&&N>d&&(v=N);d=v,y=0;let x=0,E=0;for(let N=0;N<h;N++){let L=l[N];L>d&&(E|=1<<h-1-N,y++,x+=L)}if(y===3){for(let N=0;N<h&&y>0;N++){let L=l[N];if(L>d&&(y--,L*2>=x))return-1}return E}}while(y>3);return-1}static patternToChar(l){for(let h=0;h<Xn.CHARACTER_ENCODINGS.length;h++)if(Xn.CHARACTER_ENCODINGS[h]===l)return Xn.ALPHABET_STRING.charAt(h);if(l===Xn.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(l){let h=l.length,d="";for(let y=0;y<h;y++){let v=l.charAt(y);if(v==="+"||v==="$"||v==="%"||v==="/"){let x=l.charAt(y+1),E="\0";switch(v){case"+":if(x>="A"&&x<="Z")E=String.fromCharCode(x.charCodeAt(0)+32);else throw new O;break;case"$":if(x>="A"&&x<="Z")E=String.fromCharCode(x.charCodeAt(0)-64);else throw new O;break;case"%":if(x>="A"&&x<="E")E=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")E=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")E=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")E=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")E="\0";else if(x==="V")E="@";else if(x==="W")E="`";else if(x==="X"||x==="Y"||x==="Z")E="";else throw new O;break;case"/":if(x>="A"&&x<="O")E=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")E=":";else throw new O;break}d+=E,y++}else d+=v}return d}}Xn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Xn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Xn.ASTERISK_ENCODING=148;class cn extends Qn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,h,d){let y=this.decodeStart(h),v=this.decodeEnd(h),x=new $;cn.decodeMiddle(h,y[1],v[0],x);let E=x.toString(),N=null;d!=null&&(N=d.get(B.ALLOWED_LENGTHS)),N==null&&(N=cn.DEFAULT_ALLOWED_LENGTHS);let L=E.length,q=!1,Z=0;for(let de of N){if(L===de){q=!0;break}de>Z&&(Z=de)}if(!q&&L>Z&&(q=!0),!q)throw new O;const te=[new nt(y[1],l),new nt(v[0],l)];return new Re(E,null,0,te,Me.ITF,new Date().getTime())}static decodeMiddle(l,h,d,y){let v=new Int32Array(10),x=new Int32Array(5),E=new Int32Array(5);for(v.fill(0),x.fill(0),E.fill(0);h<d;){Qn.recordPattern(l,h,v);for(let L=0;L<5;L++){let q=2*L;x[L]=v[q],E[L]=v[q+1]}let N=cn.decodeDigit(x);y.append(N.toString()),N=this.decodeDigit(E),y.append(N.toString()),v.forEach(function(L){h+=L})}}decodeStart(l){let h=cn.skipWhiteSpace(l),d=cn.findGuardPattern(l,h,cn.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(l,d[0]),d}validateQuietZone(l,h){let d=this.narrowLineWidth*10;d=d<h?d:h;for(let y=h-1;d>0&&y>=0&&!l.get(y);y--)d--;if(d!==0)throw new J}static skipWhiteSpace(l){const h=l.getSize(),d=l.getNextSet(0);if(d===h)throw new J;return d}decodeEnd(l){l.reverse();try{let h=cn.skipWhiteSpace(l),d;try{d=cn.findGuardPattern(l,h,cn.END_PATTERN_REVERSED[0])}catch(v){v instanceof J&&(d=cn.findGuardPattern(l,h,cn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,d[0]);let y=d[0];return d[0]=l.getSize()-d[1],d[1]=l.getSize()-y,d}finally{l.reverse()}}static findGuardPattern(l,h,d){let y=d.length,v=new Int32Array(y),x=l.getSize(),E=!1,N=0,L=h;v.fill(0);for(let q=h;q<x;q++)if(l.get(q)!==E)v[N]++;else{if(N===y-1){if(Qn.patternMatchVariance(v,d,cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return[L,q];L+=v[0]+v[1],_.arraycopy(v,2,v,0,N-1),v[N-1]=0,v[N]=0,N--}else N++;v[N]=1,E=!E}throw new J}static decodeDigit(l){let h=cn.MAX_AVG_VARIANCE,d=-1,y=cn.PATTERNS.length;for(let v=0;v<y;v++){let x=cn.PATTERNS[v],E=Qn.patternMatchVariance(l,x,cn.MAX_INDIVIDUAL_VARIANCE);E<h?(h=E,d=v):E===h&&(d=-1)}if(d>=0)return d%10;throw new J}}cn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],cn.MAX_AVG_VARIANCE=.38,cn.MAX_INDIVIDUAL_VARIANCE=.5,cn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],cn.START_PATTERN=Int32Array.from([1,1,1,1]),cn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ln extends Qn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let h=!1,d,y=0,v=Int32Array.from([0,0,0]);for(;!h;){v=Int32Array.from([0,0,0]),d=Ln.findGuardPattern(l,y,!1,this.START_END_PATTERN,v);let x=d[0];y=d[1];let E=x-(y-x);E>=0&&(h=l.isRange(E,x,!1))}return d}static checkChecksum(l){return Ln.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let d=parseInt(l.charAt(h-1),10);return Ln.getStandardUPCEANChecksum(l.substring(0,h-1))===d}static getStandardUPCEANChecksum(l){let h=l.length,d=0;for(let y=h-1;y>=0;y-=2){let v=l.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new O;d+=v}d*=3;for(let y=h-2;y>=0;y-=2){let v=l.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new O;d+=v}return(1e3-d)%10}static decodeEnd(l,h){return Ln.findGuardPattern(l,h,!1,Ln.START_END_PATTERN,new Int32Array(Ln.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,h,d,y){return this.findGuardPattern(l,h,d,y,new Int32Array(y.length))}static findGuardPattern(l,h,d,y,v){let x=l.getSize();h=d?l.getNextUnset(h):l.getNextSet(h);let E=0,N=h,L=y.length,q=d;for(let Z=h;Z<x;Z++)if(l.get(Z)!==q)v[E]++;else{if(E===L-1){if(Qn.patternMatchVariance(v,y,Ln.MAX_INDIVIDUAL_VARIANCE)<Ln.MAX_AVG_VARIANCE)return Int32Array.from([N,Z]);N+=v[0]+v[1];let te=v.slice(2,v.length-1);for(let le=0;le<E-1;le++)v[le]=te[le];v[E-1]=0,v[E]=0,E--}else E++;v[E]=1,q=!q}throw new J}static decodeDigit(l,h,d,y){this.recordPattern(l,d,h);let v=this.MAX_AVG_VARIANCE,x=-1,E=y.length;for(let N=0;N<E;N++){let L=y[N],q=Qn.patternMatchVariance(h,L,Ln.MAX_INDIVIDUAL_VARIANCE);q<v&&(v=q,x=N)}if(x>=0)return x;throw new J}}Ln.MAX_AVG_VARIANCE=.48,Ln.MAX_INDIVIDUAL_VARIANCE=.7,Ln.START_END_PATTERN=Int32Array.from([1,1,1]),Ln.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ln.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ln.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class is{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,d){let y=this.decodeRowStringBuffer,v=this.decodeMiddle(h,d,y),x=y.toString(),E=is.parseExtensionString(x),N=[new nt((d[0]+d[1])/2,l),new nt(v,l)],L=new Re(x,null,0,N,Me.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&L.putAllMetadata(E),L}decodeMiddle(l,h,d){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x=h[1],E=0;for(let L=0;L<5&&x<v;L++){let q=Ln.decodeDigit(l,y,x,Ln.L_AND_G_PATTERNS);d+=String.fromCharCode(48+q%10);for(let Z of y)x+=Z;q>=10&&(E|=1<<4-L),L!==4&&(x=l.getNextSet(x),x=l.getNextUnset(x))}if(d.length!==5)throw new J;let N=this.determineCheckDigit(E);if(is.extensionChecksum(d.toString())!==N)throw new J;return x}static extensionChecksum(l){let h=l.length,d=0;for(let y=h-2;y>=0;y-=2)d+=l.charAt(y).charCodeAt(0)-48;d*=3;for(let y=h-1;y>=0;y-=2)d+=l.charAt(y).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(l){for(let h=0;h<10;h++)if(l===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new J}static parseExtensionString(l){if(l.length!==5)return null;let h=is.parseExtension5String(l);return h==null?null:new Map([[De.SUGGESTED_PRICE,h]])}static parseExtension5String(l){let h;switch(l.charAt(0)){case"0":h="£";break;case"5":h="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let d=parseInt(l.substring(1)),y=(d/100).toString(),v=d%100,x=v<10?"0"+v:v.toString();return h+y+"."+x}}class Pi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,d){let y=this.decodeRowStringBuffer,v=this.decodeMiddle(h,d,y),x=y.toString(),E=Pi.parseExtensionString(x),N=[new nt((d[0]+d[1])/2,l),new nt(v,l)],L=new Re(x,null,0,N,Me.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&L.putAllMetadata(E),L}decodeMiddle(l,h,d){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x=h[1],E=0;for(let N=0;N<2&&x<v;N++){let L=Ln.decodeDigit(l,y,x,Ln.L_AND_G_PATTERNS);d+=String.fromCharCode(48+L%10);for(let q of y)x+=q;L>=10&&(E|=1<<1-N),N!==1&&(x=l.getNextSet(x),x=l.getNextUnset(x))}if(d.length!==2)throw new J;if(parseInt(d.toString())%4!==E)throw new J;return x}static parseExtensionString(l){return l.length!==2?null:new Map([[De.ISSUE_NUMBER,parseInt(l)]])}}class Aa{static decodeRow(l,h,d){let y=Ln.findGuardPattern(h,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new is().decodeRow(l,h,y)}catch{return new Pi().decodeRow(l,h,y)}}}Aa.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Vt extends Ln{constructor(){super(),this.decodeRowStringBuffer="",Vt.L_AND_G_PATTERNS=Vt.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let h=Vt.L_PATTERNS[l-10],d=new Int32Array(h.length);for(let y=0;y<h.length;y++)d[y]=h[h.length-y-1];Vt.L_AND_G_PATTERNS[l]=d}}decodeRow(l,h,d){let y=Vt.findStartGuardPattern(h),v=d==null?null:d.get(B.NEED_RESULT_POINT_CALLBACK);if(v!=null){const $e=new nt((y[0]+y[1])/2,l);v.foundPossibleResultPoint($e)}let x=this.decodeMiddle(h,y,this.decodeRowStringBuffer),E=x.rowOffset,N=x.resultString;if(v!=null){const $e=new nt(E,l);v.foundPossibleResultPoint($e)}let L=this.decodeEnd(h,E);if(v!=null){const $e=new nt((L[0]+L[1])/2,l);v.foundPossibleResultPoint($e)}let q=L[1],Z=q+(q-L[0]);if(Z>=h.getSize()||!h.isRange(q,Z,!1))throw new J;let te=N.toString();if(te.length<8)throw new O;if(!Vt.checkChecksum(te))throw new A;let le=(y[1]+y[0])/2,de=(L[1]+L[0])/2,me=this.getBarcodeFormat(),be=[new nt(le,l),new nt(de,l)],Ie=new Re(te,null,0,be,me,new Date().getTime()),Ke=0;try{let $e=Aa.decodeRow(l,h,L[1]);Ie.putMetadata(De.UPC_EAN_EXTENSION,$e.getText()),Ie.putAllMetadata($e.getResultMetadata()),Ie.addResultPoints($e.getResultPoints()),Ke=$e.getText().length}catch{}let Ye=d==null?null:d.get(B.ALLOWED_EAN_EXTENSIONS);if(Ye!=null){let $e=!1;for(let tn in Ye)if(Ke.toString()===tn){$e=!0;break}if(!$e)throw new J}return Ie}decodeEnd(l,h){return Vt.findGuardPattern(l,h,!1,Vt.START_END_PATTERN,new Int32Array(Vt.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Vt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let d=parseInt(l.charAt(h-1),10);return Vt.getStandardUPCEANChecksum(l.substring(0,h-1))===d}static getStandardUPCEANChecksum(l){let h=l.length,d=0;for(let y=h-1;y>=0;y-=2){let v=l.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new O;d+=v}d*=3;for(let y=h-2;y>=0;y-=2){let v=l.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new O;d+=v}return(1e3-d)%10}}class ai extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,d){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x=h[1],E=0;for(let L=0;L<6&&x<v;L++){let q=Vt.decodeDigit(l,y,x,Vt.L_AND_G_PATTERNS);d+=String.fromCharCode(48+q%10);for(let Z of y)x+=Z;q>=10&&(E|=1<<5-L)}d=ai.determineFirstDigit(d,E),x=Vt.findGuardPattern(l,x,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let L=0;L<6&&x<v;L++){let q=Vt.decodeDigit(l,y,x,Vt.L_PATTERNS);d+=String.fromCharCode(48+q);for(let Z of y)x+=Z}return{rowOffset:x,resultString:d}}getBarcodeFormat(){return Me.EAN_13}static determineFirstDigit(l,h){for(let d=0;d<10;d++)if(h===this.FIRST_DIGIT_ENCODINGS[d])return l=String.fromCharCode(48+d)+l,l;throw new J}}ai.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Wo extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,d){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x=h[1];for(let N=0;N<4&&x<v;N++){let L=Vt.decodeDigit(l,y,x,Vt.L_PATTERNS);d+=String.fromCharCode(48+L);for(let q of y)x+=q}x=Vt.findGuardPattern(l,x,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&x<v;N++){let L=Vt.decodeDigit(l,y,x,Vt.L_PATTERNS);d+=String.fromCharCode(48+L);for(let q of y)x+=q}return{rowOffset:x,resultString:d}}getBarcodeFormat(){return Me.EAN_8}}class At extends Vt{constructor(){super(...arguments),this.ean13Reader=new ai}getBarcodeFormat(){return Me.UPC_A}decode(l,h){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,h,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,h,d))}decodeMiddle(l,h,d){return this.ean13Reader.decodeMiddle(l,h,d)}maybeReturnResult(l){let h=l.getText();if(h.charAt(0)==="0"){let d=new Re(h.substring(1),null,null,l.getResultPoints(),Me.UPC_A);return l.getResultMetadata()!=null&&d.putAllMetadata(l.getResultMetadata()),d}else throw new J}reset(){this.ean13Reader.reset()}}class un extends Vt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,h,d){const y=this.decodeMiddleCounters.map(L=>L);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const v=l.getSize();let x=h[1],E=0;for(let L=0;L<6&&x<v;L++){const q=un.decodeDigit(l,y,x,un.L_AND_G_PATTERNS);d+=String.fromCharCode(48+q%10);for(let Z of y)x+=Z;q>=10&&(E|=1<<5-L)}let N=un.determineNumSysAndCheckDigit(d,E);return{rowOffset:x,resultString:N}}decodeEnd(l,h){return un.findGuardPatternWithoutCounters(l,h,!0,un.MIDDLE_END_PATTERN)}checkChecksum(l){return Vt.checkChecksum(un.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,h){for(let d=0;d<=1;d++)for(let y=0;y<10;y++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][y]){let v=String.fromCharCode(48+d),x=String.fromCharCode(48+y);return v+l+x}throw J.getNotFoundInstance()}getBarcodeFormat(){return Me.UPC_E}static convertUPCEtoUPCA(l){const h=l.slice(1,7).split("").map(v=>v.charCodeAt(0)),d=new $;d.append(l.charAt(0));let y=h[5];switch(y){case 0:case 1:case 2:d.appendChars(h,0,2),d.append(y),d.append("0000"),d.appendChars(h,2,3);break;case 3:d.appendChars(h,0,3),d.append("00000"),d.appendChars(h,3,2);break;case 4:d.appendChars(h,0,4),d.append("00000"),d.append(h[4]);break;default:d.appendChars(h,0,5),d.append("0000"),d.append(y);break}return l.length>=8&&d.append(l.charAt(7)),d.toString()}}un.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Zn extends Qn{constructor(l){super();let h=l==null?null:l.get(B.POSSIBLE_FORMATS),d=[];r(h)?(d.push(new ai),d.push(new At),d.push(new Wo),d.push(new un)):(h.indexOf(Me.EAN_13)>-1&&d.push(new ai),h.indexOf(Me.UPC_A)>-1&&d.push(new At),h.indexOf(Me.EAN_8)>-1&&d.push(new Wo),h.indexOf(Me.UPC_E)>-1&&d.push(new un)),this.readers=d}decodeRow(l,h,d){for(let y of this.readers)try{const v=y.decodeRow(l,h,d),x=v.getBarcodeFormat()===Me.EAN_13&&v.getText().charAt(0)==="0",E=d==null?null:d.get(B.POSSIBLE_FORMATS),N=E==null||E.includes(Me.UPC_A);if(x&&N){const L=v.getRawBytes(),q=new Re(v.getText().substring(1),L,L?L.length:null,v.getResultPoints(),Me.UPC_A);return q.putAllMetadata(v.getResultMetadata()),q}return v}catch{}throw new J}reset(){for(let l of this.readers)l.reset()}}class fn extends Qn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,h){for(let d=0;d<h.length;d++)if(Qn.patternMatchVariance(l,h[d],fn.MAX_INDIVIDUAL_VARIANCE)<fn.MAX_AVG_VARIANCE)return d;throw new J}static count(l){return xt.sum(new Int32Array(l))}static increment(l,h){let d=0,y=h[0];for(let v=1;v<l.length;v++)h[v]>y&&(y=h[v],d=v);l[d]++}static decrement(l,h){let d=0,y=h[0];for(let v=1;v<l.length;v++)h[v]<y&&(y=h[v],d=v);l[d]--}static isFinderPattern(l){let h=l[0]+l[1],d=h+l[2]+l[3],y=h/d;if(y>=fn.MIN_FINDER_PATTERN_RATIO&&y<=fn.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let E of l)E>x&&(x=E),E<v&&(v=E);return x<10*v}return!1}}fn.MAX_AVG_VARIANCE=.2,fn.MAX_INDIVIDUAL_VARIANCE=.45,fn.MIN_FINDER_PATTERN_RATIO=9.5/12,fn.MAX_FINDER_PATTERN_RATIO=12.5/14;class li{constructor(l,h){this.value=l,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof li))return!1;const h=l;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Jn{constructor(l,h,d,y,v){this.value=l,this.startEnd=h,this.value=l,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new nt(d,v)),this.resultPoints.push(new nt(y,v))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Jn))return!1;const h=l;return this.value===h.value}hashCode(){return this.value}}class $t{constructor(){}static getRSSvalue(l,h,d){let y=0;for(let N of l)y+=N;let v=0,x=0,E=l.length;for(let N=0;N<E-1;N++){let L;for(L=1,x|=1<<N;L<l[N];L++,x&=~(1<<N)){let q=$t.combins(y-L-1,E-N-2);if(d&&x===0&&y-L-(E-N-1)>=E-N-1&&(q-=$t.combins(y-L-(E-N),E-N-2)),E-N-1>1){let Z=0;for(let te=y-L-(E-N-2);te>h;te--)Z+=$t.combins(y-L-te-1,E-N-3);q-=Z*(E-1-N)}else y-L>h&&q--;v+=q}y-=L}return v}static combins(l,h){let d,y;l-h>h?(y=h,d=l-h):(y=l-h,d=h);let v=1,x=1;for(let E=l;E>d;E--)v*=E,x<=y&&(v/=x,x++);for(;x<=y;)v/=x,x++;return v}}class _o{static buildBitArray(l){let h=l.length*2-1;l[l.length-1].getRightChar()==null&&(h-=1);let d=12*h,y=new U(d),v=0,E=l[0].getRightChar().getValue();for(let N=11;N>=0;--N)(E&1<<N)!=0&&y.set(v),v++;for(let N=1;N<l.length;++N){let L=l[N],q=L.getLeftChar().getValue();for(let Z=11;Z>=0;--Z)(q&1<<Z)!=0&&y.set(v),v++;if(L.getRightChar()!=null){let Z=L.getRightChar().getValue();for(let te=11;te>=0;--te)(Z&1<<te)!=0&&y.set(v),v++}}return y}}class On{constructor(l,h){h?this.decodedInformation=null:(this.finished=l,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class jr{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class wr extends jr{constructor(l,h){super(l),this.value=h}getValue(){return this.value}isFNC1(){return this.value===wr.FNC1}}wr.FNC1="$";class qr extends jr{constructor(l,h,d){super(l),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class xr extends jr{constructor(l,h,d){if(super(l),h<0||h>10||d<0||d>10)throw new O;this.firstDigit=h,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===xr.FNC1}isSecondDigitFNC1(){return this.secondDigit===xr.FNC1}isAnyFNC1(){return this.firstDigit===xr.FNC1||this.secondDigit===xr.FNC1}}xr.FNC1=10;class rt{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new J;let h=l.substring(0,2);for(let v of rt.TWO_DIGIT_DATA_LENGTH)if(v[0]===h)return v[1]===rt.VARIABLE_LENGTH?rt.processVariableAI(2,v[2],l):rt.processFixedAI(2,v[1],l);if(l.length<3)throw new J;let d=l.substring(0,3);for(let v of rt.THREE_DIGIT_DATA_LENGTH)if(v[0]===d)return v[1]===rt.VARIABLE_LENGTH?rt.processVariableAI(3,v[2],l):rt.processFixedAI(3,v[1],l);for(let v of rt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(v[0]===d)return v[1]===rt.VARIABLE_LENGTH?rt.processVariableAI(4,v[2],l):rt.processFixedAI(4,v[1],l);if(l.length<4)throw new J;let y=l.substring(0,4);for(let v of rt.FOUR_DIGIT_DATA_LENGTH)if(v[0]===y)return v[1]===rt.VARIABLE_LENGTH?rt.processVariableAI(4,v[2],l):rt.processFixedAI(4,v[1],l);throw new J}static processFixedAI(l,h,d){if(d.length<l)throw new J;let y=d.substring(0,l);if(d.length<l+h)throw new J;let v=d.substring(l,l+h),x=d.substring(l+h),E="("+y+")"+v,N=rt.parseFieldsInGeneralPurpose(x);return N==null?E:E+N}static processVariableAI(l,h,d){let y=d.substring(0,l),v;d.length<l+h?v=d.length:v=l+h;let x=d.substring(l,v),E=d.substring(v),N="("+y+")"+x,L=rt.parseFieldsInGeneralPurpose(E);return L==null?N:N+L}}rt.VARIABLE_LENGTH=[],rt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",rt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",rt.VARIABLE_LENGTH,20],["22",rt.VARIABLE_LENGTH,29],["30",rt.VARIABLE_LENGTH,8],["37",rt.VARIABLE_LENGTH,8],["90",rt.VARIABLE_LENGTH,30],["91",rt.VARIABLE_LENGTH,30],["92",rt.VARIABLE_LENGTH,30],["93",rt.VARIABLE_LENGTH,30],["94",rt.VARIABLE_LENGTH,30],["95",rt.VARIABLE_LENGTH,30],["96",rt.VARIABLE_LENGTH,30],["97",rt.VARIABLE_LENGTH,3],["98",rt.VARIABLE_LENGTH,30],["99",rt.VARIABLE_LENGTH,30]],rt.THREE_DIGIT_DATA_LENGTH=[["240",rt.VARIABLE_LENGTH,30],["241",rt.VARIABLE_LENGTH,30],["242",rt.VARIABLE_LENGTH,6],["250",rt.VARIABLE_LENGTH,30],["251",rt.VARIABLE_LENGTH,30],["253",rt.VARIABLE_LENGTH,17],["254",rt.VARIABLE_LENGTH,20],["400",rt.VARIABLE_LENGTH,30],["401",rt.VARIABLE_LENGTH,30],["402",17],["403",rt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",rt.VARIABLE_LENGTH,20],["421",rt.VARIABLE_LENGTH,15],["422",3],["423",rt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],rt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",rt.VARIABLE_LENGTH,15],["391",rt.VARIABLE_LENGTH,18],["392",rt.VARIABLE_LENGTH,15],["393",rt.VARIABLE_LENGTH,18],["703",rt.VARIABLE_LENGTH,30]],rt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",rt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",rt.VARIABLE_LENGTH,20],["8003",rt.VARIABLE_LENGTH,30],["8004",rt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",rt.VARIABLE_LENGTH,30],["8008",rt.VARIABLE_LENGTH,12],["8018",18],["8020",rt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",rt.VARIABLE_LENGTH,70],["8200",rt.VARIABLE_LENGTH,70]];class Za{constructor(l){this.buffer=new $,this.information=l}decodeAllCodes(l,h){let d=h,y=null;do{let v=this.decodeGeneralPurposeField(d,y),x=rt.parseFieldsInGeneralPurpose(v.getNewString());if(x!=null&&l.append(x),v.isRemaining()?y=""+v.getRemainingValue():y=null,d===v.getNewPosition())break;d=v.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let h=l;h<l+3;++h)if(this.information.get(h))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let v=this.extractNumericValueFromBitArray(l,4);return v===0?new xr(this.information.getSize(),xr.FNC1,xr.FNC1):new xr(this.information.getSize(),v-1,xr.FNC1)}let h=this.extractNumericValueFromBitArray(l,7),d=(h-8)/11,y=(h-8)%11;return new xr(l+7,d,y)}extractNumericValueFromBitArray(l,h){return Za.extractNumericValueFromBitArray(this.information,l,h)}static extractNumericValueFromBitArray(l,h,d){let y=0;for(let v=0;v<d;++v)l.get(h+v)&&(y|=1<<d-v-1);return y}decodeGeneralPurposeField(l,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(l);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new qr(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,h;do{let d=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),l=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),l=h.isFinished()):(h=this.parseNumericBlock(),l=h.isFinished()),!(d!==this.current.getPosition())&&!l)break}while(!l);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let h;return l.isSecondDigitFNC1()?h=new qr(this.current.getPosition(),this.buffer.toString()):h=new qr(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new On(!0,h)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let h=new qr(this.current.getPosition(),this.buffer.toString());return new On(!0,h)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new On(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new qr(this.current.getPosition(),this.buffer.toString());return new On(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new On(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new qr(this.current.getPosition(),this.buffer.toString());return new On(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new On(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,7);if(d>=64&&d<116)return!0;if(l+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(l,8);return y>=232&&y<253}decodeIsoIec646(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new wr(l+5,wr.FNC1);if(h>=5&&h<15)return new wr(l+5,"0"+(h-5));let d=this.extractNumericValueFromBitArray(l,7);if(d>=64&&d<90)return new wr(l+7,""+(d+1));if(d>=90&&d<116)return new wr(l+7,""+(d+7));let y=this.extractNumericValueFromBitArray(l,8),v;switch(y){case 232:v="!";break;case 233:v='"';break;case 234:v="%";break;case 235:v="&";break;case 236:v="'";break;case 237:v="(";break;case 238:v=")";break;case 239:v="*";break;case 240:v="+";break;case 241:v=",";break;case 242:v="-";break;case 243:v=".";break;case 244:v="/";break;case 245:v=":";break;case 246:v=";";break;case 247:v="<";break;case 248:v="=";break;case 249:v=">";break;case 250:v="?";break;case 251:v="_";break;case 252:v=" ";break;default:throw new O}return new wr(l+8,v)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,6);return d>=16&&d<63}decodeAlphanumeric(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new wr(l+5,wr.FNC1);if(h>=5&&h<15)return new wr(l+5,"0"+(h-5));let d=this.extractNumericValueFromBitArray(l,6);if(d>=32&&d<58)return new wr(l+6,""+(d+33));let y;switch(d){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Ft("Decoding invalid alphanumeric value: "+d)}return new wr(l+6,y)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<5&&h+l<this.information.getSize();++h)if(h===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+h))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let h=l;h<l+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<4&&h+l<this.information.getSize();++h)if(this.information.get(l+h))return!1;return!0}}class Ja{constructor(l){this.information=l,this.generalDecoder=new Za(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ni extends Ja{constructor(l){super(l)}encodeCompressedGtin(l,h){l.append("(01)");let d=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,h,d)}encodeCompressedGtinWithoutAI(l,h,d){for(let y=0;y<4;++y){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*y,10);v/100===0&&l.append("0"),v/10===0&&l.append("0"),l.append(v)}Ni.appendCheckDigit(l,d)}static appendCheckDigit(l,h){let d=0;for(let y=0;y<13;y++){let v=l.charAt(y+h).charCodeAt(0)-48;d+=(y&1)===0?3*v:v}d=10-d%10,d===10&&(d=0),l.append(d)}}Ni.GTIN_SIZE=40;class $i extends Ni{constructor(l){super(l)}parseInformation(){let l=new $;l.append("(01)");let h=l.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray($i.HEADER_SIZE,4);return l.append(d),this.encodeCompressedGtinWithoutAI(l,$i.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(l,$i.HEADER_SIZE+44)}}$i.HEADER_SIZE=4;class Ko extends Ja{constructor(l){super(l)}parseInformation(){let l=new $;return this.getGeneralDecoder().decodeAllCodes(l,Ko.HEADER_SIZE)}}Ko.HEADER_SIZE=5;class xs extends Ni{constructor(l){super(l)}encodeCompressedWeight(l,h,d){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(h,d);this.addWeightCode(l,y);let v=this.checkWeight(y),x=1e5;for(let E=0;E<5;++E)v/x===0&&l.append("0"),x/=10;l.append(v)}}class zs extends xs{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=zs.HEADER_SIZE+xs.GTIN_SIZE+zs.WEIGHT_SIZE)throw new J;let l=new $;return this.encodeCompressedGtin(l,zs.HEADER_SIZE),this.encodeCompressedWeight(l,zs.HEADER_SIZE+xs.GTIN_SIZE,zs.WEIGHT_SIZE),l.toString()}}zs.HEADER_SIZE=5,zs.WEIGHT_SIZE=15;class yf extends zs{constructor(l){super(l)}addWeightCode(l,h){l.append("(3103)")}checkWeight(l){return l}}class Gc extends zs{constructor(l){super(l)}addWeightCode(l,h){h<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class ss extends Ni{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ss.HEADER_SIZE+Ni.GTIN_SIZE)throw new J;let l=new $;this.encodeCompressedGtin(l,ss.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(ss.HEADER_SIZE+Ni.GTIN_SIZE,ss.LAST_DIGIT_SIZE);l.append("(392"),l.append(h),l.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(ss.HEADER_SIZE+Ni.GTIN_SIZE+ss.LAST_DIGIT_SIZE,null);return l.append(d.getNewString()),l.toString()}}ss.HEADER_SIZE=8,ss.LAST_DIGIT_SIZE=2;class ci extends Ni{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ci.HEADER_SIZE+Ni.GTIN_SIZE)throw new J;let l=new $;this.encodeCompressedGtin(l,ci.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(ci.HEADER_SIZE+Ni.GTIN_SIZE,ci.LAST_DIGIT_SIZE);l.append("(393"),l.append(h),l.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(ci.HEADER_SIZE+Ni.GTIN_SIZE+ci.LAST_DIGIT_SIZE,ci.FIRST_THREE_DIGITS_SIZE);d/100==0&&l.append("0"),d/10==0&&l.append("0"),l.append(d);let y=this.getGeneralDecoder().decodeGeneralPurposeField(ci.HEADER_SIZE+Ni.GTIN_SIZE+ci.LAST_DIGIT_SIZE+ci.FIRST_THREE_DIGITS_SIZE,null);return l.append(y.getNewString()),l.toString()}}ci.HEADER_SIZE=8,ci.LAST_DIGIT_SIZE=2,ci.FIRST_THREE_DIGITS_SIZE=10;class $n extends xs{constructor(l,h,d){super(l),this.dateCode=d,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=$n.HEADER_SIZE+$n.GTIN_SIZE+$n.WEIGHT_SIZE+$n.DATE_SIZE)throw new J;let l=new $;return this.encodeCompressedGtin(l,$n.HEADER_SIZE),this.encodeCompressedWeight(l,$n.HEADER_SIZE+$n.GTIN_SIZE,$n.WEIGHT_SIZE),this.encodeCompressedDate(l,$n.HEADER_SIZE+$n.GTIN_SIZE+$n.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,h){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(h,$n.DATE_SIZE);if(d==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let y=d%32;d/=32;let v=d%12+1;d/=12;let x=d;x/10==0&&l.append("0"),l.append(x),v/10==0&&l.append("0"),l.append(v),y/10==0&&l.append("0"),l.append(y)}addWeightCode(l,h){l.append("("),l.append(this.firstAIdigits),l.append(h/1e5),l.append(")")}checkWeight(l){return l%1e5}}$n.HEADER_SIZE=8,$n.WEIGHT_SIZE=20,$n.DATE_SIZE=16;function td(X){try{if(X.get(1))return new $i(X);if(!X.get(2))return new Ko(X);switch(Za.extractNumericValueFromBitArray(X,1,4)){case 4:return new yf(X);case 5:return new Gc(X)}switch(Za.extractNumericValueFromBitArray(X,1,5)){case 12:return new ss(X);case 13:return new ci(X)}switch(Za.extractNumericValueFromBitArray(X,1,7)){case 56:return new $n(X,"310","11");case 57:return new $n(X,"320","11");case 58:return new $n(X,"310","13");case 59:return new $n(X,"320","13");case 60:return new $n(X,"310","15");case 61:return new $n(X,"320","15");case 62:return new $n(X,"310","17");case 63:return new $n(X,"320","17")}}catch(l){throw console.log(l),new Ft("unknown decoder: "+X)}}class vn{constructor(l,h,d,y){this.leftchar=l,this.rightchar=h,this.finderpattern=d,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,h){return l instanceof vn?vn.equalsOrNull(l.leftchar,h.leftchar)&&vn.equalsOrNull(l.rightchar,h.rightchar)&&vn.equalsOrNull(l.finderpattern,h.finderpattern):!1}static equalsOrNull(l,h){return l===null?h===null:vn.equals(l,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class qc{constructor(l,h,d){this.pairs=l,this.rowNumber=h,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,h){return l instanceof qc?this.checkEqualitity(l,h)&&l.wasReversed===h.wasReversed:!1}checkEqualitity(l,h){if(!l||!h)return;let d;return l.forEach((y,v)=>{h.forEach(x=>{y.getLeftChar().getValue()===x.getLeftChar().getValue()&&y.getRightChar().getValue()===x.getRightChar().getValue()&&y.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(d=!0)})}),d}}class Be extends fn{constructor(l){super(...arguments),this.pairs=new Array(Be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,h,d){this.pairs.length=0,this.startFromEven=!1;try{return Be.constructResult(this.decodeRow2pairs(l,h))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,Be.constructResult(this.decodeRow2pairs(l,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,h){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,l))}catch(v){if(v instanceof J){if(!this.pairs.length)throw new J;d=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(l,!1),y){let v=this.checkRowsBoolean(!1);if(v!=null||(v=this.checkRowsBoolean(!0),v!=null))return v}throw new J}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return l&&(this.rows=this.rows.reverse()),h}checkRows(l,h){for(let d=h;d<this.rows.length;d++){let y=this.rows[d];this.pairs.length=0;for(let x of l)this.pairs.push(x.getPairs());if(this.pairs.push(y.getPairs()),!Be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let v=new Array(l);v.push(y);try{return this.checkRows(v,d+1)}catch(x){this.verbose&&console.log(x)}}throw new J}static isValidSequence(l){for(let h of Be.FINDER_PATTERN_SEQUENCES){if(l.length>h.length)continue;let d=!0;for(let y=0;y<l.length;y++)if(l[y].getFinderPattern().getValue()!=h[y]){d=!1;break}if(d)return!0}return!1}storeRow(l,h){let d=0,y=!1,v=!1;for(;d<this.rows.length;){let x=this.rows[d];if(x.getRowNumber()>l){v=x.isEquivalent(this.pairs);break}y=x.isEquivalent(this.pairs),d++}v||y||Be.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new qc(this.pairs,l,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,h){for(let d of h)if(d.getPairs().length!==l.length){for(let y of d.getPairs())for(let v of l)if(vn.equals(y,v))break}}static isPartialRow(l,h){for(let d of h){let y=!0;for(let v of l){let x=!1;for(let E of d.getPairs())if(v.equals(E)){x=!0;break}if(!x){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(l){let h=_o.buildBitArray(l),y=td(h).parseInformation(),v=l[0].getFinderPattern().getResultPoints(),x=l[l.length-1].getFinderPattern().getResultPoints(),E=[v[0],v[1],x[0],x[1]];return new Re(y,null,null,E,Me.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),h=l.getLeftChar(),d=l.getRightChar();if(d==null)return!1;let y=d.getChecksumPortion(),v=2;for(let E=1;E<this.pairs.size();++E){let N=this.pairs.get(E);y+=N.getLeftChar().getChecksumPortion(),v++;let L=N.getRightChar();L!=null&&(y+=L.getChecksumPortion(),v++)}return y%=211,211*(v-4)+y==h.getValue()}static getNextSecondBar(l,h){let d;return l.get(h)?(d=l.getNextUnset(h),d=l.getNextSet(d)):(d=l.getNextSet(h),d=l.getNextUnset(d)),d}retrieveNextPair(l,h,d){let y=h.length%2==0;this.startFromEven&&(y=!y);let v,x=!0,E=-1;do this.findNextPair(l,h,E),v=this.parseFoundFinderPattern(l,d,y),v==null?E=Be.getNextSecondBar(l,this.startEnd[0]):x=!1;while(x);let N=this.decodeDataCharacter(l,v,y,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new J;let L;try{L=this.decodeDataCharacter(l,v,y,!1)}catch(q){L=null,this.verbose&&console.log(q)}return new vn(N,L,v,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,h,d){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x;d>=0?x=d:this.isEmptyPair(h)?x=0:x=h[h.length-1].getFinderPattern().getStartEnd()[1];let E=h.length%2!=0;this.startFromEven&&(E=!E);let N=!1;for(;x<v&&(N=!l.get(x),!!N);)x++;let L=0,q=x;for(let Z=x;Z<v;Z++)if(l.get(Z)!=N)y[L]++;else{if(L==3){if(E&&Be.reverseCounters(y),Be.isFinderPattern(y)){this.startEnd[0]=q,this.startEnd[1]=Z;return}E&&Be.reverseCounters(y),q+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,L--}else L++;y[L]=1,N=!N}throw new J}static reverseCounters(l){let h=l.length;for(let d=0;d<h/2;++d){let y=l[d];l[d]=l[h-d-1],l[h-d-1]=y}}parseFoundFinderPattern(l,h,d){let y,v,x;if(d){let L=this.startEnd[0]-1;for(;L>=0&&!l.get(L);)L--;L++,y=this.startEnd[0]-L,v=L,x=this.startEnd[1]}else v=this.startEnd[0],x=l.getNextUnset(this.startEnd[1]+1),y=x-this.startEnd[1];let E=this.getDecodeFinderCounters();_.arraycopy(E,0,E,1,E.length-1),E[0]=y;let N;try{N=this.parseFinderValue(E,Be.FINDER_PATTERNS)}catch{return null}return new Jn(N,[v,x],v,x,h)}decodeDataCharacter(l,h,d,y){let v=this.getDataCharacterCounters();for(let Mn=0;Mn<v.length;Mn++)v[Mn]=0;if(y)Be.recordPatternInReverse(l,h.getStartEnd()[0],v);else{Be.recordPattern(l,h.getStartEnd()[1],v);for(let Mn=0,Fr=v.length-1;Mn<Fr;Mn++,Fr--){let cs=v[Mn];v[Mn]=v[Fr],v[Fr]=cs}}let x=17,E=xt.sum(new Int32Array(v))/x,N=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(E-N)/N>.3)throw new J;let L=this.getOddCounts(),q=this.getEvenCounts(),Z=this.getOddRoundingErrors(),te=this.getEvenRoundingErrors();for(let Mn=0;Mn<v.length;Mn++){let Fr=1*v[Mn]/E,cs=Fr+.5;if(cs<1){if(Fr<.3)throw new J;cs=1}else if(cs>8){if(Fr>8.7)throw new J;cs=8}let Gl=Mn/2;(Mn&1)==0?(L[Gl]=cs,Z[Gl]=Fr-cs):(q[Gl]=cs,te[Gl]=Fr-cs)}this.adjustOddEvenCounts(x);let le=4*h.getValue()+(d?0:2)+(y?0:1)-1,de=0,me=0;for(let Mn=L.length-1;Mn>=0;Mn--){if(Be.isNotA1left(h,d,y)){let Fr=Be.WEIGHTS[le][2*Mn];me+=L[Mn]*Fr}de+=L[Mn]}let be=0;for(let Mn=q.length-1;Mn>=0;Mn--)if(Be.isNotA1left(h,d,y)){let Fr=Be.WEIGHTS[le][2*Mn+1];be+=q[Mn]*Fr}let Ie=me+be;if((de&1)!=0||de>13||de<4)throw new J;let Ke=(13-de)/2,Ye=Be.SYMBOL_WIDEST[Ke],$e=9-Ye,tn=$t.getRSSvalue(L,Ye,!0),Ut=$t.getRSSvalue(q,$e,!1),Ts=Be.EVEN_TOTAL_SUBSET[Ke],Oo=Be.GSUM[Ke],hi=tn*Ts+Ut+Oo;return new li(hi,Ie)}static isNotA1left(l,h,d){return!(l.getValue()==0&&h&&d)}adjustOddEvenCounts(l){let h=xt.sum(new Int32Array(this.getOddCounts())),d=xt.sum(new Int32Array(this.getEvenCounts())),y=!1,v=!1;h>13?v=!0:h<4&&(y=!0);let x=!1,E=!1;d>13?E=!0:d<4&&(x=!0);let N=h+d-l,L=(h&1)==1,q=(d&1)==0;if(N==1)if(L){if(q)throw new J;v=!0}else{if(!q)throw new J;E=!0}else if(N==-1)if(L){if(q)throw new J;y=!0}else{if(!q)throw new J;x=!0}else if(N==0){if(L){if(!q)throw new J;h<d?(y=!0,E=!0):(v=!0,x=!0)}else if(q)throw new J}else throw new J;if(y){if(v)throw new J;Be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(E)throw new J;Be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Be.SYMBOL_WIDEST=[7,5,4,3,1],Be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Be.GSUM=[0,348,1388,2948,3988],Be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Be.FINDER_PAT_A=0,Be.FINDER_PAT_B=1,Be.FINDER_PAT_C=2,Be.FINDER_PAT_D=3,Be.FINDER_PAT_E=4,Be.FINDER_PAT_F=5,Be.FINDER_PATTERN_SEQUENCES=[[Be.FINDER_PAT_A,Be.FINDER_PAT_A],[Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B],[Be.FINDER_PAT_A,Be.FINDER_PAT_C,Be.FINDER_PAT_B,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_C],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F]],Be.MAX_PAIRS=11;class el extends li{constructor(l,h,d){super(l,h),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class wn extends fn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,h,d){const y=this.decodePair(h,!1,l,d);wn.addOrTally(this.possibleLeftPairs,y),h.reverse();let v=this.decodePair(h,!0,l,d);wn.addOrTally(this.possibleRightPairs,v),h.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&wn.checkChecksum(x,E))return wn.constructResult(x,E)}throw new J}static addOrTally(l,h){if(h==null)return;let d=!1;for(let y of l)if(y.getValue()===h.getValue()){y.incrementCount(),d=!0;break}d||l.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,h){let d=4537077*l.getValue()+h.getValue(),y=new String(d).toString(),v=new $;for(let L=13-y.length;L>0;L--)v.append("0");v.append(y);let x=0;for(let L=0;L<13;L++){let q=v.charAt(L).charCodeAt(0)-48;x+=(L&1)===0?3*q:q}x=10-x%10,x===10&&(x=0),v.append(x.toString());let E=l.getFinderPattern().getResultPoints(),N=h.getFinderPattern().getResultPoints();return new Re(v.toString(),null,0,[E[0],E[1],N[0],N[1]],Me.RSS_14,new Date().getTime())}static checkChecksum(l,h){let d=(l.getChecksumPortion()+16*h.getChecksumPortion())%79,y=9*l.getFinderPattern().getValue()+h.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,d===y}decodePair(l,h,d,y){try{let v=this.findFinderPattern(l,h),x=this.parseFoundFinderPattern(l,d,h,v),E=y==null?null:y.get(B.NEED_RESULT_POINT_CALLBACK);if(E!=null){let q=(v[0]+v[1])/2;h&&(q=l.getSize()-1-q),E.foundPossibleResultPoint(new nt(q,d))}let N=this.decodeDataCharacter(l,x,!0),L=this.decodeDataCharacter(l,x,!1);return new el(1597*N.getValue()+L.getValue(),N.getChecksumPortion()+4*L.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(l,h,d){let y=this.getDataCharacterCounters();for(let be=0;be<y.length;be++)y[be]=0;if(d)Qn.recordPatternInReverse(l,h.getStartEnd()[0],y);else{Qn.recordPattern(l,h.getStartEnd()[1]+1,y);for(let be=0,Ie=y.length-1;be<Ie;be++,Ie--){let Ke=y[be];y[be]=y[Ie],y[Ie]=Ke}}let v=d?16:15,x=xt.sum(new Int32Array(y))/v,E=this.getOddCounts(),N=this.getEvenCounts(),L=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let be=0;be<y.length;be++){let Ie=y[be]/x,Ke=Math.floor(Ie+.5);Ke<1?Ke=1:Ke>8&&(Ke=8);let Ye=Math.floor(be/2);(be&1)===0?(E[Ye]=Ke,L[Ye]=Ie-Ke):(N[Ye]=Ke,q[Ye]=Ie-Ke)}this.adjustOddEvenCounts(d,v);let Z=0,te=0;for(let be=E.length-1;be>=0;be--)te*=9,te+=E[be],Z+=E[be];let le=0,de=0;for(let be=N.length-1;be>=0;be--)le*=9,le+=N[be],de+=N[be];let me=te+3*le;if(d){if((Z&1)!==0||Z>12||Z<4)throw new J;let be=(12-Z)/2,Ie=wn.OUTSIDE_ODD_WIDEST[be],Ke=9-Ie,Ye=$t.getRSSvalue(E,Ie,!1),$e=$t.getRSSvalue(N,Ke,!0),tn=wn.OUTSIDE_EVEN_TOTAL_SUBSET[be],Ut=wn.OUTSIDE_GSUM[be];return new li(Ye*tn+$e+Ut,me)}else{if((de&1)!==0||de>10||de<4)throw new J;let be=(10-de)/2,Ie=wn.INSIDE_ODD_WIDEST[be],Ke=9-Ie,Ye=$t.getRSSvalue(E,Ie,!0),$e=$t.getRSSvalue(N,Ke,!1),tn=wn.INSIDE_ODD_TOTAL_SUBSET[be],Ut=wn.INSIDE_GSUM[be];return new li($e*tn+Ye+Ut,me)}}findFinderPattern(l,h){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let y=l.getSize(),v=!1,x=0;for(;x<y&&(v=!l.get(x),h!==v);)x++;let E=0,N=x;for(let L=x;L<y;L++)if(l.get(L)!==v)d[E]++;else{if(E===3){if(fn.isFinderPattern(d))return[N,L];N+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,E--}else E++;d[E]=1,v=!v}throw new J}parseFoundFinderPattern(l,h,d,y){let v=l.get(y[0]),x=y[0]-1;for(;x>=0&&v!==l.get(x);)x--;x++;const E=y[0]-x,N=this.getDecodeFinderCounters(),L=new Int32Array(N.length);_.arraycopy(N,0,L,1,N.length-1),L[0]=E;const q=this.parseFinderValue(L,wn.FINDER_PATTERNS);let Z=x,te=y[1];return d&&(Z=l.getSize()-1-Z,te=l.getSize()-1-te),new Jn(q,[x,y[1]],Z,te,h)}adjustOddEvenCounts(l,h){let d=xt.sum(new Int32Array(this.getOddCounts())),y=xt.sum(new Int32Array(this.getEvenCounts())),v=!1,x=!1,E=!1,N=!1;l?(d>12?x=!0:d<4&&(v=!0),y>12?N=!0:y<4&&(E=!0)):(d>11?x=!0:d<5&&(v=!0),y>10?N=!0:y<4&&(E=!0));let L=d+y-h,q=(d&1)===(l?1:0),Z=(y&1)===1;if(L===1)if(q){if(Z)throw new J;x=!0}else{if(!Z)throw new J;N=!0}else if(L===-1)if(q){if(Z)throw new J;v=!0}else{if(!Z)throw new J;E=!0}else if(L===0){if(q){if(!Z)throw new J;d<y?(v=!0,N=!0):(x=!0,E=!0)}else if(Z)throw new J}else throw new J;if(v){if(x)throw new J;fn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&fn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(N)throw new J;fn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&fn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}wn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],wn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],wn.OUTSIDE_GSUM=[0,161,961,2015,2715],wn.INSIDE_GSUM=[0,336,1036,1516],wn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],wn.INSIDE_ODD_WIDEST=[2,4,6,8],wn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Yo extends Qn{constructor(l,h){super(),this.readers=[],this.verbose=h===!0;const d=l?l.get(B.POSSIBLE_FORMATS):null,y=l&&l.get(B.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(Me.EAN_13)||d.includes(Me.UPC_A)||d.includes(Me.EAN_8)||d.includes(Me.UPC_E))&&this.readers.push(new Zn(l)),d.includes(Me.CODE_39)&&this.readers.push(new Xn(y)),d.includes(Me.CODE_128)&&this.readers.push(new Xe),d.includes(Me.ITF)&&this.readers.push(new cn),d.includes(Me.RSS_14)&&this.readers.push(new wn),d.includes(Me.RSS_EXPANDED)&&this.readers.push(new Be(this.verbose))):(this.readers.push(new Zn(l)),this.readers.push(new Xn),this.readers.push(new Zn(l)),this.readers.push(new Xe),this.readers.push(new cn),this.readers.push(new wn),this.readers.push(new Be(this.verbose)))}decodeRow(l,h,d){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(l,h,d)}catch{}throw new J}reset(){this.readers.forEach(l=>l.reset())}}class nd extends xe{constructor(l=500,h){super(new Yo(h),l,h)}}class sn{constructor(l,h,d){this.ecCodewords=l,this.ecBlocks=[h],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Gt{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Zt{constructor(l,h,d,y,v,x){this.versionNumber=l,this.symbolSizeRows=h,this.symbolSizeColumns=d,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=v,this.ecBlocks=x;let E=0;const N=x.getECCodewords(),L=x.getECBlocks();for(let q of L)E+=q.getCount()*(q.getDataCodewords()+N);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,h){if((l&1)!==0||(h&1)!==0)throw new O;for(let d of Zt.VERSIONS)if(d.symbolSizeRows===l&&d.symbolSizeColumns===h)return d;throw new O}toString(){return""+this.versionNumber}static buildVersions(){return[new Zt(1,10,10,8,8,new sn(5,new Gt(1,3))),new Zt(2,12,12,10,10,new sn(7,new Gt(1,5))),new Zt(3,14,14,12,12,new sn(10,new Gt(1,8))),new Zt(4,16,16,14,14,new sn(12,new Gt(1,12))),new Zt(5,18,18,16,16,new sn(14,new Gt(1,18))),new Zt(6,20,20,18,18,new sn(18,new Gt(1,22))),new Zt(7,22,22,20,20,new sn(20,new Gt(1,30))),new Zt(8,24,24,22,22,new sn(24,new Gt(1,36))),new Zt(9,26,26,24,24,new sn(28,new Gt(1,44))),new Zt(10,32,32,14,14,new sn(36,new Gt(1,62))),new Zt(11,36,36,16,16,new sn(42,new Gt(1,86))),new Zt(12,40,40,18,18,new sn(48,new Gt(1,114))),new Zt(13,44,44,20,20,new sn(56,new Gt(1,144))),new Zt(14,48,48,22,22,new sn(68,new Gt(1,174))),new Zt(15,52,52,24,24,new sn(42,new Gt(2,102))),new Zt(16,64,64,14,14,new sn(56,new Gt(2,140))),new Zt(17,72,72,16,16,new sn(36,new Gt(4,92))),new Zt(18,80,80,18,18,new sn(48,new Gt(4,114))),new Zt(19,88,88,20,20,new sn(56,new Gt(4,144))),new Zt(20,96,96,22,22,new sn(68,new Gt(4,174))),new Zt(21,104,104,24,24,new sn(56,new Gt(6,136))),new Zt(22,120,120,18,18,new sn(68,new Gt(6,175))),new Zt(23,132,132,20,20,new sn(62,new Gt(8,163))),new Zt(24,144,144,22,22,new sn(62,new Gt(8,156),new Gt(2,155))),new Zt(25,8,18,6,16,new sn(7,new Gt(1,5))),new Zt(26,8,32,6,14,new sn(11,new Gt(1,10))),new Zt(27,12,26,10,24,new sn(14,new Gt(1,16))),new Zt(28,12,36,10,16,new sn(18,new Gt(1,22))),new Zt(29,16,36,14,16,new sn(24,new Gt(1,32))),new Zt(30,16,48,14,22,new sn(28,new Gt(1,49)))]}}Zt.VERSIONS=Zt.buildVersions();class Oi{constructor(l){const h=l.getHeight();if(h<8||h>144||(h&1)!==0)throw new O;this.version=Oi.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const h=l.getHeight(),d=l.getWidth();return Zt.getVersionForDimensions(h,d)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let h=0,d=4,y=0;const v=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let E=!1,N=!1,L=!1,q=!1;do if(d===v&&y===0&&!E)l[h++]=this.readCorner1(v,x)&255,d-=2,y+=2,E=!0;else if(d===v-2&&y===0&&(x&3)!==0&&!N)l[h++]=this.readCorner2(v,x)&255,d-=2,y+=2,N=!0;else if(d===v+4&&y===2&&(x&7)===0&&!L)l[h++]=this.readCorner3(v,x)&255,d-=2,y+=2,L=!0;else if(d===v-2&&y===0&&(x&7)===4&&!q)l[h++]=this.readCorner4(v,x)&255,d-=2,y+=2,q=!0;else{do d<v&&y>=0&&!this.readMappingMatrix.get(y,d)&&(l[h++]=this.readUtah(d,y,v,x)&255),d-=2,y+=2;while(d>=0&&y<x);d+=1,y+=3;do d>=0&&y<x&&!this.readMappingMatrix.get(y,d)&&(l[h++]=this.readUtah(d,y,v,x)&255),d+=2,y-=2;while(d<v&&y>=0);d+=3,y+=1}while(d<v||y<x);if(h!==this.version.getTotalCodewords())throw new O;return l}readModule(l,h,d,y){return l<0&&(l+=d,h+=4-(d+4&7)),h<0&&(h+=y,l+=4-(y+4&7)),this.readMappingMatrix.set(h,l),this.mappingBitMatrix.get(h,l)}readUtah(l,h,d,y){let v=0;return this.readModule(l-2,h-2,d,y)&&(v|=1),v<<=1,this.readModule(l-2,h-1,d,y)&&(v|=1),v<<=1,this.readModule(l-1,h-2,d,y)&&(v|=1),v<<=1,this.readModule(l-1,h-1,d,y)&&(v|=1),v<<=1,this.readModule(l-1,h,d,y)&&(v|=1),v<<=1,this.readModule(l,h-2,d,y)&&(v|=1),v<<=1,this.readModule(l,h-1,d,y)&&(v|=1),v<<=1,this.readModule(l,h,d,y)&&(v|=1),v}readCorner1(l,h){let d=0;return this.readModule(l-1,0,l,h)&&(d|=1),d<<=1,this.readModule(l-1,1,l,h)&&(d|=1),d<<=1,this.readModule(l-1,2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-1,l,h)&&(d|=1),d<<=1,this.readModule(1,h-1,l,h)&&(d|=1),d<<=1,this.readModule(2,h-1,l,h)&&(d|=1),d<<=1,this.readModule(3,h-1,l,h)&&(d|=1),d}readCorner2(l,h){let d=0;return this.readModule(l-3,0,l,h)&&(d|=1),d<<=1,this.readModule(l-2,0,l,h)&&(d|=1),d<<=1,this.readModule(l-1,0,l,h)&&(d|=1),d<<=1,this.readModule(0,h-4,l,h)&&(d|=1),d<<=1,this.readModule(0,h-3,l,h)&&(d|=1),d<<=1,this.readModule(0,h-2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-1,l,h)&&(d|=1),d<<=1,this.readModule(1,h-1,l,h)&&(d|=1),d}readCorner3(l,h){let d=0;return this.readModule(l-1,0,l,h)&&(d|=1),d<<=1,this.readModule(l-1,h-1,l,h)&&(d|=1),d<<=1,this.readModule(0,h-3,l,h)&&(d|=1),d<<=1,this.readModule(0,h-2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-1,l,h)&&(d|=1),d<<=1,this.readModule(1,h-3,l,h)&&(d|=1),d<<=1,this.readModule(1,h-2,l,h)&&(d|=1),d<<=1,this.readModule(1,h-1,l,h)&&(d|=1),d}readCorner4(l,h){let d=0;return this.readModule(l-3,0,l,h)&&(d|=1),d<<=1,this.readModule(l-2,0,l,h)&&(d|=1),d<<=1,this.readModule(l-1,0,l,h)&&(d|=1),d<<=1,this.readModule(0,h-2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-1,l,h)&&(d|=1),d<<=1,this.readModule(1,h-1,l,h)&&(d|=1),d<<=1,this.readModule(2,h-1,l,h)&&(d|=1),d<<=1,this.readModule(3,h-1,l,h)&&(d|=1),d}extractDataRegion(l){const h=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(l.getHeight()!==h)throw new m("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),v=this.version.getDataRegionSizeColumns(),x=h/y|0,E=d/v|0,N=x*y,L=E*v,q=new ce(L,N);for(let Z=0;Z<x;++Z){const te=Z*y;for(let le=0;le<E;++le){const de=le*v;for(let me=0;me<y;++me){const be=Z*(y+2)+1+me,Ie=te+me;for(let Ke=0;Ke<v;++Ke){const Ye=le*(v+2)+1+Ke;if(l.get(Ye,be)){const $e=de+Ke;q.set($e,Ie)}}}}}return q}}class Fl{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h){const d=h.getECBlocks();let y=0;const v=d.getECBlocks();for(let me of v)y+=me.getCount();const x=new Array(y);let E=0;for(let me of v)for(let be=0;be<me.getCount();be++){const Ie=me.getDataCodewords(),Ke=d.getECCodewords()+Ie;x[E++]=new Fl(Ie,new Uint8Array(Ke))}const L=x[0].codewords.length-d.getECCodewords(),q=L-1;let Z=0;for(let me=0;me<q;me++)for(let be=0;be<E;be++)x[be].codewords[me]=l[Z++];const te=h.getVersionNumber()===24,le=te?8:E;for(let me=0;me<le;me++)x[me].codewords[L-1]=l[Z++];const de=x[0].codewords.length;for(let me=L;me<de;me++)for(let be=0;be<E;be++){const Ie=te?(be+8)%E:be,Ke=te&&Ie>7?me-1:me;x[Ie].codewords[Ke]=l[Z++]}if(Z!==l.length)throw new m;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Wc{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new m(""+l);let h=0,d=this.bitOffset,y=this.byteOffset;const v=this.bytes;if(d>0){const x=8-d,E=l<x?l:x,N=x-E,L=255>>8-E<<N;h=(v[y]&L)>>N,l-=E,d+=E,d===8&&(d=0,y++)}if(l>0){for(;l>=8;)h=h<<8|v[y]&255,y++,l-=8;if(l>0){const x=8-l,E=255>>x<<x;h=h<<l|(v[y]&E)>>x,d+=l}}return this.bitOffset=d,this.byteOffset=y,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Or;(function(X){X[X.PAD_ENCODE=0]="PAD_ENCODE",X[X.ASCII_ENCODE=1]="ASCII_ENCODE",X[X.C40_ENCODE=2]="C40_ENCODE",X[X.TEXT_ENCODE=3]="TEXT_ENCODE",X[X.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",X[X.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",X[X.BASE256_ENCODE=6]="BASE256_ENCODE"})(Or||(Or={}));class Hs{static decode(l){const h=new Wc(l),d=new $,y=new $,v=new Array;let x=Or.ASCII_ENCODE;do if(x===Or.ASCII_ENCODE)x=this.decodeAsciiSegment(h,d,y);else{switch(x){case Or.C40_ENCODE:this.decodeC40Segment(h,d);break;case Or.TEXT_ENCODE:this.decodeTextSegment(h,d);break;case Or.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,d);break;case Or.EDIFACT_ENCODE:this.decodeEdifactSegment(h,d);break;case Or.BASE256_ENCODE:this.decodeBase256Segment(h,d,v);break;default:throw new O}x=Or.ASCII_ENCODE}while(x!==Or.PAD_ENCODE&&h.available()>0);return y.length()>0&&d.append(y.toString()),new Pe(l,d.toString(),v.length===0?null:v,null)}static decodeAsciiSegment(l,h,d){let y=!1;do{let v=l.readBits(8);if(v===0)throw new O;if(v<=128)return y&&(v+=128),h.append(String.fromCharCode(v-1)),Or.ASCII_ENCODE;if(v===129)return Or.PAD_ENCODE;if(v<=229){const x=v-130;x<10&&h.append("0"),h.append(""+x)}else switch(v){case 230:return Or.C40_ENCODE;case 231:return Or.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:h.append("[)>05"),d.insert(0,"");break;case 237:h.append("[)>06"),d.insert(0,"");break;case 238:return Or.ANSIX12_ENCODE;case 239:return Or.TEXT_ENCODE;case 240:return Or.EDIFACT_ENCODE;case 241:break;default:if(v!==254||l.available()!==0)throw new O;break}}while(l.available()>0);return Or.ASCII_ENCODE}static decodeC40Segment(l,h){let d=!1;const y=[];let v=0;do{if(l.available()===8)return;const x=l.readBits(8);if(x===254)return;this.parseTwoBytes(x,l.readBits(8),y);for(let E=0;E<3;E++){const N=y[E];switch(v){case 0:if(N<3)v=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const L=this.C40_BASIC_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L)}else throw new O;break;case 1:d?(h.append(String.fromCharCode(N+128)),d=!1):h.append(String.fromCharCode(N)),v=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const L=this.C40_SHIFT2_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L)}else switch(N){case 27:h.append("");break;case 30:d=!0;break;default:throw new O}v=0;break;case 3:d?(h.append(String.fromCharCode(N+224)),d=!1):h.append(String.fromCharCode(N+96)),v=0;break;default:throw new O}}}while(l.available()>0)}static decodeTextSegment(l,h){let d=!1,y=[],v=0;do{if(l.available()===8)return;const x=l.readBits(8);if(x===254)return;this.parseTwoBytes(x,l.readBits(8),y);for(let E=0;E<3;E++){const N=y[E];switch(v){case 0:if(N<3)v=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const L=this.TEXT_BASIC_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L)}else throw new O;break;case 1:d?(h.append(String.fromCharCode(N+128)),d=!1):h.append(String.fromCharCode(N)),v=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const L=this.TEXT_SHIFT2_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L)}else switch(N){case 27:h.append("");break;case 30:d=!0;break;default:throw new O}v=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const L=this.TEXT_SHIFT3_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L),v=0}else throw new O;break;default:throw new O}}}while(l.available()>0)}static decodeAnsiX12Segment(l,h){const d=[];do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),d);for(let v=0;v<3;v++){const x=d[v];switch(x){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(x<14)h.append(String.fromCharCode(x+44));else if(x<40)h.append(String.fromCharCode(x+51));else throw new O;break}}}while(l.available()>0)}static parseTwoBytes(l,h,d){let y=(l<<8)+h-1,v=Math.floor(y/1600);d[0]=v,y-=v*1600,v=Math.floor(y/40),d[1]=v,d[2]=y-v*40}static decodeEdifactSegment(l,h){do{if(l.available()<=16)return;for(let d=0;d<4;d++){let y=l.readBits(6);if(y===31){const v=8-l.getBitOffset();v!==8&&l.readBits(v);return}(y&32)===0&&(y|=64),h.append(String.fromCharCode(y))}}while(l.available()>0)}static decodeBase256Segment(l,h,d){let y=1+l.getByteOffset();const v=this.unrandomize255State(l.readBits(8),y++);let x;if(v===0?x=l.available()/8|0:v<250?x=v:x=250*(v-249)+this.unrandomize255State(l.readBits(8),y++),x<0)throw new O;const E=new Uint8Array(x);for(let N=0;N<x;N++){if(l.available()<8)throw new O;E[N]=this.unrandomize255State(l.readBits(8),y++)}d.push(E);try{h.append(W.decode(E,G.ISO88591))}catch(N){throw new Ft("Platform does not support required encoding: "+N.message)}}static unrandomize255State(l,h){const d=149*h%255+1,y=l-d;return y>=0?y:y+256}}Hs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Hs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Hs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Hs.TEXT_SHIFT2_SET_CHARS=Hs.C40_SHIFT2_SET_CHARS,Hs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Kc{constructor(){this.rsDecoder=new Yt(et.DATA_MATRIX_FIELD_256)}decode(l){const h=new Oi(l),d=h.getVersion(),y=h.readCodewords(),v=Fl.getDataBlocks(y,d);let x=0;for(let L of v)x+=L.getNumDataCodewords();const E=new Uint8Array(x),N=v.length;for(let L=0;L<N;L++){const q=v[L],Z=q.getCodewords(),te=q.getNumDataCodewords();this.correctErrors(Z,te);for(let le=0;le<te;le++)E[le*N+L]=Z[le]}return Hs.decode(E)}correctErrors(l,h){const d=new Int32Array(l);try{this.rsDecoder.decode(d,l.length-h)}catch{throw new A}for(let y=0;y<h;y++)l[y]=d[y]}}class Bn{constructor(l){this.image=l,this.rectangleDetector=new si(this.image)}detect(){const l=this.rectangleDetector.detect();let h=this.detectSolid1(l);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new J;h=this.shiftToModuleCenter(h);const d=h[0],y=h[1],v=h[2],x=h[3];let E=this.transitionsBetween(d,x)+1,N=this.transitionsBetween(v,x)+1;(E&1)===1&&(E+=1),(N&1)===1&&(N+=1),4*E<7*N&&4*N<7*E&&(E=N=Math.max(E,N));let L=Bn.sampleGrid(this.image,d,y,v,x,E,N);return new _n(L,[d,y,v,x])}static shiftPoint(l,h,d){let y=(h.getX()-l.getX())/(d+1),v=(h.getY()-l.getY())/(d+1);return new nt(l.getX()+y,l.getY()+v)}static moveAway(l,h,d){let y=l.getX(),v=l.getY();return y<h?y-=1:y+=1,v<d?v-=1:v+=1,new nt(y,v)}detectSolid1(l){let h=l[0],d=l[1],y=l[3],v=l[2],x=this.transitionsBetween(h,d),E=this.transitionsBetween(d,y),N=this.transitionsBetween(y,v),L=this.transitionsBetween(v,h),q=x,Z=[v,h,d,y];return q>E&&(q=E,Z[0]=h,Z[1]=d,Z[2]=y,Z[3]=v),q>N&&(q=N,Z[0]=d,Z[1]=y,Z[2]=v,Z[3]=h),q>L&&(Z[0]=y,Z[1]=v,Z[2]=h,Z[3]=d),Z}detectSolid2(l){let h=l[0],d=l[1],y=l[2],v=l[3],x=this.transitionsBetween(h,v),E=Bn.shiftPoint(d,y,(x+1)*4),N=Bn.shiftPoint(y,d,(x+1)*4),L=this.transitionsBetween(E,h),q=this.transitionsBetween(N,v);return L<q?(l[0]=h,l[1]=d,l[2]=y,l[3]=v):(l[0]=d,l[1]=y,l[2]=v,l[3]=h),l}correctTopRight(l){let h=l[0],d=l[1],y=l[2],v=l[3],x=this.transitionsBetween(h,v),E=this.transitionsBetween(d,v),N=Bn.shiftPoint(h,d,(E+1)*4),L=Bn.shiftPoint(y,d,(x+1)*4);x=this.transitionsBetween(N,v),E=this.transitionsBetween(L,v);let q=new nt(v.getX()+(y.getX()-d.getX())/(x+1),v.getY()+(y.getY()-d.getY())/(x+1)),Z=new nt(v.getX()+(h.getX()-d.getX())/(E+1),v.getY()+(h.getY()-d.getY())/(E+1));if(!this.isValid(q))return this.isValid(Z)?Z:null;if(!this.isValid(Z))return q;let te=this.transitionsBetween(N,q)+this.transitionsBetween(L,q),le=this.transitionsBetween(N,Z)+this.transitionsBetween(L,Z);return te>le?q:Z}shiftToModuleCenter(l){let h=l[0],d=l[1],y=l[2],v=l[3],x=this.transitionsBetween(h,v)+1,E=this.transitionsBetween(y,v)+1,N=Bn.shiftPoint(h,d,E*4),L=Bn.shiftPoint(y,d,x*4);x=this.transitionsBetween(N,v)+1,E=this.transitionsBetween(L,v)+1,(x&1)===1&&(x+=1),(E&1)===1&&(E+=1);let q=(h.getX()+d.getX()+y.getX()+v.getX())/4,Z=(h.getY()+d.getY()+y.getY()+v.getY())/4;h=Bn.moveAway(h,q,Z),d=Bn.moveAway(d,q,Z),y=Bn.moveAway(y,q,Z),v=Bn.moveAway(v,q,Z);let te,le;return N=Bn.shiftPoint(h,d,E*4),N=Bn.shiftPoint(N,v,x*4),te=Bn.shiftPoint(d,h,E*4),te=Bn.shiftPoint(te,y,x*4),L=Bn.shiftPoint(y,v,E*4),L=Bn.shiftPoint(L,d,x*4),le=Bn.shiftPoint(v,y,E*4),le=Bn.shiftPoint(le,h,x*4),[N,te,L,le]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,h,d,y,v,x,E){return oi.getInstance().sampleGrid(l,x,E,.5,.5,x-.5,.5,x-.5,E-.5,.5,E-.5,h.getX(),h.getY(),v.getX(),v.getY(),y.getX(),y.getY(),d.getX(),d.getY())}transitionsBetween(l,h){let d=Math.trunc(l.getX()),y=Math.trunc(l.getY()),v=Math.trunc(h.getX()),x=Math.trunc(h.getY()),E=Math.abs(x-y)>Math.abs(v-d);if(E){let me=d;d=y,y=me,me=v,v=x,x=me}let N=Math.abs(v-d),L=Math.abs(x-y),q=-N/2,Z=y<x?1:-1,te=d<v?1:-1,le=0,de=this.image.get(E?y:d,E?d:y);for(let me=d,be=y;me!==v;me+=te){let Ie=this.image.get(E?be:me,E?me:be);if(Ie!==de&&(le++,de=Ie),q+=L,q>0){if(be===x)break;be+=Z,q-=N}}return le}}class bs{constructor(){this.decoder=new Kc}decode(l,h=null){let d,y;if(h!=null&&h.has(B.PURE_BARCODE)){const L=bs.extractPureBits(l.getBlackMatrix());d=this.decoder.decode(L),y=bs.NO_POINTS}else{const L=new Bn(l.getBlackMatrix()).detect();d=this.decoder.decode(L.getBits()),y=L.getPoints()}const v=d.getRawBytes(),x=new Re(d.getText(),v,8*v.length,y,Me.DATA_MATRIX,_.currentTimeMillis()),E=d.getByteSegments();E!=null&&x.putMetadata(De.BYTE_SEGMENTS,E);const N=d.getECLevel();return N!=null&&x.putMetadata(De.ERROR_CORRECTION_LEVEL,N),x}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),d=l.getBottomRightOnBit();if(h==null||d==null)throw new J;const y=this.moduleSize(h,l);let v=h[1];const x=d[1];let E=h[0];const L=(d[0]-E+1)/y,q=(x-v+1)/y;if(L<=0||q<=0)throw new J;const Z=y/2;v+=Z,E+=Z;const te=new ce(L,q);for(let le=0;le<q;le++){const de=v+le*y;for(let me=0;me<L;me++)l.get(E+me*y,de)&&te.set(me,le)}return te}static moduleSize(l,h){const d=h.getWidth();let y=l[0];const v=l[1];for(;y<d&&h.get(y,v);)y++;if(y===d)throw new J;const x=y-l[0];if(x===0)throw new J;return x}}bs.NO_POINTS=[];class jg extends xe{constructor(l=500){super(new bs,l)}}var As;(function(X){X[X.L=0]="L",X[X.M=1]="M",X[X.Q=2]="Q",X[X.H=3]="H"})(As||(As={}));class Jt{constructor(l,h,d){this.value=l,this.stringValue=h,this.bits=d,Jt.FOR_BITS.set(d,this),Jt.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Jt.L;case"M":return Jt.M;case"Q":return Jt.Q;case"H":return Jt.H;default:throw new g(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Jt))return!1;const h=l;return this.value===h.value}static forBits(l){if(l<0||l>=Jt.FOR_BITS.size)throw new m;return Jt.FOR_BITS.get(l)}}Jt.FOR_BITS=new Map,Jt.FOR_VALUE=new Map,Jt.L=new Jt(As.L,"L",1),Jt.M=new Jt(As.M,"M",0),Jt.Q=new Jt(As.Q,"Q",3),Jt.H=new Jt(As.H,"H",2);class Rr{constructor(l){this.errorCorrectionLevel=Jt.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,h){return k.bitCount(l^h)}static decodeFormatInformation(l,h){const d=Rr.doDecodeFormatInformation(l,h);return d!==null?d:Rr.doDecodeFormatInformation(l^Rr.FORMAT_INFO_MASK_QR,h^Rr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,h){let d=Number.MAX_SAFE_INTEGER,y=0;for(const v of Rr.FORMAT_INFO_DECODE_LOOKUP){const x=v[0];if(x===l||x===h)return new Rr(v[1]);let E=Rr.numBitsDiffering(l,x);E<d&&(y=v[1],d=E),l!==h&&(E=Rr.numBitsDiffering(h,x),E<d&&(y=v[1],d=E))}return d<=3?new Rr(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Rr))return!1;const h=l;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}Rr.FORMAT_INFO_MASK_QR=21522,Rr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ae{constructor(l,...h){this.ecCodewordsPerBlock=l,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const h=this.ecBlocks;for(const d of h)l+=d.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ie{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tt{constructor(l,h,...d){this.versionNumber=l,this.alignmentPatternCenters=h,this.ecBlocks=d;let y=0;const v=d[0].getECCodewordsPerBlock(),x=d[0].getECBlocks();for(const E of x)y+=E.getCount()*(E.getDataCodewords()+v);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new O;try{return this.getVersionForNumber((l-17)/4)}catch{throw new O}}static getVersionForNumber(l){if(l<1||l>40)throw new m;return tt.VERSIONS[l-1]}static decodeVersionInformation(l){let h=Number.MAX_SAFE_INTEGER,d=0;for(let y=0;y<tt.VERSION_DECODE_INFO.length;y++){const v=tt.VERSION_DECODE_INFO[y];if(v===l)return tt.getVersionForNumber(y+7);const x=Rr.numBitsDiffering(l,v);x<h&&(d=y+7,h=x)}return h<=3?tt.getVersionForNumber(d):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),h=new ce(l);h.setRegion(0,0,9,9),h.setRegion(l-8,0,8,9),h.setRegion(0,l-8,9,8);const d=this.alignmentPatternCenters.length;for(let y=0;y<d;y++){const v=this.alignmentPatternCenters[y]-2;for(let x=0;x<d;x++)y===0&&(x===0||x===d-1)||y===d-1&&x===0||h.setRegion(this.alignmentPatternCenters[x]-2,v,5,5)}return h.setRegion(6,9,1,l-17),h.setRegion(9,6,l-17,1),this.versionNumber>6&&(h.setRegion(l-11,0,3,6),h.setRegion(0,l-11,6,3)),h}toString(){return""+this.versionNumber}}tt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),tt.VERSIONS=[new tt(1,new Int32Array(0),new Ae(7,new ie(1,19)),new Ae(10,new ie(1,16)),new Ae(13,new ie(1,13)),new Ae(17,new ie(1,9))),new tt(2,Int32Array.from([6,18]),new Ae(10,new ie(1,34)),new Ae(16,new ie(1,28)),new Ae(22,new ie(1,22)),new Ae(28,new ie(1,16))),new tt(3,Int32Array.from([6,22]),new Ae(15,new ie(1,55)),new Ae(26,new ie(1,44)),new Ae(18,new ie(2,17)),new Ae(22,new ie(2,13))),new tt(4,Int32Array.from([6,26]),new Ae(20,new ie(1,80)),new Ae(18,new ie(2,32)),new Ae(26,new ie(2,24)),new Ae(16,new ie(4,9))),new tt(5,Int32Array.from([6,30]),new Ae(26,new ie(1,108)),new Ae(24,new ie(2,43)),new Ae(18,new ie(2,15),new ie(2,16)),new Ae(22,new ie(2,11),new ie(2,12))),new tt(6,Int32Array.from([6,34]),new Ae(18,new ie(2,68)),new Ae(16,new ie(4,27)),new Ae(24,new ie(4,19)),new Ae(28,new ie(4,15))),new tt(7,Int32Array.from([6,22,38]),new Ae(20,new ie(2,78)),new Ae(18,new ie(4,31)),new Ae(18,new ie(2,14),new ie(4,15)),new Ae(26,new ie(4,13),new ie(1,14))),new tt(8,Int32Array.from([6,24,42]),new Ae(24,new ie(2,97)),new Ae(22,new ie(2,38),new ie(2,39)),new Ae(22,new ie(4,18),new ie(2,19)),new Ae(26,new ie(4,14),new ie(2,15))),new tt(9,Int32Array.from([6,26,46]),new Ae(30,new ie(2,116)),new Ae(22,new ie(3,36),new ie(2,37)),new Ae(20,new ie(4,16),new ie(4,17)),new Ae(24,new ie(4,12),new ie(4,13))),new tt(10,Int32Array.from([6,28,50]),new Ae(18,new ie(2,68),new ie(2,69)),new Ae(26,new ie(4,43),new ie(1,44)),new Ae(24,new ie(6,19),new ie(2,20)),new Ae(28,new ie(6,15),new ie(2,16))),new tt(11,Int32Array.from([6,30,54]),new Ae(20,new ie(4,81)),new Ae(30,new ie(1,50),new ie(4,51)),new Ae(28,new ie(4,22),new ie(4,23)),new Ae(24,new ie(3,12),new ie(8,13))),new tt(12,Int32Array.from([6,32,58]),new Ae(24,new ie(2,92),new ie(2,93)),new Ae(22,new ie(6,36),new ie(2,37)),new Ae(26,new ie(4,20),new ie(6,21)),new Ae(28,new ie(7,14),new ie(4,15))),new tt(13,Int32Array.from([6,34,62]),new Ae(26,new ie(4,107)),new Ae(22,new ie(8,37),new ie(1,38)),new Ae(24,new ie(8,20),new ie(4,21)),new Ae(22,new ie(12,11),new ie(4,12))),new tt(14,Int32Array.from([6,26,46,66]),new Ae(30,new ie(3,115),new ie(1,116)),new Ae(24,new ie(4,40),new ie(5,41)),new Ae(20,new ie(11,16),new ie(5,17)),new Ae(24,new ie(11,12),new ie(5,13))),new tt(15,Int32Array.from([6,26,48,70]),new Ae(22,new ie(5,87),new ie(1,88)),new Ae(24,new ie(5,41),new ie(5,42)),new Ae(30,new ie(5,24),new ie(7,25)),new Ae(24,new ie(11,12),new ie(7,13))),new tt(16,Int32Array.from([6,26,50,74]),new Ae(24,new ie(5,98),new ie(1,99)),new Ae(28,new ie(7,45),new ie(3,46)),new Ae(24,new ie(15,19),new ie(2,20)),new Ae(30,new ie(3,15),new ie(13,16))),new tt(17,Int32Array.from([6,30,54,78]),new Ae(28,new ie(1,107),new ie(5,108)),new Ae(28,new ie(10,46),new ie(1,47)),new Ae(28,new ie(1,22),new ie(15,23)),new Ae(28,new ie(2,14),new ie(17,15))),new tt(18,Int32Array.from([6,30,56,82]),new Ae(30,new ie(5,120),new ie(1,121)),new Ae(26,new ie(9,43),new ie(4,44)),new Ae(28,new ie(17,22),new ie(1,23)),new Ae(28,new ie(2,14),new ie(19,15))),new tt(19,Int32Array.from([6,30,58,86]),new Ae(28,new ie(3,113),new ie(4,114)),new Ae(26,new ie(3,44),new ie(11,45)),new Ae(26,new ie(17,21),new ie(4,22)),new Ae(26,new ie(9,13),new ie(16,14))),new tt(20,Int32Array.from([6,34,62,90]),new Ae(28,new ie(3,107),new ie(5,108)),new Ae(26,new ie(3,41),new ie(13,42)),new Ae(30,new ie(15,24),new ie(5,25)),new Ae(28,new ie(15,15),new ie(10,16))),new tt(21,Int32Array.from([6,28,50,72,94]),new Ae(28,new ie(4,116),new ie(4,117)),new Ae(26,new ie(17,42)),new Ae(28,new ie(17,22),new ie(6,23)),new Ae(30,new ie(19,16),new ie(6,17))),new tt(22,Int32Array.from([6,26,50,74,98]),new Ae(28,new ie(2,111),new ie(7,112)),new Ae(28,new ie(17,46)),new Ae(30,new ie(7,24),new ie(16,25)),new Ae(24,new ie(34,13))),new tt(23,Int32Array.from([6,30,54,78,102]),new Ae(30,new ie(4,121),new ie(5,122)),new Ae(28,new ie(4,47),new ie(14,48)),new Ae(30,new ie(11,24),new ie(14,25)),new Ae(30,new ie(16,15),new ie(14,16))),new tt(24,Int32Array.from([6,28,54,80,106]),new Ae(30,new ie(6,117),new ie(4,118)),new Ae(28,new ie(6,45),new ie(14,46)),new Ae(30,new ie(11,24),new ie(16,25)),new Ae(30,new ie(30,16),new ie(2,17))),new tt(25,Int32Array.from([6,32,58,84,110]),new Ae(26,new ie(8,106),new ie(4,107)),new Ae(28,new ie(8,47),new ie(13,48)),new Ae(30,new ie(7,24),new ie(22,25)),new Ae(30,new ie(22,15),new ie(13,16))),new tt(26,Int32Array.from([6,30,58,86,114]),new Ae(28,new ie(10,114),new ie(2,115)),new Ae(28,new ie(19,46),new ie(4,47)),new Ae(28,new ie(28,22),new ie(6,23)),new Ae(30,new ie(33,16),new ie(4,17))),new tt(27,Int32Array.from([6,34,62,90,118]),new Ae(30,new ie(8,122),new ie(4,123)),new Ae(28,new ie(22,45),new ie(3,46)),new Ae(30,new ie(8,23),new ie(26,24)),new Ae(30,new ie(12,15),new ie(28,16))),new tt(28,Int32Array.from([6,26,50,74,98,122]),new Ae(30,new ie(3,117),new ie(10,118)),new Ae(28,new ie(3,45),new ie(23,46)),new Ae(30,new ie(4,24),new ie(31,25)),new Ae(30,new ie(11,15),new ie(31,16))),new tt(29,Int32Array.from([6,30,54,78,102,126]),new Ae(30,new ie(7,116),new ie(7,117)),new Ae(28,new ie(21,45),new ie(7,46)),new Ae(30,new ie(1,23),new ie(37,24)),new Ae(30,new ie(19,15),new ie(26,16))),new tt(30,Int32Array.from([6,26,52,78,104,130]),new Ae(30,new ie(5,115),new ie(10,116)),new Ae(28,new ie(19,47),new ie(10,48)),new Ae(30,new ie(15,24),new ie(25,25)),new Ae(30,new ie(23,15),new ie(25,16))),new tt(31,Int32Array.from([6,30,56,82,108,134]),new Ae(30,new ie(13,115),new ie(3,116)),new Ae(28,new ie(2,46),new ie(29,47)),new Ae(30,new ie(42,24),new ie(1,25)),new Ae(30,new ie(23,15),new ie(28,16))),new tt(32,Int32Array.from([6,34,60,86,112,138]),new Ae(30,new ie(17,115)),new Ae(28,new ie(10,46),new ie(23,47)),new Ae(30,new ie(10,24),new ie(35,25)),new Ae(30,new ie(19,15),new ie(35,16))),new tt(33,Int32Array.from([6,30,58,86,114,142]),new Ae(30,new ie(17,115),new ie(1,116)),new Ae(28,new ie(14,46),new ie(21,47)),new Ae(30,new ie(29,24),new ie(19,25)),new Ae(30,new ie(11,15),new ie(46,16))),new tt(34,Int32Array.from([6,34,62,90,118,146]),new Ae(30,new ie(13,115),new ie(6,116)),new Ae(28,new ie(14,46),new ie(23,47)),new Ae(30,new ie(44,24),new ie(7,25)),new Ae(30,new ie(59,16),new ie(1,17))),new tt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ae(30,new ie(12,121),new ie(7,122)),new Ae(28,new ie(12,47),new ie(26,48)),new Ae(30,new ie(39,24),new ie(14,25)),new Ae(30,new ie(22,15),new ie(41,16))),new tt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ae(30,new ie(6,121),new ie(14,122)),new Ae(28,new ie(6,47),new ie(34,48)),new Ae(30,new ie(46,24),new ie(10,25)),new Ae(30,new ie(2,15),new ie(64,16))),new tt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ae(30,new ie(17,122),new ie(4,123)),new Ae(28,new ie(29,46),new ie(14,47)),new Ae(30,new ie(49,24),new ie(10,25)),new Ae(30,new ie(24,15),new ie(46,16))),new tt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ae(30,new ie(4,122),new ie(18,123)),new Ae(28,new ie(13,46),new ie(32,47)),new Ae(30,new ie(48,24),new ie(14,25)),new Ae(30,new ie(42,15),new ie(32,16))),new tt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ae(30,new ie(20,117),new ie(4,118)),new Ae(28,new ie(40,47),new ie(7,48)),new Ae(30,new ie(43,24),new ie(22,25)),new Ae(30,new ie(10,15),new ie(67,16))),new tt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ae(30,new ie(19,118),new ie(6,119)),new Ae(28,new ie(18,47),new ie(31,48)),new Ae(30,new ie(34,24),new ie(34,25)),new Ae(30,new ie(20,15),new ie(61,16)))];var ir;(function(X){X[X.DATA_MASK_000=0]="DATA_MASK_000",X[X.DATA_MASK_001=1]="DATA_MASK_001",X[X.DATA_MASK_010=2]="DATA_MASK_010",X[X.DATA_MASK_011=3]="DATA_MASK_011",X[X.DATA_MASK_100=4]="DATA_MASK_100",X[X.DATA_MASK_101=5]="DATA_MASK_101",X[X.DATA_MASK_110=6]="DATA_MASK_110",X[X.DATA_MASK_111=7]="DATA_MASK_111"})(ir||(ir={}));class Mt{constructor(l,h){this.value=l,this.isMasked=h}unmaskBitMatrix(l,h){for(let d=0;d<h;d++)for(let y=0;y<h;y++)this.isMasked(d,y)&&l.flip(y,d)}}Mt.values=new Map([[ir.DATA_MASK_000,new Mt(ir.DATA_MASK_000,(X,l)=>(X+l&1)===0)],[ir.DATA_MASK_001,new Mt(ir.DATA_MASK_001,(X,l)=>(X&1)===0)],[ir.DATA_MASK_010,new Mt(ir.DATA_MASK_010,(X,l)=>l%3===0)],[ir.DATA_MASK_011,new Mt(ir.DATA_MASK_011,(X,l)=>(X+l)%3===0)],[ir.DATA_MASK_100,new Mt(ir.DATA_MASK_100,(X,l)=>(Math.floor(X/2)+Math.floor(l/3)&1)===0)],[ir.DATA_MASK_101,new Mt(ir.DATA_MASK_101,(X,l)=>X*l%6===0)],[ir.DATA_MASK_110,new Mt(ir.DATA_MASK_110,(X,l)=>X*l%6<3)],[ir.DATA_MASK_111,new Mt(ir.DATA_MASK_111,(X,l)=>(X+l+X*l%3&1)===0)]]);class tl{constructor(l){const h=l.getHeight();if(h<21||(h&3)!==1)throw new O;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let v=0;v<6;v++)l=this.copyBit(v,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let v=5;v>=0;v--)l=this.copyBit(8,v,l);const h=this.bitMatrix.getHeight();let d=0;const y=h-7;for(let v=h-1;v>=y;v--)d=this.copyBit(8,v,d);for(let v=h-8;v<h;v++)d=this.copyBit(v,8,d);if(this.parsedFormatInfo=Rr.decodeFormatInformation(l,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new O}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),h=Math.floor((l-17)/4);if(h<=6)return tt.getVersionForNumber(h);let d=0;const y=l-11;for(let x=5;x>=0;x--)for(let E=l-9;E>=y;E--)d=this.copyBit(E,x,d);let v=tt.decodeVersionInformation(d);if(v!==null&&v.getDimensionForVersion()===l)return this.parsedVersion=v,v;d=0;for(let x=5;x>=0;x--)for(let E=l-9;E>=y;E--)d=this.copyBit(x,E,d);if(v=tt.decodeVersionInformation(d),v!==null&&v.getDimensionForVersion()===l)return this.parsedVersion=v,v;throw new O}copyBit(l,h,d){return(this.isMirror?this.bitMatrix.get(h,l):this.bitMatrix.get(l,h))?d<<1|1:d<<1}readCodewords(){const l=this.readFormatInformation(),h=this.readVersion(),d=Mt.values.get(l.getDataMask()),y=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,y);const v=h.buildFunctionPattern();let x=!0;const E=new Uint8Array(h.getTotalCodewords());let N=0,L=0,q=0;for(let Z=y-1;Z>0;Z-=2){Z===6&&Z--;for(let te=0;te<y;te++){const le=x?y-1-te:te;for(let de=0;de<2;de++)v.get(Z-de,le)||(q++,L<<=1,this.bitMatrix.get(Z-de,le)&&(L|=1),q===8&&(E[N++]=L,q=0,L=0))}x=!x}if(N!==h.getTotalCodewords())throw new O;return E}remask(){if(this.parsedFormatInfo===null)return;const l=Mt.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,h)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let h=0,d=l.getWidth();h<d;h++)for(let y=h+1,v=l.getHeight();y<v;y++)l.get(h,y)!==l.get(y,h)&&(l.flip(y,h),l.flip(h,y))}}class Yc{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h,d){if(l.length!==h.getTotalCodewords())throw new m;const y=h.getECBlocksForLevel(d);let v=0;const x=y.getECBlocks();for(const de of x)v+=de.getCount();const E=new Array(v);let N=0;for(const de of x)for(let me=0;me<de.getCount();me++){const be=de.getDataCodewords(),Ie=y.getECCodewordsPerBlock()+be;E[N++]=new Yc(be,new Uint8Array(Ie))}const L=E[0].codewords.length;let q=E.length-1;for(;q>=0&&E[q].codewords.length!==L;)q--;q++;const Z=L-y.getECCodewordsPerBlock();let te=0;for(let de=0;de<Z;de++)for(let me=0;me<N;me++)E[me].codewords[de]=l[te++];for(let de=q;de<N;de++)E[de].codewords[Z]=l[te++];const le=E[0].codewords.length;for(let de=Z;de<le;de++)for(let me=0;me<N;me++){const be=me<q?de:de+1;E[me].codewords[be]=l[te++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ri;(function(X){X[X.TERMINATOR=0]="TERMINATOR",X[X.NUMERIC=1]="NUMERIC",X[X.ALPHANUMERIC=2]="ALPHANUMERIC",X[X.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",X[X.BYTE=4]="BYTE",X[X.ECI=5]="ECI",X[X.KANJI=6]="KANJI",X[X.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",X[X.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",X[X.HANZI=9]="HANZI"})(Ri||(Ri={}));class wt{constructor(l,h,d,y){this.value=l,this.stringValue=h,this.characterCountBitsForVersions=d,this.bits=y,wt.FOR_BITS.set(y,this),wt.FOR_VALUE.set(l,this)}static forBits(l){const h=wt.FOR_BITS.get(l);if(h===void 0)throw new m;return h}getCharacterCountBits(l){const h=l.getVersionNumber();let d;return h<=9?d=0:h<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof wt))return!1;const h=l;return this.value===h.value}toString(){return this.stringValue}}wt.FOR_BITS=new Map,wt.FOR_VALUE=new Map,wt.TERMINATOR=new wt(Ri.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),wt.NUMERIC=new wt(Ri.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),wt.ALPHANUMERIC=new wt(Ri.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),wt.STRUCTURED_APPEND=new wt(Ri.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),wt.BYTE=new wt(Ri.BYTE,"BYTE",Int32Array.from([8,16,16]),4),wt.ECI=new wt(Ri.ECI,"ECI",Int32Array.from([0,0,0]),7),wt.KANJI=new wt(Ri.KANJI,"KANJI",Int32Array.from([8,10,12]),8),wt.FNC1_FIRST_POSITION=new wt(Ri.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),wt.FNC1_SECOND_POSITION=new wt(Ri.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),wt.HANZI=new wt(Ri.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class er{static decode(l,h,d,y){const v=new Wc(l);let x=new $;const E=new Array;let N=-1,L=-1;try{let q=null,Z=!1,te;do{if(v.available()<4)te=wt.TERMINATOR;else{const le=v.readBits(4);te=wt.forBits(le)}switch(te){case wt.TERMINATOR:break;case wt.FNC1_FIRST_POSITION:case wt.FNC1_SECOND_POSITION:Z=!0;break;case wt.STRUCTURED_APPEND:if(v.available()<16)throw new O;N=v.readBits(8),L=v.readBits(8);break;case wt.ECI:const le=er.parseECIValue(v);if(q=V.getCharacterSetECIByValue(le),q===null)throw new O;break;case wt.HANZI:const de=v.readBits(4),me=v.readBits(te.getCharacterCountBits(h));de===er.GB2312_SUBSET&&er.decodeHanziSegment(v,x,me);break;default:const be=v.readBits(te.getCharacterCountBits(h));switch(te){case wt.NUMERIC:er.decodeNumericSegment(v,x,be);break;case wt.ALPHANUMERIC:er.decodeAlphanumericSegment(v,x,be,Z);break;case wt.BYTE:er.decodeByteSegment(v,x,be,q,E,y);break;case wt.KANJI:er.decodeKanjiSegment(v,x,be);break;default:throw new O}break}}while(te!==wt.TERMINATOR)}catch{throw new O}return new Pe(l,x.toString(),E.length===0?null:E,d===null?null:d.toString(),N,L)}static decodeHanziSegment(l,h,d){if(d*13>l.available())throw new O;const y=new Uint8Array(2*d);let v=0;for(;d>0;){const x=l.readBits(13);let E=x/96<<8&4294967295|x%96;E<959?E+=41377:E+=42657,y[v]=E>>8&255,y[v+1]=E&255,v+=2,d--}try{h.append(W.decode(y,G.GB2312))}catch(x){throw new O(x)}}static decodeKanjiSegment(l,h,d){if(d*13>l.available())throw new O;const y=new Uint8Array(2*d);let v=0;for(;d>0;){const x=l.readBits(13);let E=x/192<<8&4294967295|x%192;E<7936?E+=33088:E+=49472,y[v]=E>>8,y[v+1]=E,v+=2,d--}try{h.append(W.decode(y,G.SHIFT_JIS))}catch(x){throw new O(x)}}static decodeByteSegment(l,h,d,y,v,x){if(8*d>l.available())throw new O;const E=new Uint8Array(d);for(let L=0;L<d;L++)E[L]=l.readBits(8);let N;y===null?N=G.guessEncoding(E,x):N=y.getName();try{h.append(W.decode(E,N))}catch(L){throw new O(L)}v.push(E)}static toAlphaNumericChar(l){if(l>=er.ALPHANUMERIC_CHARS.length)throw new O;return er.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,h,d,y){const v=h.length();for(;d>1;){if(l.available()<11)throw new O;const x=l.readBits(11);h.append(er.toAlphaNumericChar(Math.floor(x/45))),h.append(er.toAlphaNumericChar(x%45)),d-=2}if(d===1){if(l.available()<6)throw new O;h.append(er.toAlphaNumericChar(l.readBits(6)))}if(y)for(let x=v;x<h.length();x++)h.charAt(x)==="%"&&(x<h.length()-1&&h.charAt(x+1)==="%"?h.deleteCharAt(x+1):h.setCharAt(x,""))}static decodeNumericSegment(l,h,d){for(;d>=3;){if(l.available()<10)throw new O;const y=l.readBits(10);if(y>=1e3)throw new O;h.append(er.toAlphaNumericChar(Math.floor(y/100))),h.append(er.toAlphaNumericChar(Math.floor(y/10)%10)),h.append(er.toAlphaNumericChar(y%10)),d-=3}if(d===2){if(l.available()<7)throw new O;const y=l.readBits(7);if(y>=100)throw new O;h.append(er.toAlphaNumericChar(Math.floor(y/10))),h.append(er.toAlphaNumericChar(y%10))}else if(d===1){if(l.available()<4)throw new O;const y=l.readBits(4);if(y>=10)throw new O;h.append(er.toAlphaNumericChar(y))}}static parseECIValue(l){const h=l.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const d=l.readBits(8);return(h&63)<<8&4294967295|d}if((h&224)===192){const d=l.readBits(16);return(h&31)<<16&4294967295|d}throw new O}}er.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",er.GB2312_SUBSET=1;class vf{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const h=l[0];l[0]=l[2],l[2]=h}}class wf{constructor(){this.rsDecoder=new Yt(et.QR_CODE_FIELD_256)}decodeBooleanArray(l,h){return this.decodeBitMatrix(ce.parseFromBooleanArray(l),h)}decodeBitMatrix(l,h){const d=new tl(l);let y=null;try{return this.decodeBitMatrixParser(d,h)}catch(v){y=v}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const v=this.decodeBitMatrixParser(d,h);return v.setOther(new vf(!0)),v}catch(v){throw y!==null?y:v}}decodeBitMatrixParser(l,h){const d=l.readVersion(),y=l.readFormatInformation().getErrorCorrectionLevel(),v=l.readCodewords(),x=Yc.getDataBlocks(v,d,y);let E=0;for(const q of x)E+=q.getNumDataCodewords();const N=new Uint8Array(E);let L=0;for(const q of x){const Z=q.getCodewords(),te=q.getNumDataCodewords();this.correctErrors(Z,te);for(let le=0;le<te;le++)N[L++]=Z[le]}return er.decode(N,d,y,h)}correctErrors(l,h){const d=new Int32Array(l);try{this.rsDecoder.decode(d,l.length-h)}catch{throw new A}for(let y=0;y<h;y++)l[y]=d[y]}}class oo extends nt{constructor(l,h,d){super(l,h),this.estimatedModuleSize=d}aboutEquals(l,h,d){if(Math.abs(h-this.getY())<=l&&Math.abs(d-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,h,d){const y=(this.getX()+h)/2,v=(this.getY()+l)/2,x=(this.estimatedModuleSize+d)/2;return new oo(y,v,x)}}class Wr{constructor(l,h,d,y,v,x,E){this.image=l,this.startX=h,this.startY=d,this.width=y,this.height=v,this.moduleSize=x,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,h=this.height,d=this.width,y=l+d,v=this.startY+h/2,x=new Int32Array(3),E=this.image;for(let N=0;N<h;N++){const L=v+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));x[0]=0,x[1]=0,x[2]=0;let q=l;for(;q<y&&!E.get(q,L);)q++;let Z=0;for(;q<y;){if(E.get(q,L))if(Z===1)x[1]++;else if(Z===2){if(this.foundPatternCross(x)){const te=this.handlePossibleCenter(x,L,q);if(te!==null)return te}x[0]=x[2],x[1]=1,x[2]=0,Z=1}else x[++Z]++;else Z===1&&Z++,x[Z]++;q++}if(this.foundPatternCross(x)){const te=this.handlePossibleCenter(x,L,y);if(te!==null)return te}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(l,h){return h-l[2]-l[1]/2}foundPatternCross(l){const h=this.moduleSize,d=h/2;for(let y=0;y<3;y++)if(Math.abs(h-l[y])>=d)return!1;return!0}crossCheckVertical(l,h,d,y){const v=this.image,x=v.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let N=l;for(;N>=0&&v.get(h,N)&&E[1]<=d;)E[1]++,N--;if(N<0||E[1]>d)return NaN;for(;N>=0&&!v.get(h,N)&&E[0]<=d;)E[0]++,N--;if(E[0]>d)return NaN;for(N=l+1;N<x&&v.get(h,N)&&E[1]<=d;)E[1]++,N++;if(N===x||E[1]>d)return NaN;for(;N<x&&!v.get(h,N)&&E[2]<=d;)E[2]++,N++;if(E[2]>d)return NaN;const L=E[0]+E[1]+E[2];return 5*Math.abs(L-y)>=2*y?NaN:this.foundPatternCross(E)?Wr.centerFromEnd(E,N):NaN}handlePossibleCenter(l,h,d){const y=l[0]+l[1]+l[2],v=Wr.centerFromEnd(l,d),x=this.crossCheckVertical(h,v,2*l[1],y);if(!isNaN(x)){const E=(l[0]+l[1]+l[2])/3;for(const L of this.possibleCenters)if(L.aboutEquals(E,x,v))return L.combineEstimate(x,v,E);const N=new oo(v,x,E);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class $s extends nt{constructor(l,h,d,y){super(l,h),this.estimatedModuleSize=d,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,h,d){if(Math.abs(h-this.getY())<=l&&Math.abs(d-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,h,d){const y=this.count+1,v=(this.count*this.getX()+h)/y,x=(this.count*this.getY()+l)/y,E=(this.count*this.estimatedModuleSize+d)/y;return new $s(v,x,E,y)}}class To{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class sr{constructor(l,h){this.image=l,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const h=l!=null&&l.get(B.TRY_HARDER)!==void 0,d=l!=null&&l.get(B.PURE_BARCODE)!==void 0,y=this.image,v=y.getHeight(),x=y.getWidth();let E=Math.floor(3*v/(4*sr.MAX_MODULES));(E<sr.MIN_SKIP||h)&&(E=sr.MIN_SKIP);let N=!1;const L=new Int32Array(5);for(let Z=E-1;Z<v&&!N;Z+=E){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;let te=0;for(let le=0;le<x;le++)if(y.get(le,Z))(te&1)===1&&te++,L[te]++;else if((te&1)===0)if(te===4)if(sr.foundPatternCross(L)){if(this.handlePossibleCenter(L,Z,le,d)===!0)if(E=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const me=this.findRowSkip();me>L[2]&&(Z+=me-L[2]-E,le=x-1)}else{L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,te=3;continue}te=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,te=3;else L[++te]++;else L[te]++;sr.foundPatternCross(L)&&this.handlePossibleCenter(L,Z,x,d)===!0&&(E=L[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const q=this.selectBestPatterns();return nt.orderBestPatterns(q),new To(q)}static centerFromEnd(l,h){return h-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let h=0;for(let v=0;v<5;v++){const x=l[v];if(x===0)return!1;h+=x}if(h<7)return!1;const d=h/7,y=d/2;return Math.abs(d-l[0])<y&&Math.abs(d-l[1])<y&&Math.abs(3*d-l[2])<3*y&&Math.abs(d-l[3])<y&&Math.abs(d-l[4])<y}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,h,d,y){const v=this.getCrossCheckStateCount();let x=0;const E=this.image;for(;l>=x&&h>=x&&E.get(h-x,l-x);)v[2]++,x++;if(l<x||h<x)return!1;for(;l>=x&&h>=x&&!E.get(h-x,l-x)&&v[1]<=d;)v[1]++,x++;if(l<x||h<x||v[1]>d)return!1;for(;l>=x&&h>=x&&E.get(h-x,l-x)&&v[0]<=d;)v[0]++,x++;if(v[0]>d)return!1;const N=E.getHeight(),L=E.getWidth();for(x=1;l+x<N&&h+x<L&&E.get(h+x,l+x);)v[2]++,x++;if(l+x>=N||h+x>=L)return!1;for(;l+x<N&&h+x<L&&!E.get(h+x,l+x)&&v[3]<d;)v[3]++,x++;if(l+x>=N||h+x>=L||v[3]>=d)return!1;for(;l+x<N&&h+x<L&&E.get(h+x,l+x)&&v[4]<d;)v[4]++,x++;if(v[4]>=d)return!1;const q=v[0]+v[1]+v[2]+v[3]+v[4];return Math.abs(q-y)<2*y&&sr.foundPatternCross(v)}crossCheckVertical(l,h,d,y){const v=this.image,x=v.getHeight(),E=this.getCrossCheckStateCount();let N=l;for(;N>=0&&v.get(h,N);)E[2]++,N--;if(N<0)return NaN;for(;N>=0&&!v.get(h,N)&&E[1]<=d;)E[1]++,N--;if(N<0||E[1]>d)return NaN;for(;N>=0&&v.get(h,N)&&E[0]<=d;)E[0]++,N--;if(E[0]>d)return NaN;for(N=l+1;N<x&&v.get(h,N);)E[2]++,N++;if(N===x)return NaN;for(;N<x&&!v.get(h,N)&&E[3]<d;)E[3]++,N++;if(N===x||E[3]>=d)return NaN;for(;N<x&&v.get(h,N)&&E[4]<d;)E[4]++,N++;if(E[4]>=d)return NaN;const L=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(L-y)>=2*y?NaN:sr.foundPatternCross(E)?sr.centerFromEnd(E,N):NaN}crossCheckHorizontal(l,h,d,y){const v=this.image,x=v.getWidth(),E=this.getCrossCheckStateCount();let N=l;for(;N>=0&&v.get(N,h);)E[2]++,N--;if(N<0)return NaN;for(;N>=0&&!v.get(N,h)&&E[1]<=d;)E[1]++,N--;if(N<0||E[1]>d)return NaN;for(;N>=0&&v.get(N,h)&&E[0]<=d;)E[0]++,N--;if(E[0]>d)return NaN;for(N=l+1;N<x&&v.get(N,h);)E[2]++,N++;if(N===x)return NaN;for(;N<x&&!v.get(N,h)&&E[3]<d;)E[3]++,N++;if(N===x||E[3]>=d)return NaN;for(;N<x&&v.get(N,h)&&E[4]<d;)E[4]++,N++;if(E[4]>=d)return NaN;const L=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(L-y)>=y?NaN:sr.foundPatternCross(E)?sr.centerFromEnd(E,N):NaN}handlePossibleCenter(l,h,d,y){const v=l[0]+l[1]+l[2]+l[3]+l[4];let x=sr.centerFromEnd(l,d),E=this.crossCheckVertical(h,Math.floor(x),l[2],v);if(!isNaN(E)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(E),l[2],v),!isNaN(x)&&(!y||this.crossCheckDiagonal(Math.floor(E),Math.floor(x),l[2],v)))){const N=v/7;let L=!1;const q=this.possibleCenters;for(let Z=0,te=q.length;Z<te;Z++){const le=q[Z];if(le.aboutEquals(N,E,x)){q[Z]=le.combineEstimate(E,x,N),L=!0;break}}if(!L){const Z=new $s(x,E,N);q.push(Z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const d of this.possibleCenters)if(d.getCount()>=sr.CENTER_QUORUM)if(h==null)h=d;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-d.getX())-Math.abs(h.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,h=0;const d=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=sr.CENTER_QUORUM&&(l++,h+=x.getEstimatedModuleSize());if(l<3)return!1;const y=h/d;let v=0;for(const x of this.possibleCenters)v+=Math.abs(x.getEstimatedModuleSize()-y);return v<=.05*h}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new J;const h=this.possibleCenters;let d;if(l>3){let y=0,v=0;for(const N of this.possibleCenters){const L=N.getEstimatedModuleSize();y+=L,v+=L*L}d=y/l;let x=Math.sqrt(v/l-d*d);h.sort((N,L)=>{const q=Math.abs(L.getEstimatedModuleSize()-d),Z=Math.abs(N.getEstimatedModuleSize()-d);return q<Z?-1:q>Z?1:0});const E=Math.max(.2*d,x);for(let N=0;N<h.length&&h.length>3;N++){const L=h[N];Math.abs(L.getEstimatedModuleSize()-d)>E&&(h.splice(N,1),N--)}}if(h.length>3){let y=0;for(const v of h)y+=v.getEstimatedModuleSize();d=y/h.length,h.sort((v,x)=>{if(x.getCount()===v.getCount()){const E=Math.abs(x.getEstimatedModuleSize()-d),N=Math.abs(v.getEstimatedModuleSize()-d);return E<N?1:E>N?-1:0}else return x.getCount()-v.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}sr.CENTER_QUORUM=2,sr.MIN_SKIP=3,sr.MAX_MODULES=57;class Gi{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(B.NEED_RESULT_POINT_CALLBACK);const d=new sr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(d)}processFinderPatternInfo(l){const h=l.getTopLeft(),d=l.getTopRight(),y=l.getBottomLeft(),v=this.calculateModuleSize(h,d,y);if(v<1)throw new J("No pattern found in proccess finder.");const x=Gi.computeDimension(h,d,y,v),E=tt.getProvisionalVersionForDimension(x),N=E.getDimensionForVersion()-7;let L=null;if(E.getAlignmentPatternCenters().length>0){const le=d.getX()-h.getX()+y.getX(),de=d.getY()-h.getY()+y.getY(),me=1-3/N,be=Math.floor(h.getX()+me*(le-h.getX())),Ie=Math.floor(h.getY()+me*(de-h.getY()));for(let Ke=4;Ke<=16;Ke<<=1)try{L=this.findAlignmentInRegion(v,be,Ie,Ke);break}catch(Ye){if(!(Ye instanceof J))throw Ye}}const q=Gi.createTransform(h,d,y,L,x),Z=Gi.sampleGrid(this.image,q,x);let te;return L===null?te=[y,h,d]:te=[y,h,d,L],new _n(Z,te)}static createTransform(l,h,d,y,v){const x=v-3.5;let E,N,L,q;return y!==null?(E=y.getX(),N=y.getY(),L=x-3,q=L):(E=h.getX()-l.getX()+d.getX(),N=h.getY()-l.getY()+d.getY(),L=x,q=x),ln.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,L,q,3.5,x,l.getX(),l.getY(),h.getX(),h.getY(),E,N,d.getX(),d.getY())}static sampleGrid(l,h,d){return oi.getInstance().sampleGridWithTransform(l,d,d,h)}static computeDimension(l,h,d,y){const v=xt.round(nt.distance(l,h)/y),x=xt.round(nt.distance(l,d)/y);let E=Math.floor((v+x)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new J("Dimensions could be not found.")}return E}calculateModuleSize(l,h,d){return(this.calculateModuleSizeOneWay(l,h)+this.calculateModuleSizeOneWay(l,d))/2}calculateModuleSizeOneWay(l,h){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(h.getX()),Math.floor(h.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(d)?y/7:isNaN(y)?d/7:(d+y)/14}sizeOfBlackWhiteBlackRunBothWays(l,h,d,y){let v=this.sizeOfBlackWhiteBlackRun(l,h,d,y),x=1,E=l-(d-l);E<0?(x=l/(l-E),E=0):E>=this.image.getWidth()&&(x=(this.image.getWidth()-1-l)/(E-l),E=this.image.getWidth()-1);let N=Math.floor(h-(y-h)*x);return x=1,N<0?(x=h/(h-N),N=0):N>=this.image.getHeight()&&(x=(this.image.getHeight()-1-h)/(N-h),N=this.image.getHeight()-1),E=Math.floor(l+(E-l)*x),v+=this.sizeOfBlackWhiteBlackRun(l,h,E,N),v-1}sizeOfBlackWhiteBlackRun(l,h,d,y){const v=Math.abs(y-h)>Math.abs(d-l);if(v){let le=l;l=h,h=le,le=d,d=y,y=le}const x=Math.abs(d-l),E=Math.abs(y-h);let N=-x/2;const L=l<d?1:-1,q=h<y?1:-1;let Z=0;const te=d+L;for(let le=l,de=h;le!==te;le+=L){const me=v?de:le,be=v?le:de;if(Z===1===this.image.get(me,be)){if(Z===2)return xt.distance(le,de,l,h);Z++}if(N+=E,N>0){if(de===y)break;de+=q,N-=x}}return Z===2?xt.distance(d+L,y,l,h):NaN}findAlignmentInRegion(l,h,d,y){const v=Math.floor(y*l),x=Math.max(0,h-v),E=Math.min(this.image.getWidth()-1,h+v);if(E-x<l*3)throw new J("Alignment top exceeds estimated module size.");const N=Math.max(0,d-v),L=Math.min(this.image.getHeight()-1,d+v);if(L-N<l*3)throw new J("Alignment bottom exceeds estimated module size.");return new Wr(this.image,x,N,E-x,L-N,l,this.resultPointCallback).find()}}class ki{constructor(){this.decoder=new wf}getDecoder(){return this.decoder}decode(l,h){let d,y;if(h!=null&&h.get(B.PURE_BARCODE)!==void 0){const N=ki.extractPureBits(l.getBlackMatrix());d=this.decoder.decodeBitMatrix(N,h),y=ki.NO_POINTS}else{const N=new Gi(l.getBlackMatrix()).detect(h);d=this.decoder.decodeBitMatrix(N.getBits(),h),y=N.getPoints()}d.getOther()instanceof vf&&d.getOther().applyMirroredCorrection(y);const v=new Re(d.getText(),d.getRawBytes(),void 0,y,Me.QR_CODE,void 0),x=d.getByteSegments();x!==null&&v.putMetadata(De.BYTE_SEGMENTS,x);const E=d.getECLevel();return E!==null&&v.putMetadata(De.ERROR_CORRECTION_LEVEL,E),d.hasStructuredAppend()&&(v.putMetadata(De.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),v.putMetadata(De.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),v}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),d=l.getBottomRightOnBit();if(h===null||d===null)throw new J;const y=this.moduleSize(h,l);let v=h[1],x=d[1],E=h[0],N=d[0];if(E>=N||v>=x)throw new J;if(x-v!==N-E&&(N=E+(x-v),N>=l.getWidth()))throw new J;const L=Math.round((N-E+1)/y),q=Math.round((x-v+1)/y);if(L<=0||q<=0)throw new J;if(q!==L)throw new J;const Z=Math.floor(y/2);v+=Z,E+=Z;const te=E+Math.floor((L-1)*y)-N;if(te>0){if(te>Z)throw new J;E-=te}const le=v+Math.floor((q-1)*y)-x;if(le>0){if(le>Z)throw new J;v-=le}const de=new ce(L,q);for(let me=0;me<q;me++){const be=v+Math.floor(me*y);for(let Ie=0;Ie<L;Ie++)l.get(E+Math.floor(Ie*y),be)&&de.set(Ie,me)}return de}static moduleSize(l,h){const d=h.getHeight(),y=h.getWidth();let v=l[0],x=l[1],E=!0,N=0;for(;v<y&&x<d;){if(E!==h.get(v,x)){if(++N===5)break;E=!E}v++,x++}if(v===y||x===d)throw new J;return(v-l[0])/7}}ki.NO_POINTS=new Array;class _t{PDF417Common(){}static getBitCountSum(l){return xt.sum(l)}static toIntArray(l){if(l==null||!l.length)return _t.EMPTY_INT_ARRAY;const h=new Int32Array(l.length);let d=0;for(const y of l)h[d++]=y;return h}static getCodeword(l){const h=j.binarySearch(_t.SYMBOL_TABLE,l&262143);return h<0?-1:(_t.CODEWORD_TABLE[h]-1)%_t.NUMBER_OF_CODEWORDS}}_t.NUMBER_OF_CODEWORDS=929,_t.MAX_CODEWORDS_IN_BARCODE=_t.NUMBER_OF_CODEWORDS-1,_t.MIN_ROWS_IN_BARCODE=3,_t.MAX_ROWS_IN_BARCODE=90,_t.MODULES_IN_CODEWORD=17,_t.MODULES_IN_STOP_PATTERN=18,_t.BARS_IN_MODULE=8,_t.EMPTY_INT_ARRAY=new Int32Array([]),_t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class rd{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Et{static detectMultiple(l,h,d){let y=l.getBlackMatrix(),v=Et.detect(d,y);return v.length||(y=y.clone(),y.rotate180(),v=Et.detect(d,y)),new rd(y,v)}static detect(l,h){const d=new Array;let y=0,v=0,x=!1;for(;y<h.getHeight();){const E=Et.findVertices(h,y,v);if(E[0]==null&&E[3]==null){if(!x)break;x=!1,v=0;for(const N of d)N[1]!=null&&(y=Math.trunc(Math.max(y,N[1].getY()))),N[3]!=null&&(y=Math.max(y,Math.trunc(N[3].getY())));y+=Et.ROW_STEP;continue}if(x=!0,d.push(E),!l)break;E[2]!=null?(v=Math.trunc(E[2].getX()),y=Math.trunc(E[2].getY())):(v=Math.trunc(E[4].getX()),y=Math.trunc(E[4].getY()))}return d}static findVertices(l,h,d){const y=l.getHeight(),v=l.getWidth(),x=new Array(8);return Et.copyToResult(x,Et.findRowsWithPattern(l,y,v,h,d,Et.START_PATTERN),Et.INDEXES_START_PATTERN),x[4]!=null&&(d=Math.trunc(x[4].getX()),h=Math.trunc(x[4].getY())),Et.copyToResult(x,Et.findRowsWithPattern(l,y,v,h,d,Et.STOP_PATTERN),Et.INDEXES_STOP_PATTERN),x}static copyToResult(l,h,d){for(let y=0;y<d.length;y++)l[d[y]]=h[y]}static findRowsWithPattern(l,h,d,y,v,x){const E=new Array(4);let N=!1;const L=new Int32Array(x.length);for(;y<h;y+=Et.ROW_STEP){let Z=Et.findGuardPattern(l,v,y,d,!1,x,L);if(Z!=null){for(;y>0;){const te=Et.findGuardPattern(l,v,--y,d,!1,x,L);if(te!=null)Z=te;else{y++;break}}E[0]=new nt(Z[0],y),E[1]=new nt(Z[1],y),N=!0;break}}let q=y+1;if(N){let Z=0,te=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;q<h;q++){const le=Et.findGuardPattern(l,te[0],q,d,!1,x,L);if(le!=null&&Math.abs(te[0]-le[0])<Et.MAX_PATTERN_DRIFT&&Math.abs(te[1]-le[1])<Et.MAX_PATTERN_DRIFT)te=le,Z=0;else{if(Z>Et.SKIPPED_ROW_COUNT_MAX)break;Z++}}q-=Z+1,E[2]=new nt(te[0],q),E[3]=new nt(te[1],q)}return q-y<Et.BARCODE_MIN_HEIGHT&&j.fill(E,null),E}static findGuardPattern(l,h,d,y,v,x,E){j.fillWithin(E,0,E.length,0);let N=h,L=0;for(;l.get(N,d)&&N>0&&L++<Et.MAX_PIXEL_DRIFT;)N--;let q=N,Z=0,te=x.length;for(let le=v;q<y;q++)if(l.get(q,d)!==le)E[Z]++;else{if(Z===te-1){if(Et.patternMatchVariance(E,x,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return new Int32Array([N,q]);N+=E[0]+E[1],_.arraycopy(E,2,E,0,Z-1),E[Z-1]=0,E[Z]=0,Z--}else Z++;E[Z]=1,le=!le}return Z===te-1&&Et.patternMatchVariance(E,x,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE?new Int32Array([N,q-1]):null}static patternMatchVariance(l,h,d){let y=l.length,v=0,x=0;for(let L=0;L<y;L++)v+=l[L],x+=h[L];if(v<x)return 1/0;let E=v/x;d*=E;let N=0;for(let L=0;L<y;L++){let q=l[L],Z=h[L]*E,te=q>Z?q-Z:Z-q;if(te>d)return 1/0;N+=te}return N/v}}Et.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Et.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Et.MAX_AVG_VARIANCE=.42,Et.MAX_INDIVIDUAL_VARIANCE=.8,Et.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Et.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Et.MAX_PIXEL_DRIFT=3,Et.MAX_PATTERN_DRIFT=5,Et.SKIPPED_ROW_COUNT_MAX=25,Et.ROW_STEP=5,Et.BARCODE_MIN_HEIGHT=10;class ui{constructor(l,h){if(h.length===0)throw new m;this.field=l;let d=h.length;if(d>1&&h[0]===0){let y=1;for(;y<d&&h[y]===0;)y++;y===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-y),_.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let y=0;for(let v of this.coefficients)y=this.field.add(y,v);return y}let h=this.coefficients[0],d=this.coefficients.length;for(let y=1;y<d;y++)h=this.field.add(this.field.multiply(l,h),this.coefficients[y]);return h}add(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,d=l.coefficients;if(h.length>d.length){let x=h;h=d,d=x}let y=new Int32Array(d.length),v=d.length-h.length;_.arraycopy(d,0,y,0,v);for(let x=v;x<d.length;x++)y[x]=this.field.add(h[x-v],d[x]);return new ui(this.field,y)}subtract(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof ui?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new ui(this.field,new Int32Array([0]));let h=this.coefficients,d=h.length,y=l.coefficients,v=y.length,x=new Int32Array(d+v-1);for(let E=0;E<d;E++){let N=h[E];for(let L=0;L<v;L++)x[E+L]=this.field.add(x[E+L],this.field.multiply(N,y[L]))}return new ui(this.field,x)}negative(){let l=this.coefficients.length,h=new Int32Array(l);for(let d=0;d<l;d++)h[d]=this.field.subtract(0,this.coefficients[d]);return new ui(this.field,h)}multiplyScalar(l){if(l===0)return new ui(this.field,new Int32Array([0]));if(l===1)return this;let h=this.coefficients.length,d=new Int32Array(h);for(let y=0;y<h;y++)d[y]=this.field.multiply(this.coefficients[y],l);return new ui(this.field,d)}multiplyByMonomial(l,h){if(l<0)throw new m;if(h===0)return new ui(this.field,new Int32Array([0]));let d=this.coefficients.length,y=new Int32Array(d+l);for(let v=0;v<d;v++)y[v]=this.field.multiply(this.coefficients[v],h);return new ui(this.field,y)}toString(){let l=new $;for(let h=this.getDegree();h>=0;h--){let d=this.getCoefficient(h);d!==0&&(d<0?(l.append(" - "),d=-d):l.length()>0&&l.append(" + "),(h===0||d!==1)&&l.append(d),h!==0&&(h===1?l.append("x"):(l.append("x^"),l.append(h))))}return l.toString()}}class id{add(l,h){return(l+h)%this.modulus}subtract(l,h){return(this.modulus+l-h)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}inverse(l){if(l===0)throw new Te;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Co extends id{constructor(l,h){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let d=1;for(let y=0;y<l;y++)this.expTable[y]=d,d=d*h%l;for(let y=0;y<l-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new ui(this,new Int32Array([0])),this.one=new ui(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new m;if(h===0)return this.zero;let d=new Int32Array(l+1);return d[0]=h,new ui(this,d)}}Co.PDF417_GF=new Co(_t.NUMBER_OF_CODEWORDS,3);class nl{constructor(){this.field=Co.PDF417_GF}decode(l,h,d){let y=new ui(this.field,l),v=new Int32Array(h),x=!1;for(let de=h;de>0;de--){let me=y.evaluateAt(this.field.exp(de));v[h-de]=me,me!==0&&(x=!0)}if(!x)return 0;let E=this.field.getOne();if(d!=null)for(const de of d){let me=this.field.exp(l.length-1-de),be=new ui(this.field,new Int32Array([this.field.subtract(0,me),1]));E=E.multiply(be)}let N=new ui(this.field,v),L=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),N,h),q=L[0],Z=L[1],te=this.findErrorLocations(q),le=this.findErrorMagnitudes(Z,q,te);for(let de=0;de<te.length;de++){let me=l.length-1-this.field.log(te[de]);if(me<0)throw A.getChecksumInstance();l[me]=this.field.subtract(l[me],le[de])}return te.length}runEuclideanAlgorithm(l,h,d){if(l.getDegree()<h.getDegree()){let te=l;l=h,h=te}let y=l,v=h,x=this.field.getZero(),E=this.field.getOne();for(;v.getDegree()>=Math.round(d/2);){let te=y,le=x;if(y=v,x=E,y.isZero())throw A.getChecksumInstance();v=te;let de=this.field.getZero(),me=y.getCoefficient(y.getDegree()),be=this.field.inverse(me);for(;v.getDegree()>=y.getDegree()&&!v.isZero();){let Ie=v.getDegree()-y.getDegree(),Ke=this.field.multiply(v.getCoefficient(v.getDegree()),be);de=de.add(this.field.buildMonomial(Ie,Ke)),v=v.subtract(y.multiplyByMonomial(Ie,Ke))}E=de.multiply(x).subtract(le).negative()}let N=E.getCoefficient(0);if(N===0)throw A.getChecksumInstance();let L=this.field.inverse(N),q=E.multiply(L),Z=v.multiply(L);return[q,Z]}findErrorLocations(l){let h=l.getDegree(),d=new Int32Array(h),y=0;for(let v=1;v<this.field.getSize()&&y<h;v++)l.evaluateAt(v)===0&&(d[y]=this.field.inverse(v),y++);if(y!==h)throw A.getChecksumInstance();return d}findErrorMagnitudes(l,h,d){let y=h.getDegree(),v=new Int32Array(y);for(let L=1;L<=y;L++)v[y-L]=this.field.multiply(L,h.getCoefficient(L));let x=new ui(this.field,v),E=d.length,N=new Int32Array(E);for(let L=0;L<E;L++){let q=this.field.inverse(d[L]),Z=this.field.subtract(0,l.evaluateAt(q)),te=this.field.inverse(x.evaluateAt(q));N[L]=this.field.multiply(Z,te)}return N}}class Qo{constructor(l,h,d,y,v){l instanceof Qo?this.constructor_2(l):this.constructor_1(l,h,d,y,v)}constructor_1(l,h,d,y,v){const x=h==null||d==null,E=y==null||v==null;if(x&&E)throw new J;x?(h=new nt(0,y.getY()),d=new nt(0,v.getY())):E&&(y=new nt(l.getWidth()-1,h.getY()),v=new nt(l.getWidth()-1,d.getY())),this.image=l,this.topLeft=h,this.bottomLeft=d,this.topRight=y,this.bottomRight=v,this.minX=Math.trunc(Math.min(h.getX(),d.getX())),this.maxX=Math.trunc(Math.max(y.getX(),v.getX())),this.minY=Math.trunc(Math.min(h.getY(),y.getY())),this.maxY=Math.trunc(Math.max(d.getY(),v.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,h){return l==null?h:h==null?l:new Qo(l.image,l.topLeft,l.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(l,h,d){let y=this.topLeft,v=this.bottomLeft,x=this.topRight,E=this.bottomRight;if(l>0){let N=d?this.topLeft:this.topRight,L=Math.trunc(N.getY()-l);L<0&&(L=0);let q=new nt(N.getX(),L);d?y=q:x=q}if(h>0){let N=d?this.bottomLeft:this.bottomRight,L=Math.trunc(N.getY()+h);L>=this.image.getHeight()&&(L=this.image.getHeight()-1);let q=new nt(N.getX(),L);d?v=q:E=q}return new Qo(this.image,y,v,x,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Io{constructor(l,h,d,y){this.columnCount=l,this.errorCorrectionLevel=y,this.rowCountUpperPart=h,this.rowCountLowerPart=d,this.rowCount=h+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class os{constructor(){this.buffer=""}static form(l,h){let d=-1;function y(x,E,N,L,q,Z){if(x==="%%")return"%";if(h[++d]===void 0)return;x=L?parseInt(L.substr(1)):void 0;let te=q?parseInt(q.substr(1)):void 0,le;switch(Z){case"s":le=h[d];break;case"c":le=h[d][0];break;case"f":le=parseFloat(h[d]).toFixed(x);break;case"p":le=parseFloat(h[d]).toPrecision(x);break;case"e":le=parseFloat(h[d]).toExponential(x);break;case"x":le=parseInt(h[d]).toString(te||16);break;case"d":le=parseFloat(parseInt(h[d],te||10).toPrecision(x)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(te);let de=parseInt(N),me=N&&N[0]+""=="0"?"0":" ";for(;le.length<de;)le=E!==void 0?le+me:me+le;return le}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(v,y)}format(l,...h){this.buffer+=os.form(l,h)}toString(){return this.buffer}}class Gs{constructor(l){this.boundingBox=new Qo(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let h=this.getCodeword(l);if(h!=null)return h;for(let d=1;d<Gs.MAX_NEARBY_DISTANCE;d++){let y=this.imageRowToCodewordIndex(l)-d;if(y>=0&&(h=this.codewords[y],h!=null)||(y=this.imageRowToCodewordIndex(l)+d,y<this.codewords.length&&(h=this.codewords[y],h!=null)))return h}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,h){this.codewords[this.imageRowToCodewordIndex(l)]=h}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new os;let h=0;for(const d of this.codewords){if(d==null){l.format("%3d:    |   %n",h++);continue}l.format("%3d: %3d|%3d%n",h++,d.getRowNumber(),d.getValue())}return l.toString()}}Gs.MAX_NEARBY_DISTANCE=5;class ao{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let h=this.values.get(l);h==null&&(h=0),h++,this.values.set(l,h)}getValue(){let l=-1,h=new Array;for(const[d,y]of this.values.entries()){const v={getKey:()=>d,getValue:()=>y};v.getValue()>l?(l=v.getValue(),h=[],h.push(v.getKey())):v.getValue()===l&&h.push(v.getKey())}return _t.toIntArray(h)}getConfidence(l){return this.values.get(l)}}class or extends Gs{constructor(l,h){super(l),this._isLeft=h}setRowNumbers(){for(let l of this.getCodewords())l?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,l);let d=this.getBoundingBox(),y=this._isLeft?d.getTopLeft():d.getTopRight(),v=this._isLeft?d.getBottomLeft():d.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(y.getY())),E=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=-1,L=1,q=0;for(let Z=x;Z<E;Z++){if(h[Z]==null)continue;let te=h[Z],le=te.getRowNumber()-N;if(le===0)q++;else if(le===1)L=Math.max(L,q),q=1,N=te.getRowNumber();else if(le<0||te.getRowNumber()>=l.getRowCount()||le>Z)h[Z]=null;else{let de;L>2?de=(L-2)*le:de=le;let me=de>=Z;for(let be=1;be<=de&&!me;be++)me=h[Z-be]!=null;me?h[Z]=null:(N=te.getRowNumber(),q=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let h=new Int32Array(l.getRowCount());for(let d of this.getCodewords())if(d!=null){let y=d.getRowNumber();if(y>=h.length)continue;h[y]++}return h}adjustIncompleteIndicatorColumnRowNumbers(l){let h=this.getBoundingBox(),d=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(d.getY())),x=this.imageRowToCodewordIndex(Math.trunc(y.getY())),E=this.getCodewords(),N=-1;for(let L=v;L<x;L++){if(E[L]==null)continue;let q=E[L];q.setRowNumberAsRowIndicatorColumn();let Z=q.getRowNumber()-N;Z===0||(Z===1?N=q.getRowNumber():q.getRowNumber()>=l.getRowCount()?E[L]=null:N=q.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),h=new ao,d=new ao,y=new ao,v=new ao;for(let E of l){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let N=E.getValue()%30,L=E.getRowNumber();switch(this._isLeft||(L+=2),L%3){case 0:d.setValue(N*3+1);break;case 1:v.setValue(N/3),y.setValue(N%3);break;case 2:h.setValue(N+1);break}}if(h.getValue().length===0||d.getValue().length===0||y.getValue().length===0||v.getValue().length===0||h.getValue()[0]<1||d.getValue()[0]+y.getValue()[0]<_t.MIN_ROWS_IN_BARCODE||d.getValue()[0]+y.getValue()[0]>_t.MAX_ROWS_IN_BARCODE)return null;let x=new Io(h.getValue()[0],d.getValue()[0],y.getValue()[0],v.getValue()[0]);return this.removeIncorrectCodewords(l,x),x}removeIncorrectCodewords(l,h){for(let d=0;d<l.length;d++){let y=l[d];if(l[d]==null)continue;let v=y.getValue()%30,x=y.getRowNumber();if(x>h.getRowCount()){l[d]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:v*3+1!==h.getRowCountUpperPart()&&(l[d]=null);break;case 1:(Math.trunc(v/3)!==h.getErrorCorrectionLevel()||v%3!==h.getRowCountLowerPart())&&(l[d]=null);break;case 2:v+1!==h.getColumnCount()&&(l[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Vl{constructor(l,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=_t.MAX_CODEWORDS_IN_BARCODE,h;do h=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let d=this.detectionResultColumns[h].getCodewords();for(let y=0;y<d.length;y++)d[y]!=null&&(d[y].hasValidRowNumber()||this.adjustRowNumbers(h,y,d))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<l.length;d++)if(l[d]!=null&&h[d]!=null&&l[d].getRowNumber()===h[d].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let v=this.detectionResultColumns[y].getCodewords()[d];v!=null&&(v.setRowNumber(l[d].getRowNumber()),v.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<h.length;d++){if(h[d]==null)continue;let y=h[d].getRowNumber(),v=0;for(let x=this.barcodeColumnCount+1;x>0&&v<this.ADJUST_ROW_NUMBER_SKIP;x--){let E=this.detectionResultColumns[x].getCodewords()[d];E!=null&&(v=Vl.adjustRowNumberIfValid(y,v,E),E.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,h=this.detectionResultColumns[0].getCodewords();for(let d=0;d<h.length;d++){if(h[d]==null)continue;let y=h[d].getRowNumber(),v=0;for(let x=1;x<this.barcodeColumnCount+1&&v<this.ADJUST_ROW_NUMBER_SKIP;x++){let E=this.detectionResultColumns[x].getCodewords()[d];E!=null&&(v=Vl.adjustRowNumberIfValid(y,v,E),E.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,h,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(l)?(d.setRowNumber(l),h=0):++h),h}adjustRowNumbers(l,h,d){if(!this.detectionResultColumns[l-1])return;let y=d[h],v=this.detectionResultColumns[l-1].getCodewords(),x=v;this.detectionResultColumns[l+1]!=null&&(x=this.detectionResultColumns[l+1].getCodewords());let E=new Array(14);E[2]=v[h],E[3]=x[h],h>0&&(E[0]=d[h-1],E[4]=v[h-1],E[5]=x[h-1]),h>1&&(E[8]=d[h-2],E[10]=v[h-2],E[11]=x[h-2]),h<d.length-1&&(E[1]=d[h+1],E[6]=v[h+1],E[7]=x[h+1]),h<d.length-2&&(E[9]=d[h+2],E[12]=v[h+2],E[13]=x[h+2]);for(let N of E)if(Vl.adjustRowNumber(y,N))return}static adjustRowNumber(l,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===l.getBucket()?(l.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,h){this.detectionResultColumns[l]=h}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new os;for(let d=0;d<l.getCodewords().length;d++){h.format("CW %3d:",d);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){h.format("    |   ");continue}let v=this.detectionResultColumns[y].getCodewords()[d];if(v==null){h.format("    |   ");continue}h.format(" %3d|%3d",v.getRowNumber(),v.getValue())}h.format("%n")}return h.toString()}}class Ea{constructor(l,h,d,y){this.rowNumber=Ea.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(h),this.bucket=Math.trunc(d),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Ea.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Ea.BARCODE_ROW_UNKNOWN=-1;class Kr{static initialize(){for(let l=0;l<_t.SYMBOL_TABLE.length;l++){let h=_t.SYMBOL_TABLE[l],d=h&1;for(let y=0;y<_t.BARS_IN_MODULE;y++){let v=0;for(;(h&1)===d;)v+=1,h>>=1;d=h&1,Kr.RATIOS_TABLE[l]||(Kr.RATIOS_TABLE[l]=new Array(_t.BARS_IN_MODULE)),Kr.RATIOS_TABLE[l][_t.BARS_IN_MODULE-y-1]=Math.fround(v/_t.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let h=Kr.getDecodedCodewordValue(Kr.sampleBitCounts(l));return h!==-1?h:Kr.getClosestDecodedValue(l)}static sampleBitCounts(l){let h=xt.sum(l),d=new Int32Array(_t.BARS_IN_MODULE),y=0,v=0;for(let x=0;x<_t.MODULES_IN_CODEWORD;x++){let E=h/(2*_t.MODULES_IN_CODEWORD)+x*h/_t.MODULES_IN_CODEWORD;v+l[y]<=E&&(v+=l[y],y++),d[y]++}return d}static getDecodedCodewordValue(l){let h=Kr.getBitValue(l);return _t.getCodeword(h)===-1?-1:h}static getBitValue(l){let h=0;for(let d=0;d<l.length;d++)for(let y=0;y<l[d];y++)h=h<<1|(d%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(l){let h=xt.sum(l),d=new Array(_t.BARS_IN_MODULE);if(h>1)for(let x=0;x<d.length;x++)d[x]=Math.fround(l[x]/h);let y=ii.MAX_VALUE,v=-1;this.bSymbolTableReady||Kr.initialize();for(let x=0;x<Kr.RATIOS_TABLE.length;x++){let E=0,N=Kr.RATIOS_TABLE[x];for(let L=0;L<_t.BARS_IN_MODULE;L++){let q=Math.fround(N[L]-d[L]);if(E+=Math.fround(q*q),E>=y)break}E<y&&(y=E,v=_t.SYMBOL_TABLE[x])}return v}}Kr.bSymbolTableReady=!1,Kr.RATIOS_TABLE=new Array(_t.SYMBOL_TABLE.length).map(X=>new Array(_t.BARS_IN_MODULE));class Ul{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Qc{static parseLong(l,h=void 0){return parseInt(l,h)}}class Es extends u{}Es.kind="NullPointerException";class Xc{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,h,d){if(l==null)throw new Es;if(h<0||h>l.length||d<0||h+d>l.length||h+d<0)throw new C;if(d===0)return;for(let y=0;y<d;y++)this.write(l[h+y])}flush(){}close(){}}class Ss extends u{}class xf extends Xc{constructor(l=32){if(super(),this.count=0,l<0)throw new m("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let d=this.buf.length<<1;if(d-l<0&&(d=l),d<0){if(l<0)throw new Ss;d=k.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,d)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,h,d){if(h<0||h>l.length||d<0||h+d-l.length>0)throw new C;this.ensureCapacity(this.count+d),_.arraycopy(l,h,this.buf,this.count,d),this.count+=d}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var xn;(function(X){X[X.ALPHA=0]="ALPHA",X[X.LOWER=1]="LOWER",X[X.MIXED=2]="MIXED",X[X.PUNCT=3]="PUNCT",X[X.ALPHA_SHIFT=4]="ALPHA_SHIFT",X[X.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(xn||(xn={}));function Po(){if(typeof window<"u")return window.BigInt||null;if(typeof ku<"u")return ku.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let rl;function ur(X){if(typeof rl>"u"&&(rl=Po()),rl===null)throw new Error("BigInt is not supported!");return rl(X)}function No(){let X=[];X[0]=ur(1);let l=ur(900);X[1]=l;for(let h=2;h<16;h++)X[h]=X[h-1]*l;return X}class Ce{static decode(l,h){let d=new $(""),y=V.ISO8859_1;d.enableDecoding(y);let v=1,x=l[v++],E=new Ul;for(;v<l[0];){switch(x){case Ce.TEXT_COMPACTION_MODE_LATCH:v=Ce.textCompaction(l,v,d);break;case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:v=Ce.byteCompaction(x,l,y,v,d);break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(l[v++]);break;case Ce.NUMERIC_COMPACTION_MODE_LATCH:v=Ce.numericCompaction(l,v,d);break;case Ce.ECI_CHARSET:V.getCharacterSetECIByValue(l[v++]);break;case Ce.ECI_GENERAL_PURPOSE:v+=2;break;case Ce.ECI_USER_DEFINED:v++;break;case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:v=Ce.decodeMacroBlock(l,v,E);break;case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:throw new O;default:v--,v=Ce.textCompaction(l,v,d);break}if(v<l.length)x=l[v++];else throw O.getFormatInstance()}if(d.length()===0)throw O.getFormatInstance();let N=new Pe(null,d.toString(),null,h);return N.setOther(E),N}static decodeMacroBlock(l,h,d){if(h+Ce.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw O.getFormatInstance();let y=new Int32Array(Ce.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Ce.NUMBER_OF_SEQUENCE_CODEWORDS;E++,h++)y[E]=l[h];d.setSegmentIndex(k.parseInt(Ce.decodeBase900toBase10(y,Ce.NUMBER_OF_SEQUENCE_CODEWORDS)));let v=new $;h=Ce.textCompaction(l,h,v),d.setFileId(v.toString());let x=-1;for(l[h]===Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=h+1);h<l[0];)switch(l[h]){case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,l[h]){case Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new $;h=Ce.textCompaction(l,h+1,E),d.setFileName(E.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new $;h=Ce.textCompaction(l,h+1,N),d.setSender(N.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let L=new $;h=Ce.textCompaction(l,h+1,L),d.setAddressee(L.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let q=new $;h=Ce.numericCompaction(l,h+1,q),d.setSegmentCount(k.parseInt(q.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Z=new $;h=Ce.numericCompaction(l,h+1,Z),d.setTimestamp(Qc.parseLong(Z.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let te=new $;h=Ce.numericCompaction(l,h+1,te),d.setChecksum(k.parseInt(te.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let le=new $;h=Ce.numericCompaction(l,h+1,le),d.setFileSize(Qc.parseLong(le.toString()));break;default:throw O.getFormatInstance()}break;case Ce.MACRO_PDF417_TERMINATOR:h++,d.setLastSegment(!0);break;default:throw O.getFormatInstance()}if(x!==-1){let E=h-x;d.isLastSegment()&&E--,d.setOptionalData(j.copyOfRange(l,x,x+E))}return h}static textCompaction(l,h,d){let y=new Int32Array((l[0]-h)*2),v=new Int32Array((l[0]-h)*2),x=0,E=!1;for(;h<l[0]&&!E;){let N=l[h++];if(N<Ce.TEXT_COMPACTION_MODE_LATCH)y[x]=N/30,y[x+1]=N%30,x+=2;else switch(N){case Ce.TEXT_COMPACTION_MODE_LATCH:y[x++]=Ce.TEXT_COMPACTION_MODE_LATCH;break;case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:h--,E=!0;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[x]=Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=l[h++],v[x]=N,x++;break}}return Ce.decodeTextCompaction(y,v,x,d),h}static decodeTextCompaction(l,h,d,y){let v=xn.ALPHA,x=xn.ALPHA,E=0;for(;E<d;){let N=l[E],L="";switch(v){case xn.ALPHA:if(N<26)L=String.fromCharCode(65+N);else switch(N){case 26:L=" ";break;case Ce.LL:v=xn.LOWER;break;case Ce.ML:v=xn.MIXED;break;case Ce.PS:x=v,v=xn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.LOWER:if(N<26)L=String.fromCharCode(97+N);else switch(N){case 26:L=" ";break;case Ce.AS:x=v,v=xn.ALPHA_SHIFT;break;case Ce.ML:v=xn.MIXED;break;case Ce.PS:x=v,v=xn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.MIXED:if(N<Ce.PL)L=Ce.MIXED_CHARS[N];else switch(N){case Ce.PL:v=xn.PUNCT;break;case 26:L=" ";break;case Ce.LL:v=xn.LOWER;break;case Ce.AL:v=xn.ALPHA;break;case Ce.PS:x=v,v=xn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.PUNCT:if(N<Ce.PAL)L=Ce.PUNCT_CHARS[N];else switch(N){case Ce.PAL:v=xn.ALPHA;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.ALPHA_SHIFT:if(v=x,N<26)L=String.fromCharCode(65+N);else switch(N){case 26:L=" ";break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.PUNCT_SHIFT:if(v=x,N<Ce.PAL)L=Ce.PUNCT_CHARS[N];else switch(N){case Ce.PAL:v=xn.ALPHA;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break}L!==""&&y.append(L),E++}}static byteCompaction(l,h,d,y,v){let x=new xf,E=0,N=0,L=!1;switch(l){case Ce.BYTE_COMPACTION_MODE_LATCH:let q=new Int32Array(6),Z=h[y++];for(;y<h[0]&&!L;)switch(q[E++]=Z,N=900*N+Z,Z=h[y++],Z){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:y--,L=!0;break;default:if(E%5===0&&E>0){for(let te=0;te<6;++te)x.write(Number(ur(N)>>ur(8*(5-te))));N=0,E=0}break}y===h[0]&&Z<Ce.TEXT_COMPACTION_MODE_LATCH&&(q[E++]=Z);for(let te=0;te<E;te++)x.write(q[te]);break;case Ce.BYTE_COMPACTION_MODE_LATCH_6:for(;y<h[0]&&!L;){let te=h[y++];if(te<Ce.TEXT_COMPACTION_MODE_LATCH)E++,N=900*N+te;else switch(te){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:y--,L=!0;break}if(E%5===0&&E>0){for(let le=0;le<6;++le)x.write(Number(ur(N)>>ur(8*(5-le))));N=0,E=0}}break}return v.append(W.decode(x.toByteArray(),d)),y}static numericCompaction(l,h,d){let y=0,v=!1,x=new Int32Array(Ce.MAX_NUMERIC_CODEWORDS);for(;h<l[0]&&!v;){let E=l[h++];if(h===l[0]&&(v=!0),E<Ce.TEXT_COMPACTION_MODE_LATCH)x[y]=E,y++;else switch(E){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:h--,v=!0;break}(y%Ce.MAX_NUMERIC_CODEWORDS===0||E===Ce.NUMERIC_COMPACTION_MODE_LATCH||v)&&y>0&&(d.append(Ce.decodeBase900toBase10(x,y)),y=0)}return h}static decodeBase900toBase10(l,h){let d=ur(0);for(let v=0;v<h;v++)d+=Ce.EXP900[h-v-1]*ur(l[v]);let y=d.toString();if(y.charAt(0)!=="1")throw new O;return y.substring(1)}}Ce.TEXT_COMPACTION_MODE_LATCH=900,Ce.BYTE_COMPACTION_MODE_LATCH=901,Ce.NUMERIC_COMPACTION_MODE_LATCH=902,Ce.BYTE_COMPACTION_MODE_LATCH_6=924,Ce.ECI_USER_DEFINED=925,Ce.ECI_GENERAL_PURPOSE=926,Ce.ECI_CHARSET=927,Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ce.MACRO_PDF417_TERMINATOR=922,Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ce.MAX_NUMERIC_CODEWORDS=15,Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ce.PL=25,Ce.LL=27,Ce.AS=27,Ce.ML=28,Ce.AL=28,Ce.PS=29,Ce.PAL=29,Ce.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ce.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ce.EXP900=Po()?No():[],Ce.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Pt{constructor(){}static decode(l,h,d,y,v,x,E){let N=new Qo(l,h,d,y,v),L=null,q=null,Z;for(let de=!0;;de=!1){if(h!=null&&(L=Pt.getRowIndicatorColumn(l,N,h,!0,x,E)),y!=null&&(q=Pt.getRowIndicatorColumn(l,N,y,!1,x,E)),Z=Pt.merge(L,q),Z==null)throw J.getNotFoundInstance();let me=Z.getBoundingBox();if(de&&me!=null&&(me.getMinY()<N.getMinY()||me.getMaxY()>N.getMaxY()))N=me;else break}Z.setBoundingBox(N);let te=Z.getBarcodeColumnCount()+1;Z.setDetectionResultColumn(0,L),Z.setDetectionResultColumn(te,q);let le=L!=null;for(let de=1;de<=te;de++){let me=le?de:te-de;if(Z.getDetectionResultColumn(me)!==void 0)continue;let be;me===0||me===te?be=new or(N,me===0):be=new Gs(N),Z.setDetectionResultColumn(me,be);let Ie=-1,Ke=Ie;for(let Ye=N.getMinY();Ye<=N.getMaxY();Ye++){if(Ie=Pt.getStartColumn(Z,me,Ye,le),Ie<0||Ie>N.getMaxX()){if(Ke===-1)continue;Ie=Ke}let $e=Pt.detectCodeword(l,N.getMinX(),N.getMaxX(),le,Ie,Ye,x,E);$e!=null&&(be.setCodeword(Ye,$e),Ke=Ie,x=Math.min(x,$e.getWidth()),E=Math.max(E,$e.getWidth()))}}return Pt.createDecoderResult(Z)}static merge(l,h){if(l==null&&h==null)return null;let d=Pt.getBarcodeMetadata(l,h);if(d==null)return null;let y=Qo.merge(Pt.adjustBoundingBox(l),Pt.adjustBoundingBox(h));return new Vl(d,y)}static adjustBoundingBox(l){if(l==null)return null;let h=l.getRowHeights();if(h==null)return null;let d=Pt.getMax(h),y=0;for(let E of h)if(y+=d-E,E>0)break;let v=l.getCodewords();for(let E=0;y>0&&v[E]==null;E++)y--;let x=0;for(let E=h.length-1;E>=0&&(x+=d-h[E],!(h[E]>0));E--);for(let E=v.length-1;x>0&&v[E]==null;E--)x--;return l.getBoundingBox().addMissingRows(y,x,l.isLeft())}static getMax(l){let h=-1;for(let d of l)h=Math.max(h,d);return h}static getBarcodeMetadata(l,h){let d;if(l==null||(d=l.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let y;return h==null||(y=h.getBarcodeMetadata())==null?d:d.getColumnCount()!==y.getColumnCount()&&d.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&d.getRowCount()!==y.getRowCount()?null:d}static getRowIndicatorColumn(l,h,d,y,v,x){let E=new or(h,y);for(let N=0;N<2;N++){let L=N===0?1:-1,q=Math.trunc(Math.trunc(d.getX()));for(let Z=Math.trunc(Math.trunc(d.getY()));Z<=h.getMaxY()&&Z>=h.getMinY();Z+=L){let te=Pt.detectCodeword(l,0,l.getWidth(),y,q,Z,v,x);te!=null&&(E.setCodeword(Z,te),y?q=te.getStartX():q=te.getEndX())}}return E}static adjustCodewordCount(l,h){let d=h[0][1],y=d.getValue(),v=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Pt.getNumberOfECCodeWords(l.getBarcodeECLevel());if(y.length===0){if(v<1||v>_t.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();d.setValue(v)}else y[0]!==v&&d.setValue(v)}static createDecoderResult(l){let h=Pt.createBarcodeMatrix(l);Pt.adjustCodewordCount(l,h);let d=new Array,y=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),v=[],x=new Array;for(let N=0;N<l.getBarcodeRowCount();N++)for(let L=0;L<l.getBarcodeColumnCount();L++){let q=h[N][L+1].getValue(),Z=N*l.getBarcodeColumnCount()+L;q.length===0?d.push(Z):q.length===1?y[Z]=q[0]:(x.push(Z),v.push(q))}let E=new Array(v.length);for(let N=0;N<E.length;N++)E[N]=v[N];return Pt.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),y,_t.toIntArray(d),_t.toIntArray(x),E)}static createDecoderResultFromAmbiguousValues(l,h,d,y,v){let x=new Int32Array(y.length),E=100;for(;E-- >0;){for(let N=0;N<x.length;N++)h[y[N]]=v[N][x[N]];try{return Pt.decodeCodewords(h,l,d)}catch(N){if(!(N instanceof A))throw N}if(x.length===0)throw A.getChecksumInstance();for(let N=0;N<x.length;N++)if(x[N]<v[N].length-1){x[N]++;break}else if(x[N]=0,N===x.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(l){let h=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let y=0;y<h.length;y++)for(let v=0;v<h[y].length;v++)h[y][v]=new ao;let d=0;for(let y of l.getDetectionResultColumns()){if(y!=null){for(let v of y.getCodewords())if(v!=null){let x=v.getRowNumber();if(x>=0){if(x>=h.length)continue;h[x][d].setValue(v.getValue())}}}d++}return h}static isValidBarcodeColumn(l,h){return h>=0&&h<=l.getBarcodeColumnCount()+1}static getStartColumn(l,h,d,y){let v=y?1:-1,x=null;if(Pt.isValidBarcodeColumn(l,h-v)&&(x=l.getDetectionResultColumn(h-v).getCodeword(d)),x!=null)return y?x.getEndX():x.getStartX();if(x=l.getDetectionResultColumn(h).getCodewordNearby(d),x!=null)return y?x.getStartX():x.getEndX();if(Pt.isValidBarcodeColumn(l,h-v)&&(x=l.getDetectionResultColumn(h-v).getCodewordNearby(d)),x!=null)return y?x.getEndX():x.getStartX();let E=0;for(;Pt.isValidBarcodeColumn(l,h-v);){h-=v;for(let N of l.getDetectionResultColumn(h).getCodewords())if(N!=null)return(y?N.getEndX():N.getStartX())+v*E*(N.getEndX()-N.getStartX());E++}return y?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,h,d,y,v,x,E,N){v=Pt.adjustCodewordStartColumn(l,h,d,y,v,x);let L=Pt.getModuleBitCount(l,h,d,y,v,x);if(L==null)return null;let q,Z=xt.sum(L);if(y)q=v+Z;else{for(let de=0;de<L.length/2;de++){let me=L[de];L[de]=L[L.length-1-de],L[L.length-1-de]=me}q=v,v=q-Z}if(!Pt.checkCodewordSkew(Z,E,N))return null;let te=Kr.getDecodedValue(L),le=_t.getCodeword(te);return le===-1?null:new Ea(v,q,Pt.getCodewordBucketNumber(te),le)}static getModuleBitCount(l,h,d,y,v,x){let E=v,N=new Int32Array(8),L=0,q=y?1:-1,Z=y;for(;(y?E<d:E>=h)&&L<N.length;)l.get(E,x)===Z?(N[L]++,E+=q):(L++,Z=!Z);return L===N.length||E===(y?d:h)&&L===N.length-1?N:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,h,d,y,v,x){let E=v,N=y?-1:1;for(let L=0;L<2;L++){for(;(y?E>=h:E<d)&&y===l.get(E,x);){if(Math.abs(v-E)>Pt.CODEWORD_SKEW_SIZE)return v;E+=N}N=-N,y=!y}return E}static checkCodewordSkew(l,h,d){return h-Pt.CODEWORD_SKEW_SIZE<=l&&l<=d+Pt.CODEWORD_SKEW_SIZE}static decodeCodewords(l,h,d){if(l.length===0)throw O.getFormatInstance();let y=1<<h+1,v=Pt.correctErrors(l,d,y);Pt.verifyCodewordCount(l,y);let x=Ce.decode(l,""+h);return x.setErrorsCorrected(v),x.setErasures(d.length),x}static correctErrors(l,h,d){if(h!=null&&h.length>d/2+Pt.MAX_ERRORS||d<0||d>Pt.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return Pt.errorCorrection.decode(l,d,h)}static verifyCodewordCount(l,h){if(l.length<4)throw O.getFormatInstance();let d=l[0];if(d>l.length)throw O.getFormatInstance();if(d===0)if(h<l.length)l[0]=l.length-h;else throw O.getFormatInstance()}static getBitCountForCodeword(l){let h=new Int32Array(8),d=0,y=h.length-1;for(;!((l&1)!==d&&(d=l&1,y--,y<0));)h[y]++,l>>=1;return h}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Pt.getCodewordBucketNumber(Pt.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let h=new os;for(let d=0;d<l.length;d++){h.format("Row %2d: ",d);for(let y=0;y<l[d].length;y++){let v=l[d][y];v.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",v.getValue()[0],v.getConfidence(v.getValue()[0]))}h.format("%n")}return h.toString()}}Pt.CODEWORD_SKEW_SIZE=2,Pt.MAX_ERRORS=3,Pt.MAX_EC_CODEWORDS=512,Pt.errorCorrection=new nl;class fi{decode(l,h=null){let d=fi.decode(l,h,!1);if(d==null||d.length===0||d[0]==null)throw J.getNotFoundInstance();return d[0]}decodeMultiple(l,h=null){try{return fi.decode(l,h,!0)}catch(d){throw d instanceof O||d instanceof A?J.getNotFoundInstance():d}}static decode(l,h,d){const y=new Array,v=Et.detectMultiple(l,h,d);for(const x of v.getPoints()){const E=Pt.decode(v.getBits(),x[4],x[5],x[6],x[7],fi.getMinCodewordWidth(x),fi.getMaxCodewordWidth(x)),N=new Re(E.getText(),E.getRawBytes(),void 0,x,Me.PDF_417);N.putMetadata(De.ERROR_CORRECTION_LEVEL,E.getECLevel());const L=E.getOther();L!=null&&N.putMetadata(De.PDF417_EXTRA_METADATA,L),y.push(N)}return y.map(x=>x)}static getMaxWidth(l,h){return l==null||h==null?0:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMinWidth(l,h){return l==null||h==null?k.MAX_VALUE:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(fi.getMaxWidth(l[0],l[4]),fi.getMaxWidth(l[6],l[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.max(fi.getMaxWidth(l[1],l[5]),fi.getMaxWidth(l[7],l[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(fi.getMinWidth(l[0],l[4]),fi.getMinWidth(l[6],l[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.min(fi.getMinWidth(l[1],l[5]),fi.getMinWidth(l[7],l[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}reset(){}}class Sa extends u{}Sa.kind="ReaderException";class Xo{constructor(l,h){this.verbose=l===!0,h&&this.setHints(h)}decode(l,h){return h&&this.setHints(h),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const h=!r(l)&&l.get(B.TRY_HARDER)===!0,d=r(l)?null:l.get(B.POSSIBLE_FORMATS),y=new Array;if(!r(d)){const v=d.some(x=>x===Me.UPC_A||x===Me.UPC_E||x===Me.EAN_13||x===Me.EAN_8||x===Me.CODABAR||x===Me.CODE_39||x===Me.CODE_93||x===Me.CODE_128||x===Me.ITF||x===Me.RSS_14||x===Me.RSS_EXPANDED);v&&!h&&y.push(new Yo(l,this.verbose)),d.includes(Me.QR_CODE)&&y.push(new ki),d.includes(Me.DATA_MATRIX)&&y.push(new bs),d.includes(Me.AZTEC)&&y.push(new Us),d.includes(Me.PDF_417)&&y.push(new fi),v&&h&&y.push(new Yo(l,this.verbose))}y.length===0&&(h||y.push(new Yo(l,this.verbose)),y.push(new ki),y.push(new bs),y.push(new Us),y.push(new fi),h&&y.push(new Yo(l,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Sa("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(l,this.hints)}catch(d){if(d instanceof Sa)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class il extends xe{constructor(l=null,h=500){const d=new Xo;d.setHints(l),super(d,h)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class zl extends xe{constructor(l=500){super(new fi,l)}}class Zc extends xe{constructor(l=500){super(new ki,l)}}var Hl;(function(X){X[X.ERROR_CORRECTION=0]="ERROR_CORRECTION",X[X.CHARACTER_SET=1]="CHARACTER_SET",X[X.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",X[X.MIN_SIZE=3]="MIN_SIZE",X[X.MAX_SIZE=4]="MAX_SIZE",X[X.MARGIN=5]="MARGIN",X[X.PDF417_COMPACT=6]="PDF417_COMPACT",X[X.PDF417_COMPACTION=7]="PDF417_COMPACTION",X[X.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",X[X.AZTEC_LAYERS=9]="AZTEC_LAYERS",X[X.QR_VERSION=10]="QR_VERSION"})(Hl||(Hl={}));var kr=Hl;class sl{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Ge(l,Int32Array.from([1])))}buildGenerator(l){const h=this.cachedGenerators;if(l>=h.length){let d=h[h.length-1];const y=this.field;for(let v=h.length;v<=l;v++){const x=d.multiply(new Ge(y,Int32Array.from([1,y.exp(v-1+y.getGeneratorBase())])));h.push(x),d=x}}return h[l]}encode(l,h){if(h===0)throw new m("No error correction bytes");const d=l.length-h;if(d<=0)throw new m("No data bytes provided");const y=this.buildGenerator(h),v=new Int32Array(d);_.arraycopy(l,0,v,0,d);let x=new Ge(this.field,v);x=x.multiplyByMonomial(h,1);const N=x.divide(y)[1].getCoefficients(),L=h-N.length;for(let q=0;q<L;q++)l[d+q]=0;_.arraycopy(N,0,l,d+L,N.length)}}class Gn{constructor(){}static applyMaskPenaltyRule1(l){return Gn.applyMaskPenaltyRule1Internal(l,!0)+Gn.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let h=0;const d=l.getArray(),y=l.getWidth(),v=l.getHeight();for(let x=0;x<v-1;x++){const E=d[x];for(let N=0;N<y-1;N++){const L=E[N];L===E[N+1]&&L===d[x+1][N]&&L===d[x+1][N+1]&&h++}}return Gn.N2*h}static applyMaskPenaltyRule3(l){let h=0;const d=l.getArray(),y=l.getWidth(),v=l.getHeight();for(let x=0;x<v;x++)for(let E=0;E<y;E++){const N=d[x];E+6<y&&N[E]===1&&N[E+1]===0&&N[E+2]===1&&N[E+3]===1&&N[E+4]===1&&N[E+5]===0&&N[E+6]===1&&(Gn.isWhiteHorizontal(N,E-4,E)||Gn.isWhiteHorizontal(N,E+7,E+11))&&h++,x+6<v&&d[x][E]===1&&d[x+1][E]===0&&d[x+2][E]===1&&d[x+3][E]===1&&d[x+4][E]===1&&d[x+5][E]===0&&d[x+6][E]===1&&(Gn.isWhiteVertical(d,E,x-4,x)||Gn.isWhiteVertical(d,E,x+7,x+11))&&h++}return h*Gn.N3}static isWhiteHorizontal(l,h,d){h=Math.max(h,0),d=Math.min(d,l.length);for(let y=h;y<d;y++)if(l[y]===1)return!1;return!0}static isWhiteVertical(l,h,d,y){d=Math.max(d,0),y=Math.min(y,l.length);for(let v=d;v<y;v++)if(l[v][h]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let h=0;const d=l.getArray(),y=l.getWidth(),v=l.getHeight();for(let N=0;N<v;N++){const L=d[N];for(let q=0;q<y;q++)L[q]===1&&h++}const x=l.getHeight()*l.getWidth();return Math.floor(Math.abs(h*2-x)*10/x)*Gn.N4}static getDataMaskBit(l,h,d){let y,v;switch(l){case 0:y=d+h&1;break;case 1:y=d&1;break;case 2:y=h%3;break;case 3:y=(d+h)%3;break;case 4:y=Math.floor(d/2)+Math.floor(h/3)&1;break;case 5:v=d*h,y=(v&1)+v%3;break;case 6:v=d*h,y=(v&1)+v%3&1;break;case 7:v=d*h,y=v%3+(d+h&1)&1;break;default:throw new m("Invalid mask pattern: "+l)}return y===0}static applyMaskPenaltyRule1Internal(l,h){let d=0;const y=h?l.getHeight():l.getWidth(),v=h?l.getWidth():l.getHeight(),x=l.getArray();for(let E=0;E<y;E++){let N=0,L=-1;for(let q=0;q<v;q++){const Z=h?x[E][q]:x[q][E];Z===L?N++:(N>=5&&(d+=Gn.N1+(N-5)),N=1,L=Z)}N>=5&&(d+=Gn.N1+(N-5))}return d}}Gn.N1=3,Gn.N2=3,Gn.N3=40,Gn.N4=10;class $l{constructor(l,h){this.width=l,this.height=h;const d=new Array(h);for(let y=0;y!==h;y++)d[y]=new Uint8Array(l);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(l,h){return this.bytes[h][l]}getArray(){return this.bytes}setNumber(l,h,d){this.bytes[h][l]=d}setBoolean(l,h,d){this.bytes[h][l]=d?1:0}clear(l){for(const h of this.bytes)j.fill(h,l)}equals(l){if(!(l instanceof $l))return!1;const h=l;if(this.width!==h.width||this.height!==h.height)return!1;for(let d=0,y=this.height;d<y;++d){const v=this.bytes[d],x=h.bytes[d];for(let E=0,N=this.width;E<N;++E)if(v[E]!==x[E])return!1}return!0}toString(){const l=new $;for(let h=0,d=this.height;h<d;++h){const y=this.bytes[h];for(let v=0,x=this.width;v<x;++v)switch(y[v]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class as{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new $;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<as.NUM_MASK_PATTERNS}}as.NUM_MASK_PATTERNS=8;class Tn extends u{}Tn.kind="WriterException";class bt{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,h,d,y,v){bt.clearMatrix(v),bt.embedBasicPatterns(d,v),bt.embedTypeInfo(h,y,v),bt.maybeEmbedVersionInfo(d,v),bt.embedDataBits(l,y,v)}static embedBasicPatterns(l,h){bt.embedPositionDetectionPatternsAndSeparators(h),bt.embedDarkDotAtLeftBottomCorner(h),bt.maybeEmbedPositionAdjustmentPatterns(l,h),bt.embedTimingPatterns(h)}static embedTypeInfo(l,h,d){const y=new U;bt.makeTypeInfoBits(l,h,y);for(let v=0,x=y.getSize();v<x;++v){const E=y.get(y.getSize()-1-v),N=bt.TYPE_INFO_COORDINATES[v],L=N[0],q=N[1];if(d.setBoolean(L,q,E),v<8){const Z=d.getWidth()-v-1;d.setBoolean(Z,8,E)}else{const te=d.getHeight()-7+(v-8);d.setBoolean(8,te,E)}}}static maybeEmbedVersionInfo(l,h){if(l.getVersionNumber()<7)return;const d=new U;bt.makeVersionInfoBits(l,d);let y=17;for(let v=0;v<6;++v)for(let x=0;x<3;++x){const E=d.get(y);y--,h.setBoolean(v,h.getHeight()-11+x,E),h.setBoolean(h.getHeight()-11+x,v,E)}}static embedDataBits(l,h,d){let y=0,v=-1,x=d.getWidth()-1,E=d.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);E>=0&&E<d.getHeight();){for(let N=0;N<2;++N){const L=x-N;if(!bt.isEmpty(d.get(L,E)))continue;let q;y<l.getSize()?(q=l.get(y),++y):q=!1,h!==255&&Gn.getDataMaskBit(h,L,E)&&(q=!q),d.setBoolean(L,E,q)}E+=v}v=-v,E+=v,x-=2}if(y!==l.getSize())throw new Tn("Not all bits consumed: "+y+"/"+l.getSize())}static findMSBSet(l){return 32-k.numberOfLeadingZeros(l)}static calculateBCHCode(l,h){if(h===0)throw new m("0 polynomial");const d=bt.findMSBSet(h);for(l<<=d-1;bt.findMSBSet(l)>=d;)l^=h<<bt.findMSBSet(l)-d;return l}static makeTypeInfoBits(l,h,d){if(!as.isValidMaskPattern(h))throw new Tn("Invalid mask pattern");const y=l.getBits()<<3|h;d.appendBits(y,5);const v=bt.calculateBCHCode(y,bt.TYPE_INFO_POLY);d.appendBits(v,10);const x=new U;if(x.appendBits(bt.TYPE_INFO_MASK_PATTERN,15),d.xor(x),d.getSize()!==15)throw new Tn("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(l,h){h.appendBits(l.getVersionNumber(),6);const d=bt.calculateBCHCode(l.getVersionNumber(),bt.VERSION_INFO_POLY);if(h.appendBits(d,12),h.getSize()!==18)throw new Tn("should not happen but we got: "+h.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let h=8;h<l.getWidth()-8;++h){const d=(h+1)%2;bt.isEmpty(l.get(h,6))&&l.setNumber(h,6,d),bt.isEmpty(l.get(6,h))&&l.setNumber(6,h,d)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Tn;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,h,d){for(let y=0;y<8;++y){if(!bt.isEmpty(d.get(l+y,h)))throw new Tn;d.setNumber(l+y,h,0)}}static embedVerticalSeparationPattern(l,h,d){for(let y=0;y<7;++y){if(!bt.isEmpty(d.get(l,h+y)))throw new Tn;d.setNumber(l,h+y,0)}}static embedPositionAdjustmentPattern(l,h,d){for(let y=0;y<5;++y){const v=bt.POSITION_ADJUSTMENT_PATTERN[y];for(let x=0;x<5;++x)d.setNumber(l+x,h+y,v[x])}}static embedPositionDetectionPattern(l,h,d){for(let y=0;y<7;++y){const v=bt.POSITION_DETECTION_PATTERN[y];for(let x=0;x<7;++x)d.setNumber(l+x,h+y,v[x])}}static embedPositionDetectionPatternsAndSeparators(l){const h=bt.POSITION_DETECTION_PATTERN[0].length;bt.embedPositionDetectionPattern(0,0,l),bt.embedPositionDetectionPattern(l.getWidth()-h,0,l),bt.embedPositionDetectionPattern(0,l.getWidth()-h,l);const d=8;bt.embedHorizontalSeparationPattern(0,d-1,l),bt.embedHorizontalSeparationPattern(l.getWidth()-d,d-1,l),bt.embedHorizontalSeparationPattern(0,l.getWidth()-d,l);const y=7;bt.embedVerticalSeparationPattern(y,0,l),bt.embedVerticalSeparationPattern(l.getHeight()-y-1,0,l),bt.embedVerticalSeparationPattern(y,l.getHeight()-y,l)}static maybeEmbedPositionAdjustmentPatterns(l,h){if(l.getVersionNumber()<2)return;const d=l.getVersionNumber()-1,y=bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let v=0,x=y.length;v!==x;v++){const E=y[v];if(E>=0)for(let N=0;N!==x;N++){const L=y[N];L>=0&&bt.isEmpty(h.get(L,E))&&bt.embedPositionAdjustmentPattern(L-2,E-2,h)}}}}bt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),bt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),bt.VERSION_INFO_POLY=7973,bt.TYPE_INFO_POLY=1335,bt.TYPE_INFO_MASK_PATTERN=21522;class sd{constructor(l,h){this.dataBytes=l,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Rn{constructor(){}static calculateMaskPenalty(l){return Gn.applyMaskPenaltyRule1(l)+Gn.applyMaskPenaltyRule2(l)+Gn.applyMaskPenaltyRule3(l)+Gn.applyMaskPenaltyRule4(l)}static encode(l,h,d=null){let y=Rn.DEFAULT_BYTE_MODE_ENCODING;const v=d!==null&&d.get(kr.CHARACTER_SET)!==void 0;v&&(y=d.get(kr.CHARACTER_SET).toString());const x=this.chooseMode(l,y),E=new U;if(x===wt.BYTE&&(v||Rn.DEFAULT_BYTE_MODE_ENCODING!==y)){const Ye=V.getCharacterSetECIByName(y);Ye!==void 0&&this.appendECI(Ye,E)}this.appendModeInfo(x,E);const N=new U;this.appendBytes(l,x,N,y);let L;if(d!==null&&d.get(kr.QR_VERSION)!==void 0){const Ye=Number.parseInt(d.get(kr.QR_VERSION).toString(),10);L=tt.getVersionForNumber(Ye);const $e=this.calculateBitsNeeded(x,E,N,L);if(!this.willFit($e,L,h))throw new Tn("Data too big for requested version")}else L=this.recommendVersion(h,x,E,N);const q=new U;q.appendBitArray(E);const Z=x===wt.BYTE?N.getSizeInBytes():l.length;this.appendLengthInfo(Z,L,x,q),q.appendBitArray(N);const te=L.getECBlocksForLevel(h),le=L.getTotalCodewords()-te.getTotalECCodewords();this.terminateBits(le,q);const de=this.interleaveWithECBytes(q,L.getTotalCodewords(),le,te.getNumBlocks()),me=new as;me.setECLevel(h),me.setMode(x),me.setVersion(L);const be=L.getDimensionForVersion(),Ie=new $l(be,be),Ke=this.chooseMaskPattern(de,h,L,Ie);return me.setMaskPattern(Ke),bt.buildMatrix(de,h,L,Ke,Ie),me.setMatrix(Ie),me}static recommendVersion(l,h,d,y){const v=this.calculateBitsNeeded(h,d,y,tt.getVersionForNumber(1)),x=this.chooseVersion(v,l),E=this.calculateBitsNeeded(h,d,y,x);return this.chooseVersion(E,l)}static calculateBitsNeeded(l,h,d,y){return h.getSize()+l.getCharacterCountBits(y)+d.getSize()}static getAlphanumericCode(l){return l<Rn.ALPHANUMERIC_TABLE.length?Rn.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,h=null){if(V.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(l))return wt.KANJI;let d=!1,y=!1;for(let v=0,x=l.length;v<x;++v){const E=l.charAt(v);if(Rn.isDigit(E))d=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)y=!0;else return wt.BYTE}return y?wt.ALPHANUMERIC:d?wt.NUMERIC:wt.BYTE}static isOnlyDoubleByteKanji(l){let h;try{h=W.encode(l,V.SJIS)}catch{return!1}const d=h.length;if(d%2!==0)return!1;for(let y=0;y<d;y+=2){const v=h[y]&255;if((v<129||v>159)&&(v<224||v>235))return!1}return!0}static chooseMaskPattern(l,h,d,y){let v=Number.MAX_SAFE_INTEGER,x=-1;for(let E=0;E<as.NUM_MASK_PATTERNS;E++){bt.buildMatrix(l,h,d,E,y);let N=this.calculateMaskPenalty(y);N<v&&(v=N,x=E)}return x}static chooseVersion(l,h){for(let d=1;d<=40;d++){const y=tt.getVersionForNumber(d);if(Rn.willFit(l,y,h))return y}throw new Tn("Data too big")}static willFit(l,h,d){const y=h.getTotalCodewords(),x=h.getECBlocksForLevel(d).getTotalECCodewords(),E=y-x,N=(l+7)/8;return E>=N}static terminateBits(l,h){const d=l*8;if(h.getSize()>d)throw new Tn("data bits cannot fit in the QR Code"+h.getSize()+" > "+d);for(let x=0;x<4&&h.getSize()<d;++x)h.appendBit(!1);const y=h.getSize()&7;if(y>0)for(let x=y;x<8;x++)h.appendBit(!1);const v=l-h.getSizeInBytes();for(let x=0;x<v;++x)h.appendBits((x&1)===0?236:17,8);if(h.getSize()!==d)throw new Tn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,h,d,y,v,x){if(y>=d)throw new Tn("Block ID too large");const E=l%d,N=d-E,L=Math.floor(l/d),q=L+1,Z=Math.floor(h/d),te=Z+1,le=L-Z,de=q-te;if(le!==de)throw new Tn("EC bytes mismatch");if(d!==N+E)throw new Tn("RS blocks mismatch");if(l!==(Z+le)*N+(te+de)*E)throw new Tn("Total bytes mismatch");y<N?(v[0]=Z,x[0]=le):(v[0]=te,x[0]=de)}static interleaveWithECBytes(l,h,d,y){if(l.getSizeInBytes()!==d)throw new Tn("Number of bits and data bytes does not match");let v=0,x=0,E=0;const N=new Array;for(let q=0;q<y;++q){const Z=new Int32Array(1),te=new Int32Array(1);Rn.getNumDataBytesAndNumECBytesForBlockID(h,d,y,q,Z,te);const le=Z[0],de=new Uint8Array(le);l.toBytes(8*v,de,0,le);const me=Rn.generateECBytes(de,te[0]);N.push(new sd(de,me)),x=Math.max(x,le),E=Math.max(E,me.length),v+=Z[0]}if(d!==v)throw new Tn("Data bytes does not match offset");const L=new U;for(let q=0;q<x;++q)for(const Z of N){const te=Z.getDataBytes();q<te.length&&L.appendBits(te[q],8)}for(let q=0;q<E;++q)for(const Z of N){const te=Z.getErrorCorrectionBytes();q<te.length&&L.appendBits(te[q],8)}if(h!==L.getSizeInBytes())throw new Tn("Interleaving error: "+h+" and "+L.getSizeInBytes()+" differ.");return L}static generateECBytes(l,h){const d=l.length,y=new Int32Array(d+h);for(let x=0;x<d;x++)y[x]=l[x]&255;new sl(et.QR_CODE_FIELD_256).encode(y,h);const v=new Uint8Array(h);for(let x=0;x<h;x++)v[x]=y[d+x];return v}static appendModeInfo(l,h){h.appendBits(l.getBits(),4)}static appendLengthInfo(l,h,d,y){const v=d.getCharacterCountBits(h);if(l>=1<<v)throw new Tn(l+" is bigger than "+((1<<v)-1));y.appendBits(l,v)}static appendBytes(l,h,d,y){switch(h){case wt.NUMERIC:Rn.appendNumericBytes(l,d);break;case wt.ALPHANUMERIC:Rn.appendAlphanumericBytes(l,d);break;case wt.BYTE:Rn.append8BitBytes(l,d,y);break;case wt.KANJI:Rn.appendKanjiBytes(l,d);break;default:throw new Tn("Invalid mode: "+h)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const h=Rn.getDigit(l);return h>=0&&h<=9}static appendNumericBytes(l,h){const d=l.length;let y=0;for(;y<d;){const v=Rn.getDigit(l.charAt(y));if(y+2<d){const x=Rn.getDigit(l.charAt(y+1)),E=Rn.getDigit(l.charAt(y+2));h.appendBits(v*100+x*10+E,10),y+=3}else if(y+1<d){const x=Rn.getDigit(l.charAt(y+1));h.appendBits(v*10+x,7),y+=2}else h.appendBits(v,4),y++}}static appendAlphanumericBytes(l,h){const d=l.length;let y=0;for(;y<d;){const v=Rn.getAlphanumericCode(l.charCodeAt(y));if(v===-1)throw new Tn;if(y+1<d){const x=Rn.getAlphanumericCode(l.charCodeAt(y+1));if(x===-1)throw new Tn;h.appendBits(v*45+x,11),y+=2}else h.appendBits(v,6),y++}}static append8BitBytes(l,h,d){let y;try{y=W.encode(l,d)}catch(v){throw new Tn(v)}for(let v=0,x=y.length;v!==x;v++){const E=y[v];h.appendBits(E,8)}}static appendKanjiBytes(l,h){let d;try{d=W.encode(l,V.SJIS)}catch(v){throw new Tn(v)}const y=d.length;for(let v=0;v<y;v+=2){const x=d[v]&255,E=d[v+1]&255,N=x<<8&4294967295|E;let L=-1;if(N>=33088&&N<=40956?L=N-33088:N>=57408&&N<=60351&&(L=N-49472),L===-1)throw new Tn("Invalid byte sequence");const q=(L>>8)*192+(L&255);h.appendBits(q,13)}}static appendECI(l,h){h.appendBits(wt.ECI.getBits(),4),h.appendBits(l.getValue(),8)}}Rn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Rn.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class lo{write(l,h,d,y=null){if(l.length===0)throw new m("Found empty contents");if(h<0||d<0)throw new m("Requested dimensions are too small: "+h+"x"+d);let v=Jt.L,x=lo.QUIET_ZONE_SIZE;y!==null&&(y.get(kr.ERROR_CORRECTION)!==void 0&&(v=Jt.fromString(y.get(kr.ERROR_CORRECTION).toString())),y.get(kr.MARGIN)!==void 0&&(x=Number.parseInt(y.get(kr.MARGIN).toString(),10)));const E=Rn.encode(l,v,y);return this.renderResult(E,h,d,x)}writeToDom(l,h,d,y,v=null){typeof l=="string"&&(l=document.querySelector(l));const x=this.write(h,d,y,v);l&&l.appendChild(x)}renderResult(l,h,d,y){const v=l.getMatrix();if(v===null)throw new Ft;const x=v.getWidth(),E=v.getHeight(),N=x+y*2,L=E+y*2,q=Math.max(h,N),Z=Math.max(d,L),te=Math.min(Math.floor(q/N),Math.floor(Z/L)),le=Math.floor((q-x*te)/2),de=Math.floor((Z-E*te)/2),me=this.createSVGElement(q,Z);for(let be=0,Ie=de;be<E;be++,Ie+=te)for(let Ke=0,Ye=le;Ke<x;Ke++,Ye+=te)if(v.get(Ke,be)===1){const $e=this.createSvgRectElement(Ye,Ie,te,te);me.appendChild($e)}return me}createSVGElement(l,h){const d=document.createElementNS(lo.SVG_NS,"svg");return d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",h.toString()),d}createSvgRectElement(l,h,d,y){const v=document.createElementNS(lo.SVG_NS,"rect");return v.setAttributeNS(null,"x",l.toString()),v.setAttributeNS(null,"y",h.toString()),v.setAttributeNS(null,"height",d.toString()),v.setAttributeNS(null,"width",y.toString()),v.setAttributeNS(null,"fill","#000000"),v}}lo.QUIET_ZONE_SIZE=4,lo.SVG_NS="http://www.w3.org/2000/svg";class Yr{encode(l,h,d,y,v){if(l.length===0)throw new m("Found empty contents");if(h!==Me.QR_CODE)throw new m("Can only encode QR_CODE, but got "+h);if(d<0||y<0)throw new m(`Requested dimensions are too small: ${d}x${y}`);let x=Jt.L,E=Yr.QUIET_ZONE_SIZE;v!==null&&(v.get(kr.ERROR_CORRECTION)!==void 0&&(x=Jt.fromString(v.get(kr.ERROR_CORRECTION).toString())),v.get(kr.MARGIN)!==void 0&&(E=Number.parseInt(v.get(kr.MARGIN).toString(),10)));const N=Rn.encode(l,x,v);return Yr.renderResult(N,d,y,E)}static renderResult(l,h,d,y){const v=l.getMatrix();if(v===null)throw new Ft;const x=v.getWidth(),E=v.getHeight(),N=x+y*2,L=E+y*2,q=Math.max(h,N),Z=Math.max(d,L),te=Math.min(Math.floor(q/N),Math.floor(Z/L)),le=Math.floor((q-x*te)/2),de=Math.floor((Z-E*te)/2),me=new ce(q,Z);for(let be=0,Ie=de;be<E;be++,Ie+=te)for(let Ke=0,Ye=le;Ke<x;Ke++,Ye+=te)v.get(Ke,be)===1&&me.setRegion(Ye,Ie,te,te);return me}}Yr.QUIET_ZONE_SIZE=4;class od{encode(l,h,d,y,v){let x;switch(h){case Me.QR_CODE:x=new Yr;break;default:throw new m("No encoder available for format "+h)}return x.encode(l,h,d,y,v)}}class qs extends re{constructor(l,h,d,y,v,x,E,N){if(super(x,E),this.yuvData=l,this.dataWidth=h,this.dataHeight=d,this.left=y,this.top=v,y+x>h||v+E>d)throw new m("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(x,E)}getRow(l,h){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const d=this.getWidth();(h==null||h.length<d)&&(h=new Uint8ClampedArray(d));const y=(l+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,y,h,0,d),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.yuvData;const d=l*h,y=new Uint8ClampedArray(d);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return _.arraycopy(this.yuvData,v,y,0,d),y;for(let x=0;x<h;x++){const E=x*l;_.arraycopy(this.yuvData,v,y,E,l),v+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,h,d,y){return new qs(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+h,d,y,!1)}renderThumbnail(){const l=this.getWidth()/qs.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/qs.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(l*h),y=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let x=0;x<h;x++){const E=x*l;for(let N=0;N<l;N++){const L=y[v+N*qs.THUMBNAIL_SCALE_FACTOR]&255;d[E+N]=4278190080|L*65793}v+=this.dataWidth*qs.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/qs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,h){const d=this.yuvData;for(let y=0,v=this.top*this.dataWidth+this.left;y<h;y++,v+=this.dataWidth){const x=v+l/2;for(let E=v,N=v+l-1;E<x;E++,N--){const L=d[E];d[E]=d[N],d[N]=L}}}invert(){return new pe(this)}}qs.THUMBNAIL_SCALE_FACTOR=2;class co extends re{constructor(l,h,d,y,v,x,E){if(super(h,d),this.dataWidth=y,this.dataHeight=v,this.left=x,this.top=E,l.BYTES_PER_ELEMENT===4){const N=h*d,L=new Uint8ClampedArray(N);for(let q=0;q<N;q++){const Z=l[q],te=Z>>16&255,le=Z>>7&510,de=Z&255;L[q]=(te+le+de)/4&255}this.luminances=L}else this.luminances=l;if(y===void 0&&(this.dataWidth=h),v===void 0&&(this.dataHeight=d),x===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+d>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(l,h){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const d=this.getWidth();(h==null||h.length<d)&&(h=new Uint8ClampedArray(d));const y=(l+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,y,h,0,d),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.luminances;const d=l*h,y=new Uint8ClampedArray(d);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return _.arraycopy(this.luminances,v,y,0,d),y;for(let x=0;x<h;x++){const E=x*l;_.arraycopy(this.luminances,v,y,E,l),v+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,h,d,y){return new co(this.luminances,d,y,this.dataWidth,this.dataHeight,this.left+l,this.top+h)}invert(){return new pe(this)}}class S extends V{static forName(l){return this.getCharacterSetECIByName(l)}}class z{}z.ISO_8859_1=V.ISO8859_1;class Y{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class ne{static singletonList(l){return[l]}static min(l,h){return l.sort(h)[0]}}class Ee{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Oe extends Ee{constructor(l,h,d){super(l),this.value=h,this.bitCount=d}appendTo(l,h){l.appendBits(this.value,this.bitCount)}add(l,h){return new Oe(this,l,h)}addBinaryShift(l,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Oe(this,l,h)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+k.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class Ze extends Oe{constructor(l,h,d){super(l,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=d}appendTo(l,h){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):d===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(h[this.binaryShiftStart+d],8)}addBinaryShift(l,h){return new Ze(this,l,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function kn(X,l,h){return new Ze(X,l,h)}function br(X,l,h){return new Oe(X,l,h)}const hn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ar=0,Ar=1,Er=2,_s=3,qi=4,Jc=new Oe(null,0,0),ad=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Gy(X){for(let l of X)j.fill(l,-1);return X[ar][qi]=0,X[Ar][qi]=0,X[Ar][ar]=28,X[_s][qi]=0,X[Er][qi]=0,X[Er][ar]=15,X}const Fg=Gy(j.createInt32Array(6,6));class ls{constructor(l,h,d,y){this.token=l,this.mode=h,this.binaryShiftByteCount=d,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,h){let d=this.bitCount,y=this.token;if(l!==this.mode){let x=ad[this.mode][l];y=br(y,x&65535,x>>16),d+=x>>16}let v=l===Er?4:5;return y=br(y,h,v),new ls(y,l,0,d+v)}shiftAndAppend(l,h){let d=this.token,y=this.mode===Er?4:5;return d=br(d,Fg[this.mode][l],y),d=br(d,h,5),new ls(d,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(l){let h=this.token,d=this.mode,y=this.bitCount;if(this.mode===qi||this.mode===Er){let E=ad[d][ar];h=br(h,E&65535,E>>16),y+=E>>16,d=ar}let v=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new ls(h,d,this.binaryShiftByteCount+1,y+v);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(l+1)),x}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=kn(h,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new ls(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let h=this.bitCount+(ad[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?h+=ls.calculateBinaryShiftCost(l)-ls.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(h+=10),h<=l.bitCount}toBitArray(l){let h=[];for(let y=this.endBinaryShift(l.length).token;y!==null;y=y.getPrevious())h.unshift(y);let d=new U;for(const y of h)y.appendTo(d,l);return d}toString(){return G.format("%s bits=%d bytes=%d",hn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}ls.INITIAL_STATE=new ls(Jc,ar,0,0);function wA(X){const l=G.getCharCode(" "),h=G.getCharCode("."),d=G.getCharCode(",");X[ar][l]=1;const y=G.getCharCode("Z"),v=G.getCharCode("A");for(let te=v;te<=y;te++)X[ar][te]=te-v+2;X[Ar][l]=1;const x=G.getCharCode("z"),E=G.getCharCode("a");for(let te=E;te<=x;te++)X[Ar][te]=te-E+2;X[Er][l]=1;const N=G.getCharCode("9"),L=G.getCharCode("0");for(let te=L;te<=N;te++)X[Er][te]=te-L+2;X[Er][d]=12,X[Er][h]=13;const q=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let te=0;te<q.length;te++)X[_s][G.getCharCode(q[te])]=te;const Z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let te=0;te<Z.length;te++)G.getCharCode(Z[te])>0&&(X[qi][G.getCharCode(Z[te])]=te);return X}const Vg=wA(j.createInt32Array(5,256));class bf{constructor(l){this.text=l}encode(){const l=G.getCharCode(" "),h=G.getCharCode(`
`);let d=ne.singletonList(ls.INITIAL_STATE);for(let v=0;v<this.text.length;v++){let x,E=v+1<this.text.length?this.text[v+1]:0;switch(this.text[v]){case G.getCharCode("\r"):x=E===h?2:0;break;case G.getCharCode("."):x=E===l?3:0;break;case G.getCharCode(","):x=E===l?4:0;break;case G.getCharCode(":"):x=E===l?5:0;break;default:x=0}x>0?(d=bf.updateStateListForPair(d,v,x),v++):d=this.updateStateListForChar(d,v)}return ne.min(d,(v,x)=>v.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,h){const d=[];for(let y of l)this.updateStateForChar(y,h,d);return bf.simplifyStates(d)}updateStateForChar(l,h,d){let y=this.text[h]&255,v=Vg[l.getMode()][y]>0,x=null;for(let E=0;E<=qi;E++){let N=Vg[E][y];if(N>0){if(x==null&&(x=l.endBinaryShift(h)),!v||E===l.getMode()||E===Er){const L=x.latchAndAppend(E,N);d.push(L)}if(!v&&Fg[l.getMode()][E]>=0){const L=x.shiftAndAppend(E,N);d.push(L)}}}if(l.getBinaryShiftByteCount()>0||Vg[l.getMode()][y]===0){let E=l.addBinaryShiftChar(h);d.push(E)}}static updateStateListForPair(l,h,d){const y=[];for(let v of l)this.updateStateForPair(v,h,d,y);return this.simplifyStates(y)}static updateStateForPair(l,h,d,y){let v=l.endBinaryShift(h);if(y.push(v.latchAndAppend(qi,d)),l.getMode()!==qi&&y.push(v.shiftAndAppend(qi,d)),d===3||d===4){let x=v.latchAndAppend(Er,16-d).latchAndAppend(Er,1);y.push(x)}if(l.getBinaryShiftByteCount()>0){let x=l.addBinaryShiftChar(h).addBinaryShiftChar(h+1);y.push(x)}}static simplifyStates(l){let h=[];for(const d of l){let y=!0;for(const v of h){if(v.isBetterThanOrEqualTo(d)){y=!1;break}d.isBetterThanOrEqualTo(v)&&(h=h.filter(x=>x!==v))}y&&h.push(d)}return h}}class dn{constructor(){}static encodeBytes(l){return dn.encode(l,dn.DEFAULT_EC_PERCENT,dn.DEFAULT_AZTEC_LAYERS)}static encode(l,h,d){let y=new bf(l).encode(),v=k.truncDivision(y.getSize()*h,100)+11,x=y.getSize()+v,E,N,L,q,Z;if(d!==dn.DEFAULT_AZTEC_LAYERS){if(E=d<0,N=Math.abs(d),N>(E?dn.MAX_NB_BITS_COMPACT:dn.MAX_NB_BITS))throw new m(G.format("Illegal value %s for layers",d));L=dn.totalBitsInLayer(N,E),q=dn.WORD_SIZE[N];let $e=L-L%q;if(Z=dn.stuffBits(y,q),Z.getSize()+v>$e)throw new m("Data to large for user specified layer");if(E&&Z.getSize()>q*64)throw new m("Data to large for user specified layer")}else{q=0,Z=null;for(let $e=0;;$e++){if($e>dn.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(E=$e<=3,N=E?$e+1:$e,L=dn.totalBitsInLayer(N,E),x>L)continue;(Z==null||q!==dn.WORD_SIZE[N])&&(q=dn.WORD_SIZE[N],Z=dn.stuffBits(y,q));let tn=L-L%q;if(!(E&&Z.getSize()>q*64)&&Z.getSize()+v<=tn)break}}let te=dn.generateCheckWords(Z,L,q),le=Z.getSize()/q,de=dn.generateModeMessage(E,N,le),me=(E?11:14)+N*4,be=new Int32Array(me),Ie;if(E){Ie=me;for(let $e=0;$e<be.length;$e++)be[$e]=$e}else{Ie=me+1+2*k.truncDivision(k.truncDivision(me,2)-1,15);let $e=k.truncDivision(me,2),tn=k.truncDivision(Ie,2);for(let Ut=0;Ut<$e;Ut++){let Ts=Ut+k.truncDivision(Ut,15);be[$e-Ut-1]=tn-Ts-1,be[$e+Ut]=tn+Ts+1}}let Ke=new ce(Ie);for(let $e=0,tn=0;$e<N;$e++){let Ut=(N-$e)*4+(E?9:12);for(let Ts=0;Ts<Ut;Ts++){let Oo=Ts*2;for(let hi=0;hi<2;hi++)te.get(tn+Oo+hi)&&Ke.set(be[$e*2+hi],be[$e*2+Ts]),te.get(tn+Ut*2+Oo+hi)&&Ke.set(be[$e*2+Ts],be[me-1-$e*2-hi]),te.get(tn+Ut*4+Oo+hi)&&Ke.set(be[me-1-$e*2-hi],be[me-1-$e*2-Ts]),te.get(tn+Ut*6+Oo+hi)&&Ke.set(be[me-1-$e*2-Ts],be[$e*2+hi])}tn+=Ut*8}if(dn.drawModeMessage(Ke,E,Ie,de),E)dn.drawBullsEye(Ke,k.truncDivision(Ie,2),5);else{dn.drawBullsEye(Ke,k.truncDivision(Ie,2),7);for(let $e=0,tn=0;$e<k.truncDivision(me,2)-1;$e+=15,tn+=16)for(let Ut=k.truncDivision(Ie,2)&1;Ut<Ie;Ut+=2)Ke.set(k.truncDivision(Ie,2)-tn,Ut),Ke.set(k.truncDivision(Ie,2)+tn,Ut),Ke.set(Ut,k.truncDivision(Ie,2)-tn),Ke.set(Ut,k.truncDivision(Ie,2)+tn)}let Ye=new Y;return Ye.setCompact(E),Ye.setSize(Ie),Ye.setLayers(N),Ye.setCodeWords(le),Ye.setMatrix(Ke),Ye}static drawBullsEye(l,h,d){for(let y=0;y<d;y+=2)for(let v=h-y;v<=h+y;v++)l.set(v,h-y),l.set(v,h+y),l.set(h-y,v),l.set(h+y,v);l.set(h-d,h-d),l.set(h-d+1,h-d),l.set(h-d,h-d+1),l.set(h+d,h-d),l.set(h+d,h-d+1),l.set(h+d,h+d-1)}static generateModeMessage(l,h,d){let y=new U;return l?(y.appendBits(h-1,2),y.appendBits(d-1,6),y=dn.generateCheckWords(y,28,4)):(y.appendBits(h-1,5),y.appendBits(d-1,11),y=dn.generateCheckWords(y,40,4)),y}static drawModeMessage(l,h,d,y){let v=k.truncDivision(d,2);if(h)for(let x=0;x<7;x++){let E=v-3+x;y.get(x)&&l.set(E,v-5),y.get(x+7)&&l.set(v+5,E),y.get(20-x)&&l.set(E,v+5),y.get(27-x)&&l.set(v-5,E)}else for(let x=0;x<10;x++){let E=v-5+x+k.truncDivision(x,5);y.get(x)&&l.set(E,v-7),y.get(x+10)&&l.set(v+7,E),y.get(29-x)&&l.set(E,v+7),y.get(39-x)&&l.set(v-7,E)}}static generateCheckWords(l,h,d){let y=l.getSize()/d,v=new sl(dn.getGF(d)),x=k.truncDivision(h,d),E=dn.bitsToWords(l,d,x);v.encode(E,x-y);let N=h%d,L=new U;L.appendBits(0,N);for(const q of Array.from(E))L.appendBits(q,d);return L}static bitsToWords(l,h,d){let y=new Int32Array(d),v,x;for(v=0,x=l.getSize()/h;v<x;v++){let E=0;for(let N=0;N<h;N++)E|=l.get(v*h+N)?1<<h-N-1:0;y[v]=E}return y}static getGF(l){switch(l){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new m("Unsupported word size "+l)}}static stuffBits(l,h){let d=new U,y=l.getSize(),v=(1<<h)-2;for(let x=0;x<y;x+=h){let E=0;for(let N=0;N<h;N++)(x+N>=y||l.get(x+N))&&(E|=1<<h-1-N);(E&v)===v?(d.appendBits(E&v,h),x--):(E&v)===0?(d.appendBits(E|1,h),x--):d.appendBits(E,h)}return d}static totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}dn.DEFAULT_EC_PERCENT=33,dn.DEFAULT_AZTEC_LAYERS=0,dn.MAX_NB_BITS=32,dn.MAX_NB_BITS_COMPACT=4,dn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Af{encode(l,h,d,y){return this.encodeWithHints(l,h,d,y,null)}encodeWithHints(l,h,d,y,v){let x=z.ISO_8859_1,E=dn.DEFAULT_EC_PERCENT,N=dn.DEFAULT_AZTEC_LAYERS;return v!=null&&(v.has(kr.CHARACTER_SET)&&(x=S.forName(v.get(kr.CHARACTER_SET).toString())),v.has(kr.ERROR_CORRECTION)&&(E=k.parseInt(v.get(kr.ERROR_CORRECTION).toString())),v.has(kr.AZTEC_LAYERS)&&(N=k.parseInt(v.get(kr.AZTEC_LAYERS).toString()))),Af.encodeLayers(l,h,d,y,x,E,N)}static encodeLayers(l,h,d,y,v,x,E){if(h!==Me.AZTEC)throw new m("Can only encode AZTEC, but got "+h);let N=dn.encode(G.getBytes(l,v),x,E);return Af.renderResult(N,d,y)}static renderResult(l,h,d){let y=l.getMatrix();if(y==null)throw new Ft;let v=y.getWidth(),x=y.getHeight(),E=Math.max(h,v),N=Math.max(d,x),L=Math.min(E/v,N/x),q=(E-v*L)/2,Z=(N-x*L)/2,te=new ce(E,N);for(let le=0,de=Z;le<x;le++,de+=L)for(let me=0,be=q;me<v;me++,be+=L)y.get(me,le)&&te.setRegion(be,de,L,L);return te}}n.AbstractExpandedDecoder=Ja,n.ArgumentException=g,n.ArithmeticException=Te,n.AztecCode=Y,n.AztecCodeReader=Us,n.AztecCodeWriter=Af,n.AztecDecoder=Kt,n.AztecDetector=Hi,n.AztecDetectorResult=wi,n.AztecEncoder=dn,n.AztecHighLevelEncoder=bf,n.AztecPoint=vr,n.BarcodeFormat=Me,n.Binarizer=I,n.BinaryBitmap=w,n.BitArray=U,n.BitMatrix=ce,n.BitSource=Wc,n.BrowserAztecCodeReader=ws,n.BrowserBarcodeReader=nd,n.BrowserCodeReader=xe,n.BrowserDatamatrixCodeReader=jg,n.BrowserMultiFormatReader=il,n.BrowserPDF417Reader=zl,n.BrowserQRCodeReader=Zc,n.BrowserQRCodeSvgWriter=lo,n.CharacterSetECI=V,n.ChecksumException=A,n.Code128Reader=Xe,n.Code39Reader=Xn,n.DataMatrixDecodedBitStreamParser=Hs,n.DataMatrixReader=bs,n.DecodeHintType=B,n.DecoderResult=Pe,n.DefaultGridSampler=Nr,n.DetectorResult=_n,n.EAN13Reader=ai,n.EncodeHintType=kr,n.Exception=u,n.FormatException=O,n.GenericGF=et,n.GenericGFPoly=Ge,n.GlobalHistogramBinarizer=oe,n.GridSampler=so,n.GridSamplerInstance=oi,n.HTMLCanvasElementLuminanceSource=we,n.HybridBinarizer=ae,n.ITFReader=cn,n.IllegalArgumentException=m,n.IllegalStateException=Ft,n.InvertedLuminanceSource=pe,n.LuminanceSource=re,n.MathUtils=xt,n.MultiFormatOneDReader=Yo,n.MultiFormatReader=Xo,n.MultiFormatWriter=od,n.NotFoundException=J,n.OneDReader=Qn,n.PDF417DecodedBitStreamParser=Ce,n.PDF417DecoderErrorCorrection=nl,n.PDF417Reader=fi,n.PDF417ResultMetadata=Ul,n.PerspectiveTransform=ln,n.PlanarYUVLuminanceSource=qs,n.QRCodeByteMatrix=$l,n.QRCodeDataMask=Mt,n.QRCodeDecodedBitStreamParser=er,n.QRCodeDecoderErrorCorrectionLevel=Jt,n.QRCodeDecoderFormatInformation=Rr,n.QRCodeEncoder=Rn,n.QRCodeEncoderQRCode=as,n.QRCodeMaskUtil=Gn,n.QRCodeMatrixUtil=bt,n.QRCodeMode=wt,n.QRCodeReader=ki,n.QRCodeVersion=tt,n.QRCodeWriter=Yr,n.RGBLuminanceSource=co,n.RSS14Reader=wn,n.RSSExpandedReader=Be,n.ReaderException=Sa,n.ReedSolomonDecoder=Yt,n.ReedSolomonEncoder=sl,n.ReedSolomonException=dt,n.Result=Re,n.ResultMetadataType=De,n.ResultPoint=nt,n.StringUtils=G,n.UnsupportedOperationException=K,n.VideoInputDevice=ue,n.WhiteRectangleDetector=si,n.WriterException=Tn,n.ZXingArrays=j,n.ZXingCharset=S,n.ZXingInteger=k,n.ZXingStandardCharsets=z,n.ZXingStringBuilder=$,n.ZXingStringEncoding=W,n.ZXingSystem=_,n.createAbstractExpandedDecoder=td,Object.defineProperty(n,"__esModule",{value:!0})}))})(Dm,Dm.exports)),Dm.exports}var Tr=N3e();const O3e=Nn(Tr),R3e=cz({__proto__:null,default:O3e},[Tr]);var UV=(function(){function t(e,n,r){if(this.formatMap=new Map([[lt.QR_CODE,Tr.BarcodeFormat.QR_CODE],[lt.AZTEC,Tr.BarcodeFormat.AZTEC],[lt.CODABAR,Tr.BarcodeFormat.CODABAR],[lt.CODE_39,Tr.BarcodeFormat.CODE_39],[lt.CODE_93,Tr.BarcodeFormat.CODE_93],[lt.CODE_128,Tr.BarcodeFormat.CODE_128],[lt.DATA_MATRIX,Tr.BarcodeFormat.DATA_MATRIX],[lt.MAXICODE,Tr.BarcodeFormat.MAXICODE],[lt.ITF,Tr.BarcodeFormat.ITF],[lt.EAN_13,Tr.BarcodeFormat.EAN_13],[lt.EAN_8,Tr.BarcodeFormat.EAN_8],[lt.PDF_417,Tr.BarcodeFormat.PDF_417],[lt.RSS_14,Tr.BarcodeFormat.RSS_14],[lt.RSS_EXPANDED,Tr.BarcodeFormat.RSS_EXPANDED],[lt.UPC_A,Tr.BarcodeFormat.UPC_A],[lt.UPC_E,Tr.BarcodeFormat.UPC_E],[lt.UPC_EAN_EXTENSION,Tr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!R3e)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),s=new Map;s.set(Tr.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Tr.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var n=new Tr.MultiFormatReader(this.verbose,this.hints),r=new Tr.HTMLCanvasElementLuminanceSource(e),i=new Tr.BinaryBitmap(new Tr.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:PX.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),k3e=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},M3e=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},zV=(function(){function t(e,n,r){if(this.formatMap=new Map([[lt.QR_CODE,"qr_code"],[lt.AZTEC,"aztec"],[lt.CODABAR,"codabar"],[lt.CODE_39,"code_39"],[lt.CODE_93,"code_93"],[lt.CODE_128,"code_128"],[lt.DATA_MATRIX,"data_matrix"],[lt.ITF,"itf"],[lt.EAN_13,"ean_13"],[lt.EAN_8,"ean_8"],[lt.PDF_417,"pdf417"],[lt.UPC_A,"upc_a"],[lt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return k3e(this,void 0,void 0,function(){var n,r;return M3e(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:PX.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,s=e;i<s.length;i++){var o=s[i],a=o.boundingBox.width*o.boundingBox.height;a>r&&(r=a,n=o)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),HV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},$V=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},D3e=(function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&zV.isSupported()?(this.primaryDecoder=new zV(e,r,i),this.secondaryDecoder=new UV(e,r,i)):this.primaryDecoder=new UV(e,r,i)}return t.prototype.decodeAsync=function(e){return HV(this,void 0,void 0,function(){var n;return $V(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return HV(this,void 0,void 0,function(){var n,r;return $V(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),q3=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Nx=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Ox=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kX=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),L3e=(function(t){q3(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(kX),B3e=(function(t){q3(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(L3e),j3e=(function(t){q3(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(kX),F3e=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new B3e(this.track)},t.prototype.torchFeature=function(){return new j3e(this.track)},t})(),V3e=(function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return Nx(this,void 0,void 0,function(){var s,o;return Ox(this,function(a){switch(a.label){case 0:return s=new t(e,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:a.sent(),a.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Nx(this,void 0,void 0,function(){return Ox(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),s=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(a){e.mediaStream.removeTrack(a),a.stop(),++o,o>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new F3e(this.getFirstTrackOrFail())},t})(),U3e=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return Nx(this,void 0,void 0,function(){return Ox(this,function(i){return[2,V3e.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return Nx(this,void 0,void 0,function(){var n,r;return Ox(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t})(),GV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},qV=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},z3e=(function(){function t(){}return t.failIfNotSupported=function(){return GV(this,void 0,void 0,function(){return qV(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return GV(this,void 0,void 0,function(){return qV(this,function(n){return[2,U3e.create(e)]})})},t})(),H3e=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},$3e=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},G3e=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Qd.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Qd.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return H3e(this,void 0,void 0,function(){var e,n,r,i,s,o,a;return $3e(this,function(c){switch(c.label){case 0:return e=function(u){for(var g=u.getVideoTracks(),m=0,w=g;m<w.length;m++){var A=w[m];A.enabled=!1,A.stop(),u.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=c.sent(),i=[],s=0,o=r;s<o.length;s++)a=o[s],a.kind==="videoinput"&&i.push({id:a.deviceId,label:a.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(s){for(var o=[],a=0,c=s;a<c.length;a++){var u=c[a];u.kind==="video"&&o.push({id:u.id,label:u.label})}e(o)},i=MediaStreamTrack;i.getSources(r)})},t})(),Xr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Xr||(Xr={}));var q3e=(function(){function t(){this.state=Xr.NOT_STARTED,this.onGoingTransactionNewState=Xr.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Xr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Xr.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Xr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Xr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Xr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Xr.UNKNOWN:throw"Transition from unknown is not allowed";case Xr.NOT_STARTED:this.failIfNewStateIs(e,[Xr.PAUSED]);break;case Xr.SCANNING:break;case Xr.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),W3e=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Xr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Xr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Xr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Xr.PAUSED},t})(),K3e=(function(){function t(){}return t.create=function(){return new W3e(new q3e)},t})(),Y3e=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Do=(function(t){Y3e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(ja),Q3e=(function(){function t(e,n){this.logger=n,this.fps=Do.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Do.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?RX.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!dl(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),Rx=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new OX(this.verbose),this.qrcode=new D3e(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=K3e.create()}return t.prototype.start=function(e,n,r,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var a=Q3e.create(n,this.logger);this.clearElement();var c=!1;a.videoConstraints&&(a.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:Do.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var m=this,w=this.stateManagerProxy.startTransition(Xr.SCANNING);return new Promise(function(A,I){var _=u?a.videoConstraints:m.createVideoConstraints(e);if(!_){w.cancel(),I("videoConstraints should be defined");return}var C={};(!u||a.aspectRatio)&&(C.aspectRatio=a.aspectRatio);var R={onRenderSurfaceReady:function(j,k){m.setupUi(j,k,a),m.isScanning=!0,m.foreverScan(a,r,o)}};z3e.failIfNotSupported().then(function(j){j.create(_).then(function(k){return k.render(s.element,C,R).then(function(U){m.renderedCamera=U,w.execute(),A(null)}).catch(function(U){w.cancel(),I(U)})}).catch(function(k){w.cancel(),I(Qd.errorGettingUserMedia(k))})}).catch(function(j){w.cancel(),I(Qd.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Xr.PAUSED),this.showPausedState(),(dl(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Xr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Xr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var s=document.getElementById(Do.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(dl(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var a=o.width,c=o.height,u=document.getElementById(r.elementId),g=u.clientWidth?u.clientWidth:Do.DEFAULT_WIDTH,m=Math.max(u.clientHeight?u.clientHeight:c,Do.FILE_SCAN_MIN_HEIGHT),w=r.computeCanvasDrawConfig(a,c,g,m);if(n){var A=r.createCanvasElement(g,m,"qr-canvas-visible");A.style.display="inline-block",u.appendChild(A);var I=A.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=g,I.canvas.height=m,I.drawImage(o,0,0,a,c,w.x,w.y,w.width,w.height)}var _=Do.FILE_SCAN_HIDDEN_CANVAS_PADDING,C=Math.max(o.width,w.width),R=Math.max(o.height,w.height),j=C+2*_,k=R+2*_,U=r.createCanvasElement(j,k);u.appendChild(U);var D=U.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=j,D.canvas.height=k,D.drawImage(o,0,0,a,c,_,_,C,R);try{r.qrcode.decodeRobustlyAsync(U).then(function(B){i(jV.createFromQrcodeResult(B))}).catch(s)}catch(B){s("QR code parse error, error = ".concat(B))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return G3e.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!RX.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[lt.QR_CODE,lt.AZTEC,lt.CODABAR,lt.CODE_39,lt.CODE_93,lt.CODE_128,lt.DATA_MATRIX,lt.MAXICODE,lt.ITF,lt.EAN_13,lt.EAN_8,lt.PDF_417,lt.RSS_14,lt.RSS_EXPANDED,lt.UPC_A,lt.UPC_E,lt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=e.formatsToSupport;i<s.length;i++){var o=s[i];C3e(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(dl(e))return!0;if(!dl(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(dl(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return dl(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,n,s),a=function(u){if(u<Do.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Do.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=e),u};a(o.width),a(o.height),o.width=c(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=dl(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&s.height<=n,a={x:0,y:0,width:e,height:n},c=o?this.getShadedRegionBounds(e,n,s):a,u=this.createCanvasElement(c.width,c.height),g={willReadFrequently:!0},m=u.getContext("2d",g);m.canvas.width=c.width,m.canvas.height=c.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,e,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=m,this.canvasElement=u},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Qd.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,jV.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=Qd.codeParseError(i);return n(s,NX.createFrom(s)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,a=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*o,u=this.qrRegion.height*a,g=this.qrRegion.x*o,m=this.qrRegion.y*a;this.context.drawImage(s,g,m,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(A){!A&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){w()})):w()}).catch(function(A){i.logger.logError("Error happend while scanning context",A),w()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",o=function(I){if(I in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},a=Object.keys(e);if(a.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(a.length," keys");var c=Object.keys(e)[0];if(c!==n&&c!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(c===n){var u=e.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(s in u){if(o(u["".concat(s)]))return{facingMode:{exact:u["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var g=typeof u;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var m=e.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(s in m)return{deviceId:{exact:m["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var w=typeof m;throw"Invalid type of 'deviceId' = ".concat(w)}}}var A=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var s=(r-e)/2,o=(i-n)/2;return{x:s,y:o,width:e,height:n}}else{var a=e,c=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(a,"X").concat(c)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Do.BORDER_SHADER_MATCH_COLOR:Do.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,s=n,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=dl(r)?"qr-canvas":r,o},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(n-i.width)/2,a=(r-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Do.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(s,u,c,-c,null,0,!0),this.insertShaderBorders(s,u,c,-c,null,0,!1),this.insertShaderBorders(s,u,c,null,-c,0,!0),this.insertShaderBorders(s,u,c,null,-c,0,!1),this.insertShaderBorders(s,c,u+c,-c,null,-c,!0),this.insertShaderBorders(s,c,u+c,null,-c,-c,!0),this.insertShaderBorders(s,c,u+c,-c,null,-c,!1),this.insertShaderBorders(s,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,n,r,i,s,o,a){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=Do.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(n,"px"),c.style.height="".concat(r,"px"),i!==null&&(c.style.top="".concat(i,"px")),s!==null&&(c.style.bottom="".concat(s,"px")),a?c.style.left="".concat(o,"px"):c.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),e.appendChild(c)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),W3="data:image/svg+xml;base64,",X3e=W3+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Z3e=W3+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",WV=W3+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",J3e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",KV=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),eke=(function(){function t(){this.data=KV.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=KV.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),tke=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=FV.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var s=document.createElement("a");s.innerText=FV.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",s.style.color="white",this.infoDiv.appendChild(s),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),nke=(function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=WV,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=J3e,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=WV,this.infoIcon.style.opacity="0.6")},t})(),rke=(function(){function t(){var e=this;this.infoDiv=new tke,this.infoIcon=new nke(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),ike=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},ske=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},YV=(function(){function t(){}return t.hasPermissions=function(){return ike(this,void 0,void 0,function(){var e,n,r,i;return ske(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=s.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t})(),Au=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===rf.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===rf.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return ja.DEFAULT_SUPPORTED_SCAN_TYPE;var n=ja.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var s=i[r];if(!ja.DEFAULT_SUPPORTED_SCAN_TYPE.includes(s))throw"Unsupported scan type ".concat(s)}return e},t})(),Ho=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),gc=(function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(Ho.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t})(),MX=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},DX=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},QV=(function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return MX(this,void 0,void 0,function(){var e,n;return DX(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Kn.torchOffButton():Kn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Kn.torchOnFailedMessage():Kn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),oke=(function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=gc.createElement("button",Ho.TORCH_BUTTON_ID),this.torchController=new QV(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Kn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(s){return MX(r,void 0,void 0,function(){return DX(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Ho.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Ho.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Ho.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Ho.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new QV(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Kn.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var s=new t(n,i);return s.render(e,r),s},t})(),ake=(function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=gc.createElement("button",Ho.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(a){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=gc.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var s=this;this.fileScanInput.addEventListener("change",function(a){if(!(a==null||a.target==null)){var c=a.target;if(!(c.files&&c.files.length===0)){var u=c.files,g=u[0],m=g.name;s.setImageNameToButton(m),r(g)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(a){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),a.stopPropagation(),a.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(a){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder(),a.stopPropagation(),a.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(a){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),a.stopPropagation(),a.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(a){a.stopPropagation(),a.preventDefault(),s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder();var c=a.dataTransfer;if(c){var u=c.files;if(!u||u.length===0)return;for(var g=!1,m=0;m<u.length;++m){var w=u.item(m);if(w){var A=/image.*/;if(w.type.match(A)){g=!0;var I=w.name;s.setImageNameToButton(I),r(w),o.innerText=Kn.dragAndDropMessage();break}}}g||(o.innerText=Kn.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Kn.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,s=e.substring(i-8,i);e="".concat(r,"....").concat(s)}var o=Kn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=o},t.prototype.setInitialValueToButton=function(){var e=Kn.fileSelectionChooseImage()+" - "+Kn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t})(),lke=(function(){function t(e){this.selectElement=gc.createElement("select",Ho.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Kn.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var s=1,o=0,a=this.cameras;o<a.length;o++){var c=a[o],u=c.id,g=c.label==null?u:c.label;(!g||g==="")&&(g=[Kn.anonymousCameraPrefix(),s++].join(" "));var m=document.createElement("option");m.value=u,m.innerText=g,this.options.push(m),this.selectElement.appendChild(m)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t})(),cke=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=gc.createElement("input",Ho.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Kn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Kn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t})(),Lo;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Lo||(Lo={}));function uke(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function fke(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var hke=(function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Au(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new OX(this.verbose),this.persistedDataManager=new eke,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,o){if(e)e(s,o);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage(Kn.lastMatch(s),Lo.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,o){n&&n(s,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Rx(this.getScanRegionId(),fke(this.config,this.verbose))},t.prototype.pause=function(e){(dl(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(s){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(s){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",s),i(s)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=ja.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!ja.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=ja.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=ja.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:ja.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ja.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ja.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),Au.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),s=this.getDashboardId();i.id=s,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new rke;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Kn.cameraPermissionRequesting());var s=function(){r||i.createPermissionButton(e,n)};Rx.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(e.removeChild(n),i.renderCameraSelection(o)):(i.setHeaderMessage(Kn.noCameraFound(),Lo.STATUS_WARNING),s())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),i.setHeaderMessage(o,Lo.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=gc.createElement("button",this.getCameraPermissionButtonId());i.innerText=Kn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(Au.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){YV.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Au.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=Au.isFileScanType(this.currentScanType),r=this,i=function(s){if(!r.html5Qrcode)throw"html5Qrcode not defined";Au.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Kn.loadingImage()),r.html5Qrcode.scanFileV2(s,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,Lo.STATUS_WARNING),r.qrCodeErrorCallback(o,NX.createFrom(o))}))};this.fileSelectionUi=ake.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var s=cke.create(i,!1),o=function(_){var C=_.zoomFeature();if(C.isSupported()){s.setOnCameraZoomValueChangeCallback(function(j){C.apply(j)});var R=1;n.config.defaultZoomValueIfSupported&&(R=n.config.defaultZoomValueIfSupported),R=I3e(R,C.min(),C.max()),s.setValues(C.min(),C.max(),R,C.step()),s.show()}},a=lke.create(i,e),c=document.createElement("span"),u=gc.createElement("button",Ho.CAMERA_START_BUTTON_ID);u.innerText=Kn.scanButtonStartScanningText(),c.appendChild(u);var g=gc.createElement("button",Ho.CAMERA_STOP_BUTTON_ID);g.innerText=Kn.scanButtonStopScanningText(),g.style.display="none",g.disabled=!0,c.appendChild(g);var m,w=function(_){if(!_.torchFeature().isSupported()){m&&m.hide();return}m?m.updateTorchCapability(_.torchFeature()):m=oke.create(c,_.torchFeature(),{display:"none",marginLeft:"5px"},function(C){r.setHeaderMessage(C,Lo.STATUS_WARNING)}),m.show()};i.appendChild(c);var A=function(_){_||(u.style.display="none"),u.innerText=Kn.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,_&&(u.style.display="inline-block")};if(u.addEventListener("click",function(_){u.innerText=Kn.scanButtonScanningStarting(),a.disable(),u.disabled=!0,u.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var C=a.getValue();r.persistedDataManager.setLastUsedCameraId(C),r.html5Qrcode.start(C,uke(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(R){g.disabled=!1,g.style.display="inline-block",A(!1);var j=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&w(j),n.config.showZoomSliderIfSupported===!0&&o(j)}).catch(function(R){r.showHideScanTypeSwapLink(!0),a.enable(),A(!0),r.setHeaderMessage(R,Lo.STATUS_WARNING)})}),a.hasSingleItem()&&u.click(),g.addEventListener("click",function(_){if(!r.html5Qrcode)throw"html5Qrcode not defined";g.disabled=!0,r.html5Qrcode.stop().then(function(C){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),a.enable(),u.disabled=!1,g.style.display="none",u.style.display="inline-block",m&&(m.reset(),m.hide()),s.removeOnCameraZoomValueChangeCallback(),s.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(C){g.disabled=!1,r.setHeaderMessage(C,Lo.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var I=r.persistedDataManager.getLastUsedCameraId();a.hasValue(I)?(a.setValue(I),u.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Kn.textIfCameraScanSelected(),r=Kn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var o=gc.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Au.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Au.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=r,e.currentScanType=rf.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=n,e.currentScanType=rf.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),s.appendChild(o),i.appendChild(s)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){YV.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=Lo.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case Lo.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Lo.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Lo.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=X3e,this.cameraScanImage.alt=Kn.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Z3e,this.fileScanImage.alt=Kn.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Ho.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Ho.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();class dke{scanner=null;html5QrCode=null;async generateQRCode(e){try{const n=JSON.stringify(e);return await DV.toDataURL(n,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"H"})}catch(n){throw console.error("Error generating QR code:",n),new Error("Failed to generate QR code")}}async generateQRCodeSVG(e){try{const n=JSON.stringify(e);return await DV.toString(n,{type:"svg",width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"H"})}catch(n){throw console.error("Error generating QR code SVG:",n),new Error("Failed to generate QR code SVG")}}startScanner(e,n,r){try{this.stopScanner(),this.scanner=new hke(e,{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,defaultZoomValueIfSupported:2},!1),this.scanner.render((i,s)=>{try{const o=JSON.parse(i);n(i,o)}catch{n(i,{rawText:i})}},r||(i=>{console.warn("QR Scanner error:",i)}))}catch(i){throw console.error("Failed to start QR scanner:",i),new Error("Failed to start QR code scanner")}}stopScanner(){try{this.scanner&&(this.scanner.clear().catch(console.error),this.scanner=null),this.html5QrCode&&(this.html5QrCode.stop().catch(console.error),this.html5QrCode=null)}catch(e){console.error("Error stopping scanner:",e)}}async scanFromFile(e){try{this.html5QrCode||(this.html5QrCode=new Rx("temp-qr-reader"));const n=await this.html5QrCode.scanFile(e,!0);try{return JSON.parse(n)}catch{return{rawText:n}}}catch(n){throw console.error("Failed to scan QR code from file:",n),new Error("Failed to scan QR code from file")}}isValidQRCodeData(e){return e&&typeof e.productId=="string"&&typeof e.name=="string"&&typeof e.farmer=="string"&&typeof e.harvestDate=="string"&&typeof e.location=="string"&&typeof e.timestamp=="number"}createQRCodeData(e,n,r,i,s,o){return{productId:e,name:n,farmer:r,harvestDate:i,location:s,blockchainHash:o,timestamp:Date.now()}}async getScannerCapabilities(){try{const e=await Rx.getCameras();return{cameras:e,hasCamera:e.length>0,supportedFormats:["QR_CODE","DATA_MATRIX","UPC_A","UPC_E","EAN_8","EAN_13"]}}catch(e){return console.error("Failed to get scanner capabilities:",e),{cameras:[],hasCamera:!1,supportedFormats:[]}}}downloadQRCode(e,n="qr-code.png"){try{const r=document.createElement("a");r.href=e,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(r){throw console.error("Failed to download QR code:",r),new Error("Failed to download QR code")}}printQRCode(e){try{const n=window.open("","_blank");n&&(n.document.write(`
          <html>
            <head>
              <title>Print QR Code</title>
              <style>
                body {
                  margin: 0;
                  padding: 20px;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  min-height: 100vh;
                }
                img {
                  max-width: 100%;
                  max-height: 100%;
                }
              </style>
            </head>
            <body>
              <img src="${e}" alt="QR Code" />
            </body>
          </html>
        `),n.document.close(),n.focus(),n.print())}catch(n){throw console.error("Failed to print QR code:",n),new Error("Failed to print QR code")}}}const ry=new dke,pke=async(t,e,n,r,i,s)=>{const o=ry.createQRCodeData(t,e,n,r,i,s);return await ry.generateQRCode(o)};function gke(t,e){return Q.useReducer((n,r)=>e[n][r]??n,t)}var dA=t=>{const{present:e,children:n}=t,r=mke(e),i=typeof n=="function"?n({present:r.isPresent}):Q.Children.only(n),s=vi(r.ref,yke(i));return typeof n=="function"||r.isPresent?Q.cloneElement(i,{ref:s}):null};dA.displayName="Presence";function mke(t){const[e,n]=Q.useState(),r=Q.useRef(null),i=Q.useRef(t),s=Q.useRef("none"),o=t?"mounted":"unmounted",[a,c]=gke(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Q.useEffect(()=>{const u=Av(r.current);s.current=a==="mounted"?u:"none"},[a]),Fs(()=>{const u=r.current,g=i.current;if(g!==t){const w=s.current,A=Av(u);t?c("MOUNT"):A==="none"||u?.display==="none"?c("UNMOUNT"):c(g&&w!==A?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Fs(()=>{if(e){let u;const g=e.ownerDocument.defaultView??window,m=A=>{const _=Av(r.current).includes(CSS.escape(A.animationName));if(A.target===e&&_&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",u=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},w=A=>{A.target===e&&(s.current=Av(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(u),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Q.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Av(t){return t?.animationName||"none"}function yke(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pA="Dialog",[LX,M6e]=Fx(pA),[vke,Xa]=LX(pA),BX=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=Q.useRef(null),c=Q.useRef(null),[u,g]=wI({prop:r,defaultProp:i??!1,onChange:s,caller:pA});return P.jsx(vke,{scope:e,triggerRef:a,contentRef:c,contentId:np(),titleId:np(),descriptionId:np(),open:u,onOpenChange:g,onOpenToggle:Q.useCallback(()=>g(m=>!m),[g]),modal:o,children:n})};BX.displayName=pA;var jX="DialogTrigger",FX=Q.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xa(jX,n),s=vi(e,i.triggerRef);return P.jsx(cr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Q3(i.open),...r,ref:s,onClick:Ir(t.onClick,i.onOpenToggle)})});FX.displayName=jX;var K3="DialogPortal",[wke,VX]=LX(K3,{forceMount:void 0}),UX=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Xa(K3,e);return P.jsx(wke,{scope:e,forceMount:n,children:Q.Children.map(r,o=>P.jsx(dA,{present:n||s.open,children:P.jsx(bO,{asChild:!0,container:i,children:o})}))})};UX.displayName=K3;var kx="DialogOverlay",zX=Q.forwardRef((t,e)=>{const n=VX(kx,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Xa(kx,t.__scopeDialog);return s.modal?P.jsx(dA,{present:r||s.open,children:P.jsx(bke,{...i,ref:e})}):null});zX.displayName=kx;var xke=Ap("DialogOverlay.RemoveScroll"),bke=Q.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xa(kx,n);return P.jsx(AO,{as:xke,allowPinchZoom:!0,shards:[i.contentRef],children:P.jsx(cr.div,{"data-state":Q3(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Uh="DialogContent",HX=Q.forwardRef((t,e)=>{const n=VX(Uh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Xa(Uh,t.__scopeDialog);return P.jsx(dA,{present:r||s.open,children:s.modal?P.jsx(Ake,{...i,ref:e}):P.jsx(Eke,{...i,ref:e})})});HX.displayName=Uh;var Ake=Q.forwardRef((t,e)=>{const n=Xa(Uh,t.__scopeDialog),r=Q.useRef(null),i=vi(e,n.contentRef,r);return Q.useEffect(()=>{const s=r.current;if(s)return tH(s)},[]),P.jsx($X,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ir(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ir(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ir(t.onFocusOutside,s=>s.preventDefault())})}),Eke=Q.forwardRef((t,e)=>{const n=Xa(Uh,t.__scopeDialog),r=Q.useRef(!1),i=Q.useRef(!1);return P.jsx($X,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),$X=Q.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Xa(Uh,n),c=Q.useRef(null),u=vi(e,c);return Pz(),P.jsxs(P.Fragment,{children:[P.jsx(hO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:P.jsx(fO,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Q3(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(_ke,{titleId:a.titleId}),P.jsx(Cke,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Y3="DialogTitle",GX=Q.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xa(Y3,n);return P.jsx(cr.h2,{id:i.titleId,...r,ref:e})});GX.displayName=Y3;var qX="DialogDescription",Ske=Q.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xa(qX,n);return P.jsx(cr.p,{id:i.descriptionId,...r,ref:e})});Ske.displayName=qX;var WX="DialogClose",KX=Q.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Xa(WX,n);return P.jsx(cr.button,{type:"button",...r,ref:e,onClick:Ir(t.onClick,()=>i.onOpenChange(!1))})});KX.displayName=WX;function Q3(t){return t?"open":"closed"}var YX="DialogTitleWarning",[D6e,QX]=bte(YX,{contentName:Uh,titleName:Y3,docsSlug:"dialog"}),_ke=({titleId:t})=>{const e=QX(YX),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return Q.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Tke="DialogDescriptionWarning",Cke=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QX(Tke).contentName}}.`;return Q.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Ike=BX,Pke=FX,Nke=UX,Oke=zX,Rke=HX,kke=GX,Mke=KX;function X3({...t}){return P.jsx(Ike,{"data-slot":"dialog",...t})}function Z3({...t}){return P.jsx(Pke,{"data-slot":"dialog-trigger",...t})}function Dke({...t}){return P.jsx(Nke,{"data-slot":"dialog-portal",...t})}function Lke({className:t,...e}){return P.jsx(Oke,{"data-slot":"dialog-overlay",className:$r("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function J3({className:t,children:e,...n}){return P.jsxs(Dke,{"data-slot":"dialog-portal",children:[P.jsx(Lke,{}),P.jsxs(Rke,{"data-slot":"dialog-content",className:$r("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,P.jsxs(Mke,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[P.jsx(PO,{}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ek({className:t,...e}){return P.jsx("div",{"data-slot":"dialog-header",className:$r("flex flex-col gap-2 text-center sm:text-left",t),...e})}function tk({className:t,...e}){return P.jsx(kke,{"data-slot":"dialog-title",className:$r("text-lg leading-none font-semibold",t),...e})}function Bke({onLogout:t}){const[e,n]=Q.useState([]),[r,i]=Q.useState({name:"",weight:"",harvestDate:"",location:"",expectedPrice:""}),[s,o]=Q.useState(!1),[a,c]=Q.useState(null),[u,g]=Q.useState([]),[m,w]=Q.useState(!1),[A,I]=Q.useState(!1),[_,C]=Q.useState(!1),[R,j]=Q.useState(null),{t:k}=jc();Q.useEffect(()=>{(async()=>{try{const $=await Bs.connect();I($),$&&Lt.success("Blockchain wallet connected successfully!")}catch($){console.error("Failed to connect to blockchain:",$),Lt.error("Failed to connect to blockchain wallet")}})()},[]);const U=[{name:"Rice",currentPrice:28,myPrice:0},{name:"Wheat",currentPrice:32,myPrice:0},{name:"Corn",currentPrice:22,myPrice:0},{name:"Sugarcane",currentPrice:35,myPrice:0},{name:"Tomato",currentPrice:45,myPrice:0},{name:"Onion",currentPrice:38,myPrice:0},{name:"Potato",currentPrice:25,myPrice:0},{name:"Cotton",currentPrice:65,myPrice:0}],D=G=>{if(i($=>({...$,name:G})),G.length>=2){const $=gIe(G);g($),w($.length>0);const ce=zF(G);ce&&(c(ce),i(J=>({...J,expectedPrice:Math.round(ce.recommendedPrice/100).toString()})))}else w(!1),c(null)},B=G=>{i(ce=>({...ce,name:G})),w(!1);const $=zF(G);$&&(c($),i(ce=>({...ce,expectedPrice:Math.round($.recommendedPrice/100).toString()})))},O=G=>{G.preventDefault();const $=i3e().trim().toUpperCase(),ce={id:e.length+1,name:r.name,weight:parseInt(r.weight),harvestDate:r.harvestDate,location:r.location,expectedPrice:parseInt(r.expectedPrice),blockchainId:$,status:"draft"};n([...e,ce]),i({name:"",weight:"",harvestDate:"",location:"",expectedPrice:""}),c(null),o(!1),Lt.info('Crop added to draft. Click "Register on Blockchain" to make it permanent.')},M=()=>U.map(G=>{const $=e.find(ce=>ce.name.toLowerCase()===G.name.toLowerCase());return{...G,myPrice:$?$.expectedPrice:0}}),V=async G=>{if(!A){Lt.error("Please connect your blockchain wallet first");return}C(!0);try{const $=await Bs.registerProduct(G.blockchainId.trim().toUpperCase(),G.name,G.weight,G.expectedPrice,G.harvestDate,"A",G.location),ce=await Bs.getAddress(),J=await pke(G.blockchainId,G.name,ce,G.harvestDate,G.location,$),oe=e.map(ae=>ae.id===G.id?{...ae,transactionHash:$,qrCode:J,status:"registered"}:ae);n(oe),Lt.success(`Crop "${G.name}" registered on blockchain successfully!`)}catch($){console.error("Failed to register crop on blockchain:",$);const ce=e.map(J=>J.id===G.id?{...J,status:"error"}:J);n(ce),Lt.error("Failed to register crop on blockchain. Please try again.")}finally{C(!1)}},K=G=>{G.qrCode&&(ry.downloadQRCode(G.qrCode,`${G.name}-${G.blockchainId}-QR.png`),Lt.success("QR code downloaded successfully!"))},W=async()=>{try{const G=await Bs.connect();I(G),G&&Lt.success("Blockchain wallet connected successfully!")}catch{Lt.error("Failed to connect to blockchain wallet")}};return P.jsxs(Gu,{type:"farmer",children:[P.jsx(Ku,{}),P.jsx("div",{className:"pt-20 px-4 pb-8",children:P.jsxs("div",{className:"max-w-7xl mx-auto",children:[P.jsxs("div",{className:"flex justify-between items-center mb-8",children:[P.jsxs("div",{children:[P.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[k("farmer")," ",k("dashboard")]}),P.jsx("p",{className:"text-muted-foreground",children:"Manage your crops and track market prices"}),P.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[P.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-green-500":"bg-red-500"}`}),P.jsxs("span",{className:"text-sm text-muted-foreground",children:["Blockchain: ",A?"Connected":"Disconnected"]}),!A&&P.jsxs(zt,{onClick:W,variant:"outline",size:"sm",children:[P.jsx(Sp,{className:"w-3 h-3 mr-1"}),"Connect Wallet"]})]})]}),P.jsxs(zt,{onClick:t,variant:"outline",className:"bg-card/80",children:[P.jsx(TO,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Crops"}),P.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length})]}),P.jsx(sp,{className:"w-8 h-8 text-primary"})]})})}),P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Weight"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.reduce((G,$)=>G+$.weight,0)," kg"]})]}),P.jsx(Jf,{className:"w-8 h-8 text-green-600"})]})})}),P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Expected Revenue"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["₹",e.reduce((G,$)=>G+$.weight*$.expectedPrice,0).toLocaleString()]})]}),P.jsx(Jf,{className:"w-8 h-8 text-lime-600"})]})})})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs(ts,{className:"flex items-center gap-2",children:[P.jsx(Bm,{className:"w-5 h-5 text-green-600"}),k("addCrop")]}),P.jsxs(zt,{onClick:()=>o(!s),variant:"outline",size:"sm",className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border-green-200 dark:border-green-800 hover:from-green-100 hover:to-emerald-100",children:[P.jsx(Bm,{className:"w-4 h-4 mr-2"}),"Add New"]})]})}),s&&P.jsx(Un,{children:P.jsxs("form",{onSubmit:O,className:"space-y-4",children:[P.jsxs("div",{className:"relative",children:[P.jsx(tr,{htmlFor:"cropName",children:k("cropName")}),P.jsx(Vn,{id:"cropName",value:r.name,onChange:G=>D(G.target.value),onFocus:G=>D(G.target.value),onBlur:()=>setTimeout(()=>w(!1),200),required:!0,className:"bg-input-background",placeholder:"Type crop name (e.g., Rice, Wheat, Tomato)"}),m&&u.length>0&&P.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg max-h-48 overflow-y-auto",children:u.map((G,$)=>P.jsx("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-accent hover:text-accent-foreground transition-colors",onClick:()=>B(G),children:G},$))})]}),a&&P.jsx(Dn,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border-green-200 dark:border-green-800",children:P.jsx(Un,{className:"p-4",children:P.jsxs("div",{className:"flex items-start gap-3",children:[P.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:P.jsx(LH,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsxs("div",{className:"flex items-center justify-between mb-2",children:[P.jsxs("h4",{className:"font-medium text-green-800 dark:text-green-200",children:["Price Recommendation for ",a.cropName]}),P.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.marketTrend==="up"&&P.jsx(Jf,{className:"w-3 h-3 text-green-600"}),a.marketTrend==="down"&&P.jsx(BH,{className:"w-3 h-3 text-red-600"}),a.marketTrend==="stable"&&P.jsx(Ese,{className:"w-3 h-3 text-gray-600"}),P.jsx("span",{className:`font-medium ${a.marketTrend==="up"?"text-green-600":a.marketTrend==="down"?"text-red-600":"text-gray-600"}`,children:a.marketTrend})]})]}),P.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"Recommended Price"}),P.jsxs("p",{className:"font-bold text-green-700 dark:text-green-300",children:["₹",a.recommendedPrice.toLocaleString()," ",a.unit]})]}),P.jsxs("div",{children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Market"}),P.jsxs("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["₹",a.marketPrice.toLocaleString()," ",a.unit]})]})]}),P.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:P.jsxs("p",{children:["Price Range: ₹",a.priceRange.min," - ₹",a.priceRange.max," ",a.unit]})}),P.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground",children:[P.jsx(pse,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),P.jsxs("div",{children:[P.jsx("p",{className:"font-medium mb-1",children:"Market Factors:"}),P.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:a.factors.map((G,$)=>P.jsx("li",{children:G},$))})]})]})]})]})})}),P.jsxs("div",{children:[P.jsxs(tr,{htmlFor:"weight",children:[k("totalWeight")," (kg)"]}),P.jsx(Vn,{id:"weight",type:"number",value:r.weight,onChange:G=>i($=>({...$,weight:G.target.value})),required:!0,className:"bg-input-background",placeholder:"Enter weight in kg"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"harvestDate",children:k("harvestDate")}),P.jsx(Vn,{id:"harvestDate",type:"date",value:r.harvestDate,onChange:G=>i($=>({...$,harvestDate:G.target.value})),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"location",children:"Location"}),P.jsx(Vn,{id:"location",value:r.location,onChange:G=>i($=>({...$,location:G.target.value})),required:!0,className:"bg-input-background",placeholder:"Farm location (Village, District, State)"})]}),P.jsxs("div",{children:[P.jsxs(tr,{htmlFor:"expectedPrice",children:[k("expectedPrice")," (₹/kg)"]}),P.jsx(Vn,{id:"expectedPrice",type:"number",value:r.expectedPrice,onChange:G=>i($=>({...$,expectedPrice:G.target.value})),required:!0,className:"bg-input-background",placeholder:"Price per kg"})]}),P.jsxs(zt,{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-700 hover:to-emerald-600 text-white",children:[P.jsx(Bm,{className:"w-4 h-4 mr-2"}),k("addCrop")]})]})})]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsxs(ts,{className:"flex items-center gap-2",children:[P.jsx(Jf,{className:"w-5 h-5 text-green-600"}),k("marketPrices")]})}),P.jsx(Un,{children:P.jsx(yP,{width:"100%",height:380,children:P.jsxs(DY,{data:M(),children:[P.jsx(S3,{strokeDasharray:"3 3",stroke:"var(--border)"}),P.jsx(Ry,{dataKey:"name",stroke:"var(--muted-foreground)",angle:-60,textAnchor:"end",height:100,interval:0,fontSize:12}),P.jsx(ky,{stroke:"var(--muted-foreground)"}),P.jsx(fa,{contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"6px"}}),P.jsx(Dl,{dataKey:"currentPrice",fill:"#16a34a",name:"Market Price"}),P.jsx(Dl,{dataKey:"myPrice",fill:"#22c55e",name:"My Price"})]})})})]})]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsxs(ts,{className:"flex items-center gap-2",children:[P.jsx(tw,{className:"w-5 h-5 text-green-600"}),k("transactionHistory")]})}),P.jsx(Un,{children:P.jsxs(Aw,{children:[P.jsx(Ew,{children:P.jsxs(Du,{children:[P.jsx(qn,{children:"Blockchain ID"}),P.jsx(qn,{children:"Crop"}),P.jsx(qn,{children:"Weight (kg)"}),P.jsx(qn,{children:"Harvest Date"}),P.jsx(qn,{children:"Expected Price (₹/kg)"}),P.jsx(qn,{children:"Status"}),P.jsx(qn,{children:"Actions"})]})}),P.jsx(Sw,{children:e.map(G=>P.jsxs(Du,{children:[P.jsx(Wn,{className:"font-mono text-primary",children:G.blockchainId}),P.jsx(Wn,{children:G.name}),P.jsx(Wn,{children:G.weight}),P.jsx(Wn,{children:G.harvestDate}),P.jsxs(Wn,{children:["₹",G.expectedPrice]}),P.jsx(Wn,{children:P.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${G.status==="registered"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":G.status==="error"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:G.status==="registered"?"On Blockchain":G.status==="error"?"Failed":"Draft"})}),P.jsx(Wn,{children:P.jsxs("div",{className:"flex items-center gap-2",children:[G.status==="draft"&&P.jsxs(zt,{onClick:()=>V(G),disabled:!A||_,variant:"outline",size:"sm",className:"bg-green-50 hover:bg-green-100 border-green-200",children:[P.jsx(Sp,{className:"w-3 h-3 mr-1"}),"Register"]}),G.status==="registered"&&G.qrCode&&P.jsxs(P.Fragment,{children:[P.jsxs(X3,{children:[P.jsx(Z3,{asChild:!0,children:P.jsxs(zt,{variant:"outline",size:"sm",children:[P.jsx(hh,{className:"w-3 h-3 mr-1"}),"View QR"]})}),P.jsxs(J3,{className:"max-w-md",children:[P.jsx(ek,{children:P.jsxs(tk,{children:["Product QR Code - ",G.name]})}),P.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[P.jsx("img",{src:G.qrCode,alt:"Product QR Code",className:"w-64 h-64"}),P.jsxs("div",{className:"text-center space-y-2",children:[P.jsxs("p",{className:"text-sm font-medium",children:["Product ID: ",G.blockchainId]}),P.jsx("p",{className:"text-xs text-muted-foreground",children:"Scan this QR code to track the product"})]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsxs(zt,{onClick:()=>K(G),variant:"outline",children:[P.jsx(gD,{className:"w-4 h-4 mr-2"}),"Download"]}),P.jsx(zt,{onClick:()=>ry.printQRCode(G.qrCode),variant:"outline",children:"Print"})]})]})]})]}),P.jsxs(zt,{onClick:()=>K(G),variant:"outline",size:"sm",children:[P.jsx(gD,{className:"w-3 h-3 mr-1"}),"Download"]})]}),G.transactionHash&&P.jsxs(zt,{onClick:()=>window.open(`https://etherscan.io/tx/${G.transactionHash}`,"_blank"),variant:"outline",size:"sm",className:"text-blue-600",children:[P.jsx(_O,{className:"w-3 h-3 mr-1"}),"View Tx"]})]})})]},G.id))})]})})]})]})})]})}function jke({data:t}){const e=r=>{switch(r){case"completed":return P.jsx(Zf,{className:"w-4 h-4 text-secondary"});case"in-progress":return P.jsx(ise,{className:"w-4 h-4 text-primary"});default:return P.jsx(nse,{className:"w-4 h-4 text-muted-foreground"})}},n=r=>{switch(r){case"completed":return"border-secondary bg-secondary/10";case"in-progress":return"border-primary bg-primary/10";default:return"border-muted-foreground bg-muted"}};return P.jsx("div",{className:"space-y-4",children:t.map((r,i)=>P.jsxs("div",{className:"flex gap-4",children:[P.jsxs("div",{className:"flex flex-col items-center",children:[P.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center ${n(r.status)}`,children:e(r.status)}),i<t.length-1&&P.jsx("div",{className:"w-0.5 h-8 bg-border mt-2"})]}),P.jsxs("div",{className:"flex-1 pb-4",children:[P.jsxs("div",{className:"flex justify-between items-start mb-1",children:[P.jsx("h4",{className:"font-medium text-foreground",children:r.title}),P.jsx("span",{className:"text-xs text-muted-foreground",children:r.date})]}),r.description&&P.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]})]},i))})}function Fke({onLogout:t}){const[e,n]=Q.useState([]),[r,i]=Q.useState({productId:"",purchaseDate:"",handlingCost:"",transportDetails:""}),[s,o]=Q.useState(!1),[a,c]=Q.useState(!1),[u,g]=Q.useState(!1),[m,w]=Q.useState(!1),[A,I]=Q.useState(null),{t:_}=jc();Q.useEffect(()=>{(async()=>{try{const D=await Bs.connect();c(D),D&&Lt.success("Blockchain wallet connected successfully!")}catch(D){console.error("Failed to connect to blockchain:",D),Lt.error("Failed to connect to blockchain wallet")}})()},[]);const C=async U=>{U.preventDefault();try{let D=A;const B=r.productId.trim().toUpperCase();if(!D&&(D=await Bs.getProduct(B),!D||!D.exists)){Lt.error("Product not found on blockchain. Please scan or enter a valid Product ID.");return}const O={id:e.length+1,productId:B,product:D,cropName:D.name,weight:Number(D.quantity),purchaseDate:r.purchaseDate,handlingCost:parseInt(r.handlingCost),transportDetails:r.transportDetails,distributorId:`DIST${String(e.length+3).padStart(3,"0")}`,status:"draft"};n([...e,O]),i({productId:"",purchaseDate:"",handlingCost:"",transportDetails:""}),I(null),o(!1),Lt.info('Purchase added to draft. Click "Update Blockchain" to make it permanent.')}catch{Lt.error("Unable to add purchase. Please try again.")}},R=async U=>{if(!a){Lt.error("Please connect your blockchain wallet first");return}g(!0);try{const D=await Bs.updateAsDistributor(U.productId.trim().toUpperCase(),U.handlingCost,U.transportDetails),B=e.map(O=>O.id===U.id?{...O,transactionHash:D,status:"registered"}:O);n(B),Lt.success(`Purchase "${U.cropName}" updated on blockchain successfully!`)}catch(D){console.error("Failed to update blockchain:",D);const B=e.map(O=>O.id===U.id?{...O,status:"error"}:O);n(B),Lt.error("Failed to update blockchain. Please try again.")}finally{g(!1)}},j=async()=>{try{const U=await Bs.connect();c(U),U&&Lt.success("Blockchain wallet connected successfully!")}catch{Lt.error("Failed to connect to blockchain wallet")}},k=[];return P.jsxs(Gu,{type:"distributor",children:[P.jsx(Ku,{}),P.jsx("div",{className:"pt-20 px-4 pb-8",children:P.jsxs("div",{className:"max-w-7xl mx-auto",children:[P.jsxs("div",{className:"flex justify-between items-center mb-8",children:[P.jsxs("div",{children:[P.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[_("distributor")," ",_("dashboard")]}),P.jsx("p",{className:"text-muted-foreground",children:"Manage supply chain logistics and track shipments"}),P.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[P.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),P.jsxs("span",{className:"text-sm text-muted-foreground",children:["Blockchain: ",a?"Connected":"Disconnected"]}),!a&&P.jsxs(zt,{onClick:j,variant:"outline",size:"sm",children:[P.jsx(Sp,{className:"w-3 h-3 mr-1"}),"Connect Wallet"]})]})]}),P.jsxs(zt,{onClick:t,variant:"outline",className:"bg-card/80",children:[P.jsx(TO,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Purchases"}),P.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length})]}),P.jsx(sp,{className:"w-8 h-8 text-primary"})]})})}),P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Weight Handled"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.reduce((U,D)=>U+D.weight,0)," kg"]})]}),P.jsx(IO,{className:"w-8 h-8 text-secondary"})]})})}),P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Investment"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["₹",e.reduce((U,D)=>U+D.handlingCost,0).toLocaleString()]})]}),P.jsx(Jf,{className:"w-8 h-8 text-lime-600"})]})})})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx(ts,{children:"Record New Purchase"}),P.jsxs(zt,{onClick:()=>o(!s),variant:"outline",size:"sm",children:[P.jsx(Bm,{className:"w-4 h-4 mr-2"}),"Add Purchase"]})]})}),s&&P.jsx(Un,{children:P.jsxs("form",{onSubmit:C,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(tr,{children:"Product Identification"}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx(Vn,{value:r.productId,onChange:U=>i(D=>({...D,productId:U.target.value})),placeholder:"Product ID or scan QR code",required:!0,className:"bg-input-background flex-1"}),P.jsxs(X3,{open:m,onOpenChange:w,children:[P.jsx(Z3,{asChild:!0,children:P.jsx(zt,{type:"button",variant:"outline",children:P.jsx(hh,{className:"w-4 h-4"})})}),P.jsxs(J3,{className:"max-w-md",children:[P.jsx(ek,{children:P.jsx(tk,{children:"Scan QR Code"})}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs(zt,{type:"button",className:"w-full",disabled:!0,children:[P.jsx(SO,{className:"w-4 h-4 mr-2"}),"Open Camera (Demo)"]}),P.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Camera scanning not available in demo. Use manual entry with Product ID."})]})]})]})]}),A&&P.jsxs("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[P.jsxs("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[P.jsx(Zf,{className:"w-4 h-4"}),P.jsx("span",{className:"font-medium",children:"Product Found"})]}),P.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[A.name," - ",A.quantity.toString(),"kg"]})]})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"purchaseDate",children:"Date of Purchase"}),P.jsx(Vn,{id:"purchaseDate",type:"date",value:r.purchaseDate,onChange:U=>i(D=>({...D,purchaseDate:U.target.value})),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"handlingCost",children:"Handling Cost (₹)"}),P.jsx(Vn,{id:"handlingCost",type:"number",value:r.handlingCost,onChange:U=>i(D=>({...D,handlingCost:U.target.value})),placeholder:"Transportation and handling charges",required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"transportDetails",children:"Transport Details"}),P.jsx(Vn,{id:"transportDetails",value:r.transportDetails,onChange:U=>i(D=>({...D,transportDetails:U.target.value})),placeholder:"Vehicle, driver, route, storage conditions",required:!0,className:"bg-input-background"})]}),P.jsx(zt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",children:"Record Purchase"})]})})]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(es,{children:[P.jsx(ts,{children:"Supply Chain Timeline"}),P.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest shipment: DIST001"})]}),P.jsx(Un,{children:P.jsx(jke,{data:k})})]})]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsxs(ts,{className:"flex items-center gap-2",children:[P.jsx(tw,{className:"w-5 h-5"}),"Purchase History"]})}),P.jsx(Un,{children:P.jsxs(Aw,{children:[P.jsx(Ew,{children:P.jsxs(Du,{children:[P.jsx(qn,{children:"Distributor ID"}),P.jsx(qn,{children:"Product ID"}),P.jsx(qn,{children:"Crop"}),P.jsx(qn,{children:"Weight (kg)"}),P.jsx(qn,{children:"Purchase Date"}),P.jsx(qn,{children:"Handling Cost (₹)"}),P.jsx(qn,{children:"Transport Details"}),P.jsx(qn,{children:"Status"}),P.jsx(qn,{children:"Actions"})]})}),P.jsx(Sw,{children:e.map(U=>P.jsxs(Du,{children:[P.jsx(Wn,{className:"font-mono text-primary",children:U.distributorId}),P.jsx(Wn,{className:"font-mono text-secondary",children:U.productId}),P.jsx(Wn,{children:U.cropName}),P.jsx(Wn,{children:U.weight}),P.jsx(Wn,{children:U.purchaseDate}),P.jsxs(Wn,{children:["₹",U.handlingCost]}),P.jsx(Wn,{className:"max-w-[200px] truncate",children:U.transportDetails}),P.jsx(Wn,{children:P.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${U.status==="registered"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":U.status==="error"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:U.status==="registered"?"On Blockchain":U.status==="error"?"Failed":"Draft"})}),P.jsx(Wn,{children:P.jsxs("div",{className:"flex items-center gap-2",children:[U.status==="draft"&&P.jsxs(zt,{onClick:()=>R(U),disabled:!a||u,variant:"outline",size:"sm",className:"bg-green-50 hover:bg-green-100 border-green-200",children:[P.jsx(Sp,{className:"w-3 h-3 mr-1"}),"Update Blockchain"]}),U.transactionHash&&P.jsxs(zt,{onClick:()=>window.open(`https://etherscan.io/tx/${U.transactionHash}`,"_blank"),variant:"outline",size:"sm",className:"text-blue-600",children:[P.jsx(_O,{className:"w-3 h-3 mr-1"}),"View Tx"]})]})})]},U.id))})]})})]})]})})]})}function Vke({onLogout:t}){const[e,n]=Q.useState([]),[r,i]=Q.useState({productId:"",purchaseDate:"",retailMargin:"",storeDetails:""}),[s,o]=Q.useState(!1),[a,c]=Q.useState(!1),[u,g]=Q.useState(!1),[m,w]=Q.useState(!1),[A,I]=Q.useState(null),{t:_}=jc();Q.useEffect(()=>{(async()=>{try{const B=await Bs.connect();c(B),B&&Lt.success("Blockchain wallet connected successfully!")}catch(B){console.error("Failed to connect to blockchain:",B),Lt.error("Failed to connect to blockchain wallet")}})()},[]);const C=async D=>{D.preventDefault();try{let B=A;const O=r.productId.trim().toUpperCase();if(!B&&(B=await Bs.getProduct(O),!B||!B.exists)){Lt.error("Product not found on blockchain. Please scan or enter a valid Product ID.");return}const M={id:e.length+1,productId:O,product:B,cropName:B.name,weight:Number(B.quantity),purchaseDate:r.purchaseDate,retailMargin:parseInt(r.retailMargin),storeDetails:r.storeDetails,retailerId:`RET${String(e.length+3).padStart(3,"0")}`,status:"draft"};n([...e,M]),i({productId:"",purchaseDate:"",retailMargin:"",storeDetails:""}),I(null),o(!1),Lt.info('Sale added to draft. Click "Update Blockchain" to make it permanent.')}catch{Lt.error("Unable to add sale. Please try again.")}},R=async D=>{if(!a){Lt.error("Please connect your blockchain wallet first");return}g(!0);try{const B=await Bs.updateAsRetailer(D.productId.trim().toUpperCase(),D.retailMargin,D.storeDetails),O=e.map(M=>M.id===D.id?{...M,transactionHash:B,status:"registered"}:M);n(O),Lt.success(`Sale "${D.cropName}" updated on blockchain successfully!`)}catch(B){console.error("Failed to update blockchain:",B);const O=e.map(M=>M.id===D.id?{...M,status:"error"}:M);n(O),Lt.error("Failed to update blockchain. Please try again.")}finally{g(!1)}},j=async()=>{try{const D=await Bs.connect();c(D),D&&Lt.success("Blockchain wallet connected successfully!")}catch{Lt.error("Failed to connect to blockchain wallet")}},k=e.map(D=>({name:D.cropName,margin:D.retailMargin,weight:D.weight})),U=[{name:"Margin",value:e.reduce((D,B)=>D+B.retailMargin,0),color:"#138808"},{name:"Weight",value:e.reduce((D,B)=>D+B.weight,0),color:"#ff6b35"}];return P.jsxs(Gu,{type:"retailer",children:[P.jsx(Ku,{}),P.jsx("div",{className:"pt-20 px-4 pb-8",children:P.jsxs("div",{className:"max-w-7xl mx-auto",children:[P.jsxs("div",{className:"flex justify-between items-center mb-8",children:[P.jsxs("div",{children:[P.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[_("retailer")," ",_("dashboard")]}),P.jsx("p",{className:"text-muted-foreground",children:"Manage inventory and track sales performance"}),P.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[P.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),P.jsxs("span",{className:"text-sm text-muted-foreground",children:["Blockchain: ",a?"Connected":"Disconnected"]}),!a&&P.jsxs(zt,{onClick:j,variant:"outline",size:"sm",children:[P.jsx(Sp,{className:"w-3 h-3 mr-1"}),"Connect Wallet"]})]})]}),P.jsxs(zt,{onClick:t,variant:"outline",className:"bg-card/80",children:[P.jsx(TO,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Products"}),P.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length})]}),P.jsx(sp,{className:"w-8 h-8 text-primary"})]})})}),P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Margin"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["₹",e.reduce((D,B)=>D+B.retailMargin,0).toLocaleString()]})]}),P.jsx(ose,{className:"w-8 h-8 text-secondary"})]})})}),P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Weight"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.reduce((D,B)=>D+B.weight,0).toLocaleString()," kg"]})]}),P.jsx(Jf,{className:"w-8 h-8 text-lime-600"})]})})}),P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Un,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Avg Margin"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["₹",Math.round(e.reduce((D,B)=>D+B.retailMargin,0)/e.length||0)]})]}),P.jsx(CO,{className:"w-8 h-8 text-green-600"})]})})})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx(ts,{children:"Record New Purchase"}),P.jsxs(zt,{onClick:()=>o(!s),variant:"outline",size:"sm",children:[P.jsx(Bm,{className:"w-4 h-4 mr-2"}),"Add Purchase"]})]})}),s&&P.jsx(Un,{children:P.jsxs("form",{onSubmit:C,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(tr,{children:"Product Identification"}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx(Vn,{value:r.productId,onChange:D=>i(B=>({...B,productId:D.target.value})),placeholder:"Product ID or scan QR code",required:!0,className:"bg-input-background flex-1"}),P.jsxs(X3,{open:m,onOpenChange:w,children:[P.jsx(Z3,{asChild:!0,children:P.jsx(zt,{type:"button",variant:"outline",children:P.jsx(hh,{className:"w-4 h-4"})})}),P.jsxs(J3,{className:"max-w-md",children:[P.jsx(ek,{children:P.jsx(tk,{children:"Scan QR Code"})}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs(zt,{type:"button",className:"w-full",disabled:!0,children:[P.jsx(SO,{className:"w-4 h-4 mr-2"}),"Open Camera (Demo)"]}),P.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Camera scanning not available in demo. Use manual entry with Product ID."})]})]})]})]}),A&&P.jsxs("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[P.jsxs("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[P.jsx(Zf,{className:"w-4 h-4"}),P.jsx("span",{className:"font-medium",children:"Product Found"})]}),P.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[A.name," - ",A.quantity.toString(),"kg"]})]})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"purchaseDate",children:"Date of Purchase"}),P.jsx(Vn,{id:"purchaseDate",type:"date",value:r.purchaseDate,onChange:D=>i(B=>({...B,purchaseDate:D.target.value})),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"retailMargin",children:"Retail Margin (₹)"}),P.jsx(Vn,{id:"retailMargin",type:"number",value:r.retailMargin,onChange:D=>i(B=>({...B,retailMargin:D.target.value})),placeholder:"Additional margin for retail",required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"storeDetails",children:"Store Details"}),P.jsx(Vn,{id:"storeDetails",value:r.storeDetails,onChange:D=>i(B=>({...B,storeDetails:D.target.value})),placeholder:"Aisle, storage conditions, expiry date",required:!0,className:"bg-input-background"})]}),P.jsx(zt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",children:"Record Purchase"})]})})]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsx(ts,{children:"Revenue Distribution"})}),P.jsxs(Un,{children:[P.jsx(yP,{width:"100%",height:300,children:P.jsxs(pIe,{children:[P.jsx(Hc,{data:U,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"value",children:U.map((D,B)=>P.jsx(Tb,{fill:D.color},`cell-${B}`))}),P.jsx(fa,{formatter:D=>[`₹${D.toLocaleString()}`,""],contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"6px"}})]})}),P.jsx("div",{className:"flex justify-center gap-4 mt-4",children:U.map((D,B)=>P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:D.color}}),P.jsx("span",{className:"text-sm text-muted-foreground",children:D.name})]},B))})]})]})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsx(ts,{children:"Retail Margin Analysis"})}),P.jsx(Un,{children:P.jsx(yP,{width:"100%",height:300,children:P.jsxs(DY,{data:k,children:[P.jsx(S3,{strokeDasharray:"3 3",stroke:"var(--border)"}),P.jsx(Ry,{dataKey:"name",stroke:"var(--muted-foreground)"}),P.jsx(ky,{stroke:"var(--muted-foreground)"}),P.jsx(fa,{contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"6px"}}),P.jsx(Dl,{dataKey:"margin",fill:"var(--primary)",name:"Retail Margin"}),P.jsx(Dl,{dataKey:"weight",fill:"var(--secondary)",name:"Weight (kg)"})]})})})]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsxs(ts,{className:"flex items-center gap-2",children:[P.jsx(tw,{className:"w-5 h-5"}),"Recent Sales"]})}),P.jsx(Un,{children:P.jsxs(Aw,{children:[P.jsx(Ew,{children:P.jsxs(Du,{children:[P.jsx(qn,{children:"Product"}),P.jsx(qn,{children:"Weight"}),P.jsx(qn,{children:"Margin"}),P.jsx(qn,{children:"Status"})]})}),P.jsx(Sw,{children:e.map(D=>P.jsxs(Du,{children:[P.jsx(Wn,{children:D.cropName}),P.jsxs(Wn,{children:[D.weight," kg"]}),P.jsxs(Wn,{className:"text-secondary",children:["₹",D.retailMargin]}),P.jsx(Wn,{children:P.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.status==="registered"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":D.status==="error"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:D.status==="registered"?"On Blockchain":D.status==="error"?"Failed":"Draft"})})]},D.id))})]})})]})]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(es,{children:P.jsxs(ts,{className:"flex items-center gap-2",children:[P.jsx(tw,{className:"w-5 h-5"}),"Complete Sales History"]})}),P.jsx(Un,{children:P.jsxs(Aw,{children:[P.jsx(Ew,{children:P.jsxs(Du,{children:[P.jsx(qn,{children:"Retailer ID"}),P.jsx(qn,{children:"Product ID"}),P.jsx(qn,{children:"Product"}),P.jsx(qn,{children:"Weight (kg)"}),P.jsx(qn,{children:"Purchase Date"}),P.jsx(qn,{children:"Retail Margin (₹)"}),P.jsx(qn,{children:"Store Details"}),P.jsx(qn,{children:"Status"}),P.jsx(qn,{children:"Actions"})]})}),P.jsx(Sw,{children:e.map(D=>P.jsxs(Du,{children:[P.jsx(Wn,{className:"font-mono text-primary",children:D.retailerId}),P.jsx(Wn,{className:"font-mono text-secondary",children:D.productId}),P.jsx(Wn,{children:D.cropName}),P.jsx(Wn,{children:D.weight}),P.jsx(Wn,{children:D.purchaseDate}),P.jsxs(Wn,{children:["₹",D.retailMargin]}),P.jsx(Wn,{className:"max-w-[200px] truncate",children:D.storeDetails}),P.jsx(Wn,{children:P.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.status==="registered"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":D.status==="error"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:D.status==="registered"?"On Blockchain":D.status==="error"?"Failed":"Draft"})}),P.jsx(Wn,{children:P.jsxs("div",{className:"flex items-center gap-2",children:[D.status==="draft"&&P.jsxs(zt,{onClick:()=>R(D),disabled:!a||u,variant:"outline",size:"sm",className:"bg-green-50 hover:bg-green-100 border-green-200",children:[P.jsx(Sp,{className:"w-3 h-3 mr-1"}),"Update Blockchain"]}),D.transactionHash&&P.jsxs(zt,{onClick:()=>window.open(`https://etherscan.io/tx/${D.transactionHash}`,"_blank"),variant:"outline",size:"sm",className:"text-blue-600",children:[P.jsx(_O,{className:"w-3 h-3 mr-1"}),"View Tx"]})]})})]},D.id))})]})})]})]})})]})}function Uke({onBack:t}){const[e,n]=Q.useState(null),[r,i]=Q.useState(""),[s,o]=Q.useState(!1),[a,c]=Q.useState(!1),[u,g]=Q.useState(!1),m=Q.useRef(null),{t:w}=jc();Q.useEffect(()=>{(async()=>{try{const O=await Bs.connect();g(O)}catch(O){console.error("Failed to connect to blockchain:",O)}})()},[]);const A={QR001:{product:{id:"QR001",name:"Organic Rice",quantity:BigInt(500),basePrice:BigInt("25000000000000000000"),currentPrice:BigInt("35000000000000000000"),harvestDate:"2024-01-15",quality:"Premium",status:"Ready for Sale",farmer:"0x1234567890123456789012345678901234567890",distributor:"0x2345678901234567890123456789012345678901",retailer:"0x3456789012345678901234567890123456789012",location:"Village Rampur, Uttar Pradesh",timestamp:BigInt(1705276800),exists:!0},transactions:[{productId:"QR001",actor:"0x1234567890123456789012345678901234567890",action:"Product Registered",newPrice:BigInt("25000000000000000000"),details:"Organic Rice harvested and registered",timestamp:BigInt(1705276800),blockNumber:BigInt(12345)},{productId:"QR001",actor:"0x2345678901234567890123456789012345678901",action:"Distributor Update",newPrice:BigInt("28000000000000000000"),details:"Quality check passed, stored in temperature controlled warehouse",timestamp:BigInt(1705536e3),blockNumber:BigInt(12350)},{productId:"QR001",actor:"0x3456789012345678901234567890123456789012",action:"Retailer Update",newPrice:BigInt("35000000000000000000"),details:"Product ready for sale at Fresh Mart Store",timestamp:BigInt(1705795200),blockNumber:BigInt(12355)}],verification:{verified:!0,totalSteps:3,actors:["0x1234567890123456789012345678901234567890","0x2345678901234567890123456789012345678901","0x3456789012345678901234567890123456789012"],actions:["Product Registered","Distributor Update","Retailer Update"],timestamps:[BigInt(1705276800),BigInt(1705536e3),BigInt(1705795200)]}},QR002:{product:{id:"QR002",name:"Fresh Wheat",quantity:BigInt(300),basePrice:BigInt("30000000000000000000"),currentPrice:BigInt("40000000000000000000"),harvestDate:"2024-01-20",quality:"Grade A",status:"Ready for Sale",farmer:"0x4567890123456789012345678901234567890123",distributor:"0x5678901234567890123456789012345678901234",retailer:"0x6789012345678901234567890123456789012345",location:"Village Khetri, Rajasthan",timestamp:BigInt(1705708800),exists:!0},transactions:[{productId:"QR002",actor:"0x4567890123456789012345678901234567890123",action:"Product Registered",newPrice:BigInt("30000000000000000000"),details:"Fresh Wheat harvested and registered",timestamp:BigInt(1705708800),blockNumber:BigInt(12360)},{productId:"QR002",actor:"0x5678901234567890123456789012345678901234",action:"Distributor Update",newPrice:BigInt("32000000000000000000"),details:"Grade A quality, processed and stored",timestamp:BigInt(1705968e3),blockNumber:BigInt(12365)},{productId:"QR002",actor:"0x6789012345678901234567890123456789012345",action:"Retailer Update",newPrice:BigInt("40000000000000000000"),details:"Product ready for sale at Super Bazaar",timestamp:BigInt(1706227200),blockNumber:BigInt(12370)}],verification:{verified:!0,totalSteps:3,actors:["0x4567890123456789012345678901234567890123","0x5678901234567890123456789012345678901234","0x6789012345678901234567890123456789012345"],actions:["Product Registered","Distributor Update","Retailer Update"],timestamps:[BigInt(1705708800),BigInt(1705968e3),BigInt(1706227200)]}}},I=async B=>{const O=A[B];if(O){Lt.success("Demo product data loaded successfully!"),n(O);return}if(!u){Lt.error("Blockchain not connected. Please try demo QR codes: QR001 or QR002");return}c(!0);try{const M=await Bs.getProduct(B.trim().toUpperCase());if(!M||!M.exists){Lt.error("Product not found on blockchain. Please check the product ID.");return}const V=await Bs.getProductHistory(B.trim().toUpperCase()),K=await Bs.verifyProduct(B.trim().toUpperCase());n({product:M,transactions:V,verification:K}),Lt.success("Product data loaded from blockchain successfully!")}catch(M){console.error("Failed to fetch product from blockchain:",M),Lt.error("Failed to fetch product data from blockchain.")}finally{c(!1)}},_=()=>{r.trim()&&I(r.trim())},C=async B=>{"productId"in B?await I(B.productId):"rawText"in B&&await I(B.rawText)},R=async B=>{const O=B.target.files?.[0];if(O)try{c(!0);const M=await ry.scanFromFile(O);await C(M)}catch(M){console.error("Failed to scan QR code from file:",M),Lt.error("Failed to scan QR code from image. Please try again.")}finally{c(!1)}},j=B=>B.includes("Registered")?"text-green-600":B.includes("Transportation")?"text-blue-600":B.includes("Store")?"text-purple-600":B.includes("Delivered")?"text-orange-600":"text-muted-foreground",k=B=>B.includes("Registered")?jH:B.includes("Transportation")?IO:B.includes("Store")?CO:(B.includes("Delivered"),sp),U=B=>B.includes("Registered")?"bg-green-100 dark:bg-green-900 border-green-200 dark:border-green-800":B.includes("Transportation")?"bg-blue-100 dark:bg-blue-900 border-blue-200 dark:border-blue-800":B.includes("Store")?"bg-purple-100 dark:bg-purple-900 border-purple-200 dark:border-purple-800":B.includes("Delivered")?"bg-orange-100 dark:bg-orange-900 border-orange-200 dark:border-orange-800":"bg-card border-border",D=B=>new Date(Number(B)*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?P.jsxs(Gu,{type:"customer",children:[P.jsx(Ku,{}),P.jsx("div",{className:"pt-20 px-4 pb-8",children:P.jsxs("div",{className:"max-w-4xl mx-auto",children:[P.jsxs(zt,{variant:"ghost",onClick:()=>n(null),className:"mb-4 text-foreground hover:bg-card/20",children:[P.jsx(ew,{className:"w-4 h-4 mr-2"}),"Scan Another QR"]}),P.jsx(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50 mb-8",children:P.jsx(es,{children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx(ts,{className:"text-2xl text-foreground",children:e.product.name}),P.jsx("p",{className:"text-muted-foreground",children:e.product.location}),P.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Harvest Date: ",e.product.harvestDate," • Quality: ",e.product.quality]})]}),P.jsxs("div",{className:"text-right space-y-2",children:[P.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 px-3 py-1 rounded-full",children:[P.jsx(Zf,{className:"w-4 h-4"}),P.jsx("span",{className:"text-sm font-medium",children:e.product.status})]}),P.jsxs("div",{className:"text-sm",children:[P.jsx("p",{className:"text-muted-foreground",children:"Current Price"}),P.jsxs("p",{className:"font-bold text-foreground",children:["₹",oV(e.product.currentPrice)]})]})]})]})})}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50 mb-8",children:[P.jsx(es,{children:P.jsxs(ts,{className:"flex items-center gap-2",children:[P.jsx(Rse,{className:"w-5 h-5 text-green-600"}),"Blockchain Verification"]})}),P.jsx(Un,{children:P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[P.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[P.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[P.jsx(Zf,{className:"w-5 h-5 text-green-600"}),P.jsx("span",{className:"font-medium text-green-800 dark:text-green-200",children:"Verified"})]}),P.jsx("p",{className:"text-sm text-muted-foreground",children:"Product authenticity confirmed on blockchain"})]}),P.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Steps"}),P.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.verification.totalSteps})]}),P.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"Product ID"}),P.jsx("p",{className:"text-sm font-mono text-purple-600 break-all",children:e.product.id})]})]})})]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(es,{children:[P.jsxs(ts,{className:"flex items-center gap-2",children:[P.jsx(sp,{className:"w-5 h-5 text-green-600"}),"Complete Supply Chain Trail"]}),P.jsx("p",{className:"text-muted-foreground",children:"Track the journey from farm to your table"})]}),P.jsxs(Un,{children:[P.jsx("div",{className:"space-y-6",children:e.transactions.map((B,O)=>{const M=k(B.action);return P.jsxs("div",{className:"flex gap-4",children:[P.jsxs("div",{className:"flex flex-col items-center",children:[P.jsx("div",{className:`w-12 h-12 rounded-full border-2 flex items-center justify-center ${U(B.action)} ${j(B.action)}`,children:P.jsx(M,{className:"w-6 h-6"})}),O<e.transactions.length-1&&P.jsx("div",{className:"w-0.5 h-16 bg-gradient-to-b from-green-300 to-emerald-300 mt-2"})]}),P.jsx("div",{className:"flex-1",children:P.jsxs("div",{className:"bg-card/60 rounded-lg p-4 border border-border/50",children:[P.jsxs("div",{className:"flex justify-between items-start mb-2",children:[P.jsxs("div",{children:[P.jsx("h3",{className:"font-semibold text-foreground",children:B.action}),P.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Actor: ",B.actor.substring(0,6),"...",B.actor.substring(38)]}),P.jsx("p",{className:"text-xs text-muted-foreground",children:B.details})]}),P.jsxs("div",{className:"text-right",children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:D(B.timestamp)}),P.jsxs("p",{className:"text-xs font-mono text-primary",children:["Block #",B.blockNumber.toString()]})]})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[P.jsxs("div",{className:"bg-muted/50 rounded px-3 py-2",children:[P.jsx("p",{className:"text-xs text-muted-foreground",children:"Price at this step"}),P.jsxs("p",{className:"text-sm font-medium text-foreground",children:["₹",oV(B.newPrice)]})]}),P.jsxs("div",{className:"bg-muted/50 rounded px-3 py-2",children:[P.jsx("p",{className:"text-xs text-muted-foreground",children:"Transaction Hash"}),P.jsxs("p",{className:"text-xs font-mono text-foreground break-all",children:[B.actor.substring(0,10),"..."]})]})]})]})})]},O)})}),P.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[P.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-2",children:[P.jsx(Zf,{className:"w-5 h-5"}),P.jsx("span",{className:"font-medium",children:"Blockchain Verified"})]}),P.jsx("p",{className:"text-sm text-muted-foreground",children:"This product's authenticity and supply chain trail has been verified on the blockchain. All information is tamper-proof and transparent."})]})]})]})]})})]}):P.jsxs(Gu,{type:"customer",children:[P.jsx(Ku,{}),P.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:P.jsxs("div",{className:"w-full max-w-md",children:[P.jsxs(zt,{variant:"ghost",onClick:t,className:"mb-4 text-foreground hover:bg-card/20",children:[P.jsx(ew,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),P.jsxs(Dn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(es,{children:[P.jsxs(ts,{className:"text-center flex items-center justify-center gap-2",children:[P.jsx(hh,{className:"w-6 h-6 text-green-600"}),w("scanQR")]}),P.jsx("p",{className:"text-center text-muted-foreground",children:"Scan or upload QR code to trace product journey"})]}),P.jsxs(Un,{className:"space-y-6",children:[P.jsxs(zt,{onClick:()=>o(!s),className:"w-full bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-700 hover:to-emerald-600 text-white",disabled:a,children:[a?P.jsx(mD,{className:"w-4 h-4 mr-2 animate-spin"}):P.jsx(SO,{className:"w-4 h-4 mr-2"}),a?"Processing...":"Open Camera Scanner"]}),P.jsx("p",{className:"text-xs text-center text-muted-foreground",children:u?"Connected to blockchain for real-time verification":"Camera access not available in this demo"}),P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"absolute inset-0 flex items-center",children:P.jsx("span",{className:"w-full border-t border-border"})}),P.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:P.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),P.jsxs("div",{children:[P.jsx("input",{type:"file",ref:m,onChange:R,accept:"image/*",className:"hidden"}),P.jsxs(zt,{onClick:()=>m.current?.click(),variant:"outline",className:"w-full bg-card/80 border-green-200 dark:border-green-800 hover:bg-green-50 dark:hover:bg-green-950/20",children:[P.jsx(Vse,{className:"w-4 h-4 mr-2"}),"Upload QR Code Image"]})]}),P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"absolute inset-0 flex items-center",children:P.jsx("span",{className:"w-full border-t border-border"})}),P.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:P.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"text-sm font-medium text-foreground",children:"Enter QR Code Manually"}),P.jsx(Vn,{value:r,onChange:B=>i(B.target.value),placeholder:"e.g., QR001",className:"bg-input-background"})]}),P.jsxs(zt,{onClick:_,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white",disabled:!r.trim()||a,children:[a?P.jsx(mD,{className:"w-4 h-4 mr-2 animate-spin"}):P.jsx(hh,{className:"w-4 h-4 mr-2"}),a?"Loading...":"Trace Product"]})]}),P.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[P.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[P.jsx(hh,{className:"w-4 h-4 text-blue-600"}),P.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Try Demo Products"})]}),P.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Enter these demo QR codes to see how the system works:"}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("button",{onClick:()=>i("QR001"),className:"block w-full text-left text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 hover:underline",children:"🌾 QR001 - Organic Rice (₹25 → ₹28 → ₹35)"}),P.jsx("button",{onClick:()=>i("QR002"),className:"block w-full text-left text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 hover:underline",children:"🌾 QR002 - Fresh Wheat (₹30 → ₹32 → ₹40)"})]})]}),P.jsx("div",{className:"space-y-3",children:P.jsxs("div",{className:`p-3 rounded-lg border ${u?"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800":"bg-yellow-50 dark:bg-yellow-950/20 border-yellow-200 dark:border-yellow-800"}`,children:[P.jsxs("div",{className:"flex items-center gap-2",children:[u?P.jsx(Zf,{className:"w-4 h-4 text-green-600"}):P.jsx(Jie,{className:"w-4 h-4 text-yellow-600"}),P.jsxs("span",{className:"text-sm font-medium",children:["Blockchain: ",u?"Connected":"Using Mock Data"]})]}),P.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u?"Real-time blockchain verification active":"Connect MetaMask for live blockchain data"})]})})]})]})]})})]})}function zke(){const[t,e]=Q.useState(!1),[n,r]=Q.useState([{text:"Hello! I'm here to help you with KrishiSetu. How can I assist you today?",isBot:!0}]),[i,s]=Q.useState(""),{t:o}=jc(),a=()=>{if(!i.trim())return;const u={text:i,isBot:!1};r(g=>[...g,u]),setTimeout(()=>{const g={text:"Thank you for your message. Our support team will get back to you soon. For immediate help, please check our FAQ section.",isBot:!0};r(m=>[...m,g])},1e3),s("")},c=u=>{u.key==="Enter"&&a()};return P.jsxs(P.Fragment,{children:[P.jsx(zt,{onClick:()=>e(!0),className:"fixed bottom-6 left-6 w-14 h-14 rounded-full bg-primary hover:bg-primary/90 shadow-lg z-50",size:"icon",children:P.jsx(bse,{className:"w-6 h-6"})}),t&&P.jsxs(Dn,{className:"fixed bottom-24 left-6 w-80 h-96 shadow-xl z-50 flex flex-col",children:[P.jsx(es,{className:"pb-2",children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx(ts,{className:"text-sm",children:"KrishiSetu Assistant"}),P.jsx(zt,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"h-6 w-6",children:P.jsx(PO,{className:"w-4 h-4"})})]})}),P.jsxs(Un,{className:"flex-1 flex flex-col p-3",children:[P.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 mb-3",children:n.map((u,g)=>P.jsx("div",{className:`flex ${u.isBot?"justify-start":"justify-end"}`,children:P.jsx("div",{className:`max-w-[70%] p-2 rounded-lg text-sm ${u.isBot?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:u.text})},g))}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx(Vn,{value:i,onChange:u=>s(u.target.value),onKeyPress:c,placeholder:"Type your message...",className:"flex-1"}),P.jsx(zt,{size:"icon",onClick:a,children:P.jsx(Nse,{className:"w-4 h-4"})})]})]})]})]})}const nk=Q.createContext({});function rk(t){const e=Q.useRef(null);return e.current===null&&(e.current=t()),e.current}const ik=typeof window<"u",XX=ik?Q.useLayoutEffect:Q.useEffect,gA=Q.createContext(null);function sk(t,e){t.indexOf(e)===-1&&t.push(e)}function ok(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Lc=(t,e,n)=>n>e?e:n<t?t:n;let ak=()=>{};const Bc={},ZX=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function JX(t){return typeof t=="object"&&t!==null}const eZ=t=>/^0[^.\s]+$/u.test(t);function lk(t){let e;return()=>(e===void 0&&(e=t()),e)}const va=t=>t,Hke=(t,e)=>n=>e(t(n)),Uy=(...t)=>t.reduce(Hke),iy=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ck{constructor(){this.subscriptions=[]}add(e){return sk(this.subscriptions,e),()=>ok(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pl=t=>t*1e3,Nl=t=>t/1e3;function tZ(t,e){return e?t*(1e3/e):0}const nZ=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$ke=1e-7,Gke=12;function qke(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=nZ(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>$ke&&++a<Gke);return o}function zy(t,e,n,r){if(t===e&&n===r)return va;const i=s=>qke(s,0,1,t,n);return s=>s===0||s===1?s:nZ(i(s),e,r)}const rZ=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,iZ=t=>e=>1-t(1-e),sZ=zy(.33,1.53,.69,.99),uk=iZ(sZ),oZ=rZ(uk),aZ=t=>(t*=2)<1?.5*uk(t):.5*(2-Math.pow(2,-10*(t-1))),fk=t=>1-Math.sin(Math.acos(t)),lZ=iZ(fk),cZ=rZ(fk),Wke=zy(.42,0,1,1),Kke=zy(0,0,.58,1),uZ=zy(.42,0,.58,1),Yke=t=>Array.isArray(t)&&typeof t[0]!="number",fZ=t=>Array.isArray(t)&&typeof t[0]=="number",Qke={linear:va,easeIn:Wke,easeInOut:uZ,easeOut:Kke,circIn:fk,circInOut:cZ,circOut:lZ,backIn:uk,backInOut:oZ,backOut:sZ,anticipate:aZ},Xke=t=>typeof t=="string",XV=t=>{if(fZ(t)){ak(t.length===4);const[e,n,r,i]=t;return zy(e,n,r,i)}else if(Xke(t))return Qke[t];return t},Ev=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zke(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(g){o.has(g)&&(u.schedule(g),t()),g(a)}const u={schedule:(g,m=!1,w=!1)=>{const I=w&&i?n:r;return m&&o.add(g),I.has(g)||I.add(g),g},cancel:g=>{r.delete(g),o.delete(g)},process:g=>{if(a=g,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,u.process(g))}};return u}const Jke=40;function hZ(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ev.reduce((k,U)=>(k[U]=Zke(s),k),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:g,update:m,preRender:w,render:A,postRender:I}=o,_=()=>{const k=Bc.useManualTiming?i.timestamp:performance.now();n=!1,Bc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,Jke),1)),i.timestamp=k,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),g.process(i),m.process(i),w.process(i),A.process(i),I.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},C=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:Ev.reduce((k,U)=>{const D=o[U];return k[U]=(B,O=!1,M=!1)=>(n||C(),D.schedule(B,O,M)),k},{}),cancel:k=>{for(let U=0;U<Ev.length;U++)o[Ev[U]].cancel(k)},state:i,steps:o}}const{schedule:Br,cancel:sf,state:ds,steps:XC}=hZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:va,!0);let Gv;function eMe(){Gv=void 0}const Ao={now:()=>(Gv===void 0&&Ao.set(ds.isProcessing||Bc.useManualTiming?ds.timestamp:performance.now()),Gv),set:t=>{Gv=t,queueMicrotask(eMe)}},dZ=t=>e=>typeof e=="string"&&e.startsWith(t),hk=dZ("--"),tMe=dZ("var(--"),dk=t=>tMe(t)?nMe.test(t.split("/*")[0].trim()):!1,nMe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sy={...Dg,transform:t=>Lc(0,1,t)},Sv={...Dg,default:1},Zm=t=>Math.round(t*1e5)/1e5,pk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rMe(t){return t==null}const iMe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gk=(t,e)=>n=>!!(typeof n=="string"&&iMe.test(n)&&n.startsWith(t)||e&&!rMe(n)&&Object.prototype.hasOwnProperty.call(n,e)),pZ=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(pk);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sMe=t=>Lc(0,255,t),ZC={...Dg,transform:t=>Math.round(sMe(t))},uh={test:gk("rgb","red"),parse:pZ("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ZC.transform(t)+", "+ZC.transform(e)+", "+ZC.transform(n)+", "+Zm(sy.transform(r))+")"};function oMe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const zN={test:gk("#"),parse:oMe,transform:uh.transform},Hy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_u=Hy("deg"),Ol=Hy("%"),Dt=Hy("px"),aMe=Hy("vh"),lMe=Hy("vw"),ZV={...Ol,parse:t=>Ol.parse(t)/100,transform:t=>Ol.transform(t*100)},Xd={test:gk("hsl","hue"),parse:pZ("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ol.transform(Zm(e))+", "+Ol.transform(Zm(n))+", "+Zm(sy.transform(r))+")"},Ei={test:t=>uh.test(t)||zN.test(t)||Xd.test(t),parse:t=>uh.test(t)?uh.parse(t):Xd.test(t)?Xd.parse(t):zN.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uh.transform(t):Xd.transform(t),getAnimatableNone:t=>{const e=Ei.parse(t);return e.alpha=0,Ei.transform(e)}},cMe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uMe(t){return isNaN(t)&&typeof t=="string"&&(t.match(pk)?.length||0)+(t.match(cMe)?.length||0)>0}const gZ="number",mZ="color",fMe="var",hMe="var(",JV="${}",dMe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(dMe,c=>(Ei.test(c)?(r.color.push(s),i.push(mZ),n.push(Ei.parse(c))):c.startsWith(hMe)?(r.var.push(s),i.push(fMe),n.push(c)):(r.number.push(s),i.push(gZ),n.push(parseFloat(c))),++s,JV)).split(JV);return{values:n,split:a,indexes:r,types:i}}function yZ(t){return oy(t).values}function vZ(t){const{split:e,types:n}=oy(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===gZ?s+=Zm(i[o]):a===mZ?s+=Ei.transform(i[o]):s+=i[o]}return s}}const pMe=t=>typeof t=="number"?0:Ei.test(t)?Ei.getAnimatableNone(t):t;function gMe(t){const e=yZ(t);return vZ(t)(e.map(pMe))}const of={test:uMe,parse:yZ,createTransformer:vZ,getAnimatableNone:gMe};function JC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mMe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=JC(c,a,t+1/3),s=JC(c,a,t),o=JC(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Mx(t,e){return n=>n>0?e:t}const Hr=(t,e,n)=>t+(e-t)*n,eI=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},yMe=[zN,uh,Xd],vMe=t=>yMe.find(e=>e.test(t));function eU(t){const e=vMe(t);if(!e)return!1;let n=e.parse(t);return e===Xd&&(n=mMe(n)),n}const tU=(t,e)=>{const n=eU(t),r=eU(e);if(!n||!r)return Mx(t,e);const i={...n};return s=>(i.red=eI(n.red,r.red,s),i.green=eI(n.green,r.green,s),i.blue=eI(n.blue,r.blue,s),i.alpha=Hr(n.alpha,r.alpha,s),uh.transform(i))},HN=new Set(["none","hidden"]);function wMe(t,e){return HN.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function xMe(t,e){return n=>Hr(t,e,n)}function mk(t){return typeof t=="number"?xMe:typeof t=="string"?dk(t)?Mx:Ei.test(t)?tU:EMe:Array.isArray(t)?wZ:typeof t=="object"?Ei.test(t)?tU:bMe:Mx}function wZ(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>mk(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function bMe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=mk(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function AMe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const EMe=(t,e)=>{const n=of.createTransformer(e),r=oy(t),i=oy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?HN.has(t)&&!i.values.length||HN.has(e)&&!r.values.length?wMe(t,e):Uy(wZ(AMe(r,i),i.values),n):Mx(t,e)};function xZ(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Hr(t,e,n):mk(t)(t,e)}const SMe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Br.update(e,n),stop:()=>sf(e),now:()=>ds.isProcessing?ds.timestamp:Ao.now()}},bZ=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Dx=2e4;function yk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Dx;)e+=n,r=t.next(e);return e>=Dx?1/0:e}function _Me(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(yk(r),Dx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Nl(i)}}const TMe=5;function AZ(t,e,n){const r=Math.max(e-TMe,0);return tZ(n-t(r),e-r)}const Jr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tI=.001;function CMe({duration:t=Jr.duration,bounce:e=Jr.bounce,velocity:n=Jr.velocity,mass:r=Jr.mass}){let i,s,o=1-e;o=Lc(Jr.minDamping,Jr.maxDamping,o),t=Lc(Jr.minDuration,Jr.maxDuration,Nl(t)),o<1?(i=u=>{const g=u*o,m=g*t,w=g-n,A=$N(u,o),I=Math.exp(-m);return tI-w/A*I},s=u=>{const m=u*o*t,w=m*n+n,A=Math.pow(o,2)*Math.pow(u,2)*t,I=Math.exp(-m),_=$N(Math.pow(u,2),o);return(-i(u)+tI>0?-1:1)*((w-A)*I)/_}):(i=u=>{const g=Math.exp(-u*t),m=(u-n)*t+1;return-tI+g*m},s=u=>{const g=Math.exp(-u*t),m=(n-u)*(t*t);return g*m});const a=5/t,c=PMe(i,s,a);if(t=Pl(t),isNaN(c))return{stiffness:Jr.stiffness,damping:Jr.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const IMe=12;function PMe(t,e,n){let r=n;for(let i=1;i<IMe;i++)r=r-t(r)/e(r);return r}function $N(t,e){return t*Math.sqrt(1-e*e)}const NMe=["duration","bounce"],OMe=["stiffness","damping","mass"];function nU(t,e){return e.some(n=>t[n]!==void 0)}function RMe(t){let e={velocity:Jr.velocity,stiffness:Jr.stiffness,damping:Jr.damping,mass:Jr.mass,isResolvedFromDuration:!1,...t};if(!nU(t,OMe)&&nU(t,NMe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Lc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Jr.mass,stiffness:i,damping:s}}else{const n=CMe(t);e={...e,...n,mass:Jr.mass},e.isResolvedFromDuration=!0}return e}function Lx(t=Jr.visualDuration,e=Jr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:g,duration:m,velocity:w,isResolvedFromDuration:A}=RMe({...n,velocity:-Nl(n.velocity||0)}),I=w||0,_=u/(2*Math.sqrt(c*g)),C=o-s,R=Nl(Math.sqrt(c/g)),j=Math.abs(C)<5;r||(r=j?Jr.restSpeed.granular:Jr.restSpeed.default),i||(i=j?Jr.restDelta.granular:Jr.restDelta.default);let k;if(_<1){const D=$N(R,_);k=B=>{const O=Math.exp(-_*R*B);return o-O*((I+_*R*C)/D*Math.sin(D*B)+C*Math.cos(D*B))}}else if(_===1)k=D=>o-Math.exp(-R*D)*(C+(I+R*C)*D);else{const D=R*Math.sqrt(_*_-1);k=B=>{const O=Math.exp(-_*R*B),M=Math.min(D*B,300);return o-O*((I+_*R*C)*Math.sinh(M)+D*C*Math.cosh(M))/D}}const U={calculatedDuration:A&&m||null,next:D=>{const B=k(D);if(A)a.done=D>=m;else{let O=D===0?I:0;_<1&&(O=D===0?Pl(I):AZ(k,D,B));const M=Math.abs(O)<=r,V=Math.abs(o-B)<=i;a.done=M&&V}return a.value=a.done?o:B,a},toString:()=>{const D=Math.min(yk(U),Dx),B=bZ(O=>U.next(D*O).value,D,30);return D+"ms "+B},toTransition:()=>{}};return U}Lx.applyToOptions=t=>{const e=_Me(t,100,Lx);return t.ease=e.ease,t.duration=Pl(e.duration),t.type="keyframes",t};function GN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:g}){const m=t[0],w={done:!1,value:m},A=M=>a!==void 0&&M<a||c!==void 0&&M>c,I=M=>a===void 0?c:c===void 0||Math.abs(a-M)<Math.abs(c-M)?a:c;let _=n*e;const C=m+_,R=o===void 0?C:o(C);R!==C&&(_=R-m);const j=M=>-_*Math.exp(-M/r),k=M=>R+j(M),U=M=>{const V=j(M),K=k(M);w.done=Math.abs(V)<=u,w.value=w.done?R:K};let D,B;const O=M=>{A(w.value)&&(D=M,B=Lx({keyframes:[w.value,I(w.value)],velocity:AZ(k,M,w.value),damping:i,stiffness:s,restDelta:u,restSpeed:g}))};return O(0),{calculatedDuration:null,next:M=>{let V=!1;return!B&&D===void 0&&(V=!0,U(M),O(M)),D!==void 0&&M>=D?B.next(M-D):(!V&&U(M),w)}}}function kMe(t,e,n){const r=[],i=n||Bc.mix||xZ,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||va:e;a=Uy(c,a)}r.push(a)}return r}function MMe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(ak(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=kMe(e,r,i),c=a.length,u=g=>{if(o&&g<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(g<t[m+1]);m++);const w=iy(t[m],t[m+1],g);return a[m](w)};return n?g=>u(Lc(t[0],t[s-1],g)):u}function DMe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=iy(0,e,r);t.push(Hr(n,1,i))}}function LMe(t){const e=[0];return DMe(e,t.length-1),e}function BMe(t,e){return t.map(n=>n*e)}function jMe(t,e){return t.map(()=>e||uZ).splice(0,t.length-1)}function Jm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Yke(r)?r.map(XV):XV(r),s={done:!1,value:e[0]},o=BMe(n&&n.length===e.length?n:LMe(e),t),a=MMe(o,e,{ease:Array.isArray(i)?i:jMe(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const FMe=t=>t!==null;function vk(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(FMe),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const VMe={decay:GN,inertia:GN,tween:Jm,keyframes:Jm,spring:Lx};function EZ(t){typeof t.type=="string"&&(t.type=VMe[t.type])}class wk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const UMe=t=>t/100;class xk extends wk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ao.now()&&this.tick(Ao.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;EZ(e);const{type:n=Jm,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=n||Jm;c!==Jm&&typeof a[0]!="number"&&(this.mixKeyframes=Uy(UMe,xZ(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=yk(u));const{calculatedDuration:g}=u;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:g,repeat:m,repeatType:w,repeatDelay:A,type:I,onUpdate:_,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-u*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?R<0:R>i;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,U=r;if(m){const M=Math.min(this.currentTime,i)/a;let V=Math.floor(M),K=M%1;!K&&M>=1&&(K=1),K===1&&V--,V=Math.min(V,m+1),!!(V%2)&&(w==="reverse"?(K=1-K,A&&(K-=A/a)):w==="mirror"&&(U=o)),k=Lc(0,1,K)*a}const D=j?{done:!1,value:g[0]}:U.next(k);s&&(D.value=s(D.value));let{done:B}=D;!j&&c!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return O&&I!==GN&&(D.value=vk(g,this.options,C,this.speed)),_&&_(D.value),O&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Nl(this.calculatedDuration)}get time(){return Nl(this.currentTime)}set time(e){e=Pl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ao.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=SMe,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ao.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function zMe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fh=t=>t*180/Math.PI,qN=t=>{const e=fh(Math.atan2(t[1],t[0]));return WN(e)},HMe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qN,rotateZ:qN,skewX:t=>fh(Math.atan(t[1])),skewY:t=>fh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},WN=t=>(t=t%360,t<0&&(t+=360),t),rU=qN,iU=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sU=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$Me={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iU,scaleY:sU,scale:t=>(iU(t)+sU(t))/2,rotateX:t=>WN(fh(Math.atan2(t[6],t[5]))),rotateY:t=>WN(fh(Math.atan2(-t[2],t[0]))),rotateZ:rU,rotate:rU,skewX:t=>fh(Math.atan(t[4])),skewY:t=>fh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function KN(t){return t.includes("scale")?1:0}function YN(t,e){if(!t||t==="none")return KN(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=$Me,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=HMe,i=a}if(!i)return KN(e);const s=r[e],o=i[1].split(",").map(qMe);return typeof s=="function"?s(o):o[s]}const GMe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return YN(n,e)};function qMe(t){return parseFloat(t.trim())}const Lg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bg=new Set(Lg),oU=t=>t===Dg||t===Dt,WMe=new Set(["x","y","z"]),KMe=Lg.filter(t=>!WMe.has(t));function YMe(t){const e=[];return KMe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const vh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>YN(e,"x"),y:(t,{transform:e})=>YN(e,"y")};vh.translateX=vh.x;vh.translateY=vh.y;const wh=new Set;let QN=!1,XN=!1,ZN=!1;function SZ(){if(XN){const t=Array.from(wh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=YMe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}XN=!1,QN=!1,wh.forEach(t=>t.complete(ZN)),wh.clear()}function _Z(){wh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(XN=!0)})}function QMe(){ZN=!0,_Z(),SZ(),ZN=!1}class bk{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(wh.add(this),QN||(QN=!0,Br.read(_Z),Br.resolveKeyframes(SZ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}zMe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wh.delete(this)}cancel(){this.state==="scheduled"&&(wh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XMe=t=>t.startsWith("--");function ZMe(t,e,n){XMe(e)?t.style.setProperty(e,n):t.style[e]=n}const JMe=lk(()=>window.ScrollTimeline!==void 0),e4e={};function t4e(t,e){const n=lk(t);return()=>e4e[e]??n()}const TZ=t4e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,aU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lm([0,.65,.55,1]),circOut:Lm([.55,0,1,.45]),backIn:Lm([.31,.01,.66,-.59]),backOut:Lm([.33,1.53,.69,.99])};function CZ(t,e){if(t)return typeof t=="function"?TZ()?bZ(t,e):"ease-out":fZ(t)?Lm(t):Array.isArray(t)?t.map(n=>CZ(n,e)||aU.easeOut):aU[t]}function n4e(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const g={[e]:n};c&&(g.offset=c);const m=CZ(a,i);Array.isArray(m)&&(g.easing=m);const w={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(w.pseudoElement=u),t.animate(g,w)}function IZ(t){return typeof t=="function"&&"applyToOptions"in t}function r4e({type:t,...e}){return IZ(t)&&TZ()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class i4e extends wk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,ak(typeof e.type!="string");const u=r4e(e);this.animation=n4e(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const g=vk(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(g):ZMe(n,r,g),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Nl(Number(e))}get time(){return Nl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Pl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&JMe()?(this.animation.timeline=e,va):n(this)}}const PZ={anticipate:aZ,backInOut:oZ,circInOut:cZ};function s4e(t){return t in PZ}function o4e(t){typeof t.ease=="string"&&s4e(t.ease)&&(t.ease=PZ[t.ease])}const lU=10;class a4e extends i4e{constructor(e){o4e(e),EZ(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new xk({...o,autoplay:!1}),c=Pl(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-lU).value,a.sample(c).value,lU),a.stop()}}const cU=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(of.test(t)||t==="0")&&!t.startsWith("url("));function l4e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function c4e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=cU(i,e),a=cU(s,e);return!o||!a?!1:l4e(t)||(n==="spring"||IZ(n))&&r}function JN(t){t.duration=0,t.type}const u4e=new Set(["opacity","clipPath","filter","transform"]),f4e=lk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h4e(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return f4e()&&n&&u4e.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const d4e=40;class p4e extends wk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:g,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ao.now();const w={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:g,...m},A=g?.KeyframeResolver||bk;this.keyframeResolver=new A(a,(I,_,C)=>this.onKeyframesResolved(I,_,w,!C),c,u,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:g}=r;this.resolvedAt=Ao.now(),c4e(e,s,o,a)||((Bc.instantAnimations||!c)&&g?.(vk(e,r,n)),e[0]=e[e.length-1],JN(r),r.repeat=0);const w={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>d4e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!u&&h4e(w)?new a4e({...w,element:w.motionValue.owner.current}):new xk(w);A.finished.then(()=>this.notifyFinished()).catch(va),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),QMe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const g4e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function m4e(t){const e=g4e.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function NZ(t,e,n=1){const[r,i]=m4e(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return ZX(o)?parseFloat(o):o}return dk(i)?NZ(i,e,n+1):i}function Ak(t,e){return t?.[e]??t?.default??t}const OZ=new Set(["width","height","top","left","right","bottom",...Lg]),y4e={test:t=>t==="auto",parse:t=>t},RZ=t=>e=>e.test(t),kZ=[Dg,Dt,Ol,_u,lMe,aMe,y4e],uU=t=>kZ.find(RZ(t));function v4e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eZ(t):!0}const w4e=new Set(["brightness","contrast","saturate","opacity"]);function x4e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(pk)||[];if(!r)return t;const i=n.replace(r,"");let s=w4e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const b4e=/\b([a-z-]*)\(.*?\)/gu,eO={...of,getAnimatableNone:t=>{const e=t.match(b4e);return e?e.map(x4e).join(" "):t}},fU={...Dg,transform:Math.round},A4e={rotate:_u,rotateX:_u,rotateY:_u,rotateZ:_u,scale:Sv,scaleX:Sv,scaleY:Sv,scaleZ:Sv,skew:_u,skewX:_u,skewY:_u,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:sy,originX:ZV,originY:ZV,originZ:Dt},Ek={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,backgroundPositionX:Dt,backgroundPositionY:Dt,...A4e,zIndex:fU,fillOpacity:sy,strokeOpacity:sy,numOctaves:fU},E4e={...Ek,color:Ei,backgroundColor:Ei,outlineColor:Ei,fill:Ei,stroke:Ei,borderColor:Ei,borderTopColor:Ei,borderRightColor:Ei,borderBottomColor:Ei,borderLeftColor:Ei,filter:eO,WebkitFilter:eO},MZ=t=>E4e[t];function DZ(t,e){let n=MZ(t);return n!==eO&&(n=of),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const S4e=new Set(["auto","none","0"]);function _4e(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!S4e.has(s)&&oy(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=DZ(n,i)}class T4e extends bk{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),dk(u))){const g=NZ(u,n.current);g!==void 0&&(e[c]=g),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!OZ.has(r)||e.length!==2)return;const[i,s]=e,o=uU(i),a=uU(s);if(o!==a)if(oU(o)&&oU(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else vh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||v4e(e[i]))&&r.push(i);r.length&&_4e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=vh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,c])=>{e.getValue(a).set(c)}),this.resolveNoneKeyframes()}}function C4e(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const LZ=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function BZ(t){return JX(t)&&"offsetHeight"in t}const hU=30,I4e=t=>!isNaN(parseFloat(t));class P4e{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ao.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ao.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=I4e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ck);const r=this.events[e].add(n);return e==="change"?()=>{r(),Br.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ao.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hU)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hU);return tZ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ug(t,e){return new P4e(t,e)}const{schedule:Sk}=hZ(queueMicrotask,!1),Ma={x:!1,y:!1};function jZ(){return Ma.x||Ma.y}function N4e(t){return t==="x"||t==="y"?Ma[t]?null:(Ma[t]=!0,()=>{Ma[t]=!1}):Ma.x||Ma.y?null:(Ma.x=Ma.y=!0,()=>{Ma.x=Ma.y=!1})}function FZ(t,e){const n=C4e(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function dU(t){return!(t.pointerType==="touch"||jZ())}function O4e(t,e,n={}){const[r,i,s]=FZ(t,n),o=a=>{if(!dU(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const g=m=>{dU(m)&&(u(m),c.removeEventListener("pointerleave",g))};c.addEventListener("pointerleave",g,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const VZ=(t,e)=>e?t===e?!0:VZ(t,e.parentElement):!1,_k=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,R4e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function k4e(t){return R4e.has(t.tagName)||t.tabIndex!==-1}const qv=new WeakSet;function pU(t){return e=>{e.key==="Enter"&&t(e)}}function nI(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const M4e=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=pU(()=>{if(qv.has(n))return;nI(n,"down");const i=pU(()=>{nI(n,"up")}),s=()=>nI(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function gU(t){return _k(t)&&!jZ()}function D4e(t,e,n={}){const[r,i,s]=FZ(t,n),o=a=>{const c=a.currentTarget;if(!gU(a))return;qv.add(c);const u=e(c,a),g=(A,I)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",w),qv.has(c)&&qv.delete(c),gU(A)&&typeof u=="function"&&u(A,{success:I})},m=A=>{g(A,c===window||c===document||n.useGlobalTarget||VZ(c,A.target))},w=A=>{g(A,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",w,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),BZ(a)&&(a.addEventListener("focus",u=>M4e(u,i)),!k4e(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function UZ(t){return JX(t)&&"ownerSVGElement"in t}function L4e(t){return UZ(t)&&t.tagName==="svg"}const js=t=>!!(t&&t.getVelocity),B4e=[...kZ,Ei,of],j4e=t=>B4e.find(RZ(t)),Tk=Q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class F4e extends Q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=BZ(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function V4e({children:t,isPresent:e,anchorX:n,root:r}){const i=Q.useId(),s=Q.useRef(null),o=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=Q.useContext(Tk);return Q.useInsertionEffect(()=>{const{width:c,height:u,top:g,left:m,right:w}=o.current;if(e||!s.current||!c||!u)return;const A=n==="left"?`left: ${m}`:`right: ${w}`;s.current.dataset.motionPopId=i;const I=document.createElement("style");a&&(I.nonce=a);const _=r??document.head;return _.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${A}px !important;
            top: ${g}px !important;
          }
        `),()=>{_.contains(I)&&_.removeChild(I)}},[e]),P.jsx(F4e,{isPresent:e,childRef:s,sizeRef:o,children:Q.cloneElement(t,{ref:s})})}const U4e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const u=rk(z4e),g=Q.useId();let m=!0,w=Q.useMemo(()=>(m=!1,{id:g,initial:e,isPresent:n,custom:i,onExitComplete:A=>{u.set(A,!0);for(const I of u.values())if(!I)return;r&&r()},register:A=>(u.set(A,!1),()=>u.delete(A))}),[n,u,r]);return s&&m&&(w={...w}),Q.useMemo(()=>{u.forEach((A,I)=>u.set(I,!1))},[n]),Q.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=P.jsx(V4e,{isPresent:n,anchorX:a,root:c,children:t})),P.jsx(gA.Provider,{value:w,children:t})};function z4e(){return new Map}function zZ(t=!0){const e=Q.useContext(gA);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=Q.useId();Q.useEffect(()=>{if(t)return i(s)},[t]);const o=Q.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const _v=t=>t.key||"";function mU(t){const e=[];return Q.Children.forEach(t,n=>{Q.isValidElement(n)&&e.push(n)}),e}const H4e=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[u,g]=zZ(o),m=Q.useMemo(()=>mU(t),[t]),w=o&&!u?[]:m.map(_v),A=Q.useRef(!0),I=Q.useRef(m),_=rk(()=>new Map),[C,R]=Q.useState(m),[j,k]=Q.useState(m);XX(()=>{A.current=!1,I.current=m;for(let B=0;B<j.length;B++){const O=_v(j[B]);w.includes(O)?_.delete(O):_.get(O)!==!0&&_.set(O,!1)}},[j,w.length,w.join("-")]);const U=[];if(m!==C){let B=[...m];for(let O=0;O<j.length;O++){const M=j[O],V=_v(M);w.includes(V)||(B.splice(O,0,M),U.push(M))}return s==="wait"&&U.length&&(B=U),k(mU(B)),R(m),null}const{forceRender:D}=Q.useContext(nk);return P.jsx(P.Fragment,{children:j.map(B=>{const O=_v(B),M=o&&!u?!1:m===j||w.includes(O),V=()=>{if(_.has(O))_.set(O,!0);else return;let K=!0;_.forEach(W=>{W||(K=!1)}),K&&(D?.(),k(I.current),o&&g?.(),r&&r())};return P.jsx(U4e,{isPresent:M,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:M?void 0:V,anchorX:a,children:B},O)})})},HZ=Q.createContext({strict:!1}),yU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fg={};for(const t in yU)fg[t]={isEnabled:e=>yU[t].some(n=>!!e[n])};function $4e(t){for(const e in t)fg[e]={...fg[e],...t[e]}}const G4e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||G4e.has(t)}let $Z=t=>!Bx(t);function q4e(t){typeof t=="function"&&($Z=e=>e.startsWith("on")?!Bx(e):t(e))}try{q4e(require("@emotion/is-prop-valid").default)}catch{}function W4e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||($Z(i)||n===!0&&Bx(i)||!e&&!Bx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const mA=Q.createContext({});function yA(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ay(t){return typeof t=="string"||Array.isArray(t)}const Ck=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ik=["initial",...Ck];function vA(t){return yA(t.animate)||Ik.some(e=>ay(t[e]))}function GZ(t){return!!(vA(t)||t.variants)}function K4e(t,e){if(vA(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ay(n)?n:void 0,animate:ay(r)?r:void 0}}return t.inherit!==!1?e:{}}function Y4e(t){const{initial:e,animate:n}=K4e(t,Q.useContext(mA));return Q.useMemo(()=>({initial:e,animate:n}),[vU(e),vU(n)])}function vU(t){return Array.isArray(t)?t.join(" "):t}const ly={};function Q4e(t){for(const e in t)ly[e]=t[e],hk(e)&&(ly[e].isCSSVariable=!0)}function qZ(t,{layout:e,layoutId:n}){return Bg.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ly[t]||t==="opacity")}const X4e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z4e=Lg.length;function J4e(t,e,n){let r="",i=!0;for(let s=0;s<Z4e;s++){const o=Lg[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=LZ(a,Ek[o]);if(!c){i=!1;const g=X4e[o]||o;r+=`${g}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Pk(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Bg.has(c)){o=!0;continue}else if(hk(c)){i[c]=u;continue}else{const g=LZ(u,Ek[c]);c.startsWith("origin")?(a=!0,s[c]=g):r[c]=g}}if(e.transform||(o||n?r.transform=J4e(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:g=0}=s;r.transformOrigin=`${c} ${u} ${g}`}}const Nk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WZ(t,e,n){for(const r in e)!js(e[r])&&!qZ(r,n)&&(t[r]=e[r])}function eDe({transformTemplate:t},e){return Q.useMemo(()=>{const n=Nk();return Pk(n,e,t),Object.assign({},n.vars,n.style)},[e])}function tDe(t,e){const n=t.style||{},r={};return WZ(r,n,t),Object.assign(r,eDe(t,e)),r}function nDe(t,e){const n={},r=tDe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const rDe={offset:"stroke-dashoffset",array:"stroke-dasharray"},iDe={offset:"strokeDashoffset",array:"strokeDasharray"};function sDe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?rDe:iDe;t[s.offset]=Dt.transform(-r);const o=Dt.transform(e),a=Dt.transform(n);t[s.array]=`${o} ${a}`}function KZ(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,u,g){if(Pk(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:w}=t;m.transform&&(w.transform=m.transform,delete m.transform),(w.transform||m.transformOrigin)&&(w.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&sDe(m,i,s,o,!1)}const YZ=()=>({...Nk(),attrs:{}}),QZ=t=>typeof t=="string"&&t.toLowerCase()==="svg";function oDe(t,e,n,r){const i=Q.useMemo(()=>{const s=YZ();return KZ(s,e,QZ(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};WZ(s,t.style,t),i.style={...s,...i.style}}return i}const aDe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ok(t){return typeof t!="string"||t.includes("-")?!1:!!(aDe.indexOf(t)>-1||/[A-Z]/u.test(t))}function lDe(t,e,n,{latestValues:r},i,s=!1){const a=(Ok(t)?oDe:nDe)(e,r,i,t),c=W4e(e,typeof t=="string",s),u=t!==Q.Fragment?{...c,...a,ref:n}:{},{children:g}=e,m=Q.useMemo(()=>js(g)?g.get():g,[g]);return Q.createElement(t,{...u,children:m})}function wU(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Rk(t,e,n,r){if(typeof e=="function"){const[i,s]=wU(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=wU(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Wv(t){return js(t)?t.get():t}function cDe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:uDe(n,r,i,t),renderState:e()}}function uDe(t,e,n,r){const i={},s=r(t,{});for(const w in s)i[w]=Wv(s[w]);let{initial:o,animate:a}=t;const c=vA(t),u=GZ(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let g=n?n.initial===!1:!1;g=g||o===!1;const m=g?a:o;if(m&&typeof m!="boolean"&&!yA(m)){const w=Array.isArray(m)?m:[m];for(let A=0;A<w.length;A++){const I=Rk(t,w[A]);if(I){const{transitionEnd:_,transition:C,...R}=I;for(const j in R){let k=R[j];if(Array.isArray(k)){const U=g?k.length-1:0;k=k[U]}k!==null&&(i[j]=k)}for(const j in _)i[j]=_[j]}}}return i}const XZ=t=>(e,n)=>{const r=Q.useContext(mA),i=Q.useContext(gA),s=()=>cDe(t,e,r,i);return n?s():rk(s)};function kk(t,e,n){const{style:r}=t,i={};for(const s in r)(js(r[s])||e.style&&js(e.style[s])||qZ(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const fDe=XZ({scrapeMotionValuesFromProps:kk,createRenderState:Nk});function ZZ(t,e,n){const r=kk(t,e,n);for(const i in t)if(js(t[i])||js(e[i])){const s=Lg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const hDe=XZ({scrapeMotionValuesFromProps:ZZ,createRenderState:YZ}),dDe=Symbol.for("motionComponentSymbol");function Zd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pDe(t,e,n){return Q.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zd(n)&&(n.current=r))},[e])}const Mk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gDe="framerAppearId",JZ="data-"+Mk(gDe),eJ=Q.createContext({});function mDe(t,e,n,r,i){const{visualElement:s}=Q.useContext(mA),o=Q.useContext(HZ),a=Q.useContext(gA),c=Q.useContext(Tk).reducedMotion,u=Q.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const g=u.current,m=Q.useContext(eJ);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&yDe(u.current,n,i,m);const w=Q.useRef(!1);Q.useInsertionEffect(()=>{g&&w.current&&g.update(n,a)});const A=n[JZ],I=Q.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return XX(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),I.current&&g.animationState&&g.animationState.animateChanges())}),Q.useEffect(()=>{g&&(!I.current&&g.animationState&&g.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),I.current=!1),g.enteringChildren=void 0)}),g}function yDe(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tJ(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Zd(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:c,layoutRoot:u})}function tJ(t){if(t)return t.options.allowProjection!==!1?t.projection:tJ(t.parent)}function rI(t,{forwardMotionProps:e=!1}={},n,r){n&&$4e(n);const i=Ok(t)?hDe:fDe;function s(a,c){let u;const g={...Q.useContext(Tk),...a,layoutId:vDe(a)},{isStatic:m}=g,w=Y4e(a),A=i(a,m);if(!m&&ik){wDe();const I=xDe(g);u=I.MeasureLayout,w.visualElement=mDe(t,A,g,r,I.ProjectionNode)}return P.jsxs(mA.Provider,{value:w,children:[u&&w.visualElement?P.jsx(u,{visualElement:w.visualElement,...g}):null,lDe(t,a,pDe(A,w.visualElement,c),A,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=Q.forwardRef(s);return o[dDe]=t,o}function vDe({layoutId:t}){const e=Q.useContext(nk).id;return e&&t!==void 0?e+"-"+t:t}function wDe(t,e){Q.useContext(HZ).strict}function xDe(t){const{drag:e,layout:n}=fg;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function bDe(t,e){if(typeof Proxy>"u")return rI;const n=new Map,r=(s,o)=>rI(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,rI(o,void 0,t,e)),n.get(o))})}function nJ({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ADe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function EDe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function iI(t){return t===void 0||t===1}function tO({scale:t,scaleX:e,scaleY:n}){return!iI(t)||!iI(e)||!iI(n)}function qf(t){return tO(t)||rJ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rJ(t){return xU(t.x)||xU(t.y)}function xU(t){return t&&t!=="0%"}function jx(t,e,n){const r=t-n,i=e*r;return n+i}function bU(t,e,n,r,i){return i!==void 0&&(t=jx(t,i,r)),jx(t,n,r)+e}function nO(t,e=0,n=1,r,i){t.min=bU(t.min,e,n,r,i),t.max=bU(t.max,e,n,r,i)}function iJ(t,{x:e,y:n}){nO(t.x,e.translate,e.scale,e.originPoint),nO(t.y,n.translate,n.scale,n.originPoint)}const AU=.999999999999,EU=1.0000000000001;function SDe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ep(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,iJ(t,o)),r&&qf(s.latestValues)&&ep(t,s.latestValues))}e.x<EU&&e.x>AU&&(e.x=1),e.y<EU&&e.y>AU&&(e.y=1)}function Jd(t,e){t.min=t.min+e,t.max=t.max+e}function SU(t,e,n,r,i=.5){const s=Hr(t.min,t.max,i);nO(t,e,n,s,r)}function ep(t,e){SU(t.x,e.x,e.scaleX,e.scale,e.originX),SU(t.y,e.y,e.scaleY,e.scale,e.originY)}function sJ(t,e){return nJ(EDe(t.getBoundingClientRect(),e))}function _De(t,e,n){const r=sJ(t,n),{scroll:i}=e;return i&&(Jd(r.x,i.offset.x),Jd(r.y,i.offset.y)),r}const _U=()=>({translate:0,scale:1,origin:0,originPoint:0}),tp=()=>({x:_U(),y:_U()}),TU=()=>({min:0,max:0}),pi=()=>({x:TU(),y:TU()}),rO={current:null},oJ={current:!1};function TDe(){if(oJ.current=!0,!!ik)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rO.current=t.matches;t.addEventListener("change",e),e()}else rO.current=!1}const CDe=new WeakMap;function IDe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(js(i))t.addValue(r,i);else if(js(s))t.addValue(r,ug(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ug(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PDe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ao.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Br.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=vA(n),this.isVariantNode=GZ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in m){const A=m[w];c[w]!==void 0&&js(A)&&A.set(c[w])}}mount(e){this.current=e,CDe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oJ.current||TDe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rO.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sf(this.notifyUpdate),sf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bg.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Br.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fg){const n=fg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CU.length;r++){const i=CU[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=IDe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ug(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ZX(r)||eZ(r))?r=parseFloat(r):!j4e(r)&&of.test(n)&&(r=DZ(e,n)),this.setBaseTarget(e,js(r)?r.get():r)),js(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=Rk(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!js(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ck),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Sk.render(this.render)}}class aJ extends PDe{constructor(){super(...arguments),this.KeyframeResolver=T4e}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;js(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lJ(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function NDe(t){return window.getComputedStyle(t)}class ODe extends aJ{constructor(){super(...arguments),this.type="html",this.renderInstance=lJ}readValueFromInstance(e,n){if(Bg.has(n))return this.projection?.isProjecting?KN(n):GMe(e,n);{const r=NDe(e),i=(hk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sJ(e,n)}build(e,n,r){Pk(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kk(e,n,r)}}const cJ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RDe(t,e,n,r){lJ(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(cJ.has(i)?i:Mk(i),e.attrs[i])}class kDe extends aJ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bg.has(n)){const r=MZ(n);return r&&r.default||0}return n=cJ.has(n)?n:Mk(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZZ(e,n,r)}build(e,n,r){KZ(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){RDe(e,n,r,i)}mount(e){this.isSVGTag=QZ(e.tagName),super.mount(e)}}const MDe=(t,e)=>Ok(t)?new kDe(e):new ODe(e,{allowProjection:t!==Q.Fragment});function bp(t,e,n){const r=t.getProps();return Rk(r,e,n!==void 0?n:r.custom,t)}const iO=t=>Array.isArray(t);function DDe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ug(n))}function LDe(t){return iO(t)?t[t.length-1]||0:t}function BDe(t,e){const n=bp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=LDe(s[o]);DDe(t,o,a)}}function jDe(t){return!!(js(t)&&t.add)}function sO(t,e){const n=t.getValue("willChange");if(jDe(n))return n.add(e);if(!n&&Bc.WillChange){const r=new Bc.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function uJ(t){return t.props[JZ]}const FDe=t=>t!==null;function VDe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(FDe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const UDe={type:"spring",stiffness:500,damping:25,restSpeed:10},zDe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HDe={type:"keyframes",duration:.8},$De={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GDe=(t,{keyframes:e})=>e.length>2?HDe:Bg.has(t)?t.startsWith("scale")?zDe(e[1]):UDe:$De;function qDe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...g}){return!!Object.keys(g).length}const Dk=(t,e,n,r={},i,s)=>o=>{const a=Ak(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Pl(c);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:w=>{e.set(w),a.onUpdate&&a.onUpdate(w)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};qDe(a)||Object.assign(g,GDe(t,g)),g.duration&&(g.duration=Pl(g.duration)),g.repeatDelay&&(g.repeatDelay=Pl(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let m=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(JN(g),g.delay===0&&(m=!0)),(Bc.instantAnimations||Bc.skipAnimations)&&(m=!0,JN(g),g.delay=0),g.allowFlatten=!a.type&&!a.ease,m&&!s&&e.get()!==void 0){const w=VDe(g.keyframes,a);if(w!==void 0){Br.update(()=>{g.onUpdate(w),g.onComplete()});return}}return a.isSync?new xk(g):new p4e(g)};function WDe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fJ(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const g in a){const m=t.getValue(g,t.latestValues[g]??null),w=a[g];if(w===void 0||u&&WDe(u,g))continue;const A={delay:n,...Ak(s||{},g)},I=m.get();if(I!==void 0&&!m.isAnimating&&!Array.isArray(w)&&w===I&&!A.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const R=uJ(t);if(R){const j=window.MotionHandoffAnimation(R,g,Br);j!==null&&(A.startTime=j,_=!0)}}sO(t,g),m.start(Dk(g,m,w,t.shouldReduceMotion&&OZ.has(g)?{type:!1}:A,t,_));const C=m.animation;C&&c.push(C)}return o&&Promise.all(c).then(()=>{Br.update(()=>{o&&BDe(t,o)})}),c}function hJ(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,g)=>u.sortNodePosition(g)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function oO(t,e,n={}){const r=bp(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(fJ(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:g,staggerDirection:m}=i;return KDe(t,e,c,u,g,m,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function KDe(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(oO(c,e,{...o,delay:n+(typeof r=="function"?0:r)+hJ(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function YDe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>oO(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=oO(t,e,n);else{const i=typeof e=="function"?bp(t,e,n.custom):e;r=Promise.all(fJ(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function dJ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const QDe=Ik.length;function pJ(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?pJ(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<QDe;n++){const r=Ik[n],i=t.props[r];(ay(i)||i===!1)&&(e[r]=i)}return e}const XDe=[...Ck].reverse(),ZDe=Ck.length;function JDe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>YDe(t,n,r)))}function e8e(t){let e=JDe(t),n=IU(),r=!0;const i=c=>(u,g)=>{const m=bp(t,g,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:w,transitionEnd:A,...I}=m;u={...u,...I,...A}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,g=pJ(t.parent)||{},m=[],w=new Set;let A={},I=1/0;for(let C=0;C<ZDe;C++){const R=XDe[C],j=n[R],k=u[R]!==void 0?u[R]:g[R],U=ay(k),D=R===c?j.isActive:null;D===!1&&(I=C);let B=k===g[R]&&k!==u[R]&&U;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),j.protectedKeys={...A},!j.isActive&&D===null||!k&&!j.prevProp||yA(k)||typeof k=="boolean")continue;const O=t8e(j.prevProp,k);let M=O||R===c&&j.isActive&&!B&&U||C>I&&U,V=!1;const K=Array.isArray(k)?k:[k];let W=K.reduce(i(R),{});D===!1&&(W={});const{prevResolvedValues:G={}}=j,$={...G,...W},ce=ae=>{M=!0,w.has(ae)&&(V=!0,w.delete(ae)),j.needsAnimating[ae]=!0;const re=t.getValue(ae);re&&(re.liveStyle=!1)};for(const ae in $){const re=W[ae],pe=G[ae];if(A.hasOwnProperty(ae))continue;let we=!1;iO(re)&&iO(pe)?we=!dJ(re,pe):we=re!==pe,we?re!=null?ce(ae):w.add(ae):re!==void 0&&w.has(ae)?ce(ae):j.protectedKeys[ae]=!0}j.prevProp=k,j.prevResolvedValues=W,j.isActive&&(A={...A,...W}),r&&t.blockInitialAnimation&&(M=!1);const J=B&&O;M&&(!J||V)&&m.push(...K.map(ae=>{const re={type:R};if(typeof ae=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,we=bp(pe,ae);if(pe.enteringChildren&&we){const{delayChildren:ue}=we.transition||{};re.delay=hJ(pe.enteringChildren,t,ue)}}return{animation:ae,options:re}}))}if(w.size){const C={};if(typeof u.initial!="boolean"){const R=bp(t,Array.isArray(u.initial)?u.initial[0]:u.initial);R&&R.transition&&(C.transition=R.transition)}w.forEach(R=>{const j=t.getBaseTarget(R),k=t.getValue(R);k&&(k.liveStyle=!0),C[R]=j??null}),m.push({animation:C})}let _=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(m):Promise.resolve()}function a(c,u){if(n[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,u)),n[c].isActive=u;const g=o(c);for(const m in n)n[m].protectedKeys={};return g}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=IU(),r=!0}}}function t8e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dJ(e,t):!1}function Uf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IU(){return{animate:Uf(!0),whileInView:Uf(),whileHover:Uf(),whileTap:Uf(),whileDrag:Uf(),whileFocus:Uf(),exit:Uf()}}class mf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class n8e extends mf{constructor(e){super(e),e.animationState||(e.animationState=e8e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let r8e=0;class i8e extends mf{constructor(){super(...arguments),this.id=r8e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const s8e={animation:{Feature:n8e},exit:{Feature:i8e}};function cy(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $y(t){return{point:{x:t.pageX,y:t.pageY}}}const o8e=t=>e=>_k(e)&&t(e,$y(e));function e0(t,e,n,r){return cy(t,e,o8e(n),r)}const gJ=1e-4,a8e=1-gJ,l8e=1+gJ,mJ=.01,c8e=0-mJ,u8e=0+mJ;function ro(t){return t.max-t.min}function f8e(t,e,n){return Math.abs(t-e)<=n}function PU(t,e,n,r=.5){t.origin=r,t.originPoint=Hr(e.min,e.max,t.origin),t.scale=ro(n)/ro(e),t.translate=Hr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=a8e&&t.scale<=l8e||isNaN(t.scale))&&(t.scale=1),(t.translate>=c8e&&t.translate<=u8e||isNaN(t.translate))&&(t.translate=0)}function t0(t,e,n,r){PU(t.x,e.x,n.x,r?r.originX:void 0),PU(t.y,e.y,n.y,r?r.originY:void 0)}function NU(t,e,n){t.min=n.min+e.min,t.max=t.min+ro(e)}function h8e(t,e,n){NU(t.x,e.x,n.x),NU(t.y,e.y,n.y)}function OU(t,e,n){t.min=e.min-n.min,t.max=t.min+ro(e)}function n0(t,e,n){OU(t.x,e.x,n.x),OU(t.y,e.y,n.y)}function ca(t){return[t("x"),t("y")]}const yJ=({current:t})=>t?t.ownerDocument.defaultView:null,RU=(t,e)=>Math.abs(t-e);function d8e(t,e){const n=RU(t.x,e.x),r=RU(t.y,e.y);return Math.sqrt(n**2+r**2)}class vJ{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=oI(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,I=d8e(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!I)return;const{point:_}=w,{timestamp:C}=ds;this.history.push({..._,timestamp:C});const{onStart:R,onMove:j}=this.handlers;A||(R&&R(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,w)},this.handlePointerMove=(w,A)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=sI(A,this.transformPagePoint),Br.update(this.updatePoint,!0)},this.handlePointerUp=(w,A)=>{this.end();const{onEnd:I,onSessionEnd:_,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=oI(w.type==="pointercancel"?this.lastMoveEventInfo:sI(A,this.transformPagePoint),this.history);this.startEvent&&I&&I(w,R),_&&_(w,R)},!_k(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=$y(e),c=sI(a,this.transformPagePoint),{point:u}=c,{timestamp:g}=ds;this.history=[{...u,timestamp:g}];const{onSessionStart:m}=n;m&&m(e,oI(c,this.history)),this.removeListeners=Uy(e0(this.contextWindow,"pointermove",this.handlePointerMove),e0(this.contextWindow,"pointerup",this.handlePointerUp),e0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sf(this.updatePoint)}}function sI(t,e){return e?{point:e(t.point)}:t}function kU(t,e){return{x:t.x-e.x,y:t.y-e.y}}function oI({point:t},e){return{point:t,delta:kU(t,wJ(e)),offset:kU(t,p8e(e)),velocity:g8e(e,.1)}}function p8e(t){return t[0]}function wJ(t){return t[t.length-1]}function g8e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=wJ(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Pl(e)));)n--;if(!r)return{x:0,y:0};const s=Nl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function m8e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Hr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Hr(n,t,r.max):Math.min(t,n)),t}function MU(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function y8e(t,{top:e,left:n,bottom:r,right:i}){return{x:MU(t.x,n,i),y:MU(t.y,e,r)}}function DU(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function v8e(t,e){return{x:DU(t.x,e.x),y:DU(t.y,e.y)}}function w8e(t,e){let n=.5;const r=ro(t),i=ro(e);return i>r?n=iy(e.min,e.max-r,t.min):r>i&&(n=iy(t.min,t.max-i,e.min)),Lc(0,1,n)}function x8e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const aO=.35;function b8e(t=aO){return t===!1?t=0:t===!0&&(t=aO),{x:LU(t,"left","right"),y:LU(t,"top","bottom")}}function LU(t,e,n){return{min:BU(t,e),max:BU(t,n)}}function BU(t,e){return typeof t=="number"?t:t[e]||0}const A8e=new WeakMap;class E8e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($y(m).point)},o=(m,w)=>{const{drag:A,dragPropagation:I,onDragStart:_}=this.getProps();if(A&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=N4e(A),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ca(R=>{let j=this.getAxisMotionValue(R).get()||0;if(Ol.test(j)){const{projection:k}=this.visualElement;if(k&&k.layout){const U=k.layout.layoutBox[R];U&&(j=ro(U)*(parseFloat(j)/100))}}this.originPoint[R]=j}),_&&Br.postRender(()=>_(m,w)),sO(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},a=(m,w)=>{this.latestPointerEvent=m,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:I,onDirectionLock:_,onDrag:C}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:R}=w;if(I&&this.currentDirection===null){this.currentDirection=S8e(R),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",w.point,R),this.updateAxis("y",w.point,R),this.visualElement.render(),C&&C(m,w)},c=(m,w)=>{this.latestPointerEvent=m,this.latestPanInfo=w,this.stop(m,w),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ca(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new vJ(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:yJ(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Br.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Tv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=m8e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Zd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=y8e(r.layoutBox,e):this.constraints=!1,this.elastic=b8e(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ca(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=x8e(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_De(r,i.root,this.visualElement.getTransformPagePoint());let o=v8e(i.layout.layoutBox,s);if(n){const a=n(ADe(o));this.hasMutatedConstraints=!!a,a&&(o=nJ(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=ca(g=>{if(!Tv(g,n,this.currentDirection))return;let m=c&&c[g]||{};o&&(m={min:0,max:0});const w=i?200:1e6,A=i?40:1e7,I={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(g,I)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return sO(this.visualElement,e),r.start(Dk(e,r,0,n,this.visualElement,!1))}stopAnimation(){ca(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ca(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ca(n=>{const{drag:r}=this.getProps();if(!Tv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Hr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ca(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=w8e({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ca(o=>{if(!Tv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(Hr(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;A8e.set(this.visualElement,this);const e=this.visualElement.current,n=e0(e,"pointerdown",c=>{const{drag:u,dragListener:g=!0}=this.getProps();u&&g&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Zd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Br.read(r);const o=cy(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ca(g=>{const m=this.getAxisMotionValue(g);m&&(this.originPoint[g]+=c[g].translate,m.set(m.get()+c[g].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=aO,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Tv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function S8e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _8e extends mf{constructor(e){super(e),this.removeGroupControls=va,this.removeListeners=va,this.controls=new E8e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||va}unmount(){this.removeGroupControls(),this.removeListeners()}}const jU=t=>(e,n)=>{t&&Br.postRender(()=>t(e,n))};class T8e extends mf{constructor(){super(...arguments),this.removePointerDownListener=va}onPointerDown(e){this.session=new vJ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yJ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jU(e),onStart:jU(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Br.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=e0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FU(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Am={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Dt.test(t))t=parseFloat(t);else return t;const n=FU(t,e.target.x),r=FU(t,e.target.y);return`${n}% ${r}%`}},C8e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=of.parse(t);if(i.length>5)return r;const s=of.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=Hr(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let aI=!1;class I8e extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Q4e(P8e),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),aI&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,aI=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Br.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;aI=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xJ(t){const[e,n]=zZ(),r=Q.useContext(nk);return P.jsx(I8e,{...t,layoutGroup:r,switchLayoutGroup:Q.useContext(eJ),isPresent:e,safeToRemove:n})}const P8e={borderRadius:{...Am,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Am,borderTopRightRadius:Am,borderBottomLeftRadius:Am,borderBottomRightRadius:Am,boxShadow:C8e};function N8e(t,e,n){const r=js(t)?t:ug(t);return r.start(Dk("",r,e,n)),r.animation}const O8e=(t,e)=>t.depth-e.depth;class R8e{constructor(){this.children=[],this.isDirty=!1}add(e){sk(this.children,e),this.isDirty=!0}remove(e){ok(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(O8e),this.isDirty=!1,this.children.forEach(e)}}function k8e(t,e){const n=Ao.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(sf(r),t(s-e))};return Br.setup(r,!0),()=>sf(r)}const bJ=["TopLeft","TopRight","BottomLeft","BottomRight"],M8e=bJ.length,VU=t=>typeof t=="string"?parseFloat(t):t,UU=t=>typeof t=="number"||Dt.test(t);function D8e(t,e,n,r,i,s){i?(t.opacity=Hr(0,n.opacity??1,L8e(r)),t.opacityExit=Hr(e.opacity??1,0,B8e(r))):s&&(t.opacity=Hr(e.opacity??1,n.opacity??1,r));for(let o=0;o<M8e;o++){const a=`border${bJ[o]}Radius`;let c=zU(e,a),u=zU(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||UU(c)===UU(u)?(t[a]=Math.max(Hr(VU(c),VU(u),r),0),(Ol.test(u)||Ol.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Hr(e.rotate||0,n.rotate||0,r))}function zU(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const L8e=AJ(0,.5,lZ),B8e=AJ(.5,.95,va);function AJ(t,e,n){return r=>r<t?0:r>e?1:n(iy(t,e,r))}function HU(t,e){t.min=e.min,t.max=e.max}function la(t,e){HU(t.x,e.x),HU(t.y,e.y)}function $U(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GU(t,e,n,r,i){return t-=e,t=jx(t,1/n,r),i!==void 0&&(t=jx(t,1/i,r)),t}function j8e(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ol.test(e)&&(e=parseFloat(e),e=Hr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Hr(s.min,s.max,r);t===s&&(a-=e),t.min=GU(t.min,e,n,a,i),t.max=GU(t.max,e,n,a,i)}function qU(t,e,[n,r,i],s,o){j8e(t,e[n],e[r],e[i],e.scale,s,o)}const F8e=["x","scaleX","originX"],V8e=["y","scaleY","originY"];function WU(t,e,n,r){qU(t.x,e,F8e,n?n.x:void 0,r?r.x:void 0),qU(t.y,e,V8e,n?n.y:void 0,r?r.y:void 0)}function KU(t){return t.translate===0&&t.scale===1}function EJ(t){return KU(t.x)&&KU(t.y)}function YU(t,e){return t.min===e.min&&t.max===e.max}function U8e(t,e){return YU(t.x,e.x)&&YU(t.y,e.y)}function QU(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SJ(t,e){return QU(t.x,e.x)&&QU(t.y,e.y)}function XU(t){return ro(t.x)/ro(t.y)}function ZU(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class z8e{constructor(){this.members=[]}add(e){sk(this.members,e),e.scheduleRender()}remove(e){if(ok(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function H8e(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:g,rotateX:m,rotateY:w,skewX:A,skewY:I}=n;u&&(r=`perspective(${u}px) ${r}`),g&&(r+=`rotate(${g}deg) `),m&&(r+=`rotateX(${m}deg) `),w&&(r+=`rotateY(${w}deg) `),A&&(r+=`skewX(${A}deg) `),I&&(r+=`skewY(${I}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const lI=["","X","Y","Z"],$8e=1e3;let G8e=0;function cI(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function _J(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uJ(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Br,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&_J(r)}function TJ({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=G8e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(K8e),this.nodes.forEach(Z8e),this.nodes.forEach(J8e),this.nodes.forEach(Y8e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new R8e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ck),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UZ(o)&&!L4e(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let g,m=0;const w=()=>this.root.updateBlockedByResize=!1;Br.read(()=>{m=window.innerWidth}),t(o,()=>{const A=window.innerWidth;A!==m&&(m=A,this.root.updateBlockedByResize=!0,g&&g(),g=k8e(w,250),Kv.hasAnimatedSinceResize&&(Kv.hasAnimatedSinceResize=!1,this.nodes.forEach(tz)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:m,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||u.getDefaultTransition()||i6e,{onLayoutAnimationStart:_,onLayoutAnimationComplete:C}=u.getProps(),R=!this.targetLayout||!SJ(this.targetLayout,A),j=!m&&w;if(this.options.layoutRoot||this.resumeFrom||j||m&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Ak(I,"layout"),onPlay:_,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(g,j)}else m||tz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(e6e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_J(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const m=this.path[g];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JU);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ez);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(X8e),this.nodes.forEach(q8e),this.nodes.forEach(W8e)):this.nodes.forEach(ez),this.clearAllSnapshots();const a=Ao.now();ds.delta=Lc(0,1e3/60,a-ds.timestamp),ds.timestamp=a,ds.isProcessing=!0,XC.update.process(ds),XC.preRender.process(ds),XC.render.process(ds),ds.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q8e),this.sharedNodes.forEach(t6e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Br.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Br.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ro(this.snapshot.measuredBox.x)&&!ro(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!EJ(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,g=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||qf(this.latestValues)||g)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),s6e(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return pi();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(o6e))){const{scroll:u}=this.root;u&&(Jd(a.x,u.offset.x),Jd(a.y,u.offset.y))}return a}removeElementScroll(o){const a=pi();if(la(a,o),this.scroll?.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:g,options:m}=u;u!==this.root&&g&&m.layoutScroll&&(g.wasRoot&&la(a,o),Jd(a.x,g.offset.x),Jd(a.y,g.offset.y))}return a}applyTransform(o,a=!1){const c=pi();la(c,o);for(let u=0;u<this.path.length;u++){const g=this.path[u];!a&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ep(c,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qf(g.latestValues)&&ep(c,g.latestValues)}return qf(this.latestValues)&&ep(c,this.latestValues),c}removeTransform(o){const a=pi();la(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!qf(u.latestValues))continue;tO(u.latestValues)&&u.updateSnapshot();const g=pi(),m=u.measurePageBox();la(g,m),WU(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,g)}return qf(this.latestValues)&&WU(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ds.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:m}=this.options;if(!(!this.layout||!(g||m))){if(this.resolvedRelativeTargetAt=ds.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pi(),this.relativeTargetOrigin=pi(),n0(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),la(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pi(),this.targetWithTransforms=pi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h8e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):la(this.target,this.layout.layoutBox),iJ(this.target,this.targetDelta)):la(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pi(),this.relativeTargetOrigin=pi(),n0(this.relativeTargetOrigin,this.target,w.target),la(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tO(this.parent.latestValues)||rJ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ds.timestamp&&(c=!1),c)return;const{layout:u,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||g))return;la(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,w=this.treeScale.y;SDe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pi());const{target:A}=o;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($U(this.prevProjectionDelta.x,this.projectionDelta.x),$U(this.prevProjectionDelta.y,this.projectionDelta.y)),t0(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==w||!ZU(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tp(),this.projectionDelta=tp(),this.projectionDeltaWithTransform=tp()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},g={...this.latestValues},m=tp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const w=pi(),A=c?c.source:void 0,I=this.layout?this.layout.source:void 0,_=A!==I,C=this.getStack(),R=!C||C.members.length<=1,j=!!(_&&!R&&this.options.crossfade===!0&&!this.path.some(r6e));this.animationProgress=0;let k;this.mixTargetDelta=U=>{const D=U/1e3;nz(m.x,o.x,D),nz(m.y,o.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(n0(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n6e(this.relativeTarget,this.relativeTargetOrigin,w,D),k&&U8e(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=pi()),la(k,this.relativeTarget)),_&&(this.animationValues=g,D8e(g,u,this.latestValues,D,j,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Br.update(()=>{Kv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ug(0)),this.currentAnimation=N8e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($8e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:g}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&CJ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||pi();const m=ro(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const w=ro(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+w}la(a,c),ep(a,g),t0(this.projectionDeltaWithTransform,this.layoutCorrected,a,g)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new z8e),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&cI("z",o,u,this.animationValues);for(let g=0;g<lI.length;g++)cI(`rotate${lI[g]}`,o,u,this.animationValues),cI(`skew${lI[g]}`,o,u,this.animationValues);o.render();for(const g in u)o.setStaticValue(g,u[g]),this.animationValues&&(this.animationValues[g]=u[g]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Wv(a?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Wv(a?.pointerEvents)||""),this.hasProjected&&!qf(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const g=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=H8e(this.projectionDeltaWithTransform,this.treeScale,g);c&&(m=c(g,m)),o.transform=m;const{x:w,y:A}=this.projectionDelta;o.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,u.animationValues?o.opacity=u===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:o.opacity=u===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in ly){if(g[I]===void 0)continue;const{correct:_,applyTo:C,isCSSVariable:R}=ly[I],j=m==="none"?g[I]:_(g[I],u);if(C){const k=C.length;for(let U=0;U<k;U++)o[C[U]]=j}else R?this.options.visualElement.renderState.vars[I]=j:o[I]=j}this.options.layoutId&&(o.pointerEvents=u===this?Wv(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(JU),this.root.sharedNodes.clear()}}}function q8e(t){t.updateLayout()}function W8e(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?ca(g=>{const m=s?e.measuredBox[g]:e.layoutBox[g],w=ro(m);m.min=n[g].min,m.max=m.min+w}):CJ(i,e.layoutBox,n)&&ca(g=>{const m=s?e.measuredBox[g]:e.layoutBox[g],w=ro(n[g]);m.max=m.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const o=tp();t0(o,n,e.layoutBox);const a=tp();s?t0(a,t.applyTransform(r,!0),e.measuredBox):t0(a,n,e.layoutBox);const c=!EJ(o);let u=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:m,layout:w}=g;if(m&&w){const A=pi();n0(A,e.layoutBox,m.layoutBox);const I=pi();n0(I,n,w.layoutBox),SJ(A,I)||(u=!0),g.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function K8e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Y8e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Q8e(t){t.clearSnapshot()}function JU(t){t.clearMeasurements()}function ez(t){t.isLayoutDirty=!1}function X8e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tz(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Z8e(t){t.resolveTargetDelta()}function J8e(t){t.calcProjection()}function e6e(t){t.resetSkewAndRotation()}function t6e(t){t.removeLeadSnapshot()}function nz(t,e,n){t.translate=Hr(e.translate,0,n),t.scale=Hr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rz(t,e,n,r){t.min=Hr(e.min,n.min,r),t.max=Hr(e.max,n.max,r)}function n6e(t,e,n,r){rz(t.x,e.x,n.x,r),rz(t.y,e.y,n.y,r)}function r6e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const i6e={duration:.45,ease:[.4,0,.1,1]},iz=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sz=iz("applewebkit/")&&!iz("chrome/")?Math.round:va;function oz(t){t.min=sz(t.min),t.max=sz(t.max)}function s6e(t){oz(t.x),oz(t.y)}function CJ(t,e,n){return t==="position"||t==="preserve-aspect"&&!f8e(XU(e),XU(n),.2)}function o6e(t){return t!==t.root&&t.scroll?.wasRoot}const a6e=TJ({attachResizeListener:(t,e)=>cy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uI={current:void 0},IJ=TJ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!uI.current){const t=new a6e({});t.mount(window),t.setOptions({layoutScroll:!0}),uI.current=t}return uI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),l6e={pan:{Feature:T8e},drag:{Feature:_8e,ProjectionNode:IJ,MeasureLayout:xJ}};function az(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Br.postRender(()=>s(e,$y(e)))}class c6e extends mf{mount(){const{current:e}=this.node;e&&(this.unmount=O4e(e,(n,r)=>(az(this.node,r,"Start"),i=>az(this.node,i,"End"))))}unmount(){}}class u6e extends mf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uy(cy(this.node.current,"focus",()=>this.onFocus()),cy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lz(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Br.postRender(()=>s(e,$y(e)))}class f6e extends mf{mount(){const{current:e}=this.node;e&&(this.unmount=D4e(e,(n,r)=>(lz(this.node,r,"Start"),(i,{success:s})=>lz(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lO=new WeakMap,fI=new WeakMap,h6e=t=>{const e=lO.get(t.target);e&&e(t)},d6e=t=>{t.forEach(h6e)};function p6e({root:t,...e}){const n=t||document;fI.has(n)||fI.set(n,{});const r=fI.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(d6e,{root:t,...e})),r[i]}function g6e(t,e,n){const r=p6e(e);return lO.set(t,n),r.observe(t),()=>{lO.delete(t),r.unobserve(t)}}const m6e={some:0,all:1};class y6e extends mf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:m6e[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:g,onViewportLeave:m}=this.node.getProps(),w=u?g:m;w&&w(c)};return g6e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(v6e(e,n))&&this.startObserver()}unmount(){}}function v6e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const w6e={inView:{Feature:y6e},tap:{Feature:f6e},focus:{Feature:u6e},hover:{Feature:c6e}},x6e={layout:{ProjectionNode:IJ,MeasureLayout:xJ}},b6e={...s8e,...w6e,...l6e,...x6e},A6e=bDe(b6e,MDe);function E6e({isVisible:t,onClose:e}){const[n,r]=Q.useState(0),i=[{crop:"Tomato",trend:"up",price:2800,change:"+15%",message:"Prices rising due to cold storage shortage. Good time to sell!",icon:"🍅"},{crop:"Rice",trend:"up",price:2650,change:"+8%",message:"High demand in urban markets. Export opportunities available.",icon:"🌾"},{crop:"Onion",trend:"down",price:1100,change:"-5%",message:"Oversupply in market. Consider cold storage options.",icon:"🧅"}];Q.useEffect(()=>{if(!t)return;const o=setInterval(()=>{r(a=>(a+1)%i.length)},5e3);return()=>clearInterval(o)},[t,i.length]);const s=i[n];return P.jsx(H4e,{children:t&&P.jsx(A6e.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},className:"fixed bottom-4 right-4 z-50 max-w-sm",children:P.jsx(Dn,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border-green-200 dark:border-green-800 shadow-lg",children:P.jsxs(Un,{className:"p-4",children:[P.jsxs("div",{className:"flex items-start justify-between",children:[P.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[P.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900 dark:to-emerald-900 flex items-center justify-center",children:P.jsx(mse,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[P.jsx("span",{className:"text-lg",children:s.icon}),P.jsxs("h4",{className:"font-semibold text-green-800 dark:text-green-200",children:[s.crop," Price Alert"]}),P.jsxs("div",{className:"flex items-center gap-1",children:[s.trend==="up"?P.jsx(Jf,{className:"w-3 h-3 text-green-600"}):P.jsx(BH,{className:"w-3 h-3 text-red-600"}),P.jsx("span",{className:`text-xs font-medium ${s.trend==="up"?"text-green-600":"text-red-600"}`,children:s.change})]})]}),P.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[P.jsx(LH,{className:"w-4 h-4 text-muted-foreground"}),P.jsxs("span",{className:"font-bold text-lg text-foreground",children:["₹",s.price.toLocaleString()]}),P.jsx("span",{className:"text-sm text-muted-foreground",children:"per quintal"})]}),P.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:s.message}),P.jsx(zt,{size:"sm",className:"w-full bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-700 hover:to-emerald-600 text-white",children:"View Details"})]})]}),P.jsx(zt,{variant:"ghost",size:"sm",onClick:e,className:"flex-shrink-0 h-6 w-6 p-0 hover:bg-red-100 dark:hover:bg-red-900",children:P.jsx(PO,{className:"w-3 h-3"})})]}),P.jsx("div",{className:"flex gap-1 mt-3",children:i.map((o,a)=>P.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors ${a===n?"bg-green-600":"bg-gray-200 dark:bg-gray-700"}`},a))})]})})})})}var S6e=(t,e,n,r,i,s,o,a)=>{let c=document.documentElement,u=["light","dark"];function g(A){(Array.isArray(t)?t:[t]).forEach(I=>{let _=I==="class",C=_&&s?i.map(R=>s[R]||R):i;_?(c.classList.remove(...C),c.classList.add(s&&s[A]?s[A]:A)):c.setAttribute(I,A)}),m(A)}function m(A){a&&u.includes(A)&&(c.style.colorScheme=A)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let A=localStorage.getItem(e)||n,I=o&&A==="system"?w():A;g(I)}catch{}},_6e=Q.createContext(void 0),T6e={setTheme:t=>{},themes:[]},C6e=()=>{var t;return(t=Q.useContext(_6e))!=null?t:T6e};Q.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:c,scriptProps:u})=>{let g=JSON.stringify([n,e,s,t,a,o,r,i]).slice(1,-1);return Q.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${S6e.toString()})(${g})`}})});const I6e=({...t})=>{const{theme:e="system"}=C6e();return P.jsx(Kde,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function P6e(){const[t,e]=Q.useState({currentPage:"home",selectedRole:null,isAuthenticated:!1,userData:null}),[n,r]=Q.useState(!1);Q.useEffect(()=>{const w=wde(async A=>{if(A)try{const I=await xde(A.uid);I&&e(_=>({..._,isAuthenticated:!0,userData:I,selectedRole:I.role,currentPage:"dashboard"}))}catch(I){console.error("Error fetching user data:",I)}else e(I=>({...I,isAuthenticated:!1,userData:null,selectedRole:null,currentPage:"home"}))});return()=>w()},[]),Q.useEffect(()=>{if(t.selectedRole==="farmer"&&t.isAuthenticated){const w=setTimeout(()=>{r(!0)},3e3);return()=>clearTimeout(w)}else r(!1)},[t.selectedRole,t.isAuthenticated]);const i=w=>{e(w==="customer"?{...t,selectedRole:w,currentPage:"qr-scanner"}:{...t,selectedRole:w,currentPage:"login"})},s=async(w,A)=>{try{Lt.loading("Signing you in...",{id:"auth-loading"}),await mq(w,A),Lt.dismiss("auth-loading"),Lt.success("Welcome back! You're now logged in.",{duration:4e3,style:{background:"var(--forest-green)",color:"white",border:"1px solid var(--deep-green)"}})}catch(I){Lt.dismiss("auth-loading"),Lt.error(`Login failed: ${I.message}`,{duration:5e3})}},o=async w=>{try{Lt.loading("Creating your account...",{id:"signup-loading"}),await yde(w.email,w.password,{role:t.selectedRole,name:w.name,phone:w.mobile,address:w.address||`${w.village||""}, ${w.district||""}, ${w.state||""}`.replace(/^,\s*|,\s*$/g,"")}),Lt.dismiss("signup-loading"),Lt.success(`🎉 Account created successfully! Welcome to KrishiSetu, ${w.name}!`,{duration:5e3,style:{background:"var(--forest-green)",color:"white",border:"1px solid var(--deep-green)"}})}catch(A){Lt.dismiss("signup-loading"),Lt.error(`Signup failed: ${A.message}`,{duration:5e3})}},a=async()=>{try{await vde(),e({currentPage:"home",selectedRole:null,isAuthenticated:!1,userData:null})}catch(w){console.error("Logout error:",w)}},c=()=>{e({currentPage:"home",selectedRole:null,isAuthenticated:!1,userData:null})},u=()=>{e({...t,currentPage:"signup"})},g=()=>{e({...t,currentPage:"login"})},m=()=>{switch(t.currentPage){case"home":return P.jsx($1,{onRoleSelect:i});case"login":return P.jsx(Yde,{role:t.selectedRole,onBack:c,onLogin:s,onSignupRedirect:u});case"signup":return P.jsx(Qde,{role:t.selectedRole,onBack:c,onSignup:o,onLoginRedirect:g});case"dashboard":if(!t.isAuthenticated)return P.jsx($1,{onRoleSelect:i});switch(t.selectedRole){case"farmer":return P.jsx(Bke,{onLogout:a});case"distributor":return P.jsx(Fke,{onLogout:a});case"retailer":return P.jsx(Vke,{onLogout:a});default:return P.jsx($1,{onRoleSelect:i})}case"qr-scanner":return P.jsx(Uke,{onBack:c});default:return P.jsx($1,{onRoleSelect:i})}};return P.jsx(Iee,{children:P.jsx(Oee,{children:P.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[m(),P.jsx(zke,{}),P.jsx(E6e,{isVisible:n,onClose:()=>r(!1)}),P.jsx(I6e,{position:"top-right",richColors:!0,closeButton:!0})]})})})}Cee.createRoot(document.getElementById("root")).render(P.jsx(P6e,{}));
