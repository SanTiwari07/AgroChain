function Iz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $E={exports:{}},fm={},GE={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4;function ite(){if(G4)return on;G4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function w(ue){return ue===null||typeof ue!="object"?null:(ue=m&&ue[m]||ue["@@iterator"],typeof ue=="function"?ue:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,T={};function C(ue,he,xe){this.props=ue,this.context=he,this.refs=T,this.updater=xe||A}C.prototype.isReactComponent={},C.prototype.setState=function(ue,he){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,he,"setState")},C.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function R(){}R.prototype=C.prototype;function B(ue,he,xe){this.props=ue,this.context=he,this.refs=T,this.updater=xe||A}var k=B.prototype=new R;k.constructor=B,I(k,C.prototype),k.isPureReactComponent=!0;var V=Array.isArray,D=Object.prototype.hasOwnProperty,j={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function M(ue,he,xe){var Re,Ue={},Me=null,ke=null;if(he!=null)for(Re in he.ref!==void 0&&(ke=he.ref),he.key!==void 0&&(Me=""+he.key),he)D.call(he,Re)&&!O.hasOwnProperty(Re)&&(Ue[Re]=he[Re]);var De=arguments.length-2;if(De===1)Ue.children=xe;else if(1<De){for(var Pe=Array(De),je=0;je<De;je++)Pe[je]=arguments[je+2];Ue.children=Pe}if(ue&&ue.defaultProps)for(Re in De=ue.defaultProps,De)Ue[Re]===void 0&&(Ue[Re]=De[Re]);return{$$typeof:t,type:ue,key:Me,ref:ke,props:Ue,_owner:j.current}}function U(ue,he){return{$$typeof:t,type:ue.type,key:he,ref:ue.ref,props:ue.props,_owner:ue._owner}}function K(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===t}function q(ue){var he={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(xe){return he[xe]})}var G=/\/+/g;function $(ue,he){return typeof ue=="object"&&ue!==null&&ue.key!=null?q(""+ue.key):he.toString(36)}function ce(ue,he,xe,Re,Ue){var Me=typeof ue;(Me==="undefined"||Me==="boolean")&&(ue=null);var ke=!1;if(ue===null)ke=!0;else switch(Me){case"string":case"number":ke=!0;break;case"object":switch(ue.$$typeof){case t:case e:ke=!0}}if(ke)return ke=ue,Ue=Ue(ke),ue=Re===""?"."+$(ke,0):Re,V(Ue)?(xe="",ue!=null&&(xe=ue.replace(G,"$&/")+"/"),ce(Ue,he,xe,"",function(je){return je})):Ue!=null&&(K(Ue)&&(Ue=U(Ue,xe+(!Ue.key||ke&&ke.key===Ue.key?"":(""+Ue.key).replace(G,"$&/")+"/")+ue)),he.push(Ue)),1;if(ke=0,Re=Re===""?".":Re+":",V(ue))for(var De=0;De<ue.length;De++){Me=ue[De];var Pe=Re+$(Me,De);ke+=ce(Me,he,xe,Pe,Ue)}else if(Pe=w(ue),typeof Pe=="function")for(ue=Pe.call(ue),De=0;!(Me=ue.next()).done;)Me=Me.value,Pe=Re+$(Me,De++),ke+=ce(Me,he,xe,Pe,Ue);else if(Me==="object")throw he=String(ue),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.");return ke}function J(ue,he,xe){if(ue==null)return ue;var Re=[],Ue=0;return ce(ue,Re,"","",function(Me){return he.call(xe,Me,Ue++)}),Re}function oe(ue){if(ue._status===-1){var he=ue._result;he=he(),he.then(function(xe){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=xe)},function(xe){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=xe)}),ue._status===-1&&(ue._status=0,ue._result=he)}if(ue._status===1)return ue._result.default;throw ue._result}var ae={current:null},re={transition:null},pe={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:re,ReactCurrentOwner:j};function we(){throw Error("act(...) is not supported in production builds of React.")}return on.Children={map:J,forEach:function(ue,he,xe){J(ue,function(){he.apply(this,arguments)},xe)},count:function(ue){var he=0;return J(ue,function(){he++}),he},toArray:function(ue){return J(ue,function(he){return he})||[]},only:function(ue){if(!K(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},on.Component=C,on.Fragment=n,on.Profiler=i,on.PureComponent=B,on.StrictMode=r,on.Suspense=c,on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,on.act=we,on.cloneElement=function(ue,he,xe){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var Re=I({},ue.props),Ue=ue.key,Me=ue.ref,ke=ue._owner;if(he!=null){if(he.ref!==void 0&&(Me=he.ref,ke=j.current),he.key!==void 0&&(Ue=""+he.key),ue.type&&ue.type.defaultProps)var De=ue.type.defaultProps;for(Pe in he)D.call(he,Pe)&&!O.hasOwnProperty(Pe)&&(Re[Pe]=he[Pe]===void 0&&De!==void 0?De[Pe]:he[Pe])}var Pe=arguments.length-2;if(Pe===1)Re.children=xe;else if(1<Pe){De=Array(Pe);for(var je=0;je<Pe;je++)De[je]=arguments[je+2];Re.children=De}return{$$typeof:t,type:ue.type,key:Ue,ref:Me,props:Re,_owner:ke}},on.createContext=function(ue){return ue={$$typeof:o,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:s,_context:ue},ue.Consumer=ue},on.createElement=M,on.createFactory=function(ue){var he=M.bind(null,ue);return he.type=ue,he},on.createRef=function(){return{current:null}},on.forwardRef=function(ue){return{$$typeof:a,render:ue}},on.isValidElement=K,on.lazy=function(ue){return{$$typeof:g,_payload:{_status:-1,_result:ue},_init:oe}},on.memo=function(ue,he){return{$$typeof:u,type:ue,compare:he===void 0?null:he}},on.startTransition=function(ue){var he=re.transition;re.transition={};try{ue()}finally{re.transition=he}},on.unstable_act=we,on.useCallback=function(ue,he){return ae.current.useCallback(ue,he)},on.useContext=function(ue){return ae.current.useContext(ue)},on.useDebugValue=function(){},on.useDeferredValue=function(ue){return ae.current.useDeferredValue(ue)},on.useEffect=function(ue,he){return ae.current.useEffect(ue,he)},on.useId=function(){return ae.current.useId()},on.useImperativeHandle=function(ue,he,xe){return ae.current.useImperativeHandle(ue,he,xe)},on.useInsertionEffect=function(ue,he){return ae.current.useInsertionEffect(ue,he)},on.useLayoutEffect=function(ue,he){return ae.current.useLayoutEffect(ue,he)},on.useMemo=function(ue,he){return ae.current.useMemo(ue,he)},on.useReducer=function(ue,he,xe){return ae.current.useReducer(ue,he,xe)},on.useRef=function(ue){return ae.current.useRef(ue)},on.useState=function(ue){return ae.current.useState(ue)},on.useSyncExternalStore=function(ue,he,xe){return ae.current.useSyncExternalStore(ue,he,xe)},on.useTransition=function(){return ae.current.useTransition()},on.version="18.3.1",on}var W4;function SO(){return W4||(W4=1,GE.exports=ite()),GE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4;function ste(){if(q4)return fm;q4=1;var t=SO(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var g,m={},w=null,A=null;u!==void 0&&(w=""+u),c.key!==void 0&&(w=""+c.key),c.ref!==void 0&&(A=c.ref);for(g in c)r.call(c,g)&&!s.hasOwnProperty(g)&&(m[g]=c[g]);if(a&&a.defaultProps)for(g in c=a.defaultProps,c)m[g]===void 0&&(m[g]=c[g]);return{$$typeof:e,type:a,key:w,ref:A,props:m,_owner:i.current}}return fm.Fragment=n,fm.jsx=o,fm.jsxs=o,fm}var K4;function ote(){return K4||(K4=1,$E.exports=ste()),$E.exports}var P=ote(),G1={},WE={exports:{}},mo={},qE={exports:{}},KE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4;function ate(){return Y4||(Y4=1,(function(t){function e(re,pe){var we=re.length;re.push(pe);e:for(;0<we;){var ue=we-1>>>1,he=re[ue];if(0<i(he,pe))re[ue]=pe,re[we]=he,we=ue;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var pe=re[0],we=re.pop();if(we!==pe){re[0]=we;e:for(var ue=0,he=re.length,xe=he>>>1;ue<xe;){var Re=2*(ue+1)-1,Ue=re[Re],Me=Re+1,ke=re[Me];if(0>i(Ue,we))Me<he&&0>i(ke,Ue)?(re[ue]=ke,re[Me]=we,ue=Me):(re[ue]=Ue,re[Re]=we,ue=Re);else if(Me<he&&0>i(ke,we))re[ue]=ke,re[Me]=we,ue=Me;else break e}}return pe}function i(re,pe){var we=re.sortIndex-pe.sortIndex;return we!==0?we:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],g=1,m=null,w=3,A=!1,I=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(re){for(var pe=n(u);pe!==null;){if(pe.callback===null)r(u);else if(pe.startTime<=re)r(u),pe.sortIndex=pe.expirationTime,e(c,pe);else break;pe=n(u)}}function V(re){if(T=!1,k(re),!I)if(n(c)!==null)I=!0,oe(D);else{var pe=n(u);pe!==null&&ae(V,pe.startTime-re)}}function D(re,pe){I=!1,T&&(T=!1,R(M),M=-1),A=!0;var we=w;try{for(k(pe),m=n(c);m!==null&&(!(m.expirationTime>pe)||re&&!q());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,w=m.priorityLevel;var he=ue(m.expirationTime<=pe);pe=t.unstable_now(),typeof he=="function"?m.callback=he:m===n(c)&&r(c),k(pe)}else r(c);m=n(c)}if(m!==null)var xe=!0;else{var Re=n(u);Re!==null&&ae(V,Re.startTime-pe),xe=!1}return xe}finally{m=null,w=we,A=!1}}var j=!1,O=null,M=-1,U=5,K=-1;function q(){return!(t.unstable_now()-K<U)}function G(){if(O!==null){var re=t.unstable_now();K=re;var pe=!0;try{pe=O(!0,re)}finally{pe?$():(j=!1,O=null)}}else j=!1}var $;if(typeof B=="function")$=function(){B(G)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,J=ce.port2;ce.port1.onmessage=G,$=function(){J.postMessage(null)}}else $=function(){C(G,0)};function oe(re){O=re,j||(j=!0,$())}function ae(re,pe){M=C(function(){re(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){I||A||(I=!0,oe(D))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var we=w;w=pe;try{return re()}finally{w=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var we=w;w=re;try{return pe()}finally{w=we}},t.unstable_scheduleCallback=function(re,pe,we){var ue=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?ue+we:ue):we=ue,re){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=we+he,re={id:g++,callback:pe,priorityLevel:re,startTime:we,expirationTime:he,sortIndex:-1},we>ue?(re.sortIndex=we,e(u,re),n(c)===null&&re===n(u)&&(T?(R(M),M=-1):T=!0,ae(V,we-ue))):(re.sortIndex=he,e(c,re),I||A||(I=!0,oe(D))),re},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(re){var pe=w;return function(){var we=w;w=pe;try{return re.apply(this,arguments)}finally{w=we}}}})(KE)),KE}var X4;function lte(){return X4||(X4=1,qE.exports=ate()),qE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q4;function cte(){if(Q4)return mo;Q4=1;var t=SO(),e=lte();function n(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(f,p){o(f,p),o(f+"Capture",p)}function o(f,p){for(i[f]=p,f=0;f<p.length;f++)r.add(p[f])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function w(f){return c.call(m,f)?!0:c.call(g,f)?!1:u.test(f)?m[f]=!0:(g[f]=!0,!1)}function A(f,p,b,_){if(b!==null&&b.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return _?!1:b!==null?!b.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function I(f,p,b,_){if(p===null||typeof p>"u"||A(f,p,b,_))return!0;if(_)return!1;if(b!==null)switch(b.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function T(f,p,b,_,F,H,ee){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=_,this.attributeNamespace=F,this.mustUseProperty=b,this.propertyName=f,this.type=p,this.sanitizeURL=H,this.removeEmptyString=ee}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){C[f]=new T(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];C[p]=new T(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){C[f]=new T(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){C[f]=new T(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){C[f]=new T(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){C[f]=new T(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){C[f]=new T(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){C[f]=new T(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){C[f]=new T(f,5,!1,f.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function B(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(R,B);C[p]=new T(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(R,B);C[p]=new T(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(R,B);C[p]=new T(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){C[f]=new T(f,1,!1,f.toLowerCase(),null,!1,!1)}),C.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){C[f]=new T(f,1,!1,f.toLowerCase(),null,!0,!0)});function k(f,p,b,_){var F=C.hasOwnProperty(p)?C[p]:null;(F!==null?F.type!==0:_||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(I(p,b,F,_)&&(b=null),_||F===null?w(p)&&(b===null?f.removeAttribute(p):f.setAttribute(p,""+b)):F.mustUseProperty?f[F.propertyName]=b===null?F.type===3?!1:"":b:(p=F.attributeName,_=F.attributeNamespace,b===null?f.removeAttribute(p):(F=F.type,b=F===3||F===4&&b===!0?"":""+b,_?f.setAttributeNS(_,p,b):f.setAttribute(p,b))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),j=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(f){return f===null||typeof f!="object"?null:(f=re&&f[re]||f["@@iterator"],typeof f=="function"?f:null)}var we=Object.assign,ue;function he(f){if(ue===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);ue=p&&p[1]||""}return`
`+ue+f}var xe=!1;function Re(f,p){if(!f||xe)return"";xe=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ne){var _=Ne}Reflect.construct(f,[],p)}else{try{p.call()}catch(Ne){_=Ne}f.call(p.prototype)}else{try{throw Error()}catch(Ne){_=Ne}f()}}catch(Ne){if(Ne&&_&&typeof Ne.stack=="string"){for(var F=Ne.stack.split(`
`),H=_.stack.split(`
`),ee=F.length-1,fe=H.length-1;1<=ee&&0<=fe&&F[ee]!==H[fe];)fe--;for(;1<=ee&&0<=fe;ee--,fe--)if(F[ee]!==H[fe]){if(ee!==1||fe!==1)do if(ee--,fe--,0>fe||F[ee]!==H[fe]){var ge=`
`+F[ee].replace(" at new "," at ");return f.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",f.displayName)),ge}while(1<=ee&&0<=fe);break}}}finally{xe=!1,Error.prepareStackTrace=b}return(f=f?f.displayName||f.name:"")?he(f):""}function Ue(f){switch(f.tag){case 5:return he(f.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 2:case 15:return f=Re(f.type,!1),f;case 11:return f=Re(f.type.render,!1),f;case 1:return f=Re(f.type,!0),f;default:return""}}function Me(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case O:return"Fragment";case j:return"Portal";case U:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case ce:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case q:return(f.displayName||"Context")+".Consumer";case K:return(f._context.displayName||"Context")+".Provider";case G:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case J:return p=f.displayName||null,p!==null?p:Me(f.type)||"Memo";case oe:p=f._payload,f=f._init;try{return Me(f(p))}catch{}}return null}function ke(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(p);case 8:return p===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function De(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Pe(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function je(f){var p=Pe(f)?"checked":"value",b=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),_=""+f[p];if(!f.hasOwnProperty(p)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var F=b.get,H=b.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return F.call(this)},set:function(ee){_=""+ee,H.call(this,ee)}}),Object.defineProperty(f,p,{enumerable:b.enumerable}),{getValue:function(){return _},setValue:function(ee){_=""+ee},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function $e(f){f._valueTracker||(f._valueTracker=je(f))}function _e(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var b=p.getValue(),_="";return f&&(_=Pe(f)?f.checked?"true":"false":f.value),f=_,f!==b?(p.setValue(f),!0):!1}function et(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function ht(f,p){var b=p.checked;return we({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??f._wrapperState.initialChecked})}function jt(f,p){var b=p.defaultValue==null?"":p.defaultValue,_=p.checked!=null?p.checked:p.defaultChecked;b=De(p.value!=null?p.value:b),f._wrapperState={initialChecked:_,initialValue:b,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Yt(f,p){p=p.checked,p!=null&&k(f,"checked",p,!1)}function kt(f,p){Yt(f,p);var b=De(p.value),_=p.type;if(b!=null)_==="number"?(b===0&&f.value===""||f.value!=b)&&(f.value=""+b):f.value!==""+b&&(f.value=""+b);else if(_==="submit"||_==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?wt(f,p.type,b):p.hasOwnProperty("defaultValue")&&wt(f,p.type,De(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function Kt(f,p,b){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var _=p.type;if(!(_!=="submit"&&_!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,b||p===f.value||(f.value=p),f.defaultValue=p}b=f.name,b!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,b!==""&&(f.name=b)}function wt(f,p,b){(p!=="number"||et(f.ownerDocument)!==f)&&(b==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+b&&(f.defaultValue=""+b))}var ii=Array.isArray;function nt(f,p,b,_){if(f=f.options,p){p={};for(var F=0;F<b.length;F++)p["$"+b[F]]=!0;for(b=0;b<f.length;b++)F=p.hasOwnProperty("$"+f[b].value),f[b].selected!==F&&(f[b].selected=F),F&&_&&(f[b].defaultSelected=!0)}else{for(b=""+De(b),p=null,F=0;F<f.length;F++){if(f[F].value===b){f[F].selected=!0,_&&(f[F].defaultSelected=!0);return}p!==null||f[F].disabled||(p=f[F])}p!==null&&(p.selected=!0)}}function Tn(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return we({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function wi(f,p){var b=p.value;if(b==null){if(b=p.children,p=p.defaultValue,b!=null){if(p!=null)throw Error(n(92));if(ii(b)){if(1<b.length)throw Error(n(93));b=b[0]}p=b}p==null&&(p=""),b=p}f._wrapperState={initialValue:De(b)}}function si(f,p){var b=De(p.value),_=De(p.defaultValue);b!=null&&(b=""+b,b!==f.value&&(f.value=b),p.defaultValue==null&&f.defaultValue!==b&&(f.defaultValue=b)),_!=null&&(f.defaultValue=""+_)}function so(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function cn(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pr(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?cn(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var oi,yr=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,b,_,F){MSApp.execUnsafeLocalFunction(function(){return f(p,b,_,F)})}:f})(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=oi.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function $i(f,p){if(p){var b=f.firstChild;if(b&&b===f.lastChild&&b.nodeType===3){b.nodeValue=p;return}}f.textContent=p}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ws=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(f){ws.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),Vs[p]=Vs[f]})});function Xn(f,p,b){return p==null||typeof p=="boolean"||p===""?"":b||typeof p!="number"||p===0||Vs.hasOwnProperty(f)&&Vs[f]?(""+p).trim():p+"px"}function Qe(f,p){f=f.style;for(var b in p)if(p.hasOwnProperty(b)){var _=b.indexOf("--")===0,F=Xn(b,p[b],_);b==="float"&&(b="cssFloat"),_?f.setProperty(b,F):f[b]=F}}var Qn=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function un(f,p){if(p){if(Qn[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Bn(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var is=null;function Ci(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ta=null,Ft=null,ai=null;function Yo(f){if(f=Xg(f)){if(typeof Ta!="function")throw Error(n(280));var p=f.stateNode;p&&(p=o1(p),Ta(f.stateNode,f.type,p))}}function At(f){Ft?ai?ai.push(f):ai=[f]:Ft=f}function fn(){if(Ft){var f=Ft,p=ai;if(ai=Ft=null,Yo(f),p)for(f=0;f<p.length;f++)Yo(p[f])}}function Zn(f,p){return f(p)}function hn(){}var li=!1;function Jn(f,p,b){if(li)return f(p,b);li=!0;try{return Zn(f,p,b)}finally{li=!1,(Ft!==null||ai!==null)&&(hn(),fn())}}function Ht(f,p){var b=f.stateNode;if(b===null)return null;var _=o1(b);if(_===null)return null;b=_[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(f=f.type,_=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!_;break e;default:f=!1}if(f)return null;if(b&&typeof b!="function")throw Error(n(231,p,typeof b));return b}var _o=!1;if(a)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{_o=!1}function jr(f,p,b,_,F,H,ee,fe,ge){var Ne=Array.prototype.slice.call(arguments,3);try{p.apply(b,Ne)}catch(Ge){this.onError(Ge)}}var vr=!1,Wr=null,wr=!1,rt=null,nl={onError:function(f){vr=!0,Wr=f}};function rl(f,p,b,_,F,H,ee,fe,ge){vr=!1,Wr=null,jr.apply(nl,arguments)}function Ii(f,p,b,_,F,H,ee,fe,ge){if(rl.apply(this,arguments),vr){if(vr){var Ne=Wr;vr=!1,Wr=null}else throw Error(n(198));wr||(wr=!0,rt=Ne)}}function Gi(f){var p=f,b=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(b=p.return),f=p.return;while(f)}return p.tag===3?b:null}function Xo(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function xs(f){if(Gi(f)!==f)throw Error(n(188))}function zs(f){var p=f.alternate;if(!p){if(p=Gi(f),p===null)throw Error(n(188));return p!==f?null:f}for(var b=f,_=p;;){var F=b.return;if(F===null)break;var H=F.alternate;if(H===null){if(_=F.return,_!==null){b=_;continue}break}if(F.child===H.child){for(H=F.child;H;){if(H===b)return xs(F),f;if(H===_)return xs(F),p;H=H.sibling}throw Error(n(188))}if(b.return!==_.return)b=F,_=H;else{for(var ee=!1,fe=F.child;fe;){if(fe===b){ee=!0,b=F,_=H;break}if(fe===_){ee=!0,_=F,b=H;break}fe=fe.sibling}if(!ee){for(fe=H.child;fe;){if(fe===b){ee=!0,b=H,_=F;break}if(fe===_){ee=!0,_=H,b=F;break}fe=fe.sibling}if(!ee)throw Error(n(189))}}if(b.alternate!==_)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?f:p}function Af(f){return f=zs(f),f!==null?Xc(f):null}function Xc(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=Xc(f);if(p!==null)return p;f=f.sibling}return null}var ss=e.unstable_scheduleCallback,ci=e.unstable_cancelCallback,$n=e.unstable_shouldYield,ad=e.unstable_requestPaint,vn=e.unstable_now,Qc=e.unstable_getCurrentPriorityLevel,Be=e.unstable_ImmediatePriority,il=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Qo=e.unstable_LowPriority,ld=e.unstable_IdlePriority,sn=null,$t=null;function Zt(f){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(sn,f,void 0,(f.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:Nr,Gl=Math.log,Zc=Math.LN2;function Nr(f){return f>>>=0,f===0?32:31-(Gl(f)/Zc|0)|0}var Hs=64,Jc=4194304;function jn(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function bs(f,p){var b=f.pendingLanes;if(b===0)return 0;var _=0,F=f.suspendedLanes,H=f.pingedLanes,ee=b&268435455;if(ee!==0){var fe=ee&~F;fe!==0?_=jn(fe):(H&=ee,H!==0&&(_=jn(H)))}else ee=b&~F,ee!==0?_=jn(ee):H!==0&&(_=jn(H));if(_===0)return 0;if(p!==0&&p!==_&&(p&F)===0&&(F=_&-_,H=p&-p,F>=H||F===16&&(H&4194240)!==0))return p;if((_&4)!==0&&(_|=b&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=_;0<p;)b=31-Pi(p),F=1<<b,_|=f[b],p&=~F;return _}function zg(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(f,p){for(var b=f.suspendedLanes,_=f.pingedLanes,F=f.expirationTimes,H=f.pendingLanes;0<H;){var ee=31-Pi(H),fe=1<<ee,ge=F[ee];ge===-1?((fe&b)===0||(fe&_)!==0)&&(F[ee]=zg(fe,p)):ge<=p&&(f.expiredLanes|=fe),H&=~fe}}function Jt(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Or(){var f=Hs;return Hs<<=1,(Hs&4194240)===0&&(Hs=64),f}function Ae(f){for(var p=[],b=0;31>b;b++)p.push(f);return p}function ie(f,p,b){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-Pi(p),f[p]=b}function tt(f,p){var b=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var _=f.eventTimes;for(f=f.expirationTimes;0<b;){var F=31-Pi(b),H=1<<F;p[F]=0,_[F]=-1,f[F]=-1,b&=~H}}function ir(f,p){var b=f.entangledLanes|=p;for(f=f.entanglements;b;){var _=31-Pi(b),F=1<<_;F&p|f[_]&p&&(f[_]|=p),b&=~F}}var Mt=0;function sl(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var eu,Ni,vt,er,Ef,Sf=!1,oo=[],qr=null,$s=null,Co=null,sr=new Map,Wi=new Map,Oi=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cd(f,p){switch(f){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":sr.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(p.pointerId)}}function Et(f,p,b,_,F,H){return f===null||f.nativeEvent!==H?(f={blockedOn:p,domEventName:b,eventSystemFlags:_,nativeEvent:H,targetContainers:[F]},p!==null&&(p=Xg(p),p!==null&&Ni(p)),f):(f.eventSystemFlags|=_,p=f.targetContainers,F!==null&&p.indexOf(F)===-1&&p.push(F),f)}function ui(f,p,b,_,F){switch(p){case"focusin":return qr=Et(qr,f,p,b,_,F),!0;case"dragenter":return $s=Et($s,f,p,b,_,F),!0;case"mouseover":return Co=Et(Co,f,p,b,_,F),!0;case"pointerover":var H=F.pointerId;return sr.set(H,Et(sr.get(H)||null,f,p,b,_,F)),!0;case"gotpointercapture":return H=F.pointerId,Wi.set(H,Et(Wi.get(H)||null,f,p,b,_,F)),!0}return!1}function ud(f){var p=If(f.target);if(p!==null){var b=Gi(p);if(b!==null){if(p=b.tag,p===13){if(p=Xo(b),p!==null){f.blockedOn=p,Ef(f.priority,function(){vt(b)});return}}else if(p===3&&b.stateNode.current.memoizedState.isDehydrated){f.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Io(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var b=ql(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(b===null){b=f.nativeEvent;var _=new b.constructor(b.type,b);is=_,b.target.dispatchEvent(_),is=null}else return p=Xg(b),p!==null&&Ni(p),f.blockedOn=b,!1;p.shift()}return!0}function ol(f,p,b){Io(f)&&b.delete(p)}function Zo(){Sf=!1,qr!==null&&Io(qr)&&(qr=null),$s!==null&&Io($s)&&($s=null),Co!==null&&Io(Co)&&(Co=null),sr.forEach(ol),Wi.forEach(ol)}function Po(f,p){f.blockedOn===p&&(f.blockedOn=null,Sf||(Sf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zo)))}function os(f){function p(F){return Po(F,f)}if(0<oo.length){Po(oo[0],f);for(var b=1;b<oo.length;b++){var _=oo[b];_.blockedOn===f&&(_.blockedOn=null)}}for(qr!==null&&Po(qr,f),$s!==null&&Po($s,f),Co!==null&&Po(Co,f),sr.forEach(p),Wi.forEach(p),b=0;b<Oi.length;b++)_=Oi[b],_.blockedOn===f&&(_.blockedOn=null);for(;0<Oi.length&&(b=Oi[0],b.blockedOn===null);)ud(b),b.blockedOn===null&&Oi.shift()}var Gs=V.ReactCurrentBatchConfig,ao=!0;function or(f,p,b,_){var F=Mt,H=Gs.transition;Gs.transition=null;try{Mt=1,_a(f,p,b,_)}finally{Mt=F,Gs.transition=H}}function Wl(f,p,b,_){var F=Mt,H=Gs.transition;Gs.transition=null;try{Mt=4,_a(f,p,b,_)}finally{Mt=F,Gs.transition=H}}function _a(f,p,b,_){if(ao){var F=ql(f,p,b,_);if(F===null)MA(f,p,_,Kr,b),cd(f,_);else if(ui(F,f,p,b,_))_.stopPropagation();else if(cd(f,_),p&4&&-1<St.indexOf(f)){for(;F!==null;){var H=Xg(F);if(H!==null&&eu(H),H=ql(f,p,b,_),H===null&&MA(f,p,_,Kr,b),H===F)break;F=H}F!==null&&_.stopPropagation()}else MA(f,p,_,null,b)}}var Kr=null;function ql(f,p,b,_){if(Kr=null,f=Ci(_),f=If(f),f!==null)if(p=Gi(f),p===null)f=null;else if(b=p.tag,b===13){if(f=Xo(p),f!==null)return f;f=null}else if(b===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return Kr=f,null}function tu(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qc()){case Be:return 1;case il:return 4;case wn:case Qo:return 16;case ld:return 536870912;default:return 16}default:return 16}}var Es=null,nu=null,Ss=null;function Tf(){if(Ss)return Ss;var f,p=nu,b=p.length,_,F="value"in Es?Es.value:Es.textContent,H=F.length;for(f=0;f<b&&p[f]===F[f];f++);var ee=b-f;for(_=1;_<=ee&&p[b-_]===F[H-_];_++);return Ss=F.slice(f,1<_?1-_:void 0)}function xn(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function No(){return!0}function al(){return!1}function ur(f){function p(b,_,F,H,ee){this._reactName=b,this._targetInst=F,this.type=_,this.nativeEvent=H,this.target=ee,this.currentTarget=null;for(var fe in f)f.hasOwnProperty(fe)&&(b=f[fe],this[fe]=b?b(H):H[fe]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?No:al,this.isPropagationStopped=al,this}return we(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),p}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ce=ur(Oo),Pt=we({},Oo,{view:0,detail:0}),fi=ur(Pt),Ca,Jo,ll,Kl=we({},Pt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==ll&&(ll&&f.type==="mousemove"?(Ca=f.screenX-ll.screenX,Jo=f.screenY-ll.screenY):Jo=Ca=0,ll=f),Ca)},movementY:function(f){return"movementY"in f?f.movementY:Jo}}),ru=ur(Kl),Yl=we({},Kl,{dataTransfer:0}),Rr=ur(Yl),cl=we({},Pt,{relatedTarget:0}),Gn=ur(cl),Xl=we({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),as=ur(Xl),_n=we({},Oo,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),bt=ur(_n),fd=we({},Oo,{data:0}),kn=ur(fd),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ws(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=hd[f])?!!p[f]:!1}function co(){return Ws}var S=we({},Pt,{key:function(f){if(f.key){var p=lo[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=xn(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Yr[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(f){return f.type==="keypress"?xn(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?xn(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),z=ur(S),Y=we({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ne=ur(Y),Ee=we({},Pt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),Oe=ur(Ee),Ze=we({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mn=ur(Ze),xr=we({},Kl,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),dn=ur(xr),ar=[9,13,27,32],br=a&&"CompositionEvent"in window,Ar=null;a&&"documentMode"in document&&(Ar=document.documentMode);var Ts=a&&"TextEvent"in window&&!Ar,qi=a&&(!br||Ar&&8<Ar&&11>=Ar),iu=" ",dd=!1;function e1(f,p){switch(f){case"keyup":return ar.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hg(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ls=!1;function NA(f,p){switch(f){case"compositionend":return Hg(p);case"keypress":return p.which!==32?null:(dd=!0,iu);case"textInput":return f=p.data,f===iu&&dd?null:f;default:return null}}function $g(f,p){if(ls)return f==="compositionend"||!br&&e1(f,p)?(f=Tf(),Ss=nu=Es=null,ls=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return qi&&p.locale!=="ko"?null:p.data;default:return null}}var _f={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!_f[f.type]:p==="textarea"}function Cf(f,p,b,_){At(_),p=r1(p,"onChange"),0<p.length&&(b=new Ce("onChange","change",null,b,_),f.push({event:b,listeners:p}))}var Q=null,l=null;function h(f){aM(f,0)}function d(f){var p=md(f);if(_e(p))return f}function y(f,p){if(f==="change")return p}var v=!1;if(a){var x;if(a){var E="oninput"in document;if(!E){var N=document.createElement("div");N.setAttribute("oninput","return;"),E=typeof N.oninput=="function"}x=E}else x=!1;v=x&&(!document.documentMode||9<document.documentMode)}function L(){Q&&(Q.detachEvent("onpropertychange",W),l=Q=null)}function W(f){if(f.propertyName==="value"&&d(l)){var p=[];Cf(p,l,f,Ci(f)),Jn(h,p)}}function Z(f,p,b){f==="focusin"?(L(),Q=p,l=b,Q.attachEvent("onpropertychange",W)):f==="focusout"&&L()}function te(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return d(l)}function le(f,p){if(f==="click")return d(p)}function de(f,p){if(f==="input"||f==="change")return d(p)}function me(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var be=typeof Object.is=="function"?Object.is:me;function Ie(f,p){if(be(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var b=Object.keys(f),_=Object.keys(p);if(b.length!==_.length)return!1;for(_=0;_<b.length;_++){var F=b[_];if(!c.call(p,F)||!be(f[F],p[F]))return!1}return!0}function Ke(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Ye(f,p){var b=Ke(f);f=0;for(var _;b;){if(b.nodeType===3){if(_=f+b.textContent.length,f<=p&&_>=p)return{node:b,offset:p-f};f=_}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Ke(b)}}function He(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?He(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function tn(){for(var f=window,p=et();p instanceof f.HTMLIFrameElement;){try{var b=typeof p.contentWindow.location.href=="string"}catch{b=!1}if(b)f=p.contentWindow;else break;p=et(f.document)}return p}function Ut(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function _s(f){var p=tn(),b=f.focusedElem,_=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&He(b.ownerDocument.documentElement,b)){if(_!==null&&Ut(b)){if(p=_.start,f=_.end,f===void 0&&(f=p),"selectionStart"in b)b.selectionStart=p,b.selectionEnd=Math.min(f,b.value.length);else if(f=(p=b.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var F=b.textContent.length,H=Math.min(_.start,F);_=_.end===void 0?H:Math.min(_.end,F),!f.extend&&H>_&&(F=_,_=H,H=F),F=Ye(b,H);var ee=Ye(b,_);F&&ee&&(f.rangeCount!==1||f.anchorNode!==F.node||f.anchorOffset!==F.offset||f.focusNode!==ee.node||f.focusOffset!==ee.offset)&&(p=p.createRange(),p.setStart(F.node,F.offset),f.removeAllRanges(),H>_?(f.addRange(p),f.extend(ee.node,ee.offset)):(p.setEnd(ee.node,ee.offset),f.addRange(p)))}}for(p=[],f=b;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<p.length;b++)f=p[b],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Ro=a&&"documentMode"in document&&11>=document.documentMode,hi=null,Dn=null,Fr=null,cs=!1;function Ql(f,p,b){var _=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;cs||hi==null||hi!==et(_)||(_=hi,"selectionStart"in _&&Ut(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Fr&&Ie(Fr,_)||(Fr=_,_=r1(Dn,"onSelect"),0<_.length&&(p=new Ce("onSelect","select",null,p,b),f.push({event:p,listeners:_}),p.target=hi)))}function Ia(f,p){var b={};return b[f.toLowerCase()]=p.toLowerCase(),b["Webkit"+f]="webkit"+p,b["Moz"+f]="moz"+p,b}var su={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},Gg={},Jk={};a&&(Jk=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function t1(f){if(Gg[f])return Gg[f];if(!su[f])return f;var p=su[f],b;for(b in p)if(p.hasOwnProperty(b)&&b in Jk)return Gg[f]=p[b];return f}var eM=t1("animationend"),tM=t1("animationiteration"),nM=t1("animationstart"),rM=t1("transitionend"),iM=new Map,sM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ou(f,p){iM.set(f,p),s(p,[f])}for(var OA=0;OA<sM.length;OA++){var RA=sM[OA],dee=RA.toLowerCase(),pee=RA[0].toUpperCase()+RA.slice(1);ou(dee,"on"+pee)}ou(eM,"onAnimationEnd"),ou(tM,"onAnimationIteration"),ou(nM,"onAnimationStart"),ou("dblclick","onDoubleClick"),ou("focusin","onFocus"),ou("focusout","onBlur"),ou(rM,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wg));function oM(f,p,b){var _=f.type||"unknown-event";f.currentTarget=b,Ii(_,p,void 0,f),f.currentTarget=null}function aM(f,p){p=(p&4)!==0;for(var b=0;b<f.length;b++){var _=f[b],F=_.event;_=_.listeners;e:{var H=void 0;if(p)for(var ee=_.length-1;0<=ee;ee--){var fe=_[ee],ge=fe.instance,Ne=fe.currentTarget;if(fe=fe.listener,ge!==H&&F.isPropagationStopped())break e;oM(F,fe,Ne),H=ge}else for(ee=0;ee<_.length;ee++){if(fe=_[ee],ge=fe.instance,Ne=fe.currentTarget,fe=fe.listener,ge!==H&&F.isPropagationStopped())break e;oM(F,fe,Ne),H=ge}}}if(wr)throw f=rt,wr=!1,rt=null,f}function Er(f,p){var b=p[UA];b===void 0&&(b=p[UA]=new Set);var _=f+"__bubble";b.has(_)||(lM(p,f,2,!1),b.add(_))}function kA(f,p,b){var _=0;p&&(_|=4),lM(b,f,_,p)}var n1="_reactListening"+Math.random().toString(36).slice(2);function qg(f){if(!f[n1]){f[n1]=!0,r.forEach(function(b){b!=="selectionchange"&&(gee.has(b)||kA(b,!1,f),kA(b,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[n1]||(p[n1]=!0,kA("selectionchange",!1,p))}}function lM(f,p,b,_){switch(tu(p)){case 1:var F=or;break;case 4:F=Wl;break;default:F=_a}b=F.bind(null,p,b,f),F=void 0,!_o||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(F=!0),_?F!==void 0?f.addEventListener(p,b,{capture:!0,passive:F}):f.addEventListener(p,b,!0):F!==void 0?f.addEventListener(p,b,{passive:F}):f.addEventListener(p,b,!1)}function MA(f,p,b,_,F){var H=_;if((p&1)===0&&(p&2)===0&&_!==null)e:for(;;){if(_===null)return;var ee=_.tag;if(ee===3||ee===4){var fe=_.stateNode.containerInfo;if(fe===F||fe.nodeType===8&&fe.parentNode===F)break;if(ee===4)for(ee=_.return;ee!==null;){var ge=ee.tag;if((ge===3||ge===4)&&(ge=ee.stateNode.containerInfo,ge===F||ge.nodeType===8&&ge.parentNode===F))return;ee=ee.return}for(;fe!==null;){if(ee=If(fe),ee===null)return;if(ge=ee.tag,ge===5||ge===6){_=H=ee;continue e}fe=fe.parentNode}}_=_.return}Jn(function(){var Ne=H,Ge=Ci(b),qe=[];e:{var ze=iM.get(f);if(ze!==void 0){var st=Ce,dt=f;switch(f){case"keypress":if(xn(b)===0)break e;case"keydown":case"keyup":st=z;break;case"focusin":dt="focus",st=Gn;break;case"focusout":dt="blur",st=Gn;break;case"beforeblur":case"afterblur":st=Gn;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Oe;break;case eM:case tM:case nM:st=as;break;case rM:st=Mn;break;case"scroll":st=fi;break;case"wheel":st=dn;break;case"copy":case"cut":case"paste":st=bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=ne}var mt=(p&4)!==0,di=!mt&&f==="scroll",Se=mt?ze!==null?ze+"Capture":null:ze;mt=[];for(var ve=Ne,Te;ve!==null;){Te=ve;var Xe=Te.stateNode;if(Te.tag===5&&Xe!==null&&(Te=Xe,Se!==null&&(Xe=Ht(ve,Se),Xe!=null&&mt.push(Kg(ve,Xe,Te)))),di)break;ve=ve.return}0<mt.length&&(ze=new st(ze,dt,null,b,Ge),qe.push({event:ze,listeners:mt}))}}if((p&7)===0){e:{if(ze=f==="mouseover"||f==="pointerover",st=f==="mouseout"||f==="pointerout",ze&&b!==is&&(dt=b.relatedTarget||b.fromElement)&&(If(dt)||dt[Zl]))break e;if((st||ze)&&(ze=Ge.window===Ge?Ge:(ze=Ge.ownerDocument)?ze.defaultView||ze.parentWindow:window,st?(dt=b.relatedTarget||b.toElement,st=Ne,dt=dt?If(dt):null,dt!==null&&(di=Gi(dt),dt!==di||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(st=null,dt=Ne),st!==dt)){if(mt=ru,Xe="onMouseLeave",Se="onMouseEnter",ve="mouse",(f==="pointerout"||f==="pointerover")&&(mt=ne,Xe="onPointerLeave",Se="onPointerEnter",ve="pointer"),di=st==null?ze:md(st),Te=dt==null?ze:md(dt),ze=new mt(Xe,ve+"leave",st,b,Ge),ze.target=di,ze.relatedTarget=Te,Xe=null,If(Ge)===Ne&&(mt=new mt(Se,ve+"enter",dt,b,Ge),mt.target=Te,mt.relatedTarget=di,Xe=mt),di=Xe,st&&dt)t:{for(mt=st,Se=dt,ve=0,Te=mt;Te;Te=pd(Te))ve++;for(Te=0,Xe=Se;Xe;Xe=pd(Xe))Te++;for(;0<ve-Te;)mt=pd(mt),ve--;for(;0<Te-ve;)Se=pd(Se),Te--;for(;ve--;){if(mt===Se||Se!==null&&mt===Se.alternate)break t;mt=pd(mt),Se=pd(Se)}mt=null}else mt=null;st!==null&&cM(qe,ze,st,mt,!1),dt!==null&&di!==null&&cM(qe,di,dt,mt,!0)}}e:{if(ze=Ne?md(Ne):window,st=ze.nodeName&&ze.nodeName.toLowerCase(),st==="select"||st==="input"&&ze.type==="file")var yt=y;else if(pn(ze))if(v)yt=de;else{yt=te;var Tt=Z}else(st=ze.nodeName)&&st.toLowerCase()==="input"&&(ze.type==="checkbox"||ze.type==="radio")&&(yt=le);if(yt&&(yt=yt(f,Ne))){Cf(qe,yt,b,Ge);break e}Tt&&Tt(f,ze,Ne),f==="focusout"&&(Tt=ze._wrapperState)&&Tt.controlled&&ze.type==="number"&&wt(ze,"number",ze.value)}switch(Tt=Ne?md(Ne):window,f){case"focusin":(pn(Tt)||Tt.contentEditable==="true")&&(hi=Tt,Dn=Ne,Fr=null);break;case"focusout":Fr=Dn=hi=null;break;case"mousedown":cs=!0;break;case"contextmenu":case"mouseup":case"dragend":cs=!1,Ql(qe,b,Ge);break;case"selectionchange":if(Ro)break;case"keydown":case"keyup":Ql(qe,b,Ge)}var _t;if(br)e:{switch(f){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else ls?e1(f,b)&&(Bt="onCompositionEnd"):f==="keydown"&&b.keyCode===229&&(Bt="onCompositionStart");Bt&&(qi&&b.locale!=="ko"&&(ls||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ls&&(_t=Tf()):(Es=Ge,nu="value"in Es?Es.value:Es.textContent,ls=!0)),Tt=r1(Ne,Bt),0<Tt.length&&(Bt=new kn(Bt,f,null,b,Ge),qe.push({event:Bt,listeners:Tt}),_t?Bt.data=_t:(_t=Hg(b),_t!==null&&(Bt.data=_t)))),(_t=Ts?NA(f,b):$g(f,b))&&(Ne=r1(Ne,"onBeforeInput"),0<Ne.length&&(Ge=new kn("onBeforeInput","beforeinput",null,b,Ge),qe.push({event:Ge,listeners:Ne}),Ge.data=_t))}aM(qe,p)})}function Kg(f,p,b){return{instance:f,listener:p,currentTarget:b}}function r1(f,p){for(var b=p+"Capture",_=[];f!==null;){var F=f,H=F.stateNode;F.tag===5&&H!==null&&(F=H,H=Ht(f,b),H!=null&&_.unshift(Kg(f,H,F)),H=Ht(f,p),H!=null&&_.push(Kg(f,H,F))),f=f.return}return _}function pd(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function cM(f,p,b,_,F){for(var H=p._reactName,ee=[];b!==null&&b!==_;){var fe=b,ge=fe.alternate,Ne=fe.stateNode;if(ge!==null&&ge===_)break;fe.tag===5&&Ne!==null&&(fe=Ne,F?(ge=Ht(b,H),ge!=null&&ee.unshift(Kg(b,ge,fe))):F||(ge=Ht(b,H),ge!=null&&ee.push(Kg(b,ge,fe)))),b=b.return}ee.length!==0&&f.push({event:p,listeners:ee})}var mee=/\r\n?/g,yee=/\u0000|\uFFFD/g;function uM(f){return(typeof f=="string"?f:""+f).replace(mee,`
`).replace(yee,"")}function i1(f,p,b){if(p=uM(p),uM(f)!==p&&b)throw Error(n(425))}function s1(){}var DA=null,LA=null;function BA(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var jA=typeof setTimeout=="function"?setTimeout:void 0,vee=typeof clearTimeout=="function"?clearTimeout:void 0,fM=typeof Promise=="function"?Promise:void 0,wee=typeof queueMicrotask=="function"?queueMicrotask:typeof fM<"u"?function(f){return fM.resolve(null).then(f).catch(xee)}:jA;function xee(f){setTimeout(function(){throw f})}function FA(f,p){var b=p,_=0;do{var F=b.nextSibling;if(f.removeChild(b),F&&F.nodeType===8)if(b=F.data,b==="/$"){if(_===0){f.removeChild(F),os(p);return}_--}else b!=="$"&&b!=="$?"&&b!=="$!"||_++;b=F}while(b);os(p)}function au(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function hM(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var b=f.data;if(b==="$"||b==="$!"||b==="$?"){if(p===0)return f;p--}else b==="/$"&&p++}f=f.previousSibling}return null}var gd=Math.random().toString(36).slice(2),ul="__reactFiber$"+gd,Yg="__reactProps$"+gd,Zl="__reactContainer$"+gd,UA="__reactEvents$"+gd,bee="__reactListeners$"+gd,Aee="__reactHandles$"+gd;function If(f){var p=f[ul];if(p)return p;for(var b=f.parentNode;b;){if(p=b[Zl]||b[ul]){if(b=p.alternate,p.child!==null||b!==null&&b.child!==null)for(f=hM(f);f!==null;){if(b=f[ul])return b;f=hM(f)}return p}f=b,b=f.parentNode}return null}function Xg(f){return f=f[ul]||f[Zl],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function md(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function o1(f){return f[Yg]||null}var VA=[],yd=-1;function lu(f){return{current:f}}function Sr(f){0>yd||(f.current=VA[yd],VA[yd]=null,yd--)}function fr(f,p){yd++,VA[yd]=f.current,f.current=p}var cu={},Cs=lu(cu),uo=lu(!1),Pf=cu;function vd(f,p){var b=f.type.contextTypes;if(!b)return cu;var _=f.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===p)return _.__reactInternalMemoizedMaskedChildContext;var F={},H;for(H in b)F[H]=p[H];return _&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=F),F}function fo(f){return f=f.childContextTypes,f!=null}function a1(){Sr(uo),Sr(Cs)}function dM(f,p,b){if(Cs.current!==cu)throw Error(n(168));fr(Cs,p),fr(uo,b)}function pM(f,p,b){var _=f.stateNode;if(p=p.childContextTypes,typeof _.getChildContext!="function")return b;_=_.getChildContext();for(var F in _)if(!(F in p))throw Error(n(108,ke(f)||"Unknown",F));return we({},b,_)}function l1(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||cu,Pf=Cs.current,fr(Cs,f),fr(uo,uo.current),!0}function gM(f,p,b){var _=f.stateNode;if(!_)throw Error(n(169));b?(f=pM(f,p,Pf),_.__reactInternalMemoizedMergedChildContext=f,Sr(uo),Sr(Cs),fr(Cs,f)):Sr(uo),fr(uo,b)}var Jl=null,c1=!1,zA=!1;function mM(f){Jl===null?Jl=[f]:Jl.push(f)}function Eee(f){c1=!0,mM(f)}function uu(){if(!zA&&Jl!==null){zA=!0;var f=0,p=Mt;try{var b=Jl;for(Mt=1;f<b.length;f++){var _=b[f];do _=_(!0);while(_!==null)}Jl=null,c1=!1}catch(F){throw Jl!==null&&(Jl=Jl.slice(f+1)),ss(Be,uu),F}finally{Mt=p,zA=!1}}return null}var wd=[],xd=0,u1=null,f1=0,ea=[],ta=0,Nf=null,ec=1,tc="";function Of(f,p){wd[xd++]=f1,wd[xd++]=u1,u1=f,f1=p}function yM(f,p,b){ea[ta++]=ec,ea[ta++]=tc,ea[ta++]=Nf,Nf=f;var _=ec;f=tc;var F=32-Pi(_)-1;_&=~(1<<F),b+=1;var H=32-Pi(p)+F;if(30<H){var ee=F-F%5;H=(_&(1<<ee)-1).toString(32),_>>=ee,F-=ee,ec=1<<32-Pi(p)+F|b<<F|_,tc=H+f}else ec=1<<H|b<<F|_,tc=f}function HA(f){f.return!==null&&(Of(f,1),yM(f,1,0))}function $A(f){for(;f===u1;)u1=wd[--xd],wd[xd]=null,f1=wd[--xd],wd[xd]=null;for(;f===Nf;)Nf=ea[--ta],ea[ta]=null,tc=ea[--ta],ea[ta]=null,ec=ea[--ta],ea[ta]=null}var ko=null,Mo=null,kr=!1,Pa=null;function vM(f,p){var b=sa(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=f,p=f.deletions,p===null?(f.deletions=[b],f.flags|=16):p.push(b)}function wM(f,p){switch(f.tag){case 5:var b=f.type;return p=p.nodeType!==1||b.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,ko=f,Mo=au(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,ko=f,Mo=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(b=Nf!==null?{id:ec,overflow:tc}:null,f.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=sa(18,null,null,0),b.stateNode=p,b.return=f,f.child=b,ko=f,Mo=null,!0):!1;default:return!1}}function GA(f){return(f.mode&1)!==0&&(f.flags&128)===0}function WA(f){if(kr){var p=Mo;if(p){var b=p;if(!wM(f,p)){if(GA(f))throw Error(n(418));p=au(b.nextSibling);var _=ko;p&&wM(f,p)?vM(_,b):(f.flags=f.flags&-4097|2,kr=!1,ko=f)}}else{if(GA(f))throw Error(n(418));f.flags=f.flags&-4097|2,kr=!1,ko=f}}}function xM(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ko=f}function h1(f){if(f!==ko)return!1;if(!kr)return xM(f),kr=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!BA(f.type,f.memoizedProps)),p&&(p=Mo)){if(GA(f))throw bM(),Error(n(418));for(;p;)vM(f,p),p=au(p.nextSibling)}if(xM(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var b=f.data;if(b==="/$"){if(p===0){Mo=au(f.nextSibling);break e}p--}else b!=="$"&&b!=="$!"&&b!=="$?"||p++}f=f.nextSibling}Mo=null}}else Mo=ko?au(f.stateNode.nextSibling):null;return!0}function bM(){for(var f=Mo;f;)f=au(f.nextSibling)}function bd(){Mo=ko=null,kr=!1}function qA(f){Pa===null?Pa=[f]:Pa.push(f)}var See=V.ReactCurrentBatchConfig;function Qg(f,p,b){if(f=b.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(n(309));var _=b.stateNode}if(!_)throw Error(n(147,f));var F=_,H=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===H?p.ref:(p=function(ee){var fe=F.refs;ee===null?delete fe[H]:fe[H]=ee},p._stringRef=H,p)}if(typeof f!="string")throw Error(n(284));if(!b._owner)throw Error(n(290,f))}return f}function d1(f,p){throw f=Object.prototype.toString.call(p),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function AM(f){var p=f._init;return p(f._payload)}function EM(f){function p(Se,ve){if(f){var Te=Se.deletions;Te===null?(Se.deletions=[ve],Se.flags|=16):Te.push(ve)}}function b(Se,ve){if(!f)return null;for(;ve!==null;)p(Se,ve),ve=ve.sibling;return null}function _(Se,ve){for(Se=new Map;ve!==null;)ve.key!==null?Se.set(ve.key,ve):Se.set(ve.index,ve),ve=ve.sibling;return Se}function F(Se,ve){return Se=vu(Se,ve),Se.index=0,Se.sibling=null,Se}function H(Se,ve,Te){return Se.index=Te,f?(Te=Se.alternate,Te!==null?(Te=Te.index,Te<ve?(Se.flags|=2,ve):Te):(Se.flags|=2,ve)):(Se.flags|=1048576,ve)}function ee(Se){return f&&Se.alternate===null&&(Se.flags|=2),Se}function fe(Se,ve,Te,Xe){return ve===null||ve.tag!==6?(ve=jE(Te,Se.mode,Xe),ve.return=Se,ve):(ve=F(ve,Te),ve.return=Se,ve)}function ge(Se,ve,Te,Xe){var yt=Te.type;return yt===O?Ge(Se,ve,Te.props.children,Xe,Te.key):ve!==null&&(ve.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===oe&&AM(yt)===ve.type)?(Xe=F(ve,Te.props),Xe.ref=Qg(Se,ve,Te),Xe.return=Se,Xe):(Xe=B1(Te.type,Te.key,Te.props,null,Se.mode,Xe),Xe.ref=Qg(Se,ve,Te),Xe.return=Se,Xe)}function Ne(Se,ve,Te,Xe){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Te.containerInfo||ve.stateNode.implementation!==Te.implementation?(ve=FE(Te,Se.mode,Xe),ve.return=Se,ve):(ve=F(ve,Te.children||[]),ve.return=Se,ve)}function Ge(Se,ve,Te,Xe,yt){return ve===null||ve.tag!==7?(ve=Ff(Te,Se.mode,Xe,yt),ve.return=Se,ve):(ve=F(ve,Te),ve.return=Se,ve)}function qe(Se,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=jE(""+ve,Se.mode,Te),ve.return=Se,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case D:return Te=B1(ve.type,ve.key,ve.props,null,Se.mode,Te),Te.ref=Qg(Se,null,ve),Te.return=Se,Te;case j:return ve=FE(ve,Se.mode,Te),ve.return=Se,ve;case oe:var Xe=ve._init;return qe(Se,Xe(ve._payload),Te)}if(ii(ve)||pe(ve))return ve=Ff(ve,Se.mode,Te,null),ve.return=Se,ve;d1(Se,ve)}return null}function ze(Se,ve,Te,Xe){var yt=ve!==null?ve.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return yt!==null?null:fe(Se,ve,""+Te,Xe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case D:return Te.key===yt?ge(Se,ve,Te,Xe):null;case j:return Te.key===yt?Ne(Se,ve,Te,Xe):null;case oe:return yt=Te._init,ze(Se,ve,yt(Te._payload),Xe)}if(ii(Te)||pe(Te))return yt!==null?null:Ge(Se,ve,Te,Xe,null);d1(Se,Te)}return null}function st(Se,ve,Te,Xe,yt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return Se=Se.get(Te)||null,fe(ve,Se,""+Xe,yt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case D:return Se=Se.get(Xe.key===null?Te:Xe.key)||null,ge(ve,Se,Xe,yt);case j:return Se=Se.get(Xe.key===null?Te:Xe.key)||null,Ne(ve,Se,Xe,yt);case oe:var Tt=Xe._init;return st(Se,ve,Te,Tt(Xe._payload),yt)}if(ii(Xe)||pe(Xe))return Se=Se.get(Te)||null,Ge(ve,Se,Xe,yt,null);d1(ve,Xe)}return null}function dt(Se,ve,Te,Xe){for(var yt=null,Tt=null,_t=ve,Bt=ve=0,Xi=null;_t!==null&&Bt<Te.length;Bt++){_t.index>Bt?(Xi=_t,_t=null):Xi=_t.sibling;var Cn=ze(Se,_t,Te[Bt],Xe);if(Cn===null){_t===null&&(_t=Xi);break}f&&_t&&Cn.alternate===null&&p(Se,_t),ve=H(Cn,ve,Bt),Tt===null?yt=Cn:Tt.sibling=Cn,Tt=Cn,_t=Xi}if(Bt===Te.length)return b(Se,_t),kr&&Of(Se,Bt),yt;if(_t===null){for(;Bt<Te.length;Bt++)_t=qe(Se,Te[Bt],Xe),_t!==null&&(ve=H(_t,ve,Bt),Tt===null?yt=_t:Tt.sibling=_t,Tt=_t);return kr&&Of(Se,Bt),yt}for(_t=_(Se,_t);Bt<Te.length;Bt++)Xi=st(_t,Se,Bt,Te[Bt],Xe),Xi!==null&&(f&&Xi.alternate!==null&&_t.delete(Xi.key===null?Bt:Xi.key),ve=H(Xi,ve,Bt),Tt===null?yt=Xi:Tt.sibling=Xi,Tt=Xi);return f&&_t.forEach(function(wu){return p(Se,wu)}),kr&&Of(Se,Bt),yt}function mt(Se,ve,Te,Xe){var yt=pe(Te);if(typeof yt!="function")throw Error(n(150));if(Te=yt.call(Te),Te==null)throw Error(n(151));for(var Tt=yt=null,_t=ve,Bt=ve=0,Xi=null,Cn=Te.next();_t!==null&&!Cn.done;Bt++,Cn=Te.next()){_t.index>Bt?(Xi=_t,_t=null):Xi=_t.sibling;var wu=ze(Se,_t,Cn.value,Xe);if(wu===null){_t===null&&(_t=Xi);break}f&&_t&&wu.alternate===null&&p(Se,_t),ve=H(wu,ve,Bt),Tt===null?yt=wu:Tt.sibling=wu,Tt=wu,_t=Xi}if(Cn.done)return b(Se,_t),kr&&Of(Se,Bt),yt;if(_t===null){for(;!Cn.done;Bt++,Cn=Te.next())Cn=qe(Se,Cn.value,Xe),Cn!==null&&(ve=H(Cn,ve,Bt),Tt===null?yt=Cn:Tt.sibling=Cn,Tt=Cn);return kr&&Of(Se,Bt),yt}for(_t=_(Se,_t);!Cn.done;Bt++,Cn=Te.next())Cn=st(_t,Se,Bt,Cn.value,Xe),Cn!==null&&(f&&Cn.alternate!==null&&_t.delete(Cn.key===null?Bt:Cn.key),ve=H(Cn,ve,Bt),Tt===null?yt=Cn:Tt.sibling=Cn,Tt=Cn);return f&&_t.forEach(function(rte){return p(Se,rte)}),kr&&Of(Se,Bt),yt}function di(Se,ve,Te,Xe){if(typeof Te=="object"&&Te!==null&&Te.type===O&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case D:e:{for(var yt=Te.key,Tt=ve;Tt!==null;){if(Tt.key===yt){if(yt=Te.type,yt===O){if(Tt.tag===7){b(Se,Tt.sibling),ve=F(Tt,Te.props.children),ve.return=Se,Se=ve;break e}}else if(Tt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===oe&&AM(yt)===Tt.type){b(Se,Tt.sibling),ve=F(Tt,Te.props),ve.ref=Qg(Se,Tt,Te),ve.return=Se,Se=ve;break e}b(Se,Tt);break}else p(Se,Tt);Tt=Tt.sibling}Te.type===O?(ve=Ff(Te.props.children,Se.mode,Xe,Te.key),ve.return=Se,Se=ve):(Xe=B1(Te.type,Te.key,Te.props,null,Se.mode,Xe),Xe.ref=Qg(Se,ve,Te),Xe.return=Se,Se=Xe)}return ee(Se);case j:e:{for(Tt=Te.key;ve!==null;){if(ve.key===Tt)if(ve.tag===4&&ve.stateNode.containerInfo===Te.containerInfo&&ve.stateNode.implementation===Te.implementation){b(Se,ve.sibling),ve=F(ve,Te.children||[]),ve.return=Se,Se=ve;break e}else{b(Se,ve);break}else p(Se,ve);ve=ve.sibling}ve=FE(Te,Se.mode,Xe),ve.return=Se,Se=ve}return ee(Se);case oe:return Tt=Te._init,di(Se,ve,Tt(Te._payload),Xe)}if(ii(Te))return dt(Se,ve,Te,Xe);if(pe(Te))return mt(Se,ve,Te,Xe);d1(Se,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,ve!==null&&ve.tag===6?(b(Se,ve.sibling),ve=F(ve,Te),ve.return=Se,Se=ve):(b(Se,ve),ve=jE(Te,Se.mode,Xe),ve.return=Se,Se=ve),ee(Se)):b(Se,ve)}return di}var Ad=EM(!0),SM=EM(!1),p1=lu(null),g1=null,Ed=null,KA=null;function YA(){KA=Ed=g1=null}function XA(f){var p=p1.current;Sr(p1),f._currentValue=p}function QA(f,p,b){for(;f!==null;){var _=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,_!==null&&(_.childLanes|=p)):_!==null&&(_.childLanes&p)!==p&&(_.childLanes|=p),f===b)break;f=f.return}}function Sd(f,p){g1=f,KA=Ed=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&p)!==0&&(ho=!0),f.firstContext=null)}function na(f){var p=f._currentValue;if(KA!==f)if(f={context:f,memoizedValue:p,next:null},Ed===null){if(g1===null)throw Error(n(308));Ed=f,g1.dependencies={lanes:0,firstContext:f}}else Ed=Ed.next=f;return p}var Rf=null;function ZA(f){Rf===null?Rf=[f]:Rf.push(f)}function TM(f,p,b,_){var F=p.interleaved;return F===null?(b.next=b,ZA(p)):(b.next=F.next,F.next=b),p.interleaved=b,nc(f,_)}function nc(f,p){f.lanes|=p;var b=f.alternate;for(b!==null&&(b.lanes|=p),b=f,f=f.return;f!==null;)f.childLanes|=p,b=f.alternate,b!==null&&(b.childLanes|=p),b=f,f=f.return;return b.tag===3?b.stateNode:null}var fu=!1;function JA(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _M(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function rc(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function hu(f,p,b){var _=f.updateQueue;if(_===null)return null;if(_=_.shared,(Sn&2)!==0){var F=_.pending;return F===null?p.next=p:(p.next=F.next,F.next=p),_.pending=p,nc(f,b)}return F=_.interleaved,F===null?(p.next=p,ZA(_)):(p.next=F.next,F.next=p),_.interleaved=p,nc(f,b)}function m1(f,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var _=p.lanes;_&=f.pendingLanes,b|=_,p.lanes=b,ir(f,b)}}function CM(f,p){var b=f.updateQueue,_=f.alternate;if(_!==null&&(_=_.updateQueue,b===_)){var F=null,H=null;if(b=b.firstBaseUpdate,b!==null){do{var ee={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};H===null?F=H=ee:H=H.next=ee,b=b.next}while(b!==null);H===null?F=H=p:H=H.next=p}else F=H=p;b={baseState:_.baseState,firstBaseUpdate:F,lastBaseUpdate:H,shared:_.shared,effects:_.effects},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=p:f.next=p,b.lastBaseUpdate=p}function y1(f,p,b,_){var F=f.updateQueue;fu=!1;var H=F.firstBaseUpdate,ee=F.lastBaseUpdate,fe=F.shared.pending;if(fe!==null){F.shared.pending=null;var ge=fe,Ne=ge.next;ge.next=null,ee===null?H=Ne:ee.next=Ne,ee=ge;var Ge=f.alternate;Ge!==null&&(Ge=Ge.updateQueue,fe=Ge.lastBaseUpdate,fe!==ee&&(fe===null?Ge.firstBaseUpdate=Ne:fe.next=Ne,Ge.lastBaseUpdate=ge))}if(H!==null){var qe=F.baseState;ee=0,Ge=Ne=ge=null,fe=H;do{var ze=fe.lane,st=fe.eventTime;if((_&ze)===ze){Ge!==null&&(Ge=Ge.next={eventTime:st,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var dt=f,mt=fe;switch(ze=p,st=b,mt.tag){case 1:if(dt=mt.payload,typeof dt=="function"){qe=dt.call(st,qe,ze);break e}qe=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=mt.payload,ze=typeof dt=="function"?dt.call(st,qe,ze):dt,ze==null)break e;qe=we({},qe,ze);break e;case 2:fu=!0}}fe.callback!==null&&fe.lane!==0&&(f.flags|=64,ze=F.effects,ze===null?F.effects=[fe]:ze.push(fe))}else st={eventTime:st,lane:ze,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Ge===null?(Ne=Ge=st,ge=qe):Ge=Ge.next=st,ee|=ze;if(fe=fe.next,fe===null){if(fe=F.shared.pending,fe===null)break;ze=fe,fe=ze.next,ze.next=null,F.lastBaseUpdate=ze,F.shared.pending=null}}while(!0);if(Ge===null&&(ge=qe),F.baseState=ge,F.firstBaseUpdate=Ne,F.lastBaseUpdate=Ge,p=F.shared.interleaved,p!==null){F=p;do ee|=F.lane,F=F.next;while(F!==p)}else H===null&&(F.shared.lanes=0);Df|=ee,f.lanes=ee,f.memoizedState=qe}}function IM(f,p,b){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var _=f[p],F=_.callback;if(F!==null){if(_.callback=null,_=b,typeof F!="function")throw Error(n(191,F));F.call(_)}}}var Zg={},fl=lu(Zg),Jg=lu(Zg),em=lu(Zg);function kf(f){if(f===Zg)throw Error(n(174));return f}function eE(f,p){switch(fr(em,p),fr(Jg,f),fr(fl,Zg),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Pr(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=Pr(p,f)}Sr(fl),fr(fl,p)}function Td(){Sr(fl),Sr(Jg),Sr(em)}function PM(f){kf(em.current);var p=kf(fl.current),b=Pr(p,f.type);p!==b&&(fr(Jg,f),fr(fl,b))}function tE(f){Jg.current===f&&(Sr(fl),Sr(Jg))}var Ur=lu(0);function v1(f){for(var p=f;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var nE=[];function rE(){for(var f=0;f<nE.length;f++)nE[f]._workInProgressVersionPrimary=null;nE.length=0}var w1=V.ReactCurrentDispatcher,iE=V.ReactCurrentBatchConfig,Mf=0,Vr=null,Ri=null,Ki=null,x1=!1,tm=!1,nm=0,Tee=0;function Is(){throw Error(n(321))}function sE(f,p){if(p===null)return!1;for(var b=0;b<p.length&&b<f.length;b++)if(!be(f[b],p[b]))return!1;return!0}function oE(f,p,b,_,F,H){if(Mf=H,Vr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,w1.current=f===null||f.memoizedState===null?Pee:Nee,f=b(_,F),tm){H=0;do{if(tm=!1,nm=0,25<=H)throw Error(n(301));H+=1,Ki=Ri=null,p.updateQueue=null,w1.current=Oee,f=b(_,F)}while(tm)}if(w1.current=E1,p=Ri!==null&&Ri.next!==null,Mf=0,Ki=Ri=Vr=null,x1=!1,p)throw Error(n(300));return f}function aE(){var f=nm!==0;return nm=0,f}function hl(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ki===null?Vr.memoizedState=Ki=f:Ki=Ki.next=f,Ki}function ra(){if(Ri===null){var f=Vr.alternate;f=f!==null?f.memoizedState:null}else f=Ri.next;var p=Ki===null?Vr.memoizedState:Ki.next;if(p!==null)Ki=p,Ri=f;else{if(f===null)throw Error(n(310));Ri=f,f={memoizedState:Ri.memoizedState,baseState:Ri.baseState,baseQueue:Ri.baseQueue,queue:Ri.queue,next:null},Ki===null?Vr.memoizedState=Ki=f:Ki=Ki.next=f}return Ki}function rm(f,p){return typeof p=="function"?p(f):p}function lE(f){var p=ra(),b=p.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=f;var _=Ri,F=_.baseQueue,H=b.pending;if(H!==null){if(F!==null){var ee=F.next;F.next=H.next,H.next=ee}_.baseQueue=F=H,b.pending=null}if(F!==null){H=F.next,_=_.baseState;var fe=ee=null,ge=null,Ne=H;do{var Ge=Ne.lane;if((Mf&Ge)===Ge)ge!==null&&(ge=ge.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),_=Ne.hasEagerState?Ne.eagerState:f(_,Ne.action);else{var qe={lane:Ge,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};ge===null?(fe=ge=qe,ee=_):ge=ge.next=qe,Vr.lanes|=Ge,Df|=Ge}Ne=Ne.next}while(Ne!==null&&Ne!==H);ge===null?ee=_:ge.next=fe,be(_,p.memoizedState)||(ho=!0),p.memoizedState=_,p.baseState=ee,p.baseQueue=ge,b.lastRenderedState=_}if(f=b.interleaved,f!==null){F=f;do H=F.lane,Vr.lanes|=H,Df|=H,F=F.next;while(F!==f)}else F===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function cE(f){var p=ra(),b=p.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=f;var _=b.dispatch,F=b.pending,H=p.memoizedState;if(F!==null){b.pending=null;var ee=F=F.next;do H=f(H,ee.action),ee=ee.next;while(ee!==F);be(H,p.memoizedState)||(ho=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),b.lastRenderedState=H}return[H,_]}function NM(){}function OM(f,p){var b=Vr,_=ra(),F=p(),H=!be(_.memoizedState,F);if(H&&(_.memoizedState=F,ho=!0),_=_.queue,uE(MM.bind(null,b,_,f),[f]),_.getSnapshot!==p||H||Ki!==null&&Ki.memoizedState.tag&1){if(b.flags|=2048,im(9,kM.bind(null,b,_,F,p),void 0,null),Yi===null)throw Error(n(349));(Mf&30)!==0||RM(b,p,F)}return F}function RM(f,p,b){f.flags|=16384,f={getSnapshot:p,value:b},p=Vr.updateQueue,p===null?(p={lastEffect:null,stores:null},Vr.updateQueue=p,p.stores=[f]):(b=p.stores,b===null?p.stores=[f]:b.push(f))}function kM(f,p,b,_){p.value=b,p.getSnapshot=_,DM(p)&&LM(f)}function MM(f,p,b){return b(function(){DM(p)&&LM(f)})}function DM(f){var p=f.getSnapshot;f=f.value;try{var b=p();return!be(f,b)}catch{return!0}}function LM(f){var p=nc(f,1);p!==null&&ka(p,f,1,-1)}function BM(f){var p=hl();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:f},p.queue=f,f=f.dispatch=Iee.bind(null,Vr,f),[p.memoizedState,f]}function im(f,p,b,_){return f={tag:f,create:p,destroy:b,deps:_,next:null},p=Vr.updateQueue,p===null?(p={lastEffect:null,stores:null},Vr.updateQueue=p,p.lastEffect=f.next=f):(b=p.lastEffect,b===null?p.lastEffect=f.next=f:(_=b.next,b.next=f,f.next=_,p.lastEffect=f)),f}function jM(){return ra().memoizedState}function b1(f,p,b,_){var F=hl();Vr.flags|=f,F.memoizedState=im(1|p,b,void 0,_===void 0?null:_)}function A1(f,p,b,_){var F=ra();_=_===void 0?null:_;var H=void 0;if(Ri!==null){var ee=Ri.memoizedState;if(H=ee.destroy,_!==null&&sE(_,ee.deps)){F.memoizedState=im(p,b,H,_);return}}Vr.flags|=f,F.memoizedState=im(1|p,b,H,_)}function FM(f,p){return b1(8390656,8,f,p)}function uE(f,p){return A1(2048,8,f,p)}function UM(f,p){return A1(4,2,f,p)}function VM(f,p){return A1(4,4,f,p)}function zM(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function HM(f,p,b){return b=b!=null?b.concat([f]):null,A1(4,4,zM.bind(null,p,f),b)}function fE(){}function $M(f,p){var b=ra();p=p===void 0?null:p;var _=b.memoizedState;return _!==null&&p!==null&&sE(p,_[1])?_[0]:(b.memoizedState=[f,p],f)}function GM(f,p){var b=ra();p=p===void 0?null:p;var _=b.memoizedState;return _!==null&&p!==null&&sE(p,_[1])?_[0]:(f=f(),b.memoizedState=[f,p],f)}function WM(f,p,b){return(Mf&21)===0?(f.baseState&&(f.baseState=!1,ho=!0),f.memoizedState=b):(be(b,p)||(b=Or(),Vr.lanes|=b,Df|=b,f.baseState=!0),p)}function _ee(f,p){var b=Mt;Mt=b!==0&&4>b?b:4,f(!0);var _=iE.transition;iE.transition={};try{f(!1),p()}finally{Mt=b,iE.transition=_}}function qM(){return ra().memoizedState}function Cee(f,p,b){var _=mu(f);if(b={lane:_,action:b,hasEagerState:!1,eagerState:null,next:null},KM(f))YM(p,b);else if(b=TM(f,p,b,_),b!==null){var F=Ks();ka(b,f,_,F),XM(b,p,_)}}function Iee(f,p,b){var _=mu(f),F={lane:_,action:b,hasEagerState:!1,eagerState:null,next:null};if(KM(f))YM(p,F);else{var H=f.alternate;if(f.lanes===0&&(H===null||H.lanes===0)&&(H=p.lastRenderedReducer,H!==null))try{var ee=p.lastRenderedState,fe=H(ee,b);if(F.hasEagerState=!0,F.eagerState=fe,be(fe,ee)){var ge=p.interleaved;ge===null?(F.next=F,ZA(p)):(F.next=ge.next,ge.next=F),p.interleaved=F;return}}catch{}finally{}b=TM(f,p,F,_),b!==null&&(F=Ks(),ka(b,f,_,F),XM(b,p,_))}}function KM(f){var p=f.alternate;return f===Vr||p!==null&&p===Vr}function YM(f,p){tm=x1=!0;var b=f.pending;b===null?p.next=p:(p.next=b.next,b.next=p),f.pending=p}function XM(f,p,b){if((b&4194240)!==0){var _=p.lanes;_&=f.pendingLanes,b|=_,p.lanes=b,ir(f,b)}}var E1={readContext:na,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useInsertionEffect:Is,useLayoutEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useMutableSource:Is,useSyncExternalStore:Is,useId:Is,unstable_isNewReconciler:!1},Pee={readContext:na,useCallback:function(f,p){return hl().memoizedState=[f,p===void 0?null:p],f},useContext:na,useEffect:FM,useImperativeHandle:function(f,p,b){return b=b!=null?b.concat([f]):null,b1(4194308,4,zM.bind(null,p,f),b)},useLayoutEffect:function(f,p){return b1(4194308,4,f,p)},useInsertionEffect:function(f,p){return b1(4,2,f,p)},useMemo:function(f,p){var b=hl();return p=p===void 0?null:p,f=f(),b.memoizedState=[f,p],f},useReducer:function(f,p,b){var _=hl();return p=b!==void 0?b(p):p,_.memoizedState=_.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},_.queue=f,f=f.dispatch=Cee.bind(null,Vr,f),[_.memoizedState,f]},useRef:function(f){var p=hl();return f={current:f},p.memoizedState=f},useState:BM,useDebugValue:fE,useDeferredValue:function(f){return hl().memoizedState=f},useTransition:function(){var f=BM(!1),p=f[0];return f=_ee.bind(null,f[1]),hl().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,b){var _=Vr,F=hl();if(kr){if(b===void 0)throw Error(n(407));b=b()}else{if(b=p(),Yi===null)throw Error(n(349));(Mf&30)!==0||RM(_,p,b)}F.memoizedState=b;var H={value:b,getSnapshot:p};return F.queue=H,FM(MM.bind(null,_,H,f),[f]),_.flags|=2048,im(9,kM.bind(null,_,H,b,p),void 0,null),b},useId:function(){var f=hl(),p=Yi.identifierPrefix;if(kr){var b=tc,_=ec;b=(_&~(1<<32-Pi(_)-1)).toString(32)+b,p=":"+p+"R"+b,b=nm++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=Tee++,p=":"+p+"r"+b.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},Nee={readContext:na,useCallback:$M,useContext:na,useEffect:uE,useImperativeHandle:HM,useInsertionEffect:UM,useLayoutEffect:VM,useMemo:GM,useReducer:lE,useRef:jM,useState:function(){return lE(rm)},useDebugValue:fE,useDeferredValue:function(f){var p=ra();return WM(p,Ri.memoizedState,f)},useTransition:function(){var f=lE(rm)[0],p=ra().memoizedState;return[f,p]},useMutableSource:NM,useSyncExternalStore:OM,useId:qM,unstable_isNewReconciler:!1},Oee={readContext:na,useCallback:$M,useContext:na,useEffect:uE,useImperativeHandle:HM,useInsertionEffect:UM,useLayoutEffect:VM,useMemo:GM,useReducer:cE,useRef:jM,useState:function(){return cE(rm)},useDebugValue:fE,useDeferredValue:function(f){var p=ra();return Ri===null?p.memoizedState=f:WM(p,Ri.memoizedState,f)},useTransition:function(){var f=cE(rm)[0],p=ra().memoizedState;return[f,p]},useMutableSource:NM,useSyncExternalStore:OM,useId:qM,unstable_isNewReconciler:!1};function Na(f,p){if(f&&f.defaultProps){p=we({},p),f=f.defaultProps;for(var b in f)p[b]===void 0&&(p[b]=f[b]);return p}return p}function hE(f,p,b,_){p=f.memoizedState,b=b(_,p),b=b==null?p:we({},p,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var S1={isMounted:function(f){return(f=f._reactInternals)?Gi(f)===f:!1},enqueueSetState:function(f,p,b){f=f._reactInternals;var _=Ks(),F=mu(f),H=rc(_,F);H.payload=p,b!=null&&(H.callback=b),p=hu(f,H,F),p!==null&&(ka(p,f,F,_),m1(p,f,F))},enqueueReplaceState:function(f,p,b){f=f._reactInternals;var _=Ks(),F=mu(f),H=rc(_,F);H.tag=1,H.payload=p,b!=null&&(H.callback=b),p=hu(f,H,F),p!==null&&(ka(p,f,F,_),m1(p,f,F))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var b=Ks(),_=mu(f),F=rc(b,_);F.tag=2,p!=null&&(F.callback=p),p=hu(f,F,_),p!==null&&(ka(p,f,_,b),m1(p,f,_))}};function QM(f,p,b,_,F,H,ee){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(_,H,ee):p.prototype&&p.prototype.isPureReactComponent?!Ie(b,_)||!Ie(F,H):!0}function ZM(f,p,b){var _=!1,F=cu,H=p.contextType;return typeof H=="object"&&H!==null?H=na(H):(F=fo(p)?Pf:Cs.current,_=p.contextTypes,H=(_=_!=null)?vd(f,F):cu),p=new p(b,H),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=S1,f.stateNode=p,p._reactInternals=f,_&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=F,f.__reactInternalMemoizedMaskedChildContext=H),p}function JM(f,p,b,_){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,_),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,_),p.state!==f&&S1.enqueueReplaceState(p,p.state,null)}function dE(f,p,b,_){var F=f.stateNode;F.props=b,F.state=f.memoizedState,F.refs={},JA(f);var H=p.contextType;typeof H=="object"&&H!==null?F.context=na(H):(H=fo(p)?Pf:Cs.current,F.context=vd(f,H)),F.state=f.memoizedState,H=p.getDerivedStateFromProps,typeof H=="function"&&(hE(f,p,H,b),F.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(p=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),p!==F.state&&S1.enqueueReplaceState(F,F.state,null),y1(f,b,F,_),F.state=f.memoizedState),typeof F.componentDidMount=="function"&&(f.flags|=4194308)}function _d(f,p){try{var b="",_=p;do b+=Ue(_),_=_.return;while(_);var F=b}catch(H){F=`
Error generating stack: `+H.message+`
`+H.stack}return{value:f,source:p,stack:F,digest:null}}function pE(f,p,b){return{value:f,source:null,stack:b??null,digest:p??null}}function gE(f,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var Ree=typeof WeakMap=="function"?WeakMap:Map;function e4(f,p,b){b=rc(-1,b),b.tag=3,b.payload={element:null};var _=p.value;return b.callback=function(){O1||(O1=!0,NE=_),gE(f,p)},b}function t4(f,p,b){b=rc(-1,b),b.tag=3;var _=f.type.getDerivedStateFromError;if(typeof _=="function"){var F=p.value;b.payload=function(){return _(F)},b.callback=function(){gE(f,p)}}var H=f.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(b.callback=function(){gE(f,p),typeof _!="function"&&(pu===null?pu=new Set([this]):pu.add(this));var ee=p.stack;this.componentDidCatch(p.value,{componentStack:ee!==null?ee:""})}),b}function n4(f,p,b){var _=f.pingCache;if(_===null){_=f.pingCache=new Ree;var F=new Set;_.set(p,F)}else F=_.get(p),F===void 0&&(F=new Set,_.set(p,F));F.has(b)||(F.add(b),f=Wee.bind(null,f,p,b),p.then(f,f))}function r4(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function i4(f,p,b,_,F){return(f.mode&1)===0?(f===p?f.flags|=65536:(f.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=rc(-1,1),p.tag=2,hu(b,p,1))),b.lanes|=1),f):(f.flags|=65536,f.lanes=F,f)}var kee=V.ReactCurrentOwner,ho=!1;function qs(f,p,b,_){p.child=f===null?SM(p,null,b,_):Ad(p,f.child,b,_)}function s4(f,p,b,_,F){b=b.render;var H=p.ref;return Sd(p,F),_=oE(f,p,b,_,H,F),b=aE(),f!==null&&!ho?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~F,ic(f,p,F)):(kr&&b&&HA(p),p.flags|=1,qs(f,p,_,F),p.child)}function o4(f,p,b,_,F){if(f===null){var H=b.type;return typeof H=="function"&&!BE(H)&&H.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=H,a4(f,p,H,_,F)):(f=B1(b.type,null,_,p,p.mode,F),f.ref=p.ref,f.return=p,p.child=f)}if(H=f.child,(f.lanes&F)===0){var ee=H.memoizedProps;if(b=b.compare,b=b!==null?b:Ie,b(ee,_)&&f.ref===p.ref)return ic(f,p,F)}return p.flags|=1,f=vu(H,_),f.ref=p.ref,f.return=p,p.child=f}function a4(f,p,b,_,F){if(f!==null){var H=f.memoizedProps;if(Ie(H,_)&&f.ref===p.ref)if(ho=!1,p.pendingProps=_=H,(f.lanes&F)!==0)(f.flags&131072)!==0&&(ho=!0);else return p.lanes=f.lanes,ic(f,p,F)}return mE(f,p,b,_,F)}function l4(f,p,b){var _=p.pendingProps,F=_.children,H=f!==null?f.memoizedState:null;if(_.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(Id,Do),Do|=b;else{if((b&1073741824)===0)return f=H!==null?H.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,fr(Id,Do),Do|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=H!==null?H.baseLanes:b,fr(Id,Do),Do|=_}else H!==null?(_=H.baseLanes|b,p.memoizedState=null):_=b,fr(Id,Do),Do|=_;return qs(f,p,F,b),p.child}function c4(f,p){var b=p.ref;(f===null&&b!==null||f!==null&&f.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function mE(f,p,b,_,F){var H=fo(b)?Pf:Cs.current;return H=vd(p,H),Sd(p,F),b=oE(f,p,b,_,H,F),_=aE(),f!==null&&!ho?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~F,ic(f,p,F)):(kr&&_&&HA(p),p.flags|=1,qs(f,p,b,F),p.child)}function u4(f,p,b,_,F){if(fo(b)){var H=!0;l1(p)}else H=!1;if(Sd(p,F),p.stateNode===null)_1(f,p),ZM(p,b,_),dE(p,b,_,F),_=!0;else if(f===null){var ee=p.stateNode,fe=p.memoizedProps;ee.props=fe;var ge=ee.context,Ne=b.contextType;typeof Ne=="object"&&Ne!==null?Ne=na(Ne):(Ne=fo(b)?Pf:Cs.current,Ne=vd(p,Ne));var Ge=b.getDerivedStateFromProps,qe=typeof Ge=="function"||typeof ee.getSnapshotBeforeUpdate=="function";qe||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==_||ge!==Ne)&&JM(p,ee,_,Ne),fu=!1;var ze=p.memoizedState;ee.state=ze,y1(p,_,ee,F),ge=p.memoizedState,fe!==_||ze!==ge||uo.current||fu?(typeof Ge=="function"&&(hE(p,b,Ge,_),ge=p.memoizedState),(fe=fu||QM(p,b,fe,_,ze,ge,Ne))?(qe||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=_,p.memoizedState=ge),ee.props=_,ee.state=ge,ee.context=Ne,_=fe):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),_=!1)}else{ee=p.stateNode,_M(f,p),fe=p.memoizedProps,Ne=p.type===p.elementType?fe:Na(p.type,fe),ee.props=Ne,qe=p.pendingProps,ze=ee.context,ge=b.contextType,typeof ge=="object"&&ge!==null?ge=na(ge):(ge=fo(b)?Pf:Cs.current,ge=vd(p,ge));var st=b.getDerivedStateFromProps;(Ge=typeof st=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==qe||ze!==ge)&&JM(p,ee,_,ge),fu=!1,ze=p.memoizedState,ee.state=ze,y1(p,_,ee,F);var dt=p.memoizedState;fe!==qe||ze!==dt||uo.current||fu?(typeof st=="function"&&(hE(p,b,st,_),dt=p.memoizedState),(Ne=fu||QM(p,b,Ne,_,ze,dt,ge)||!1)?(Ge||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(_,dt,ge),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(_,dt,ge)),typeof ee.componentDidUpdate=="function"&&(p.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ee.componentDidUpdate!="function"||fe===f.memoizedProps&&ze===f.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&ze===f.memoizedState||(p.flags|=1024),p.memoizedProps=_,p.memoizedState=dt),ee.props=_,ee.state=dt,ee.context=ge,_=Ne):(typeof ee.componentDidUpdate!="function"||fe===f.memoizedProps&&ze===f.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&ze===f.memoizedState||(p.flags|=1024),_=!1)}return yE(f,p,b,_,H,F)}function yE(f,p,b,_,F,H){c4(f,p);var ee=(p.flags&128)!==0;if(!_&&!ee)return F&&gM(p,b,!1),ic(f,p,H);_=p.stateNode,kee.current=p;var fe=ee&&typeof b.getDerivedStateFromError!="function"?null:_.render();return p.flags|=1,f!==null&&ee?(p.child=Ad(p,f.child,null,H),p.child=Ad(p,null,fe,H)):qs(f,p,fe,H),p.memoizedState=_.state,F&&gM(p,b,!0),p.child}function f4(f){var p=f.stateNode;p.pendingContext?dM(f,p.pendingContext,p.pendingContext!==p.context):p.context&&dM(f,p.context,!1),eE(f,p.containerInfo)}function h4(f,p,b,_,F){return bd(),qA(F),p.flags|=256,qs(f,p,b,_),p.child}var vE={dehydrated:null,treeContext:null,retryLane:0};function wE(f){return{baseLanes:f,cachePool:null,transitions:null}}function d4(f,p,b){var _=p.pendingProps,F=Ur.current,H=!1,ee=(p.flags&128)!==0,fe;if((fe=ee)||(fe=f!==null&&f.memoizedState===null?!1:(F&2)!==0),fe?(H=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(F|=1),fr(Ur,F&1),f===null)return WA(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((p.mode&1)===0?p.lanes=1:f.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(ee=_.children,f=_.fallback,H?(_=p.mode,H=p.child,ee={mode:"hidden",children:ee},(_&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=ee):H=j1(ee,_,0,null),f=Ff(f,_,b,null),H.return=p,f.return=p,H.sibling=f,p.child=H,p.child.memoizedState=wE(b),p.memoizedState=vE,f):xE(p,ee));if(F=f.memoizedState,F!==null&&(fe=F.dehydrated,fe!==null))return Mee(f,p,ee,_,fe,F,b);if(H){H=_.fallback,ee=p.mode,F=f.child,fe=F.sibling;var ge={mode:"hidden",children:_.children};return(ee&1)===0&&p.child!==F?(_=p.child,_.childLanes=0,_.pendingProps=ge,p.deletions=null):(_=vu(F,ge),_.subtreeFlags=F.subtreeFlags&14680064),fe!==null?H=vu(fe,H):(H=Ff(H,ee,b,null),H.flags|=2),H.return=p,_.return=p,_.sibling=H,p.child=_,_=H,H=p.child,ee=f.child.memoizedState,ee=ee===null?wE(b):{baseLanes:ee.baseLanes|b,cachePool:null,transitions:ee.transitions},H.memoizedState=ee,H.childLanes=f.childLanes&~b,p.memoizedState=vE,_}return H=f.child,f=H.sibling,_=vu(H,{mode:"visible",children:_.children}),(p.mode&1)===0&&(_.lanes=b),_.return=p,_.sibling=null,f!==null&&(b=p.deletions,b===null?(p.deletions=[f],p.flags|=16):b.push(f)),p.child=_,p.memoizedState=null,_}function xE(f,p){return p=j1({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function T1(f,p,b,_){return _!==null&&qA(_),Ad(p,f.child,null,b),f=xE(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function Mee(f,p,b,_,F,H,ee){if(b)return p.flags&256?(p.flags&=-257,_=pE(Error(n(422))),T1(f,p,ee,_)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(H=_.fallback,F=p.mode,_=j1({mode:"visible",children:_.children},F,0,null),H=Ff(H,F,ee,null),H.flags|=2,_.return=p,H.return=p,_.sibling=H,p.child=_,(p.mode&1)!==0&&Ad(p,f.child,null,ee),p.child.memoizedState=wE(ee),p.memoizedState=vE,H);if((p.mode&1)===0)return T1(f,p,ee,null);if(F.data==="$!"){if(_=F.nextSibling&&F.nextSibling.dataset,_)var fe=_.dgst;return _=fe,H=Error(n(419)),_=pE(H,_,void 0),T1(f,p,ee,_)}if(fe=(ee&f.childLanes)!==0,ho||fe){if(_=Yi,_!==null){switch(ee&-ee){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}F=(F&(_.suspendedLanes|ee))!==0?0:F,F!==0&&F!==H.retryLane&&(H.retryLane=F,nc(f,F),ka(_,f,F,-1))}return LE(),_=pE(Error(n(421))),T1(f,p,ee,_)}return F.data==="$?"?(p.flags|=128,p.child=f.child,p=qee.bind(null,f),F._reactRetry=p,null):(f=H.treeContext,Mo=au(F.nextSibling),ko=p,kr=!0,Pa=null,f!==null&&(ea[ta++]=ec,ea[ta++]=tc,ea[ta++]=Nf,ec=f.id,tc=f.overflow,Nf=p),p=xE(p,_.children),p.flags|=4096,p)}function p4(f,p,b){f.lanes|=p;var _=f.alternate;_!==null&&(_.lanes|=p),QA(f.return,p,b)}function bE(f,p,b,_,F){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:_,tail:b,tailMode:F}:(H.isBackwards=p,H.rendering=null,H.renderingStartTime=0,H.last=_,H.tail=b,H.tailMode=F)}function g4(f,p,b){var _=p.pendingProps,F=_.revealOrder,H=_.tail;if(qs(f,p,_.children,b),_=Ur.current,(_&2)!==0)_=_&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&p4(f,b,p);else if(f.tag===19)p4(f,b,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}_&=1}if(fr(Ur,_),(p.mode&1)===0)p.memoizedState=null;else switch(F){case"forwards":for(b=p.child,F=null;b!==null;)f=b.alternate,f!==null&&v1(f)===null&&(F=b),b=b.sibling;b=F,b===null?(F=p.child,p.child=null):(F=b.sibling,b.sibling=null),bE(p,!1,F,b,H);break;case"backwards":for(b=null,F=p.child,p.child=null;F!==null;){if(f=F.alternate,f!==null&&v1(f)===null){p.child=F;break}f=F.sibling,F.sibling=b,b=F,F=f}bE(p,!0,b,null,H);break;case"together":bE(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function _1(f,p){(p.mode&1)===0&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function ic(f,p,b){if(f!==null&&(p.dependencies=f.dependencies),Df|=p.lanes,(b&p.childLanes)===0)return null;if(f!==null&&p.child!==f.child)throw Error(n(153));if(p.child!==null){for(f=p.child,b=vu(f,f.pendingProps),p.child=b,b.return=p;f.sibling!==null;)f=f.sibling,b=b.sibling=vu(f,f.pendingProps),b.return=p;b.sibling=null}return p.child}function Dee(f,p,b){switch(p.tag){case 3:f4(p),bd();break;case 5:PM(p);break;case 1:fo(p.type)&&l1(p);break;case 4:eE(p,p.stateNode.containerInfo);break;case 10:var _=p.type._context,F=p.memoizedProps.value;fr(p1,_._currentValue),_._currentValue=F;break;case 13:if(_=p.memoizedState,_!==null)return _.dehydrated!==null?(fr(Ur,Ur.current&1),p.flags|=128,null):(b&p.child.childLanes)!==0?d4(f,p,b):(fr(Ur,Ur.current&1),f=ic(f,p,b),f!==null?f.sibling:null);fr(Ur,Ur.current&1);break;case 19:if(_=(b&p.childLanes)!==0,(f.flags&128)!==0){if(_)return g4(f,p,b);p.flags|=128}if(F=p.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),fr(Ur,Ur.current),_)break;return null;case 22:case 23:return p.lanes=0,l4(f,p,b)}return ic(f,p,b)}var m4,AE,y4,v4;m4=function(f,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},AE=function(){},y4=function(f,p,b,_){var F=f.memoizedProps;if(F!==_){f=p.stateNode,kf(fl.current);var H=null;switch(b){case"input":F=ht(f,F),_=ht(f,_),H=[];break;case"select":F=we({},F,{value:void 0}),_=we({},_,{value:void 0}),H=[];break;case"textarea":F=Tn(f,F),_=Tn(f,_),H=[];break;default:typeof F.onClick!="function"&&typeof _.onClick=="function"&&(f.onclick=s1)}un(b,_);var ee;b=null;for(Ne in F)if(!_.hasOwnProperty(Ne)&&F.hasOwnProperty(Ne)&&F[Ne]!=null)if(Ne==="style"){var fe=F[Ne];for(ee in fe)fe.hasOwnProperty(ee)&&(b||(b={}),b[ee]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(i.hasOwnProperty(Ne)?H||(H=[]):(H=H||[]).push(Ne,null));for(Ne in _){var ge=_[Ne];if(fe=F?.[Ne],_.hasOwnProperty(Ne)&&ge!==fe&&(ge!=null||fe!=null))if(Ne==="style")if(fe){for(ee in fe)!fe.hasOwnProperty(ee)||ge&&ge.hasOwnProperty(ee)||(b||(b={}),b[ee]="");for(ee in ge)ge.hasOwnProperty(ee)&&fe[ee]!==ge[ee]&&(b||(b={}),b[ee]=ge[ee])}else b||(H||(H=[]),H.push(Ne,b)),b=ge;else Ne==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,fe=fe?fe.__html:void 0,ge!=null&&fe!==ge&&(H=H||[]).push(Ne,ge)):Ne==="children"?typeof ge!="string"&&typeof ge!="number"||(H=H||[]).push(Ne,""+ge):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ne)?(ge!=null&&Ne==="onScroll"&&Er("scroll",f),H||fe===ge||(H=[])):(H=H||[]).push(Ne,ge))}b&&(H=H||[]).push("style",b);var Ne=H;(p.updateQueue=Ne)&&(p.flags|=4)}},v4=function(f,p,b,_){b!==_&&(p.flags|=4)};function sm(f,p){if(!kr)switch(f.tailMode){case"hidden":p=f.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var _=null;b!==null;)b.alternate!==null&&(_=b),b=b.sibling;_===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:_.sibling=null}}function Ps(f){var p=f.alternate!==null&&f.alternate.child===f.child,b=0,_=0;if(p)for(var F=f.child;F!==null;)b|=F.lanes|F.childLanes,_|=F.subtreeFlags&14680064,_|=F.flags&14680064,F.return=f,F=F.sibling;else for(F=f.child;F!==null;)b|=F.lanes|F.childLanes,_|=F.subtreeFlags,_|=F.flags,F.return=f,F=F.sibling;return f.subtreeFlags|=_,f.childLanes=b,p}function Lee(f,p,b){var _=p.pendingProps;switch($A(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps(p),null;case 1:return fo(p.type)&&a1(),Ps(p),null;case 3:return _=p.stateNode,Td(),Sr(uo),Sr(Cs),rE(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(h1(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Pa!==null&&(kE(Pa),Pa=null))),AE(f,p),Ps(p),null;case 5:tE(p);var F=kf(em.current);if(b=p.type,f!==null&&p.stateNode!=null)y4(f,p,b,_,F),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!_){if(p.stateNode===null)throw Error(n(166));return Ps(p),null}if(f=kf(fl.current),h1(p)){_=p.stateNode,b=p.type;var H=p.memoizedProps;switch(_[ul]=p,_[Yg]=H,f=(p.mode&1)!==0,b){case"dialog":Er("cancel",_),Er("close",_);break;case"iframe":case"object":case"embed":Er("load",_);break;case"video":case"audio":for(F=0;F<Wg.length;F++)Er(Wg[F],_);break;case"source":Er("error",_);break;case"img":case"image":case"link":Er("error",_),Er("load",_);break;case"details":Er("toggle",_);break;case"input":jt(_,H),Er("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!H.multiple},Er("invalid",_);break;case"textarea":wi(_,H),Er("invalid",_)}un(b,H),F=null;for(var ee in H)if(H.hasOwnProperty(ee)){var fe=H[ee];ee==="children"?typeof fe=="string"?_.textContent!==fe&&(H.suppressHydrationWarning!==!0&&i1(_.textContent,fe,f),F=["children",fe]):typeof fe=="number"&&_.textContent!==""+fe&&(H.suppressHydrationWarning!==!0&&i1(_.textContent,fe,f),F=["children",""+fe]):i.hasOwnProperty(ee)&&fe!=null&&ee==="onScroll"&&Er("scroll",_)}switch(b){case"input":$e(_),Kt(_,H,!0);break;case"textarea":$e(_),so(_);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(_.onclick=s1)}_=F,p.updateQueue=_,_!==null&&(p.flags|=4)}else{ee=F.nodeType===9?F:F.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=cn(b)),f==="http://www.w3.org/1999/xhtml"?b==="script"?(f=ee.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof _.is=="string"?f=ee.createElement(b,{is:_.is}):(f=ee.createElement(b),b==="select"&&(ee=f,_.multiple?ee.multiple=!0:_.size&&(ee.size=_.size))):f=ee.createElementNS(f,b),f[ul]=p,f[Yg]=_,m4(f,p,!1,!1),p.stateNode=f;e:{switch(ee=Bn(b,_),b){case"dialog":Er("cancel",f),Er("close",f),F=_;break;case"iframe":case"object":case"embed":Er("load",f),F=_;break;case"video":case"audio":for(F=0;F<Wg.length;F++)Er(Wg[F],f);F=_;break;case"source":Er("error",f),F=_;break;case"img":case"image":case"link":Er("error",f),Er("load",f),F=_;break;case"details":Er("toggle",f),F=_;break;case"input":jt(f,_),F=ht(f,_),Er("invalid",f);break;case"option":F=_;break;case"select":f._wrapperState={wasMultiple:!!_.multiple},F=we({},_,{value:void 0}),Er("invalid",f);break;case"textarea":wi(f,_),F=Tn(f,_),Er("invalid",f);break;default:F=_}un(b,F),fe=F;for(H in fe)if(fe.hasOwnProperty(H)){var ge=fe[H];H==="style"?Qe(f,ge):H==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&yr(f,ge)):H==="children"?typeof ge=="string"?(b!=="textarea"||ge!=="")&&$i(f,ge):typeof ge=="number"&&$i(f,""+ge):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?ge!=null&&H==="onScroll"&&Er("scroll",f):ge!=null&&k(f,H,ge,ee))}switch(b){case"input":$e(f),Kt(f,_,!1);break;case"textarea":$e(f),so(f);break;case"option":_.value!=null&&f.setAttribute("value",""+De(_.value));break;case"select":f.multiple=!!_.multiple,H=_.value,H!=null?nt(f,!!_.multiple,H,!1):_.defaultValue!=null&&nt(f,!!_.multiple,_.defaultValue,!0);break;default:typeof F.onClick=="function"&&(f.onclick=s1)}switch(b){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Ps(p),null;case 6:if(f&&p.stateNode!=null)v4(f,p,f.memoizedProps,_);else{if(typeof _!="string"&&p.stateNode===null)throw Error(n(166));if(b=kf(em.current),kf(fl.current),h1(p)){if(_=p.stateNode,b=p.memoizedProps,_[ul]=p,(H=_.nodeValue!==b)&&(f=ko,f!==null))switch(f.tag){case 3:i1(_.nodeValue,b,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&i1(_.nodeValue,b,(f.mode&1)!==0)}H&&(p.flags|=4)}else _=(b.nodeType===9?b:b.ownerDocument).createTextNode(_),_[ul]=p,p.stateNode=_}return Ps(p),null;case 13:if(Sr(Ur),_=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(kr&&Mo!==null&&(p.mode&1)!==0&&(p.flags&128)===0)bM(),bd(),p.flags|=98560,H=!1;else if(H=h1(p),_!==null&&_.dehydrated!==null){if(f===null){if(!H)throw Error(n(318));if(H=p.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[ul]=p}else bd(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Ps(p),H=!1}else Pa!==null&&(kE(Pa),Pa=null),H=!0;if(!H)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=b,p):(_=_!==null,_!==(f!==null&&f.memoizedState!==null)&&_&&(p.child.flags|=8192,(p.mode&1)!==0&&(f===null||(Ur.current&1)!==0?ki===0&&(ki=3):LE())),p.updateQueue!==null&&(p.flags|=4),Ps(p),null);case 4:return Td(),AE(f,p),f===null&&qg(p.stateNode.containerInfo),Ps(p),null;case 10:return XA(p.type._context),Ps(p),null;case 17:return fo(p.type)&&a1(),Ps(p),null;case 19:if(Sr(Ur),H=p.memoizedState,H===null)return Ps(p),null;if(_=(p.flags&128)!==0,ee=H.rendering,ee===null)if(_)sm(H,!1);else{if(ki!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(ee=v1(f),ee!==null){for(p.flags|=128,sm(H,!1),_=ee.updateQueue,_!==null&&(p.updateQueue=_,p.flags|=4),p.subtreeFlags=0,_=b,b=p.child;b!==null;)H=b,f=_,H.flags&=14680066,ee=H.alternate,ee===null?(H.childLanes=0,H.lanes=f,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=ee.childLanes,H.lanes=ee.lanes,H.child=ee.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=ee.memoizedProps,H.memoizedState=ee.memoizedState,H.updateQueue=ee.updateQueue,H.type=ee.type,f=ee.dependencies,H.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),b=b.sibling;return fr(Ur,Ur.current&1|2),p.child}f=f.sibling}H.tail!==null&&vn()>Pd&&(p.flags|=128,_=!0,sm(H,!1),p.lanes=4194304)}else{if(!_)if(f=v1(ee),f!==null){if(p.flags|=128,_=!0,b=f.updateQueue,b!==null&&(p.updateQueue=b,p.flags|=4),sm(H,!0),H.tail===null&&H.tailMode==="hidden"&&!ee.alternate&&!kr)return Ps(p),null}else 2*vn()-H.renderingStartTime>Pd&&b!==1073741824&&(p.flags|=128,_=!0,sm(H,!1),p.lanes=4194304);H.isBackwards?(ee.sibling=p.child,p.child=ee):(b=H.last,b!==null?b.sibling=ee:p.child=ee,H.last=ee)}return H.tail!==null?(p=H.tail,H.rendering=p,H.tail=p.sibling,H.renderingStartTime=vn(),p.sibling=null,b=Ur.current,fr(Ur,_?b&1|2:b&1),p):(Ps(p),null);case 22:case 23:return DE(),_=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==_&&(p.flags|=8192),_&&(p.mode&1)!==0?(Do&1073741824)!==0&&(Ps(p),p.subtreeFlags&6&&(p.flags|=8192)):Ps(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function Bee(f,p){switch($A(p),p.tag){case 1:return fo(p.type)&&a1(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Td(),Sr(uo),Sr(Cs),rE(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 5:return tE(p),null;case 13:if(Sr(Ur),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(n(340));bd()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return Sr(Ur),null;case 4:return Td(),null;case 10:return XA(p.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var C1=!1,Ns=!1,jee=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Cd(f,p){var b=f.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(_){Xr(f,p,_)}else b.current=null}function EE(f,p,b){try{b()}catch(_){Xr(f,p,_)}}var w4=!1;function Fee(f,p){if(DA=ao,f=tn(),Ut(f)){if("selectionStart"in f)var b={start:f.selectionStart,end:f.selectionEnd};else e:{b=(b=f.ownerDocument)&&b.defaultView||window;var _=b.getSelection&&b.getSelection();if(_&&_.rangeCount!==0){b=_.anchorNode;var F=_.anchorOffset,H=_.focusNode;_=_.focusOffset;try{b.nodeType,H.nodeType}catch{b=null;break e}var ee=0,fe=-1,ge=-1,Ne=0,Ge=0,qe=f,ze=null;t:for(;;){for(var st;qe!==b||F!==0&&qe.nodeType!==3||(fe=ee+F),qe!==H||_!==0&&qe.nodeType!==3||(ge=ee+_),qe.nodeType===3&&(ee+=qe.nodeValue.length),(st=qe.firstChild)!==null;)ze=qe,qe=st;for(;;){if(qe===f)break t;if(ze===b&&++Ne===F&&(fe=ee),ze===H&&++Ge===_&&(ge=ee),(st=qe.nextSibling)!==null)break;qe=ze,ze=qe.parentNode}qe=st}b=fe===-1||ge===-1?null:{start:fe,end:ge}}else b=null}b=b||{start:0,end:0}}else b=null;for(LA={focusedElem:f,selectionRange:b},ao=!1,lt=p;lt!==null;)if(p=lt,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,lt=f;else for(;lt!==null;){p=lt;try{var dt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var mt=dt.memoizedProps,di=dt.memoizedState,Se=p.stateNode,ve=Se.getSnapshotBeforeUpdate(p.elementType===p.type?mt:Na(p.type,mt),di);Se.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Te=p.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Xe){Xr(p,p.return,Xe)}if(f=p.sibling,f!==null){f.return=p.return,lt=f;break}lt=p.return}return dt=w4,w4=!1,dt}function om(f,p,b){var _=p.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var F=_=_.next;do{if((F.tag&f)===f){var H=F.destroy;F.destroy=void 0,H!==void 0&&EE(p,b,H)}F=F.next}while(F!==_)}}function I1(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&f)===f){var _=b.create;b.destroy=_()}b=b.next}while(b!==p)}}function SE(f){var p=f.ref;if(p!==null){var b=f.stateNode;switch(f.tag){case 5:f=b;break;default:f=b}typeof p=="function"?p(f):p.current=f}}function x4(f){var p=f.alternate;p!==null&&(f.alternate=null,x4(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[ul],delete p[Yg],delete p[UA],delete p[bee],delete p[Aee])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function b4(f){return f.tag===5||f.tag===3||f.tag===4}function A4(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||b4(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function TE(f,p,b){var _=f.tag;if(_===5||_===6)f=f.stateNode,p?b.nodeType===8?b.parentNode.insertBefore(f,p):b.insertBefore(f,p):(b.nodeType===8?(p=b.parentNode,p.insertBefore(f,b)):(p=b,p.appendChild(f)),b=b._reactRootContainer,b!=null||p.onclick!==null||(p.onclick=s1));else if(_!==4&&(f=f.child,f!==null))for(TE(f,p,b),f=f.sibling;f!==null;)TE(f,p,b),f=f.sibling}function _E(f,p,b){var _=f.tag;if(_===5||_===6)f=f.stateNode,p?b.insertBefore(f,p):b.appendChild(f);else if(_!==4&&(f=f.child,f!==null))for(_E(f,p,b),f=f.sibling;f!==null;)_E(f,p,b),f=f.sibling}var us=null,Oa=!1;function du(f,p,b){for(b=b.child;b!==null;)E4(f,p,b),b=b.sibling}function E4(f,p,b){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(sn,b)}catch{}switch(b.tag){case 5:Ns||Cd(b,p);case 6:var _=us,F=Oa;us=null,du(f,p,b),us=_,Oa=F,us!==null&&(Oa?(f=us,b=b.stateNode,f.nodeType===8?f.parentNode.removeChild(b):f.removeChild(b)):us.removeChild(b.stateNode));break;case 18:us!==null&&(Oa?(f=us,b=b.stateNode,f.nodeType===8?FA(f.parentNode,b):f.nodeType===1&&FA(f,b),os(f)):FA(us,b.stateNode));break;case 4:_=us,F=Oa,us=b.stateNode.containerInfo,Oa=!0,du(f,p,b),us=_,Oa=F;break;case 0:case 11:case 14:case 15:if(!Ns&&(_=b.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){F=_=_.next;do{var H=F,ee=H.destroy;H=H.tag,ee!==void 0&&((H&2)!==0||(H&4)!==0)&&EE(b,p,ee),F=F.next}while(F!==_)}du(f,p,b);break;case 1:if(!Ns&&(Cd(b,p),_=b.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=b.memoizedProps,_.state=b.memoizedState,_.componentWillUnmount()}catch(fe){Xr(b,p,fe)}du(f,p,b);break;case 21:du(f,p,b);break;case 22:b.mode&1?(Ns=(_=Ns)||b.memoizedState!==null,du(f,p,b),Ns=_):du(f,p,b);break;default:du(f,p,b)}}function S4(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var b=f.stateNode;b===null&&(b=f.stateNode=new jee),p.forEach(function(_){var F=Kee.bind(null,f,_);b.has(_)||(b.add(_),_.then(F,F))})}}function Ra(f,p){var b=p.deletions;if(b!==null)for(var _=0;_<b.length;_++){var F=b[_];try{var H=f,ee=p,fe=ee;e:for(;fe!==null;){switch(fe.tag){case 5:us=fe.stateNode,Oa=!1;break e;case 3:us=fe.stateNode.containerInfo,Oa=!0;break e;case 4:us=fe.stateNode.containerInfo,Oa=!0;break e}fe=fe.return}if(us===null)throw Error(n(160));E4(H,ee,F),us=null,Oa=!1;var ge=F.alternate;ge!==null&&(ge.return=null),F.return=null}catch(Ne){Xr(F,p,Ne)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)T4(p,f),p=p.sibling}function T4(f,p){var b=f.alternate,_=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Ra(p,f),dl(f),_&4){try{om(3,f,f.return),I1(3,f)}catch(mt){Xr(f,f.return,mt)}try{om(5,f,f.return)}catch(mt){Xr(f,f.return,mt)}}break;case 1:Ra(p,f),dl(f),_&512&&b!==null&&Cd(b,b.return);break;case 5:if(Ra(p,f),dl(f),_&512&&b!==null&&Cd(b,b.return),f.flags&32){var F=f.stateNode;try{$i(F,"")}catch(mt){Xr(f,f.return,mt)}}if(_&4&&(F=f.stateNode,F!=null)){var H=f.memoizedProps,ee=b!==null?b.memoizedProps:H,fe=f.type,ge=f.updateQueue;if(f.updateQueue=null,ge!==null)try{fe==="input"&&H.type==="radio"&&H.name!=null&&Yt(F,H),Bn(fe,ee);var Ne=Bn(fe,H);for(ee=0;ee<ge.length;ee+=2){var Ge=ge[ee],qe=ge[ee+1];Ge==="style"?Qe(F,qe):Ge==="dangerouslySetInnerHTML"?yr(F,qe):Ge==="children"?$i(F,qe):k(F,Ge,qe,Ne)}switch(fe){case"input":kt(F,H);break;case"textarea":si(F,H);break;case"select":var ze=F._wrapperState.wasMultiple;F._wrapperState.wasMultiple=!!H.multiple;var st=H.value;st!=null?nt(F,!!H.multiple,st,!1):ze!==!!H.multiple&&(H.defaultValue!=null?nt(F,!!H.multiple,H.defaultValue,!0):nt(F,!!H.multiple,H.multiple?[]:"",!1))}F[Yg]=H}catch(mt){Xr(f,f.return,mt)}}break;case 6:if(Ra(p,f),dl(f),_&4){if(f.stateNode===null)throw Error(n(162));F=f.stateNode,H=f.memoizedProps;try{F.nodeValue=H}catch(mt){Xr(f,f.return,mt)}}break;case 3:if(Ra(p,f),dl(f),_&4&&b!==null&&b.memoizedState.isDehydrated)try{os(p.containerInfo)}catch(mt){Xr(f,f.return,mt)}break;case 4:Ra(p,f),dl(f);break;case 13:Ra(p,f),dl(f),F=f.child,F.flags&8192&&(H=F.memoizedState!==null,F.stateNode.isHidden=H,!H||F.alternate!==null&&F.alternate.memoizedState!==null||(PE=vn())),_&4&&S4(f);break;case 22:if(Ge=b!==null&&b.memoizedState!==null,f.mode&1?(Ns=(Ne=Ns)||Ge,Ra(p,f),Ns=Ne):Ra(p,f),dl(f),_&8192){if(Ne=f.memoizedState!==null,(f.stateNode.isHidden=Ne)&&!Ge&&(f.mode&1)!==0)for(lt=f,Ge=f.child;Ge!==null;){for(qe=lt=Ge;lt!==null;){switch(ze=lt,st=ze.child,ze.tag){case 0:case 11:case 14:case 15:om(4,ze,ze.return);break;case 1:Cd(ze,ze.return);var dt=ze.stateNode;if(typeof dt.componentWillUnmount=="function"){_=ze,b=ze.return;try{p=_,dt.props=p.memoizedProps,dt.state=p.memoizedState,dt.componentWillUnmount()}catch(mt){Xr(_,b,mt)}}break;case 5:Cd(ze,ze.return);break;case 22:if(ze.memoizedState!==null){I4(qe);continue}}st!==null?(st.return=ze,lt=st):I4(qe)}Ge=Ge.sibling}e:for(Ge=null,qe=f;;){if(qe.tag===5){if(Ge===null){Ge=qe;try{F=qe.stateNode,Ne?(H=F.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(fe=qe.stateNode,ge=qe.memoizedProps.style,ee=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,fe.style.display=Xn("display",ee))}catch(mt){Xr(f,f.return,mt)}}}else if(qe.tag===6){if(Ge===null)try{qe.stateNode.nodeValue=Ne?"":qe.memoizedProps}catch(mt){Xr(f,f.return,mt)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===f)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===f)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===f)break e;Ge===qe&&(Ge=null),qe=qe.return}Ge===qe&&(Ge=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Ra(p,f),dl(f),_&4&&S4(f);break;case 21:break;default:Ra(p,f),dl(f)}}function dl(f){var p=f.flags;if(p&2){try{e:{for(var b=f.return;b!==null;){if(b4(b)){var _=b;break e}b=b.return}throw Error(n(160))}switch(_.tag){case 5:var F=_.stateNode;_.flags&32&&($i(F,""),_.flags&=-33);var H=A4(f);_E(f,H,F);break;case 3:case 4:var ee=_.stateNode.containerInfo,fe=A4(f);TE(f,fe,ee);break;default:throw Error(n(161))}}catch(ge){Xr(f,f.return,ge)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function Uee(f,p,b){lt=f,_4(f)}function _4(f,p,b){for(var _=(f.mode&1)!==0;lt!==null;){var F=lt,H=F.child;if(F.tag===22&&_){var ee=F.memoizedState!==null||C1;if(!ee){var fe=F.alternate,ge=fe!==null&&fe.memoizedState!==null||Ns;fe=C1;var Ne=Ns;if(C1=ee,(Ns=ge)&&!Ne)for(lt=F;lt!==null;)ee=lt,ge=ee.child,ee.tag===22&&ee.memoizedState!==null?P4(F):ge!==null?(ge.return=ee,lt=ge):P4(F);for(;H!==null;)lt=H,_4(H),H=H.sibling;lt=F,C1=fe,Ns=Ne}C4(f)}else(F.subtreeFlags&8772)!==0&&H!==null?(H.return=F,lt=H):C4(f)}}function C4(f){for(;lt!==null;){var p=lt;if((p.flags&8772)!==0){var b=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Ns||I1(5,p);break;case 1:var _=p.stateNode;if(p.flags&4&&!Ns)if(b===null)_.componentDidMount();else{var F=p.elementType===p.type?b.memoizedProps:Na(p.type,b.memoizedProps);_.componentDidUpdate(F,b.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var H=p.updateQueue;H!==null&&IM(p,H,_);break;case 3:var ee=p.updateQueue;if(ee!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=p.child.stateNode;break;case 1:b=p.child.stateNode}IM(p,ee,b)}break;case 5:var fe=p.stateNode;if(b===null&&p.flags&4){b=fe;var ge=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&b.focus();break;case"img":ge.src&&(b.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Ne=p.alternate;if(Ne!==null){var Ge=Ne.memoizedState;if(Ge!==null){var qe=Ge.dehydrated;qe!==null&&os(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ns||p.flags&512&&SE(p)}catch(ze){Xr(p,p.return,ze)}}if(p===f){lt=null;break}if(b=p.sibling,b!==null){b.return=p.return,lt=b;break}lt=p.return}}function I4(f){for(;lt!==null;){var p=lt;if(p===f){lt=null;break}var b=p.sibling;if(b!==null){b.return=p.return,lt=b;break}lt=p.return}}function P4(f){for(;lt!==null;){var p=lt;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{I1(4,p)}catch(ge){Xr(p,b,ge)}break;case 1:var _=p.stateNode;if(typeof _.componentDidMount=="function"){var F=p.return;try{_.componentDidMount()}catch(ge){Xr(p,F,ge)}}var H=p.return;try{SE(p)}catch(ge){Xr(p,H,ge)}break;case 5:var ee=p.return;try{SE(p)}catch(ge){Xr(p,ee,ge)}}}catch(ge){Xr(p,p.return,ge)}if(p===f){lt=null;break}var fe=p.sibling;if(fe!==null){fe.return=p.return,lt=fe;break}lt=p.return}}var Vee=Math.ceil,P1=V.ReactCurrentDispatcher,CE=V.ReactCurrentOwner,ia=V.ReactCurrentBatchConfig,Sn=0,Yi=null,xi=null,fs=0,Do=0,Id=lu(0),ki=0,am=null,Df=0,N1=0,IE=0,lm=null,po=null,PE=0,Pd=1/0,sc=null,O1=!1,NE=null,pu=null,R1=!1,gu=null,k1=0,cm=0,OE=null,M1=-1,D1=0;function Ks(){return(Sn&6)!==0?vn():M1!==-1?M1:M1=vn()}function mu(f){return(f.mode&1)===0?1:(Sn&2)!==0&&fs!==0?fs&-fs:See.transition!==null?(D1===0&&(D1=Or()),D1):(f=Mt,f!==0||(f=window.event,f=f===void 0?16:tu(f.type)),f)}function ka(f,p,b,_){if(50<cm)throw cm=0,OE=null,Error(n(185));ie(f,b,_),((Sn&2)===0||f!==Yi)&&(f===Yi&&((Sn&2)===0&&(N1|=b),ki===4&&yu(f,fs)),go(f,_),b===1&&Sn===0&&(p.mode&1)===0&&(Pd=vn()+500,c1&&uu()))}function go(f,p){var b=f.callbackNode;As(f,p);var _=bs(f,f===Yi?fs:0);if(_===0)b!==null&&ci(b),f.callbackNode=null,f.callbackPriority=0;else if(p=_&-_,f.callbackPriority!==p){if(b!=null&&ci(b),p===1)f.tag===0?Eee(O4.bind(null,f)):mM(O4.bind(null,f)),wee(function(){(Sn&6)===0&&uu()}),b=null;else{switch(sl(_)){case 1:b=Be;break;case 4:b=il;break;case 16:b=wn;break;case 536870912:b=ld;break;default:b=wn}b=F4(b,N4.bind(null,f))}f.callbackPriority=p,f.callbackNode=b}}function N4(f,p){if(M1=-1,D1=0,(Sn&6)!==0)throw Error(n(327));var b=f.callbackNode;if(Nd()&&f.callbackNode!==b)return null;var _=bs(f,f===Yi?fs:0);if(_===0)return null;if((_&30)!==0||(_&f.expiredLanes)!==0||p)p=L1(f,_);else{p=_;var F=Sn;Sn|=2;var H=k4();(Yi!==f||fs!==p)&&(sc=null,Pd=vn()+500,Bf(f,p));do try{$ee();break}catch(fe){R4(f,fe)}while(!0);YA(),P1.current=H,Sn=F,xi!==null?p=0:(Yi=null,fs=0,p=ki)}if(p!==0){if(p===2&&(F=Jt(f),F!==0&&(_=F,p=RE(f,F))),p===1)throw b=am,Bf(f,0),yu(f,_),go(f,vn()),b;if(p===6)yu(f,_);else{if(F=f.current.alternate,(_&30)===0&&!zee(F)&&(p=L1(f,_),p===2&&(H=Jt(f),H!==0&&(_=H,p=RE(f,H))),p===1))throw b=am,Bf(f,0),yu(f,_),go(f,vn()),b;switch(f.finishedWork=F,f.finishedLanes=_,p){case 0:case 1:throw Error(n(345));case 2:jf(f,po,sc);break;case 3:if(yu(f,_),(_&130023424)===_&&(p=PE+500-vn(),10<p)){if(bs(f,0)!==0)break;if(F=f.suspendedLanes,(F&_)!==_){Ks(),f.pingedLanes|=f.suspendedLanes&F;break}f.timeoutHandle=jA(jf.bind(null,f,po,sc),p);break}jf(f,po,sc);break;case 4:if(yu(f,_),(_&4194240)===_)break;for(p=f.eventTimes,F=-1;0<_;){var ee=31-Pi(_);H=1<<ee,ee=p[ee],ee>F&&(F=ee),_&=~H}if(_=F,_=vn()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*Vee(_/1960))-_,10<_){f.timeoutHandle=jA(jf.bind(null,f,po,sc),_);break}jf(f,po,sc);break;case 5:jf(f,po,sc);break;default:throw Error(n(329))}}}return go(f,vn()),f.callbackNode===b?N4.bind(null,f):null}function RE(f,p){var b=lm;return f.current.memoizedState.isDehydrated&&(Bf(f,p).flags|=256),f=L1(f,p),f!==2&&(p=po,po=b,p!==null&&kE(p)),f}function kE(f){po===null?po=f:po.push.apply(po,f)}function zee(f){for(var p=f;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var _=0;_<b.length;_++){var F=b[_],H=F.getSnapshot;F=F.value;try{if(!be(H(),F))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function yu(f,p){for(p&=~IE,p&=~N1,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var b=31-Pi(p),_=1<<b;f[b]=-1,p&=~_}}function O4(f){if((Sn&6)!==0)throw Error(n(327));Nd();var p=bs(f,0);if((p&1)===0)return go(f,vn()),null;var b=L1(f,p);if(f.tag!==0&&b===2){var _=Jt(f);_!==0&&(p=_,b=RE(f,_))}if(b===1)throw b=am,Bf(f,0),yu(f,p),go(f,vn()),b;if(b===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,jf(f,po,sc),go(f,vn()),null}function ME(f,p){var b=Sn;Sn|=1;try{return f(p)}finally{Sn=b,Sn===0&&(Pd=vn()+500,c1&&uu())}}function Lf(f){gu!==null&&gu.tag===0&&(Sn&6)===0&&Nd();var p=Sn;Sn|=1;var b=ia.transition,_=Mt;try{if(ia.transition=null,Mt=1,f)return f()}finally{Mt=_,ia.transition=b,Sn=p,(Sn&6)===0&&uu()}}function DE(){Do=Id.current,Sr(Id)}function Bf(f,p){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;if(b!==-1&&(f.timeoutHandle=-1,vee(b)),xi!==null)for(b=xi.return;b!==null;){var _=b;switch($A(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&a1();break;case 3:Td(),Sr(uo),Sr(Cs),rE();break;case 5:tE(_);break;case 4:Td();break;case 13:Sr(Ur);break;case 19:Sr(Ur);break;case 10:XA(_.type._context);break;case 22:case 23:DE()}b=b.return}if(Yi=f,xi=f=vu(f.current,null),fs=Do=p,ki=0,am=null,IE=N1=Df=0,po=lm=null,Rf!==null){for(p=0;p<Rf.length;p++)if(b=Rf[p],_=b.interleaved,_!==null){b.interleaved=null;var F=_.next,H=b.pending;if(H!==null){var ee=H.next;H.next=F,_.next=ee}b.pending=_}Rf=null}return f}function R4(f,p){do{var b=xi;try{if(YA(),w1.current=E1,x1){for(var _=Vr.memoizedState;_!==null;){var F=_.queue;F!==null&&(F.pending=null),_=_.next}x1=!1}if(Mf=0,Ki=Ri=Vr=null,tm=!1,nm=0,CE.current=null,b===null||b.return===null){ki=1,am=p,xi=null;break}e:{var H=f,ee=b.return,fe=b,ge=p;if(p=fs,fe.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ne=ge,Ge=fe,qe=Ge.tag;if((Ge.mode&1)===0&&(qe===0||qe===11||qe===15)){var ze=Ge.alternate;ze?(Ge.updateQueue=ze.updateQueue,Ge.memoizedState=ze.memoizedState,Ge.lanes=ze.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var st=r4(ee);if(st!==null){st.flags&=-257,i4(st,ee,fe,H,p),st.mode&1&&n4(H,Ne,p),p=st,ge=Ne;var dt=p.updateQueue;if(dt===null){var mt=new Set;mt.add(ge),p.updateQueue=mt}else dt.add(ge);break e}else{if((p&1)===0){n4(H,Ne,p),LE();break e}ge=Error(n(426))}}else if(kr&&fe.mode&1){var di=r4(ee);if(di!==null){(di.flags&65536)===0&&(di.flags|=256),i4(di,ee,fe,H,p),qA(_d(ge,fe));break e}}H=ge=_d(ge,fe),ki!==4&&(ki=2),lm===null?lm=[H]:lm.push(H),H=ee;do{switch(H.tag){case 3:H.flags|=65536,p&=-p,H.lanes|=p;var Se=e4(H,ge,p);CM(H,Se);break e;case 1:fe=ge;var ve=H.type,Te=H.stateNode;if((H.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(pu===null||!pu.has(Te)))){H.flags|=65536,p&=-p,H.lanes|=p;var Xe=t4(H,fe,p);CM(H,Xe);break e}}H=H.return}while(H!==null)}D4(b)}catch(yt){p=yt,xi===b&&b!==null&&(xi=b=b.return);continue}break}while(!0)}function k4(){var f=P1.current;return P1.current=E1,f===null?E1:f}function LE(){(ki===0||ki===3||ki===2)&&(ki=4),Yi===null||(Df&268435455)===0&&(N1&268435455)===0||yu(Yi,fs)}function L1(f,p){var b=Sn;Sn|=2;var _=k4();(Yi!==f||fs!==p)&&(sc=null,Bf(f,p));do try{Hee();break}catch(F){R4(f,F)}while(!0);if(YA(),Sn=b,P1.current=_,xi!==null)throw Error(n(261));return Yi=null,fs=0,ki}function Hee(){for(;xi!==null;)M4(xi)}function $ee(){for(;xi!==null&&!$n();)M4(xi)}function M4(f){var p=j4(f.alternate,f,Do);f.memoizedProps=f.pendingProps,p===null?D4(f):xi=p,CE.current=null}function D4(f){var p=f;do{var b=p.alternate;if(f=p.return,(p.flags&32768)===0){if(b=Lee(b,p,Do),b!==null){xi=b;return}}else{if(b=Bee(b,p),b!==null){b.flags&=32767,xi=b;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{ki=6,xi=null;return}}if(p=p.sibling,p!==null){xi=p;return}xi=p=f}while(p!==null);ki===0&&(ki=5)}function jf(f,p,b){var _=Mt,F=ia.transition;try{ia.transition=null,Mt=1,Gee(f,p,b,_)}finally{ia.transition=F,Mt=_}return null}function Gee(f,p,b,_){do Nd();while(gu!==null);if((Sn&6)!==0)throw Error(n(327));b=f.finishedWork;var F=f.finishedLanes;if(b===null)return null;if(f.finishedWork=null,f.finishedLanes=0,b===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var H=b.lanes|b.childLanes;if(tt(f,H),f===Yi&&(xi=Yi=null,fs=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||R1||(R1=!0,F4(wn,function(){return Nd(),null})),H=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||H){H=ia.transition,ia.transition=null;var ee=Mt;Mt=1;var fe=Sn;Sn|=4,CE.current=null,Fee(f,b),T4(b,f),_s(LA),ao=!!DA,LA=DA=null,f.current=b,Uee(b),ad(),Sn=fe,Mt=ee,ia.transition=H}else f.current=b;if(R1&&(R1=!1,gu=f,k1=F),H=f.pendingLanes,H===0&&(pu=null),Zt(b.stateNode),go(f,vn()),p!==null)for(_=f.onRecoverableError,b=0;b<p.length;b++)F=p[b],_(F.value,{componentStack:F.stack,digest:F.digest});if(O1)throw O1=!1,f=NE,NE=null,f;return(k1&1)!==0&&f.tag!==0&&Nd(),H=f.pendingLanes,(H&1)!==0?f===OE?cm++:(cm=0,OE=f):cm=0,uu(),null}function Nd(){if(gu!==null){var f=sl(k1),p=ia.transition,b=Mt;try{if(ia.transition=null,Mt=16>f?16:f,gu===null)var _=!1;else{if(f=gu,gu=null,k1=0,(Sn&6)!==0)throw Error(n(331));var F=Sn;for(Sn|=4,lt=f.current;lt!==null;){var H=lt,ee=H.child;if((lt.flags&16)!==0){var fe=H.deletions;if(fe!==null){for(var ge=0;ge<fe.length;ge++){var Ne=fe[ge];for(lt=Ne;lt!==null;){var Ge=lt;switch(Ge.tag){case 0:case 11:case 15:om(8,Ge,H)}var qe=Ge.child;if(qe!==null)qe.return=Ge,lt=qe;else for(;lt!==null;){Ge=lt;var ze=Ge.sibling,st=Ge.return;if(x4(Ge),Ge===Ne){lt=null;break}if(ze!==null){ze.return=st,lt=ze;break}lt=st}}}var dt=H.alternate;if(dt!==null){var mt=dt.child;if(mt!==null){dt.child=null;do{var di=mt.sibling;mt.sibling=null,mt=di}while(mt!==null)}}lt=H}}if((H.subtreeFlags&2064)!==0&&ee!==null)ee.return=H,lt=ee;else e:for(;lt!==null;){if(H=lt,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:om(9,H,H.return)}var Se=H.sibling;if(Se!==null){Se.return=H.return,lt=Se;break e}lt=H.return}}var ve=f.current;for(lt=ve;lt!==null;){ee=lt;var Te=ee.child;if((ee.subtreeFlags&2064)!==0&&Te!==null)Te.return=ee,lt=Te;else e:for(ee=ve;lt!==null;){if(fe=lt,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:I1(9,fe)}}catch(yt){Xr(fe,fe.return,yt)}if(fe===ee){lt=null;break e}var Xe=fe.sibling;if(Xe!==null){Xe.return=fe.return,lt=Xe;break e}lt=fe.return}}if(Sn=F,uu(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(sn,f)}catch{}_=!0}return _}finally{Mt=b,ia.transition=p}}return!1}function L4(f,p,b){p=_d(b,p),p=e4(f,p,1),f=hu(f,p,1),p=Ks(),f!==null&&(ie(f,1,p),go(f,p))}function Xr(f,p,b){if(f.tag===3)L4(f,f,b);else for(;p!==null;){if(p.tag===3){L4(p,f,b);break}else if(p.tag===1){var _=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(pu===null||!pu.has(_))){f=_d(b,f),f=t4(p,f,1),p=hu(p,f,1),f=Ks(),p!==null&&(ie(p,1,f),go(p,f));break}}p=p.return}}function Wee(f,p,b){var _=f.pingCache;_!==null&&_.delete(p),p=Ks(),f.pingedLanes|=f.suspendedLanes&b,Yi===f&&(fs&b)===b&&(ki===4||ki===3&&(fs&130023424)===fs&&500>vn()-PE?Bf(f,0):IE|=b),go(f,p)}function B4(f,p){p===0&&((f.mode&1)===0?p=1:(p=Jc,Jc<<=1,(Jc&130023424)===0&&(Jc=4194304)));var b=Ks();f=nc(f,p),f!==null&&(ie(f,p,b),go(f,b))}function qee(f){var p=f.memoizedState,b=0;p!==null&&(b=p.retryLane),B4(f,b)}function Kee(f,p){var b=0;switch(f.tag){case 13:var _=f.stateNode,F=f.memoizedState;F!==null&&(b=F.retryLane);break;case 19:_=f.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(p),B4(f,b)}var j4;j4=function(f,p,b){if(f!==null)if(f.memoizedProps!==p.pendingProps||uo.current)ho=!0;else{if((f.lanes&b)===0&&(p.flags&128)===0)return ho=!1,Dee(f,p,b);ho=(f.flags&131072)!==0}else ho=!1,kr&&(p.flags&1048576)!==0&&yM(p,f1,p.index);switch(p.lanes=0,p.tag){case 2:var _=p.type;_1(f,p),f=p.pendingProps;var F=vd(p,Cs.current);Sd(p,b),F=oE(null,p,_,f,F,b);var H=aE();return p.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,fo(_)?(H=!0,l1(p)):H=!1,p.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,JA(p),F.updater=S1,p.stateNode=F,F._reactInternals=p,dE(p,_,f,b),p=yE(null,p,_,!0,H,b)):(p.tag=0,kr&&H&&HA(p),qs(null,p,F,b),p=p.child),p;case 16:_=p.elementType;e:{switch(_1(f,p),f=p.pendingProps,F=_._init,_=F(_._payload),p.type=_,F=p.tag=Xee(_),f=Na(_,f),F){case 0:p=mE(null,p,_,f,b);break e;case 1:p=u4(null,p,_,f,b);break e;case 11:p=s4(null,p,_,f,b);break e;case 14:p=o4(null,p,_,Na(_.type,f),b);break e}throw Error(n(306,_,""))}return p;case 0:return _=p.type,F=p.pendingProps,F=p.elementType===_?F:Na(_,F),mE(f,p,_,F,b);case 1:return _=p.type,F=p.pendingProps,F=p.elementType===_?F:Na(_,F),u4(f,p,_,F,b);case 3:e:{if(f4(p),f===null)throw Error(n(387));_=p.pendingProps,H=p.memoizedState,F=H.element,_M(f,p),y1(p,_,null,b);var ee=p.memoizedState;if(_=ee.element,H.isDehydrated)if(H={element:_,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},p.updateQueue.baseState=H,p.memoizedState=H,p.flags&256){F=_d(Error(n(423)),p),p=h4(f,p,_,b,F);break e}else if(_!==F){F=_d(Error(n(424)),p),p=h4(f,p,_,b,F);break e}else for(Mo=au(p.stateNode.containerInfo.firstChild),ko=p,kr=!0,Pa=null,b=SM(p,null,_,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(bd(),_===F){p=ic(f,p,b);break e}qs(f,p,_,b)}p=p.child}return p;case 5:return PM(p),f===null&&WA(p),_=p.type,F=p.pendingProps,H=f!==null?f.memoizedProps:null,ee=F.children,BA(_,F)?ee=null:H!==null&&BA(_,H)&&(p.flags|=32),c4(f,p),qs(f,p,ee,b),p.child;case 6:return f===null&&WA(p),null;case 13:return d4(f,p,b);case 4:return eE(p,p.stateNode.containerInfo),_=p.pendingProps,f===null?p.child=Ad(p,null,_,b):qs(f,p,_,b),p.child;case 11:return _=p.type,F=p.pendingProps,F=p.elementType===_?F:Na(_,F),s4(f,p,_,F,b);case 7:return qs(f,p,p.pendingProps,b),p.child;case 8:return qs(f,p,p.pendingProps.children,b),p.child;case 12:return qs(f,p,p.pendingProps.children,b),p.child;case 10:e:{if(_=p.type._context,F=p.pendingProps,H=p.memoizedProps,ee=F.value,fr(p1,_._currentValue),_._currentValue=ee,H!==null)if(be(H.value,ee)){if(H.children===F.children&&!uo.current){p=ic(f,p,b);break e}}else for(H=p.child,H!==null&&(H.return=p);H!==null;){var fe=H.dependencies;if(fe!==null){ee=H.child;for(var ge=fe.firstContext;ge!==null;){if(ge.context===_){if(H.tag===1){ge=rc(-1,b&-b),ge.tag=2;var Ne=H.updateQueue;if(Ne!==null){Ne=Ne.shared;var Ge=Ne.pending;Ge===null?ge.next=ge:(ge.next=Ge.next,Ge.next=ge),Ne.pending=ge}}H.lanes|=b,ge=H.alternate,ge!==null&&(ge.lanes|=b),QA(H.return,b,p),fe.lanes|=b;break}ge=ge.next}}else if(H.tag===10)ee=H.type===p.type?null:H.child;else if(H.tag===18){if(ee=H.return,ee===null)throw Error(n(341));ee.lanes|=b,fe=ee.alternate,fe!==null&&(fe.lanes|=b),QA(ee,b,p),ee=H.sibling}else ee=H.child;if(ee!==null)ee.return=H;else for(ee=H;ee!==null;){if(ee===p){ee=null;break}if(H=ee.sibling,H!==null){H.return=ee.return,ee=H;break}ee=ee.return}H=ee}qs(f,p,F.children,b),p=p.child}return p;case 9:return F=p.type,_=p.pendingProps.children,Sd(p,b),F=na(F),_=_(F),p.flags|=1,qs(f,p,_,b),p.child;case 14:return _=p.type,F=Na(_,p.pendingProps),F=Na(_.type,F),o4(f,p,_,F,b);case 15:return a4(f,p,p.type,p.pendingProps,b);case 17:return _=p.type,F=p.pendingProps,F=p.elementType===_?F:Na(_,F),_1(f,p),p.tag=1,fo(_)?(f=!0,l1(p)):f=!1,Sd(p,b),ZM(p,_,F),dE(p,_,F,b),yE(null,p,_,!0,f,b);case 19:return g4(f,p,b);case 22:return l4(f,p,b)}throw Error(n(156,p.tag))};function F4(f,p){return ss(f,p)}function Yee(f,p,b,_){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(f,p,b,_){return new Yee(f,p,b,_)}function BE(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Xee(f){if(typeof f=="function")return BE(f)?1:0;if(f!=null){if(f=f.$$typeof,f===G)return 11;if(f===J)return 14}return 2}function vu(f,p){var b=f.alternate;return b===null?(b=sa(f.tag,p,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=p,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&14680064,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,p=f.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b}function B1(f,p,b,_,F,H){var ee=2;if(_=f,typeof f=="function")BE(f)&&(ee=1);else if(typeof f=="string")ee=5;else e:switch(f){case O:return Ff(b.children,F,H,p);case M:ee=8,F|=8;break;case U:return f=sa(12,b,p,F|2),f.elementType=U,f.lanes=H,f;case $:return f=sa(13,b,p,F),f.elementType=$,f.lanes=H,f;case ce:return f=sa(19,b,p,F),f.elementType=ce,f.lanes=H,f;case ae:return j1(b,F,H,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case K:ee=10;break e;case q:ee=9;break e;case G:ee=11;break e;case J:ee=14;break e;case oe:ee=16,_=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return p=sa(ee,b,p,F),p.elementType=f,p.type=_,p.lanes=H,p}function Ff(f,p,b,_){return f=sa(7,f,_,p),f.lanes=b,f}function j1(f,p,b,_){return f=sa(22,f,_,p),f.elementType=ae,f.lanes=b,f.stateNode={isHidden:!1},f}function jE(f,p,b){return f=sa(6,f,null,p),f.lanes=b,f}function FE(f,p,b){return p=sa(4,f.children!==null?f.children:[],f.key,p),p.lanes=b,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function Qee(f,p,b,_,F){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ae(0),this.expirationTimes=Ae(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.identifierPrefix=_,this.onRecoverableError=F,this.mutableSourceEagerHydrationData=null}function UE(f,p,b,_,F,H,ee,fe,ge){return f=new Qee(f,p,b,fe,ge),p===1?(p=1,H===!0&&(p|=8)):p=0,H=sa(3,null,null,p),f.current=H,H.stateNode=f,H.memoizedState={element:_,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},JA(H),f}function Zee(f,p,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:_==null?null:""+_,children:f,containerInfo:p,implementation:b}}function U4(f){if(!f)return cu;f=f._reactInternals;e:{if(Gi(f)!==f||f.tag!==1)throw Error(n(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(fo(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(f.tag===1){var b=f.type;if(fo(b))return pM(f,b,p)}return p}function V4(f,p,b,_,F,H,ee,fe,ge){return f=UE(b,_,!0,f,F,H,ee,fe,ge),f.context=U4(null),b=f.current,_=Ks(),F=mu(b),H=rc(_,F),H.callback=p??null,hu(b,H,F),f.current.lanes=F,ie(f,F,_),go(f,_),f}function F1(f,p,b,_){var F=p.current,H=Ks(),ee=mu(F);return b=U4(b),p.context===null?p.context=b:p.pendingContext=b,p=rc(H,ee),p.payload={element:f},_=_===void 0?null:_,_!==null&&(p.callback=_),f=hu(F,p,ee),f!==null&&(ka(f,F,ee,H),m1(f,F,ee)),ee}function U1(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function z4(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<p?b:p}}function VE(f,p){z4(f,p),(f=f.alternate)&&z4(f,p)}function Jee(){return null}var H4=typeof reportError=="function"?reportError:function(f){console.error(f)};function zE(f){this._internalRoot=f}V1.prototype.render=zE.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(n(409));F1(f,p,null,null)},V1.prototype.unmount=zE.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;Lf(function(){F1(null,f,null,null)}),p[Zl]=null}};function V1(f){this._internalRoot=f}V1.prototype.unstable_scheduleHydration=function(f){if(f){var p=er();f={blockedOn:null,target:f,priority:p};for(var b=0;b<Oi.length&&p!==0&&p<Oi[b].priority;b++);Oi.splice(b,0,f),b===0&&ud(f)}};function HE(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function z1(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function $4(){}function ete(f,p,b,_,F){if(F){if(typeof _=="function"){var H=_;_=function(){var Ne=U1(ee);H.call(Ne)}}var ee=V4(p,_,f,0,null,!1,!1,"",$4);return f._reactRootContainer=ee,f[Zl]=ee.current,qg(f.nodeType===8?f.parentNode:f),Lf(),ee}for(;F=f.lastChild;)f.removeChild(F);if(typeof _=="function"){var fe=_;_=function(){var Ne=U1(ge);fe.call(Ne)}}var ge=UE(f,0,!1,null,null,!1,!1,"",$4);return f._reactRootContainer=ge,f[Zl]=ge.current,qg(f.nodeType===8?f.parentNode:f),Lf(function(){F1(p,ge,b,_)}),ge}function H1(f,p,b,_,F){var H=b._reactRootContainer;if(H){var ee=H;if(typeof F=="function"){var fe=F;F=function(){var ge=U1(ee);fe.call(ge)}}F1(p,ee,f,F)}else ee=ete(b,p,f,F,_);return U1(ee)}eu=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var b=jn(p.pendingLanes);b!==0&&(ir(p,b|1),go(p,vn()),(Sn&6)===0&&(Pd=vn()+500,uu()))}break;case 13:Lf(function(){var _=nc(f,1);if(_!==null){var F=Ks();ka(_,f,1,F)}}),VE(f,1)}},Ni=function(f){if(f.tag===13){var p=nc(f,134217728);if(p!==null){var b=Ks();ka(p,f,134217728,b)}VE(f,134217728)}},vt=function(f){if(f.tag===13){var p=mu(f),b=nc(f,p);if(b!==null){var _=Ks();ka(b,f,p,_)}VE(f,p)}},er=function(){return Mt},Ef=function(f,p){var b=Mt;try{return Mt=f,p()}finally{Mt=b}},Ta=function(f,p,b){switch(p){case"input":if(kt(f,b),p=b.name,b.type==="radio"&&p!=null){for(b=f;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<b.length;p++){var _=b[p];if(_!==f&&_.form===f.form){var F=o1(_);if(!F)throw Error(n(90));_e(_),kt(_,F)}}}break;case"textarea":si(f,b);break;case"select":p=b.value,p!=null&&nt(f,!!b.multiple,p,!1)}},Zn=ME,hn=Lf;var tte={usingClientEntryPoint:!1,Events:[Xg,md,o1,At,fn,ME]},um={findFiberByHostInstance:If,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nte={bundleType:um.bundleType,version:um.version,rendererPackageName:um.rendererPackageName,rendererConfig:um.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Af(f),f===null?null:f.stateNode},findFiberByHostInstance:um.findFiberByHostInstance||Jee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$1.isDisabled&&$1.supportsFiber)try{sn=$1.inject(nte),$t=$1}catch{}}return mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tte,mo.createPortal=function(f,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HE(p))throw Error(n(200));return Zee(f,p,null,b)},mo.createRoot=function(f,p){if(!HE(f))throw Error(n(299));var b=!1,_="",F=H4;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onRecoverableError!==void 0&&(F=p.onRecoverableError)),p=UE(f,1,!1,null,null,b,!1,_,F),f[Zl]=p.current,qg(f.nodeType===8?f.parentNode:f),new zE(p)},mo.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=Af(p),f=f===null?null:f.stateNode,f},mo.flushSync=function(f){return Lf(f)},mo.hydrate=function(f,p,b){if(!z1(p))throw Error(n(200));return H1(null,f,p,!0,b)},mo.hydrateRoot=function(f,p,b){if(!HE(f))throw Error(n(405));var _=b!=null&&b.hydratedSources||null,F=!1,H="",ee=H4;if(b!=null&&(b.unstable_strictMode===!0&&(F=!0),b.identifierPrefix!==void 0&&(H=b.identifierPrefix),b.onRecoverableError!==void 0&&(ee=b.onRecoverableError)),p=V4(p,null,f,1,b??null,F,!1,H,ee),f[Zl]=p.current,qg(f),_)for(f=0;f<_.length;f++)b=_[f],F=b._getVersion,F=F(b._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[b,F]:p.mutableSourceEagerHydrationData.push(b,F);return new V1(p)},mo.render=function(f,p,b){if(!z1(p))throw Error(n(200));return H1(null,f,p,!1,b)},mo.unmountComponentAtNode=function(f){if(!z1(f))throw Error(n(40));return f._reactRootContainer?(Lf(function(){H1(null,null,f,!1,function(){f._reactRootContainer=null,f[Zl]=null})}),!0):!1},mo.unstable_batchedUpdates=ME,mo.unstable_renderSubtreeIntoContainer=function(f,p,b,_){if(!z1(b))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return H1(f,p,b,!1,_)},mo.version="18.3.1-next-f1338f8080-20240426",mo}var Z4;function Pz(){if(Z4)return WE.exports;Z4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),WE.exports=cte(),WE.exports}var J4;function ute(){if(J4)return G1;J4=1;var t=Pz();return G1.createRoot=t.createRoot,G1.hydrateRoot=t.hydrateRoot,G1}var fte=ute(),X=SO();const se=On(X),Nz=Iz({__proto__:null,default:se},[X]),Oz=X.createContext(null);function hte({children:t}){const[e,n]=X.useState("light");X.useEffect(()=>{const i=localStorage.getItem("theme");i&&n(i)},[]),X.useEffect(()=>{localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return P.jsx(Oz.Provider,{value:{theme:e,toggleTheme:r},children:t})}function dte(){const t=X.useContext(Oz);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const pte={KrishiChain:{en:"KrishiChain",hi:"कृषिचेन",or:"କୃଷିଚେନ୍"},farmer:{en:"Farmer",hi:"किसान",or:"କୃଷକ"},distributor:{en:"Distributor",hi:"वितरक",or:"ବିତରଣକାରୀ"},retailer:{en:"Retailer",hi:"खुदरा विक्रेता",or:"ଖୁଚୁରା ବିକ୍ରେତା"},customer:{en:"Customer",hi:"ग्राहक",or:"ଗ୍ରାହକ"},continue:{en:"Continue",hi:"जारी रखें",or:"ଆଗେଇ ଚାଲନ୍ତୁ"},scanQR:{en:"Scan QR Code",hi:"QR कोड स्कैन करें",or:"QR କୋଡ୍ ସ୍କାନ୍ କରନ୍ତୁ"},login:{en:"Login",hi:"लॉगिन",or:"ଲଗଇନ୍"},signup:{en:"Sign Up",hi:"साइन अप",or:"ସାଇନ୍ ଅପ୍"},name:{en:"Name",hi:"नाम",or:"ନାମ"},email:{en:"Email",hi:"ईमेल",or:"ଇମେଲ୍"},password:{en:"Password",hi:"पासवर्ड",or:"ପାସୱାର୍ଡ"},mobile:{en:"Mobile Number",hi:"मोबाइल नंबर",or:"ମୋବାଇଲ୍ ନମ୍ବର"},village:{en:"Village",hi:"गांव",or:"ଗ୍ରାମ"},state:{en:"State",hi:"राज्य",or:"ରାଜ୍ୟ"},district:{en:"District",hi:"जिला",or:"ଜିଲ୍ଲା"},dashboard:{en:"Dashboard",hi:"डैशबोर्ड",or:"ଡ୍ୟାସବୋର୍ଡ"},addCrop:{en:"Add Crop",hi:"फसल जोड़ें",or:"ଫସଲ ଯୋଗ କରନ୍ତୁ"},cropName:{en:"Crop Name",hi:"फसल का नाम",or:"ଫସଲର ନାମ"},totalWeight:{en:"Total Weight (kg)",hi:"कुल वजन (किलो)",or:"ମୋଟ ଓଜନ (କିଲୋ)"},harvestDate:{en:"Date of Harvest",hi:"कटाई की तारीख",or:"ଅମଳ ତାରିଖ"},expectedPrice:{en:"Expected Price (₹/kg)",hi:"अपेक्ष���त मूल्य (₹/किलो)",or:"ଆଶାକରାଯାଉଥିବା ମୂଲ୍ୟ (₹/କିଲୋ)"},marketPrices:{en:"Market Prices",hi:"बाजार भाव",or:"ବଜାର ଦର"},transactionHistory:{en:"Transaction History",hi:"लेनदेन इतिहास",or:"କାରବାର ଇତିହାସ"}},Rz=X.createContext(null);function gte({children:t}){const[e,n]=X.useState("en"),r=i=>pte[i]?.[e]||i;return P.jsx(Rz.Provider,{value:{language:e,setLanguage:n,t:r},children:t})}function $c(){const t=X.useContext(Rz);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t}function eD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kz(...t){return e=>{let n=!1;const r=t.map(i=>{const s=eD(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():eD(t[i],null)}}}}function vi(...t){return X.useCallback(kz(...t),t)}function Cp(t){const e=mte(t),n=X.forwardRef((r,i)=>{const{children:s,...o}=r,a=X.Children.toArray(s),c=a.find(vte);if(c){const u=c.props.children,g=a.map(m=>m===c?X.Children.count(u)>1?X.Children.only(null):X.isValidElement(u)?u.props.children:null:m);return P.jsx(e,{...o,ref:i,children:X.isValidElement(u)?X.cloneElement(u,void 0,g):null})}return P.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Mz=Cp("Slot");function mte(t){const e=X.forwardRef((n,r)=>{const{children:i,...s}=n;if(X.isValidElement(i)){const o=xte(i),a=wte(s,i.props);return i.type!==X.Fragment&&(a.ref=r?kz(r,o):o),X.cloneElement(i,a)}return X.Children.count(i)>1?X.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yte=Symbol("radix.slottable");function vte(t){return X.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yte}function wte(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function xte(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Dz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Dz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Dz(t))&&(r&&(r+=" "),r+=e);return r}const tD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nD=Qt,Lz=(t,e)=>n=>{var r;if(e?.variants==null)return nD(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const g=n?.[u],m=s?.[u];if(g===null)return null;const w=tD(g)||tD(m);return i[u][w]}),a=n&&Object.entries(n).reduce((u,g)=>{let[m,w]=g;return w===void 0||(u[m]=w),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,g)=>{let{class:m,className:w,...A}=g;return Object.entries(A).every(I=>{let[T,C]=I;return Array.isArray(C)?C.includes({...s,...a}[T]):{...s,...a}[T]===C})?[...u,m,w]:u},[]);return nD(t,o,c,n?.class,n?.className)},TO="-",bte=t=>{const e=Ete(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(TO);return a[0]===""&&a.length!==1&&a.shift(),Bz(a,e)||Ate(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},Bz=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Bz(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(TO);return e.validators.find(({validator:o})=>o(s))?.classGroupId},rD=/^\[(.+)\]$/,Ate=t=>{if(rD.test(t)){const e=rD.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Ete=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)CI(n[i],r,i,e);return r},CI=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:iD(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Ste(i)){CI(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{CI(o,iD(e,s),n,r)})})},iD=(t,e)=>{let n=t;return e.split(TO).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ste=t=>t.isThemeGetter,Tte=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},II="!",PI=":",_te=PI.length,Cte=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,c=0,u;for(let I=0;I<i.length;I++){let T=i[I];if(o===0&&a===0){if(T===PI){s.push(i.slice(c,I)),c=I+_te;continue}if(T==="/"){u=I;continue}}T==="["?o++:T==="]"?o--:T==="("?a++:T===")"&&a--}const g=s.length===0?i:i.substring(c),m=Ite(g),w=m!==g,A=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:w,baseClassName:m,maybePostfixModifierPosition:A}};if(e){const i=e+PI,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Ite=t=>t.endsWith(II)?t.substring(0,t.length-1):t.startsWith(II)?t.substring(1):t,Pte=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},Nte=t=>({cache:Tte(t.cacheSize),parseClassName:Cte(t),sortModifiers:Pte(t),...bte(t)}),Ote=/\s+/,Rte=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(Ote);let c="";for(let u=a.length-1;u>=0;u-=1){const g=a[u],{isExternal:m,modifiers:w,hasImportantModifier:A,baseClassName:I,maybePostfixModifierPosition:T}=n(g);if(m){c=g+(c.length>0?" "+c:c);continue}let C=!!T,R=r(C?I.substring(0,T):I);if(!R){if(!C){c=g+(c.length>0?" "+c:c);continue}if(R=r(I),!R){c=g+(c.length>0?" "+c:c);continue}C=!1}const B=s(w).join(":"),k=A?B+II:B,V=k+R;if(o.includes(V))continue;o.push(V);const D=i(R,C);for(let j=0;j<D.length;++j){const O=D[j];o.push(k+O)}c=g+(c.length>0?" "+c:c)}return c};function kte(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jz(e))&&(r&&(r+=" "),r+=n);return r}const jz=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jz(t[r]))&&(n&&(n+=" "),n+=e);return n};function Mte(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((g,m)=>m(g),t());return n=Nte(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const g=Rte(c,n);return i(c,g),g}return function(){return s(kte.apply(null,arguments))}}const Mi=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Fz=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Uz=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Dte=/^\d+\/\d+$/,Lte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Fte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ute=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Od=t=>Dte.test(t),nn=t=>!!t&&!Number.isNaN(Number(t)),xu=t=>!!t&&Number.isInteger(Number(t)),YE=t=>t.endsWith("%")&&nn(t.slice(0,-1)),oc=t=>Lte.test(t),Vte=()=>!0,zte=t=>Bte.test(t)&&!jte.test(t),Vz=()=>!1,Hte=t=>Fte.test(t),$te=t=>Ute.test(t),Gte=t=>!pt(t)&&!gt(t),Wte=t=>mg(t,$z,Vz),pt=t=>Fz.test(t),Uf=t=>mg(t,Gz,zte),XE=t=>mg(t,Qte,nn),sD=t=>mg(t,zz,Vz),qte=t=>mg(t,Hz,$te),W1=t=>mg(t,Wz,Hte),gt=t=>Uz.test(t),hm=t=>yg(t,Gz),Kte=t=>yg(t,Zte),oD=t=>yg(t,zz),Yte=t=>yg(t,$z),Xte=t=>yg(t,Hz),q1=t=>yg(t,Wz,!0),mg=(t,e,n)=>{const r=Fz.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},yg=(t,e,n=!1)=>{const r=Uz.exec(t);return r?r[1]?e(r[1]):n:!1},zz=t=>t==="position"||t==="percentage",Hz=t=>t==="image"||t==="url",$z=t=>t==="length"||t==="size"||t==="bg-size",Gz=t=>t==="length",Qte=t=>t==="number",Zte=t=>t==="family-name",Wz=t=>t==="shadow",Jte=()=>{const t=Mi("color"),e=Mi("font"),n=Mi("text"),r=Mi("font-weight"),i=Mi("tracking"),s=Mi("leading"),o=Mi("breakpoint"),a=Mi("container"),c=Mi("spacing"),u=Mi("radius"),g=Mi("shadow"),m=Mi("inset-shadow"),w=Mi("text-shadow"),A=Mi("drop-shadow"),I=Mi("blur"),T=Mi("perspective"),C=Mi("aspect"),R=Mi("ease"),B=Mi("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...V(),gt,pt],j=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],M=()=>[gt,pt,c],U=()=>[Od,"full","auto",...M()],K=()=>[xu,"none","subgrid",gt,pt],q=()=>["auto",{span:["full",xu,gt,pt]},xu,gt,pt],G=()=>[xu,"auto",gt,pt],$=()=>["auto","min","max","fr",gt,pt],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...M()],ae=()=>[Od,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],re=()=>[t,gt,pt],pe=()=>[...V(),oD,sD,{position:[gt,pt]}],we=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",Yte,Wte,{size:[gt,pt]}],he=()=>[YE,hm,Uf],xe=()=>["","none","full",u,gt,pt],Re=()=>["",nn,hm,Uf],Ue=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[nn,YE,oD,sD],De=()=>["","none",I,gt,pt],Pe=()=>["none",nn,gt,pt],je=()=>["none",nn,gt,pt],$e=()=>[nn,gt,pt],_e=()=>[Od,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[oc],breakpoint:[oc],color:[Vte],container:[oc],"drop-shadow":[oc],ease:["in","out","in-out"],font:[Gte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[oc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[oc],shadow:[oc],spacing:["px",nn],text:[oc],"text-shadow":[oc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Od,pt,gt,C]}],container:["container"],columns:[{columns:[nn,pt,gt,a]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[xu,"auto",gt,pt]}],basis:[{basis:[Od,"full","auto",a,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nn,Od,"auto","initial","none",pt]}],grow:[{grow:["",nn,gt,pt]}],shrink:[{shrink:["",nn,gt,pt]}],order:[{order:[xu,"first","last","none",gt,pt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[a,"screen",...ae()]}],"min-w":[{"min-w":[a,"screen","none",...ae()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,hm,Uf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,gt,XE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",YE,pt]}],"font-family":[{font:[Kte,pt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,gt,pt]}],"line-clamp":[{"line-clamp":[nn,"none",gt,XE]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",gt,pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",gt,pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[nn,"from-font","auto",gt,Uf]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[nn,"auto",gt,pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gt,pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gt,pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:we()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xu,gt,pt],radial:["",gt,pt],conic:[xu,gt,pt]},Xte,qte]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:xe()}],"rounded-s":[{"rounded-s":xe()}],"rounded-e":[{"rounded-e":xe()}],"rounded-t":[{"rounded-t":xe()}],"rounded-r":[{"rounded-r":xe()}],"rounded-b":[{"rounded-b":xe()}],"rounded-l":[{"rounded-l":xe()}],"rounded-ss":[{"rounded-ss":xe()}],"rounded-se":[{"rounded-se":xe()}],"rounded-ee":[{"rounded-ee":xe()}],"rounded-es":[{"rounded-es":xe()}],"rounded-tl":[{"rounded-tl":xe()}],"rounded-tr":[{"rounded-tr":xe()}],"rounded-br":[{"rounded-br":xe()}],"rounded-bl":[{"rounded-bl":xe()}],"border-w":[{border:Re()}],"border-w-x":[{"border-x":Re()}],"border-w-y":[{"border-y":Re()}],"border-w-s":[{"border-s":Re()}],"border-w-e":[{"border-e":Re()}],"border-w-t":[{"border-t":Re()}],"border-w-r":[{"border-r":Re()}],"border-w-b":[{"border-b":Re()}],"border-w-l":[{"border-l":Re()}],"divide-x":[{"divide-x":Re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ue(),"hidden","none"]}],"divide-style":[{divide:[...Ue(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...Ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nn,gt,pt]}],"outline-w":[{outline:["",nn,hm,Uf]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",g,q1,W1]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",m,q1,W1]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:Re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[nn,Uf]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":Re()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",w,q1,W1]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[nn,gt,pt]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[gt,pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":V()}],"mask-image-conic-pos":[{"mask-conic":[nn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:we()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",gt,pt]}],filter:[{filter:["","none",gt,pt]}],blur:[{blur:De()}],brightness:[{brightness:[nn,gt,pt]}],contrast:[{contrast:[nn,gt,pt]}],"drop-shadow":[{"drop-shadow":["","none",A,q1,W1]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",nn,gt,pt]}],"hue-rotate":[{"hue-rotate":[nn,gt,pt]}],invert:[{invert:["",nn,gt,pt]}],saturate:[{saturate:[nn,gt,pt]}],sepia:[{sepia:["",nn,gt,pt]}],"backdrop-filter":[{"backdrop-filter":["","none",gt,pt]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[nn,gt,pt]}],"backdrop-contrast":[{"backdrop-contrast":[nn,gt,pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nn,gt,pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nn,gt,pt]}],"backdrop-invert":[{"backdrop-invert":["",nn,gt,pt]}],"backdrop-opacity":[{"backdrop-opacity":[nn,gt,pt]}],"backdrop-saturate":[{"backdrop-saturate":[nn,gt,pt]}],"backdrop-sepia":[{"backdrop-sepia":["",nn,gt,pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",gt,pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nn,"initial",gt,pt]}],ease:[{ease:["linear","initial",R,gt,pt]}],delay:[{delay:[nn,gt,pt]}],animate:[{animate:["none",B,gt,pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,gt,pt]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[gt,pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_e()}],"translate-x":[{"translate-x":_e()}],"translate-y":[{"translate-y":_e()}],"translate-z":[{"translate-z":_e()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gt,pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gt,pt]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[nn,hm,Uf,XE]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ene=Mte(Jte);function Br(...t){return ene(Qt(t))}const tne=Lz("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Vt({className:t,variant:e,size:n,asChild:r=!1,...i}){const s=r?Mz:"button";return P.jsx(s,{"data-slot":"button",className:Br(tne({variant:e,size:n,className:t})),...i})}function Pn({className:t,...e}){return P.jsx("div",{"data-slot":"card",className:Br("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Bi({className:t,...e}){return P.jsx("div",{"data-slot":"card-header",className:Br("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function ji({className:t,...e}){return P.jsx("h4",{"data-slot":"card-title",className:Br("leading-none",t),...e})}function Ln({className:t,...e}){return P.jsx("div",{"data-slot":"card-content",className:Br("px-6 [&:last-child]:pb-6",t),...e})}const nne={farmer:"https://images.unsplash.com/photo-1648995505971-da6e8a6aa6c6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjBjcm9wJTIwZmllbGQlMjBhZ3JpY3VsdHVyZSUyMGZhcm18ZW58MXx8fHwxNzU2ODg3MTcxfDA&ixlib=rb-4.1.0&q=80&w=1080",distributor:"https://images.unsplash.com/photo-1742349934917-c6932c49d067?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjB3YXJlaG91c2UlMjBzdG9yYWdlJTIwZmFjaWxpdHl8ZW58MXx8fHwxNzU2ODg3MTcyfDA&ixlib=rb-4.1.0&q=80&w=1080",retailer:"https://images.unsplash.com/photo-1738687819001-2a0006a3b9de?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjByZXRhaWwlMjBzaG9wJTIwbWFya2V0fGVufDF8fHx8MTc1Njg4NzE3Mnww&ixlib=rb-4.1.0&q=80&w=1080",customer:"https://images.unsplash.com/photo-1630960411440-10f7b59717ba?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjBmcmVzaCUyMHByb2R1Y2UlMjBtYXJrZXQlMjB2ZWdldGFibGVzfGVufDF8fHx8MTc1Njg4NzE3M3ww&ixlib=rb-4.1.0&q=80&w=1080",default:"https://images.unsplash.com/photo-1648995505971-da6e8a6aa6c6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxpbmRpYW4lMjBjcm9wJTIwZmllbGQlMjBhZ3JpY3VsdHVyZSUyMGZhcm18ZW58MXx8fHwxNzU2ODg3MTcxfDA&ixlib=rb-4.1.0&q=80&w=1080"};function Yu({type:t,children:e,className:n=""}){const r=nne[t];return P.jsxs("div",{className:`min-h-screen relative ${n}`,style:{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[P.jsx("div",{className:"absolute inset-0 backdrop-blur-sm bg-background/60 dark:bg-background/70"}),P.jsx("div",{className:"relative z-10",children:e})]})}var by=Pz();const qz=On(by);function aD(t,[e,n]){return Math.min(n,Math.max(e,t))}function Cr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function rne(t,e){const n=X.createContext(e),r=s=>{const{children:o,...a}=s,c=X.useMemo(()=>a,Object.values(a));return P.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=X.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Xx(t,e=[]){let n=[];function r(s,o){const a=X.createContext(o),c=n.length;n=[...n,o];const u=m=>{const{scope:w,children:A,...I}=m,T=w?.[t]?.[c]||a,C=X.useMemo(()=>I,Object.values(I));return P.jsx(T.Provider,{value:C,children:A})};u.displayName=s+"Provider";function g(m,w){const A=w?.[t]?.[c]||a,I=X.useContext(A);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[u,g]}const i=()=>{const s=n.map(o=>X.createContext(o));return function(a){const c=a?.[t]||s;return X.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,ine(i,...e)]}function ine(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const m=c(s)[`__scope${u}`];return{...a,...m}},{});return X.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function sne(t){const e=t+"CollectionProvider",[n,r]=Xx(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:C,children:R}=T,B=se.useRef(null),k=se.useRef(new Map).current;return P.jsx(i,{scope:C,itemMap:k,collectionRef:B,children:R})};o.displayName=e;const a=t+"CollectionSlot",c=Cp(a),u=se.forwardRef((T,C)=>{const{scope:R,children:B}=T,k=s(a,R),V=vi(C,k.collectionRef);return P.jsx(c,{ref:V,children:B})});u.displayName=a;const g=t+"CollectionItemSlot",m="data-radix-collection-item",w=Cp(g),A=se.forwardRef((T,C)=>{const{scope:R,children:B,...k}=T,V=se.useRef(null),D=vi(C,V),j=s(g,R);return se.useEffect(()=>(j.itemMap.set(V,{ref:V,...k}),()=>void j.itemMap.delete(V))),P.jsx(w,{[m]:"",ref:D,children:B})});A.displayName=g;function I(T){const C=s(t+"CollectionConsumer",T);return se.useCallback(()=>{const B=C.collectionRef.current;if(!B)return[];const k=Array.from(B.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((j,O)=>k.indexOf(j.ref.current)-k.indexOf(O.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:u,ItemSlot:A},I,r]}var one=X.createContext(void 0);function ane(t){const e=X.useContext(one);return t||e||"ltr"}var lne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cr=lne.reduce((t,e)=>{const n=Cp(`Primitive.${e}`),r=X.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function cne(t,e){t&&by.flushSync(()=>t.dispatchEvent(e))}function Th(t){const e=X.useRef(t);return X.useEffect(()=>{e.current=t}),X.useMemo(()=>(...n)=>e.current?.(...n),[])}function une(t,e=globalThis?.document){const n=Th(t);X.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var fne="DismissableLayer",NI="dismissableLayer.update",hne="dismissableLayer.pointerDownOutside",dne="dismissableLayer.focusOutside",lD,Kz=X.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_O=X.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=X.useContext(Kz),[g,m]=X.useState(null),w=g?.ownerDocument??globalThis?.document,[,A]=X.useState({}),I=vi(e,O=>m(O)),T=Array.from(u.layers),[C]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),R=T.indexOf(C),B=g?T.indexOf(g):-1,k=u.layersWithOutsidePointerEventsDisabled.size>0,V=B>=R,D=mne(O=>{const M=O.target,U=[...u.branches].some(K=>K.contains(M));!V||U||(i?.(O),o?.(O),O.defaultPrevented||a?.())},w),j=yne(O=>{const M=O.target;[...u.branches].some(K=>K.contains(M))||(s?.(O),o?.(O),O.defaultPrevented||a?.())},w);return une(O=>{B===u.layers.size-1&&(r?.(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},w),X.useEffect(()=>{if(g)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lD=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(g)),u.layers.add(g),cD(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=lD)}},[g,w,n,u]),X.useEffect(()=>()=>{g&&(u.layers.delete(g),u.layersWithOutsidePointerEventsDisabled.delete(g),cD())},[g,u]),X.useEffect(()=>{const O=()=>A({});return document.addEventListener(NI,O),()=>document.removeEventListener(NI,O)},[]),P.jsx(cr.div,{...c,ref:I,style:{pointerEvents:k?V?"auto":"none":void 0,...t.style},onFocusCapture:Cr(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Cr(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Cr(t.onPointerDownCapture,D.onPointerDownCapture)})});_O.displayName=fne;var pne="DismissableLayerBranch",gne=X.forwardRef((t,e)=>{const n=X.useContext(Kz),r=X.useRef(null),i=vi(e,r);return X.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),P.jsx(cr.div,{...t,ref:i})});gne.displayName=pne;function mne(t,e=globalThis?.document){const n=Th(t),r=X.useRef(!1),i=X.useRef(()=>{});return X.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){Yz(hne,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yne(t,e=globalThis?.document){const n=Th(t),r=X.useRef(!1);return X.useEffect(()=>{const i=s=>{s.target&&!r.current&&Yz(dne,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cD(){const t=new CustomEvent(NI);document.dispatchEvent(t)}function Yz(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?cne(i,s):i.dispatchEvent(s)}var QE=0;function Xz(){X.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uD()),document.body.insertAdjacentElement("beforeend",t[1]??uD()),QE++,()=>{QE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),QE--}},[])}function uD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ZE="focusScope.autoFocusOnMount",JE="focusScope.autoFocusOnUnmount",fD={bubbles:!1,cancelable:!0},vne="FocusScope",CO=X.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=X.useState(null),u=Th(i),g=Th(s),m=X.useRef(null),w=vi(e,T=>c(T)),A=X.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;X.useEffect(()=>{if(r){let T=function(k){if(A.paused||!a)return;const V=k.target;a.contains(V)?m.current=V:Iu(m.current,{select:!0})},C=function(k){if(A.paused||!a)return;const V=k.relatedTarget;V!==null&&(a.contains(V)||Iu(m.current,{select:!0}))},R=function(k){if(document.activeElement===document.body)for(const D of k)D.removedNodes.length>0&&Iu(a)};document.addEventListener("focusin",T),document.addEventListener("focusout",C);const B=new MutationObserver(R);return a&&B.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",C),B.disconnect()}}},[r,a,A.paused]),X.useEffect(()=>{if(a){dD.add(A);const T=document.activeElement;if(!a.contains(T)){const R=new CustomEvent(ZE,fD);a.addEventListener(ZE,u),a.dispatchEvent(R),R.defaultPrevented||(wne(Sne(Qz(a)),{select:!0}),document.activeElement===T&&Iu(a))}return()=>{a.removeEventListener(ZE,u),setTimeout(()=>{const R=new CustomEvent(JE,fD);a.addEventListener(JE,g),a.dispatchEvent(R),R.defaultPrevented||Iu(T??document.body,{select:!0}),a.removeEventListener(JE,g),dD.remove(A)},0)}}},[a,u,g,A]);const I=X.useCallback(T=>{if(!n&&!r||A.paused)return;const C=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,R=document.activeElement;if(C&&R){const B=T.currentTarget,[k,V]=xne(B);k&&V?!T.shiftKey&&R===V?(T.preventDefault(),n&&Iu(k,{select:!0})):T.shiftKey&&R===k&&(T.preventDefault(),n&&Iu(V,{select:!0})):R===B&&T.preventDefault()}},[n,r,A.paused]);return P.jsx(cr.div,{tabIndex:-1,...o,ref:w,onKeyDown:I})});CO.displayName=vne;function wne(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Iu(r,{select:e}),document.activeElement!==n)return}function xne(t){const e=Qz(t),n=hD(e,t),r=hD(e.reverse(),t);return[n,r]}function Qz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hD(t,e){for(const n of t)if(!bne(n,{upTo:e}))return n}function bne(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ane(t){return t instanceof HTMLInputElement&&"select"in t}function Iu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ane(t)&&e&&t.select()}}var dD=Ene();function Ene(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=pD(t,e),t.unshift(e)},remove(e){t=pD(t,e),t[0]?.resume()}}}function pD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Sne(t){return t.filter(e=>e.tagName!=="A")}var Fs=globalThis?.document?X.useLayoutEffect:()=>{},Tne=Nz[" useId ".trim().toString()]||(()=>{}),_ne=0;function lp(t){const[e,n]=X.useState(Tne());return Fs(()=>{n(r=>r??String(_ne++))},[t]),t||(e?`radix-${e}`:"")}const Cne=["top","right","bottom","left"],Xu=Math.min,zo=Math.max,rw=Math.round,K1=Math.floor,Sl=t=>({x:t,y:t}),Ine={left:"right",right:"left",bottom:"top",top:"bottom"},Pne={start:"end",end:"start"};function OI(t,e,n){return zo(t,Xu(e,n))}function Pc(t,e){return typeof t=="function"?t(e):t}function Nc(t){return t.split("-")[0]}function vg(t){return t.split("-")[1]}function IO(t){return t==="x"?"y":"x"}function PO(t){return t==="y"?"height":"width"}const Nne=new Set(["top","bottom"]);function Al(t){return Nne.has(Nc(t))?"y":"x"}function NO(t){return IO(Al(t))}function One(t,e,n){n===void 0&&(n=!1);const r=vg(t),i=NO(t),s=PO(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=iw(o)),[o,iw(o)]}function Rne(t){const e=iw(t);return[RI(t),e,RI(e)]}function RI(t){return t.replace(/start|end/g,e=>Pne[e])}const gD=["left","right"],mD=["right","left"],kne=["top","bottom"],Mne=["bottom","top"];function Dne(t,e,n){switch(t){case"top":case"bottom":return n?e?mD:gD:e?gD:mD;case"left":case"right":return e?kne:Mne;default:return[]}}function Lne(t,e,n,r){const i=vg(t);let s=Dne(Nc(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(RI)))),s}function iw(t){return t.replace(/left|right|bottom|top/g,e=>Ine[e])}function Bne(t){return{top:0,right:0,bottom:0,left:0,...t}}function Zz(t){return typeof t!="number"?Bne(t):{top:t,right:t,bottom:t,left:t}}function sw(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function yD(t,e,n){let{reference:r,floating:i}=t;const s=Al(e),o=NO(e),a=PO(o),c=Nc(e),u=s==="y",g=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,w=r[a]/2-i[a]/2;let A;switch(c){case"top":A={x:g,y:r.y-i.height};break;case"bottom":A={x:g,y:r.y+r.height};break;case"right":A={x:r.x+r.width,y:m};break;case"left":A={x:r.x-i.width,y:m};break;default:A={x:r.x,y:r.y}}switch(vg(e)){case"start":A[o]-=w*(n&&u?-1:1);break;case"end":A[o]+=w*(n&&u?-1:1);break}return A}const jne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:m}=yD(u,r,c),w=r,A={},I=0;for(let T=0;T<a.length;T++){const{name:C,fn:R}=a[T],{x:B,y:k,data:V,reset:D}=await R({x:g,y:m,initialPlacement:r,placement:w,strategy:i,middlewareData:A,rects:u,platform:o,elements:{reference:t,floating:e}});g=B??g,m=k??m,A={...A,[C]:{...A[C],...V}},D&&I<=50&&(I++,typeof D=="object"&&(D.placement&&(w=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:g,y:m}=yD(u,w,c)),T=-1)}return{x:g,y:m,placement:w,strategy:i,middlewareData:A}};async function u0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:w=!1,padding:A=0}=Pc(e,t),I=Zz(A),C=a[w?m==="floating"?"reference":"floating":m],R=sw(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:g,strategy:c})),B=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),V=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},D=sw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:B,offsetParent:k,strategy:c}):B);return{top:(R.top-D.top+I.top)/V.y,bottom:(D.bottom-R.bottom+I.bottom)/V.y,left:(R.left-D.left+I.left)/V.x,right:(D.right-R.right+I.right)/V.x}}const Fne=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:g=0}=Pc(t,e)||{};if(u==null)return{};const m=Zz(g),w={x:n,y:r},A=NO(i),I=PO(A),T=await o.getDimensions(u),C=A==="y",R=C?"top":"left",B=C?"bottom":"right",k=C?"clientHeight":"clientWidth",V=s.reference[I]+s.reference[A]-w[A]-s.floating[I],D=w[A]-s.reference[A],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=j?j[k]:0;(!O||!await(o.isElement==null?void 0:o.isElement(j)))&&(O=a.floating[k]||s.floating[I]);const M=V/2-D/2,U=O/2-T[I]/2-1,K=Xu(m[R],U),q=Xu(m[B],U),G=K,$=O-T[I]-q,ce=O/2-T[I]/2+M,J=OI(G,ce,$),oe=!c.arrow&&vg(i)!=null&&ce!==J&&s.reference[I]/2-(ce<G?K:q)-T[I]/2<0,ae=oe?ce<G?ce-G:ce-$:0;return{[A]:w[A]+ae,data:{[A]:J,centerOffset:ce-J-ae,...oe&&{alignmentOffset:ae}},reset:oe}}}),Une=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:w,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:T=!0,...C}=Pc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const R=Nc(i),B=Al(a),k=Nc(a)===a,V=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=w||(k||!T?[iw(a)]:Rne(a)),j=I!=="none";!w&&j&&D.push(...Lne(a,T,I,V));const O=[a,...D],M=await u0(e,C),U=[];let K=((r=s.flip)==null?void 0:r.overflows)||[];if(g&&U.push(M[R]),m){const ce=One(i,o,V);U.push(M[ce[0]],M[ce[1]])}if(K=[...K,{placement:i,overflows:U}],!U.every(ce=>ce<=0)){var q,G;const ce=(((q=s.flip)==null?void 0:q.index)||0)+1,J=O[ce];if(J&&(!(m==="alignment"?B!==Al(J):!1)||K.every(re=>Al(re.placement)===B?re.overflows[0]>0:!0)))return{data:{index:ce,overflows:K},reset:{placement:J}};let oe=(G=K.filter(ae=>ae.overflows[0]<=0).sort((ae,re)=>ae.overflows[1]-re.overflows[1])[0])==null?void 0:G.placement;if(!oe)switch(A){case"bestFit":{var $;const ae=($=K.filter(re=>{if(j){const pe=Al(re.placement);return pe===B||pe==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(pe=>pe>0).reduce((pe,we)=>pe+we,0)]).sort((re,pe)=>re[1]-pe[1])[0])==null?void 0:$[0];ae&&(oe=ae);break}case"initialPlacement":oe=a;break}if(i!==oe)return{reset:{placement:oe}}}return{}}}};function vD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wD(t){return Cne.some(e=>t[e]>=0)}const Vne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Pc(t,e);switch(r){case"referenceHidden":{const s=await u0(e,{...i,elementContext:"reference"}),o=vD(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wD(o)}}}case"escaped":{const s=await u0(e,{...i,altBoundary:!0}),o=vD(s,n.floating);return{data:{escapedOffsets:o,escaped:wD(o)}}}default:return{}}}}},Jz=new Set(["left","top"]);async function zne(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Nc(n),a=vg(n),c=Al(n)==="y",u=Jz.has(o)?-1:1,g=s&&c?-1:1,m=Pc(e,t);let{mainAxis:w,crossAxis:A,alignmentAxis:I}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof I=="number"&&(A=a==="end"?I*-1:I),c?{x:A*g,y:w*u}:{x:w*u,y:A*g}}const Hne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await zne(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},$ne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x:R,y:B}=C;return{x:R,y:B}}},...c}=Pc(t,e),u={x:n,y:r},g=await u0(e,c),m=Al(Nc(i)),w=IO(m);let A=u[w],I=u[m];if(s){const C=w==="y"?"top":"left",R=w==="y"?"bottom":"right",B=A+g[C],k=A-g[R];A=OI(B,A,k)}if(o){const C=m==="y"?"top":"left",R=m==="y"?"bottom":"right",B=I+g[C],k=I-g[R];I=OI(B,I,k)}const T=a.fn({...e,[w]:A,[m]:I});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[w]:s,[m]:o}}}}}},Gne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Pc(t,e),g={x:n,y:r},m=Al(i),w=IO(m);let A=g[w],I=g[m];const T=Pc(a,e),C=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(c){const k=w==="y"?"height":"width",V=s.reference[w]-s.floating[k]+C.mainAxis,D=s.reference[w]+s.reference[k]-C.mainAxis;A<V?A=V:A>D&&(A=D)}if(u){var R,B;const k=w==="y"?"width":"height",V=Jz.has(Nc(i)),D=s.reference[m]-s.floating[k]+(V&&((R=o.offset)==null?void 0:R[m])||0)+(V?0:C.crossAxis),j=s.reference[m]+s.reference[k]+(V?0:((B=o.offset)==null?void 0:B[m])||0)-(V?C.crossAxis:0);I<D?I=D:I>j&&(I=j)}return{[w]:A,[m]:I}}}},Wne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Pc(t,e),g=await u0(e,u),m=Nc(i),w=vg(i),A=Al(i)==="y",{width:I,height:T}=s.floating;let C,R;m==="top"||m==="bottom"?(C=m,R=w===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(R=m,C=w==="end"?"top":"bottom");const B=T-g.top-g.bottom,k=I-g.left-g.right,V=Xu(T-g[C],B),D=Xu(I-g[R],k),j=!e.middlewareData.shift;let O=V,M=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=B),j&&!w){const K=zo(g.left,0),q=zo(g.right,0),G=zo(g.top,0),$=zo(g.bottom,0);A?M=I-2*(K!==0||q!==0?K+q:zo(g.left,g.right)):O=T-2*(G!==0||$!==0?G+$:zo(g.top,g.bottom))}await c({...e,availableWidth:M,availableHeight:O});const U=await o.getDimensions(a.floating);return I!==U.width||T!==U.height?{reset:{rects:!0}}:{}}}};function Qx(){return typeof window<"u"}function wg(t){return eH(t)?(t.nodeName||"").toLowerCase():"#document"}function Wo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zl(t){var e;return(e=(eH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function eH(t){return Qx()?t instanceof Node||t instanceof Wo(t).Node:!1}function Ka(t){return Qx()?t instanceof Element||t instanceof Wo(t).Element:!1}function Ll(t){return Qx()?t instanceof HTMLElement||t instanceof Wo(t).HTMLElement:!1}function xD(t){return!Qx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wo(t).ShadowRoot}const qne=new Set(["inline","contents"]);function Ay(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ya(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qne.has(i)}const Kne=new Set(["table","td","th"]);function Yne(t){return Kne.has(wg(t))}const Xne=[":popover-open",":modal"];function Zx(t){return Xne.some(e=>{try{return t.matches(e)}catch{return!1}})}const Qne=["transform","translate","scale","rotate","perspective"],Zne=["transform","translate","scale","rotate","perspective","filter"],Jne=["paint","layout","strict","content"];function OO(t){const e=RO(),n=Ka(t)?Ya(t):t;return Qne.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Zne.some(r=>(n.willChange||"").includes(r))||Jne.some(r=>(n.contain||"").includes(r))}function ere(t){let e=Qu(t);for(;Ll(e)&&!Ip(e);){if(OO(e))return e;if(Zx(e))return null;e=Qu(e)}return null}function RO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tre=new Set(["html","body","#document"]);function Ip(t){return tre.has(wg(t))}function Ya(t){return Wo(t).getComputedStyle(t)}function Jx(t){return Ka(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qu(t){if(wg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xD(t)&&t.host||zl(t);return xD(e)?e.host:e}function tH(t){const e=Qu(t);return Ip(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ll(e)&&Ay(e)?e:tH(e)}function f0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=tH(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Wo(i);if(s){const a=kI(o);return e.concat(o,o.visualViewport||[],Ay(i)?i:[],a&&n?f0(a):[])}return e.concat(i,f0(i,[],n))}function kI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nH(t){const e=Ya(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ll(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=rw(n)!==s||rw(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function kO(t){return Ka(t)?t:t.contextElement}function cp(t){const e=kO(t);if(!Ll(e))return Sl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=nH(e);let o=(s?rw(n.width):n.width)/r,a=(s?rw(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const nre=Sl(0);function rH(t){const e=Wo(t);return!RO()||!e.visualViewport?nre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wo(t)?!1:e}function _h(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=kO(t);let o=Sl(1);e&&(r?Ka(r)&&(o=cp(r)):o=cp(t));const a=rre(s,n,r)?rH(s):Sl(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,g=i.width/o.x,m=i.height/o.y;if(s){const w=Wo(s),A=r&&Ka(r)?Wo(r):r;let I=w,T=kI(I);for(;T&&r&&A!==I;){const C=cp(T),R=T.getBoundingClientRect(),B=Ya(T),k=R.left+(T.clientLeft+parseFloat(B.paddingLeft))*C.x,V=R.top+(T.clientTop+parseFloat(B.paddingTop))*C.y;c*=C.x,u*=C.y,g*=C.x,m*=C.y,c+=k,u+=V,I=Wo(T),T=kI(I)}}return sw({width:g,height:m,x:c,y:u})}function eb(t,e){const n=Jx(t).scrollLeft;return e?e.left+n:_h(zl(t)).left+n}function iH(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-eb(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function ire(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=zl(r),a=e?Zx(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Sl(1);const g=Sl(0),m=Ll(r);if((m||!m&&!s)&&((wg(r)!=="body"||Ay(o))&&(c=Jx(r)),Ll(r))){const A=_h(r);u=cp(r),g.x=A.x+r.clientLeft,g.y=A.y+r.clientTop}const w=o&&!m&&!s?iH(o,c):Sl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+g.x+w.x,y:n.y*u.y-c.scrollTop*u.y+g.y+w.y}}function sre(t){return Array.from(t.getClientRects())}function ore(t){const e=zl(t),n=Jx(t),r=t.ownerDocument.body,i=zo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=zo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+eb(t);const a=-n.scrollTop;return Ya(r).direction==="rtl"&&(o+=zo(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const bD=25;function are(t,e){const n=Wo(t),r=zl(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const g=RO();(!g||g&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}const u=eb(r);if(u<=0){const g=r.ownerDocument,m=g.body,w=getComputedStyle(m),A=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,I=Math.abs(r.clientWidth-m.clientWidth-A);I<=bD&&(s-=I)}else u<=bD&&(s+=u);return{width:s,height:o,x:a,y:c}}const lre=new Set(["absolute","fixed"]);function cre(t,e){const n=_h(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ll(t)?cp(t):Sl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function AD(t,e,n){let r;if(e==="viewport")r=are(t,n);else if(e==="document")r=ore(zl(t));else if(Ka(e))r=cre(e,n);else{const i=rH(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return sw(r)}function sH(t,e){const n=Qu(t);return n===e||!Ka(n)||Ip(n)?!1:Ya(n).position==="fixed"||sH(n,e)}function ure(t,e){const n=e.get(t);if(n)return n;let r=f0(t,[],!1).filter(a=>Ka(a)&&wg(a)!=="body"),i=null;const s=Ya(t).position==="fixed";let o=s?Qu(t):t;for(;Ka(o)&&!Ip(o);){const a=Ya(o),c=OO(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&lre.has(i.position)||Ay(o)&&!c&&sH(t,o))?r=r.filter(g=>g!==o):i=a,o=Qu(o)}return e.set(t,r),r}function fre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Zx(e)?[]:ure(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,g)=>{const m=AD(e,g,i);return u.top=zo(m.top,u.top),u.right=Xu(m.right,u.right),u.bottom=Xu(m.bottom,u.bottom),u.left=zo(m.left,u.left),u},AD(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hre(t){const{width:e,height:n}=nH(t);return{width:e,height:n}}function dre(t,e,n){const r=Ll(e),i=zl(e),s=n==="fixed",o=_h(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Sl(0);function u(){c.x=eb(i)}if(r||!r&&!s)if((wg(e)!=="body"||Ay(i))&&(a=Jx(e)),r){const A=_h(e,!0,s,e);c.x=A.x+e.clientLeft,c.y=A.y+e.clientTop}else i&&u();s&&!r&&i&&u();const g=i&&!r&&!s?iH(i,a):Sl(0),m=o.left+a.scrollLeft-c.x-g.x,w=o.top+a.scrollTop-c.y-g.y;return{x:m,y:w,width:o.width,height:o.height}}function e2(t){return Ya(t).position==="static"}function ED(t,e){if(!Ll(t)||Ya(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zl(t)===n&&(n=n.ownerDocument.body),n}function oH(t,e){const n=Wo(t);if(Zx(t))return n;if(!Ll(t)){let i=Qu(t);for(;i&&!Ip(i);){if(Ka(i)&&!e2(i))return i;i=Qu(i)}return n}let r=ED(t,e);for(;r&&Yne(r)&&e2(r);)r=ED(r,e);return r&&Ip(r)&&e2(r)&&!OO(r)?n:r||ere(t)||n}const pre=async function(t){const e=this.getOffsetParent||oH,n=this.getDimensions,r=await n(t.floating);return{reference:dre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gre(t){return Ya(t).direction==="rtl"}const mre={convertOffsetParentRelativeRectToViewportRelativeRect:ire,getDocumentElement:zl,getClippingRect:fre,getOffsetParent:oH,getElementRects:pre,getClientRects:sre,getDimensions:hre,getScale:cp,isElement:Ka,isRTL:gre};function aH(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yre(t,e){let n=null,r;const i=zl(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:g,top:m,width:w,height:A}=u;if(a||e(),!w||!A)return;const I=K1(m),T=K1(i.clientWidth-(g+w)),C=K1(i.clientHeight-(m+A)),R=K1(g),k={rootMargin:-I+"px "+-T+"px "+-C+"px "+-R+"px",threshold:zo(0,Xu(1,c))||1};let V=!0;function D(j){const O=j[0].intersectionRatio;if(O!==c){if(!V)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!aH(u,t.getBoundingClientRect())&&o(),V=!1}try{n=new IntersectionObserver(D,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,k)}n.observe(t)}return o(!0),s}function vre(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=kO(t),g=i||s?[...u?f0(u):[],...f0(e)]:[];g.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),s&&R.addEventListener("resize",n)});const m=u&&a?yre(u,n):null;let w=-1,A=null;o&&(A=new ResizeObserver(R=>{let[B]=R;B&&B.target===u&&A&&(A.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var k;(k=A)==null||k.observe(e)})),n()}),u&&!c&&A.observe(u),A.observe(e));let I,T=c?_h(t):null;c&&C();function C(){const R=_h(t);T&&!aH(T,R)&&n(),T=R,I=requestAnimationFrame(C)}return n(),()=>{var R;g.forEach(B=>{i&&B.removeEventListener("scroll",n),s&&B.removeEventListener("resize",n)}),m?.(),(R=A)==null||R.disconnect(),A=null,c&&cancelAnimationFrame(I)}}const wre=Hne,xre=$ne,bre=Une,Are=Wne,Ere=Vne,SD=Fne,Sre=Gne,Tre=(t,e,n)=>{const r=new Map,i={platform:mre,...n},s={...i.platform,_c:r};return jne(t,e,{...i,platform:s})};var _re=typeof document<"u",Cre=function(){},Dv=_re?X.useLayoutEffect:Cre;function ow(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ow(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ow(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function lH(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TD(t,e){const n=lH(t);return Math.round(e*n)/n}function t2(t){const e=X.useRef(t);return Dv(()=>{e.current=t}),e}function Ire(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[g,m]=X.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,A]=X.useState(r);ow(w,r)||A(r);const[I,T]=X.useState(null),[C,R]=X.useState(null),B=X.useCallback(re=>{re!==j.current&&(j.current=re,T(re))},[]),k=X.useCallback(re=>{re!==O.current&&(O.current=re,R(re))},[]),V=s||I,D=o||C,j=X.useRef(null),O=X.useRef(null),M=X.useRef(g),U=c!=null,K=t2(c),q=t2(i),G=t2(u),$=X.useCallback(()=>{if(!j.current||!O.current)return;const re={placement:e,strategy:n,middleware:w};q.current&&(re.platform=q.current),Tre(j.current,O.current,re).then(pe=>{const we={...pe,isPositioned:G.current!==!1};ce.current&&!ow(M.current,we)&&(M.current=we,by.flushSync(()=>{m(we)}))})},[w,e,n,q,G]);Dv(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,m(re=>({...re,isPositioned:!1})))},[u]);const ce=X.useRef(!1);Dv(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Dv(()=>{if(V&&(j.current=V),D&&(O.current=D),V&&D){if(K.current)return K.current(V,D,$);$()}},[V,D,$,K,U]);const J=X.useMemo(()=>({reference:j,floating:O,setReference:B,setFloating:k}),[B,k]),oe=X.useMemo(()=>({reference:V,floating:D}),[V,D]),ae=X.useMemo(()=>{const re={position:n,left:0,top:0};if(!oe.floating)return re;const pe=TD(oe.floating,g.x),we=TD(oe.floating,g.y);return a?{...re,transform:"translate("+pe+"px, "+we+"px)",...lH(oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:pe,top:we}},[n,a,oe.floating,g.x,g.y]);return X.useMemo(()=>({...g,update:$,refs:J,elements:oe,floatingStyles:ae}),[g,$,J,oe,ae])}const Pre=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?SD({element:r.current,padding:i}).fn(n):{}:r?SD({element:r,padding:i}).fn(n):{}}}},Nre=(t,e)=>({...wre(t),options:[t,e]}),Ore=(t,e)=>({...xre(t),options:[t,e]}),Rre=(t,e)=>({...Sre(t),options:[t,e]}),kre=(t,e)=>({...bre(t),options:[t,e]}),Mre=(t,e)=>({...Are(t),options:[t,e]}),Dre=(t,e)=>({...Ere(t),options:[t,e]}),Lre=(t,e)=>({...Pre(t),options:[t,e]});var Bre="Arrow",cH=X.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return P.jsx(cr.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});cH.displayName=Bre;var jre=cH;function Fre(t){const[e,n]=X.useState(void 0);return Fs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var MO="Popper",[uH,fH]=Xx(MO),[Ure,hH]=uH(MO),dH=t=>{const{__scopePopper:e,children:n}=t,[r,i]=X.useState(null);return P.jsx(Ure,{scope:e,anchor:r,onAnchorChange:i,children:n})};dH.displayName=MO;var pH="PopperAnchor",gH=X.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=hH(pH,n),o=X.useRef(null),a=vi(e,o),c=X.useRef(null);return X.useEffect(()=>{const u=c.current;c.current=r?.current||o.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:P.jsx(cr.div,{...i,ref:a})});gH.displayName=pH;var DO="PopperContent",[Vre,zre]=uH(DO),mH=X.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:w=!1,updatePositionStrategy:A="optimized",onPlaced:I,...T}=t,C=hH(DO,n),[R,B]=X.useState(null),k=vi(e,ke=>B(ke)),[V,D]=X.useState(null),j=Fre(V),O=j?.width??0,M=j?.height??0,U=r+(s!=="center"?"-"+s:""),K=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},q=Array.isArray(u)?u:[u],G=q.length>0,$={padding:K,boundary:q.filter($re),altBoundary:G},{refs:ce,floatingStyles:J,placement:oe,isPositioned:ae,middlewareData:re}=Ire({strategy:"fixed",placement:U,whileElementsMounted:(...ke)=>vre(...ke,{animationFrame:A==="always"}),elements:{reference:C.anchor},middleware:[Nre({mainAxis:i+M,alignmentAxis:o}),c&&Ore({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Rre():void 0,...$}),c&&kre({...$}),Mre({...$,apply:({elements:ke,rects:De,availableWidth:Pe,availableHeight:je})=>{const{width:$e,height:_e}=De.reference,et=ke.floating.style;et.setProperty("--radix-popper-available-width",`${Pe}px`),et.setProperty("--radix-popper-available-height",`${je}px`),et.setProperty("--radix-popper-anchor-width",`${$e}px`),et.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),V&&Lre({element:V,padding:a}),Gre({arrowWidth:O,arrowHeight:M}),w&&Dre({strategy:"referenceHidden",...$})]}),[pe,we]=wH(oe),ue=Th(I);Fs(()=>{ae&&ue?.()},[ae,ue]);const he=re.arrow?.x,xe=re.arrow?.y,Re=re.arrow?.centerOffset!==0,[Ue,Me]=X.useState();return Fs(()=>{R&&Me(window.getComputedStyle(R).zIndex)},[R]),P.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ae?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:P.jsx(Vre,{scope:n,placedSide:pe,onArrowChange:D,arrowX:he,arrowY:xe,shouldHideArrow:Re,children:P.jsx(cr.div,{"data-side":pe,"data-align":we,...T,ref:k,style:{...T.style,animation:ae?void 0:"none"}})})})});mH.displayName=DO;var yH="PopperArrow",Hre={top:"bottom",right:"left",bottom:"top",left:"right"},vH=X.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=zre(yH,r),o=Hre[s.placedSide];return P.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:P.jsx(jre,{...i,ref:n,style:{...i.style,display:"block"}})})});vH.displayName=yH;function $re(t){return t!==null}var Gre=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,g]=wH(n),m={start:"0%",center:"50%",end:"100%"}[g],w=(i.arrow?.x??0)+a/2,A=(i.arrow?.y??0)+c/2;let I="",T="";return u==="bottom"?(I=o?m:`${w}px`,T=`${-c}px`):u==="top"?(I=o?m:`${w}px`,T=`${r.floating.height+c}px`):u==="right"?(I=`${-c}px`,T=o?m:`${A}px`):u==="left"&&(I=`${r.floating.width+c}px`,T=o?m:`${A}px`),{data:{x:I,y:T}}}});function wH(t){const[e,n="center"]=t.split("-");return[e,n]}var Wre=dH,qre=gH,Kre=mH,Yre=vH,Xre="Portal",LO=X.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=X.useState(!1);Fs(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?qz.createPortal(P.jsx(cr.div,{...r,ref:e}),o):null});LO.displayName=Xre;var Qre=Nz[" useInsertionEffect ".trim().toString()]||Fs;function MI({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Zre({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const g=X.useRef(t!==void 0);X.useEffect(()=>{const m=g.current;m!==a&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=a},[a,r])}const u=X.useCallback(g=>{if(a){const m=Jre(g)?g(t):g;m!==t&&o.current?.(m)}else s(g)},[a,t,s,o]);return[c,u]}function Zre({defaultProp:t,onChange:e}){const[n,r]=X.useState(t),i=X.useRef(n),s=X.useRef(e);return Qre(()=>{s.current=e},[e]),X.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function Jre(t){return typeof t=="function"}function eie(t){const e=X.useRef({value:t,previous:t});return X.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tie="VisuallyHidden",nie=X.forwardRef((t,e)=>P.jsx(cr.span,{...t,ref:e,style:{...xH,...t.style}}));nie.displayName=tie;var rie=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Rd=new WeakMap,Y1=new WeakMap,X1={},n2=0,bH=function(t){return t&&(t.host||bH(t.parentNode))},iie=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bH(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},sie=function(t,e,n,r){var i=iie(e,Array.isArray(t)?t:[t]);X1[n]||(X1[n]=new WeakMap);var s=X1[n],o=[],a=new Set,c=new Set(i),u=function(m){!m||a.has(m)||(a.add(m),u(m.parentNode))};i.forEach(u);var g=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(w){if(a.has(w))g(w);else try{var A=w.getAttribute(r),I=A!==null&&A!=="false",T=(Rd.get(w)||0)+1,C=(s.get(w)||0)+1;Rd.set(w,T),s.set(w,C),o.push(w),T===1&&I&&Y1.set(w,!0),C===1&&w.setAttribute(n,"true"),I||w.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",w,R)}})};return g(e),a.clear(),n2++,function(){o.forEach(function(m){var w=Rd.get(m)-1,A=s.get(m)-1;Rd.set(m,w),s.set(m,A),w||(Y1.has(m)||m.removeAttribute(r),Y1.delete(m)),A||m.removeAttribute(n)}),n2--,n2||(Rd=new WeakMap,Rd=new WeakMap,Y1=new WeakMap,X1={})}},AH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=rie(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),sie(r,i,n,"aria-hidden")):function(){return null}},wl=function(){return wl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wl.apply(this,arguments)};function EH(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oie(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Lv="right-scroll-bar-position",Bv="width-before-scroll-bar",aie="with-scroll-bars-hidden",lie="--removed-body-scroll-bar-size";function r2(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cie(t,e){var n=X.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var uie=typeof window<"u"?X.useLayoutEffect:X.useEffect,_D=new WeakMap;function fie(t,e){var n=cie(null,function(r){return t.forEach(function(i){return r2(i,r)})});return uie(function(){var r=_D.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||r2(a,null)}),s.forEach(function(a){i.has(a)||r2(a,o)})}_D.set(n,t)},[t]),n}function hie(t){return t}function die(t,e){e===void 0&&(e=hie);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var g=o;o=[],g.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(g){o.push(g),u()},filter:function(g){return o=o.filter(g),n}}}};return i}function pie(t){t===void 0&&(t={});var e=die(null);return e.options=wl({async:!0,ssr:!1},t),e}var SH=function(t){var e=t.sideCar,n=EH(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return X.createElement(r,wl({},n))};SH.isSideCarExport=!0;function gie(t,e){return t.useMedium(e),SH}var TH=pie(),i2=function(){},tb=X.forwardRef(function(t,e){var n=X.useRef(null),r=X.useState({onScrollCapture:i2,onWheelCapture:i2,onTouchMoveCapture:i2}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,g=t.enabled,m=t.shards,w=t.sideCar,A=t.noRelative,I=t.noIsolation,T=t.inert,C=t.allowPinchZoom,R=t.as,B=R===void 0?"div":R,k=t.gapMode,V=EH(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=w,j=fie([n,e]),O=wl(wl({},V),i);return X.createElement(X.Fragment,null,g&&X.createElement(D,{sideCar:TH,removeScrollBar:u,shards:m,noRelative:A,noIsolation:I,inert:T,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:k}),o?X.cloneElement(X.Children.only(a),wl(wl({},O),{ref:j})):X.createElement(B,wl({},O,{className:c,ref:j}),a))});tb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tb.classNames={fullWidth:Bv,zeroRight:Lv};var mie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yie(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=mie();return e&&t.setAttribute("nonce",e),t}function vie(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function wie(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xie=function(){var t=0,e=null;return{add:function(n){t==0&&(e=yie())&&(vie(e,n),wie(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bie=function(){var t=xie();return function(e,n){X.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_H=function(){var t=bie(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Aie={left:0,top:0,right:0,gap:0},s2=function(t){return parseInt(t||"",10)||0},Eie=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[s2(n),s2(r),s2(i)]},Sie=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Aie;var e=Eie(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Tie=_H(),up="data-scroll-locked",_ie=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(aie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(up,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Lv," .").concat(Lv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bv," .").concat(Bv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(up,`] {
    `).concat(lie,": ").concat(a,`px;
  }
`)},CD=function(){var t=parseInt(document.body.getAttribute(up)||"0",10);return isFinite(t)?t:0},Cie=function(){X.useEffect(function(){return document.body.setAttribute(up,(CD()+1).toString()),function(){var t=CD()-1;t<=0?document.body.removeAttribute(up):document.body.setAttribute(up,t.toString())}},[])},Iie=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Cie();var s=X.useMemo(function(){return Sie(i)},[i]);return X.createElement(Tie,{styles:_ie(s,!e,i,n?"":"!important")})},DI=!1;if(typeof window<"u")try{var Q1=Object.defineProperty({},"passive",{get:function(){return DI=!0,!0}});window.addEventListener("test",Q1,Q1),window.removeEventListener("test",Q1,Q1)}catch{DI=!1}var kd=DI?{passive:!1}:!1,Pie=function(t){return t.tagName==="TEXTAREA"},CH=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Pie(t)&&n[e]==="visible")},Nie=function(t){return CH(t,"overflowY")},Oie=function(t){return CH(t,"overflowX")},ID=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=IH(t,r);if(i){var s=PH(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Rie=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},kie=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},IH=function(t,e){return t==="v"?Nie(e):Oie(e)},PH=function(t,e){return t==="v"?Rie(e):kie(e)},Mie=function(t,e){return t==="h"&&e==="rtl"?-1:1},Die=function(t,e,n,r,i){var s=Mie(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,g=o>0,m=0,w=0;do{if(!a)break;var A=PH(t,a),I=A[0],T=A[1],C=A[2],R=T-C-s*I;(I||R)&&IH(t,a)&&(m+=R,w+=I);var B=a.parentNode;a=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(g&&Math.abs(m)<1||!g&&Math.abs(w)<1)&&(u=!0),u},Z1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},PD=function(t){return[t.deltaX,t.deltaY]},ND=function(t){return t&&"current"in t?t.current:t},Lie=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bie=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jie=0,Md=[];function Fie(t){var e=X.useRef([]),n=X.useRef([0,0]),r=X.useRef(),i=X.useState(jie++)[0],s=X.useState(_H)[0],o=X.useRef(t);X.useEffect(function(){o.current=t},[t]),X.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var T=oie([t.lockRef.current],(t.shards||[]).map(ND),!0).filter(Boolean);return T.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=X.useCallback(function(T,C){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!o.current.allowPinchZoom;var R=Z1(T),B=n.current,k="deltaX"in T?T.deltaX:B[0]-R[0],V="deltaY"in T?T.deltaY:B[1]-R[1],D,j=T.target,O=Math.abs(k)>Math.abs(V)?"h":"v";if("touches"in T&&O==="h"&&j.type==="range")return!1;var M=ID(O,j);if(!M)return!0;if(M?D=O:(D=O==="v"?"h":"v",M=ID(O,j)),!M)return!1;if(!r.current&&"changedTouches"in T&&(k||V)&&(r.current=D),!D)return!0;var U=r.current||D;return Die(U,C,T,U==="h"?k:V)},[]),c=X.useCallback(function(T){var C=T;if(!(!Md.length||Md[Md.length-1]!==s)){var R="deltaY"in C?PD(C):Z1(C),B=e.current.filter(function(D){return D.name===C.type&&(D.target===C.target||C.target===D.shadowParent)&&Lie(D.delta,R)})[0];if(B&&B.should){C.cancelable&&C.preventDefault();return}if(!B){var k=(o.current.shards||[]).map(ND).filter(Boolean).filter(function(D){return D.contains(C.target)}),V=k.length>0?a(C,k[0]):!o.current.noIsolation;V&&C.cancelable&&C.preventDefault()}}},[]),u=X.useCallback(function(T,C,R,B){var k={name:T,delta:C,target:R,should:B,shadowParent:Uie(R)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(V){return V!==k})},1)},[]),g=X.useCallback(function(T){n.current=Z1(T),r.current=void 0},[]),m=X.useCallback(function(T){u(T.type,PD(T),T.target,a(T,t.lockRef.current))},[]),w=X.useCallback(function(T){u(T.type,Z1(T),T.target,a(T,t.lockRef.current))},[]);X.useEffect(function(){return Md.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:w}),document.addEventListener("wheel",c,kd),document.addEventListener("touchmove",c,kd),document.addEventListener("touchstart",g,kd),function(){Md=Md.filter(function(T){return T!==s}),document.removeEventListener("wheel",c,kd),document.removeEventListener("touchmove",c,kd),document.removeEventListener("touchstart",g,kd)}},[]);var A=t.removeScrollBar,I=t.inert;return X.createElement(X.Fragment,null,I?X.createElement(s,{styles:Bie(i)}):null,A?X.createElement(Iie,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Uie(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Vie=gie(TH,Fie);var BO=X.forwardRef(function(t,e){return X.createElement(tb,wl({},t,{ref:e,sideCar:Vie}))});BO.classNames=tb.classNames;var zie=[" ","Enter","ArrowUp","ArrowDown"],Hie=[" ","Enter"],Ch="Select",[nb,rb,$ie]=sne(Ch),[xg,j5e]=Xx(Ch,[$ie,fH]),ib=fH(),[Gie,hf]=xg(Ch),[Wie,qie]=xg(Ch),NH=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:g,autoComplete:m,disabled:w,required:A,form:I}=t,T=ib(e),[C,R]=X.useState(null),[B,k]=X.useState(null),[V,D]=X.useState(!1),j=ane(u),[O,M]=MI({prop:r,defaultProp:i??!1,onChange:s,caller:Ch}),[U,K]=MI({prop:o,defaultProp:a,onChange:c,caller:Ch}),q=X.useRef(null),G=C?I||!!C.closest("form"):!0,[$,ce]=X.useState(new Set),J=Array.from($).map(oe=>oe.props.value).join(";");return P.jsx(Wre,{...T,children:P.jsxs(Gie,{required:A,scope:e,trigger:C,onTriggerChange:R,valueNode:B,onValueNodeChange:k,valueNodeHasChildren:V,onValueNodeHasChildrenChange:D,contentId:lp(),value:U,onValueChange:K,open:O,onOpenChange:M,dir:j,triggerPointerDownPosRef:q,disabled:w,children:[P.jsx(nb.Provider,{scope:e,children:P.jsx(Wie,{scope:t.__scopeSelect,onNativeOptionAdd:X.useCallback(oe=>{ce(ae=>new Set(ae).add(oe))},[]),onNativeOptionRemove:X.useCallback(oe=>{ce(ae=>{const re=new Set(ae);return re.delete(oe),re})},[]),children:n})}),G?P.jsxs(QH,{"aria-hidden":!0,required:A,tabIndex:-1,name:g,autoComplete:m,value:U,onChange:oe=>K(oe.target.value),disabled:w,form:I,children:[U===void 0?P.jsx("option",{value:""}):null,Array.from($)]},J):null]})})};NH.displayName=Ch;var OH="SelectTrigger",RH=X.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=ib(n),o=hf(OH,n),a=o.disabled||r,c=vi(e,o.onTriggerChange),u=rb(n),g=X.useRef("touch"),[m,w,A]=JH(T=>{const C=u().filter(k=>!k.disabled),R=C.find(k=>k.value===o.value),B=e$(C,T,R);B!==void 0&&o.onValueChange(B.value)}),I=T=>{a||(o.onOpenChange(!0),A()),T&&(o.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return P.jsx(qre,{asChild:!0,...s,children:P.jsx(cr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ZH(o.value)?"":void 0,...i,ref:c,onClick:Cr(i.onClick,T=>{T.currentTarget.focus(),g.current!=="mouse"&&I(T)}),onPointerDown:Cr(i.onPointerDown,T=>{g.current=T.pointerType;const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(I(T),T.preventDefault())}),onKeyDown:Cr(i.onKeyDown,T=>{const C=m.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&w(T.key),!(C&&T.key===" ")&&zie.includes(T.key)&&(I(),T.preventDefault())})})})});RH.displayName=OH;var kH="SelectValue",Kie=X.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,c=hf(kH,n),{onValueNodeHasChildrenChange:u}=c,g=s!==void 0,m=vi(e,c.onValueNodeChange);return Fs(()=>{u(g)},[u,g]),P.jsx(cr.span,{...a,ref:m,style:{pointerEvents:"none"},children:ZH(c.value)?P.jsx(P.Fragment,{children:o}):s})});Kie.displayName=kH;var Yie="SelectIcon",MH=X.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return P.jsx(cr.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});MH.displayName=Yie;var Xie="SelectPortal",DH=t=>P.jsx(LO,{asChild:!0,...t});DH.displayName=Xie;var Ih="SelectContent",LH=X.forwardRef((t,e)=>{const n=hf(Ih,t.__scopeSelect),[r,i]=X.useState();if(Fs(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?by.createPortal(P.jsx(BH,{scope:t.__scopeSelect,children:P.jsx(nb.Slot,{scope:t.__scopeSelect,children:P.jsx("div",{children:t.children})})}),s):null}return P.jsx(jH,{...t,ref:e})});LH.displayName=Ih;var Da=10,[BH,df]=xg(Ih),Qie="SelectContentImpl",Zie=Cp("SelectContent.RemoveScroll"),jH=X.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:g,arrowPadding:m,collisionBoundary:w,collisionPadding:A,sticky:I,hideWhenDetached:T,avoidCollisions:C,...R}=t,B=hf(Ih,n),[k,V]=X.useState(null),[D,j]=X.useState(null),O=vi(e,ke=>V(ke)),[M,U]=X.useState(null),[K,q]=X.useState(null),G=rb(n),[$,ce]=X.useState(!1),J=X.useRef(!1);X.useEffect(()=>{if(k)return AH(k)},[k]),Xz();const oe=X.useCallback(ke=>{const[De,...Pe]=G().map(_e=>_e.ref.current),[je]=Pe.slice(-1),$e=document.activeElement;for(const _e of ke)if(_e===$e||(_e?.scrollIntoView({block:"nearest"}),_e===De&&D&&(D.scrollTop=0),_e===je&&D&&(D.scrollTop=D.scrollHeight),_e?.focus(),document.activeElement!==$e))return},[G,D]),ae=X.useCallback(()=>oe([M,k]),[oe,M,k]);X.useEffect(()=>{$&&ae()},[$,ae]);const{onOpenChange:re,triggerPointerDownPosRef:pe}=B;X.useEffect(()=>{if(k){let ke={x:0,y:0};const De=je=>{ke={x:Math.abs(Math.round(je.pageX)-(pe.current?.x??0)),y:Math.abs(Math.round(je.pageY)-(pe.current?.y??0))}},Pe=je=>{ke.x<=10&&ke.y<=10?je.preventDefault():k.contains(je.target)||re(!1),document.removeEventListener("pointermove",De),pe.current=null};return pe.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[k,re,pe]),X.useEffect(()=>{const ke=()=>re(!1);return window.addEventListener("blur",ke),window.addEventListener("resize",ke),()=>{window.removeEventListener("blur",ke),window.removeEventListener("resize",ke)}},[re]);const[we,ue]=JH(ke=>{const De=G().filter($e=>!$e.disabled),Pe=De.find($e=>$e.ref.current===document.activeElement),je=e$(De,ke,Pe);je&&setTimeout(()=>je.ref.current.focus())}),he=X.useCallback((ke,De,Pe)=>{const je=!J.current&&!Pe;(B.value!==void 0&&B.value===De||je)&&(U(ke),je&&(J.current=!0))},[B.value]),xe=X.useCallback(()=>k?.focus(),[k]),Re=X.useCallback((ke,De,Pe)=>{const je=!J.current&&!Pe;(B.value!==void 0&&B.value===De||je)&&q(ke)},[B.value]),Ue=r==="popper"?LI:FH,Me=Ue===LI?{side:a,sideOffset:c,align:u,alignOffset:g,arrowPadding:m,collisionBoundary:w,collisionPadding:A,sticky:I,hideWhenDetached:T,avoidCollisions:C}:{};return P.jsx(BH,{scope:n,content:k,viewport:D,onViewportChange:j,itemRefCallback:he,selectedItem:M,onItemLeave:xe,itemTextRefCallback:Re,focusSelectedItem:ae,selectedItemText:K,position:r,isPositioned:$,searchRef:we,children:P.jsx(BO,{as:Zie,allowPinchZoom:!0,children:P.jsx(CO,{asChild:!0,trapped:B.open,onMountAutoFocus:ke=>{ke.preventDefault()},onUnmountAutoFocus:Cr(i,ke=>{B.trigger?.focus({preventScroll:!0}),ke.preventDefault()}),children:P.jsx(_O,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ke=>ke.preventDefault(),onDismiss:()=>B.onOpenChange(!1),children:P.jsx(Ue,{role:"listbox",id:B.contentId,"data-state":B.open?"open":"closed",dir:B.dir,onContextMenu:ke=>ke.preventDefault(),...R,...Me,onPlaced:()=>ce(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Cr(R.onKeyDown,ke=>{const De=ke.ctrlKey||ke.altKey||ke.metaKey;if(ke.key==="Tab"&&ke.preventDefault(),!De&&ke.key.length===1&&ue(ke.key),["ArrowUp","ArrowDown","Home","End"].includes(ke.key)){let je=G().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ke.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ke.key)){const $e=ke.target,_e=je.indexOf($e);je=je.slice(_e+1)}setTimeout(()=>oe(je)),ke.preventDefault()}})})})})})})});jH.displayName=Qie;var Jie="SelectItemAlignedPosition",FH=X.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=hf(Ih,n),o=df(Ih,n),[a,c]=X.useState(null),[u,g]=X.useState(null),m=vi(e,O=>g(O)),w=rb(n),A=X.useRef(!1),I=X.useRef(!0),{viewport:T,selectedItem:C,selectedItemText:R,focusSelectedItem:B}=o,k=X.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&T&&C&&R){const O=s.trigger.getBoundingClientRect(),M=u.getBoundingClientRect(),U=s.valueNode.getBoundingClientRect(),K=R.getBoundingClientRect();if(s.dir!=="rtl"){const $e=K.left-M.left,_e=U.left-$e,et=O.left-_e,ht=O.width+et,jt=Math.max(ht,M.width),Yt=window.innerWidth-Da,kt=aD(_e,[Da,Math.max(Da,Yt-jt)]);a.style.minWidth=ht+"px",a.style.left=kt+"px"}else{const $e=M.right-K.right,_e=window.innerWidth-U.right-$e,et=window.innerWidth-O.right-_e,ht=O.width+et,jt=Math.max(ht,M.width),Yt=window.innerWidth-Da,kt=aD(_e,[Da,Math.max(Da,Yt-jt)]);a.style.minWidth=ht+"px",a.style.right=kt+"px"}const q=w(),G=window.innerHeight-Da*2,$=T.scrollHeight,ce=window.getComputedStyle(u),J=parseInt(ce.borderTopWidth,10),oe=parseInt(ce.paddingTop,10),ae=parseInt(ce.borderBottomWidth,10),re=parseInt(ce.paddingBottom,10),pe=J+oe+$+re+ae,we=Math.min(C.offsetHeight*5,pe),ue=window.getComputedStyle(T),he=parseInt(ue.paddingTop,10),xe=parseInt(ue.paddingBottom,10),Re=O.top+O.height/2-Da,Ue=G-Re,Me=C.offsetHeight/2,ke=C.offsetTop+Me,De=J+oe+ke,Pe=pe-De;if(De<=Re){const $e=q.length>0&&C===q[q.length-1].ref.current;a.style.bottom="0px";const _e=u.clientHeight-T.offsetTop-T.offsetHeight,et=Math.max(Ue,Me+($e?xe:0)+_e+ae),ht=De+et;a.style.height=ht+"px"}else{const $e=q.length>0&&C===q[0].ref.current;a.style.top="0px";const et=Math.max(Re,J+T.offsetTop+($e?he:0)+Me)+Pe;a.style.height=et+"px",T.scrollTop=De-Re+T.offsetTop}a.style.margin=`${Da}px 0`,a.style.minHeight=we+"px",a.style.maxHeight=G+"px",r?.(),requestAnimationFrame(()=>A.current=!0)}},[w,s.trigger,s.valueNode,a,u,T,C,R,s.dir,r]);Fs(()=>k(),[k]);const[V,D]=X.useState();Fs(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const j=X.useCallback(O=>{O&&I.current===!0&&(k(),B?.(),I.current=!1)},[k,B]);return P.jsx(tse,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:A,onScrollButtonChange:j,children:P.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:V},children:P.jsx(cr.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});FH.displayName=Jie;var ese="SelectPopperPosition",LI=X.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Da,...s}=t,o=ib(n);return P.jsx(Kre,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});LI.displayName=ese;var[tse,jO]=xg(Ih,{}),BI="SelectViewport",UH=X.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=df(BI,n),o=jO(BI,n),a=vi(e,s.onViewportChange),c=X.useRef(0);return P.jsxs(P.Fragment,{children:[P.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),P.jsx(nb.Slot,{scope:n,children:P.jsx(cr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Cr(i.onScroll,u=>{const g=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:w}=o;if(w?.current&&m){const A=Math.abs(c.current-g.scrollTop);if(A>0){const I=window.innerHeight-Da*2,T=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),R=Math.max(T,C);if(R<I){const B=R+A,k=Math.min(I,B),V=B-k;m.style.height=k+"px",m.style.bottom==="0px"&&(g.scrollTop=V>0?V:0,m.style.justifyContent="flex-end")}}}c.current=g.scrollTop})})})]})});UH.displayName=BI;var VH="SelectGroup",[nse,rse]=xg(VH),ise=X.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=lp();return P.jsx(nse,{scope:n,id:i,children:P.jsx(cr.div,{role:"group","aria-labelledby":i,...r,ref:e})})});ise.displayName=VH;var zH="SelectLabel",sse=X.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=rse(zH,n);return P.jsx(cr.div,{id:i.id,...r,ref:e})});sse.displayName=zH;var aw="SelectItem",[ose,HH]=xg(aw),$H=X.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=hf(aw,n),c=df(aw,n),u=a.value===r,[g,m]=X.useState(s??""),[w,A]=X.useState(!1),I=vi(e,B=>c.itemRefCallback?.(B,r,i)),T=lp(),C=X.useRef("touch"),R=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return P.jsx(ose,{scope:n,value:r,disabled:i,textId:T,isSelected:u,onItemTextChange:X.useCallback(B=>{m(k=>k||(B?.textContent??"").trim())},[]),children:P.jsx(nb.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:P.jsx(cr.div,{role:"option","aria-labelledby":T,"data-highlighted":w?"":void 0,"aria-selected":u&&w,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:I,onFocus:Cr(o.onFocus,()=>A(!0)),onBlur:Cr(o.onBlur,()=>A(!1)),onClick:Cr(o.onClick,()=>{C.current!=="mouse"&&R()}),onPointerUp:Cr(o.onPointerUp,()=>{C.current==="mouse"&&R()}),onPointerDown:Cr(o.onPointerDown,B=>{C.current=B.pointerType}),onPointerMove:Cr(o.onPointerMove,B=>{C.current=B.pointerType,i?c.onItemLeave?.():C.current==="mouse"&&B.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Cr(o.onPointerLeave,B=>{B.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Cr(o.onKeyDown,B=>{c.searchRef?.current!==""&&B.key===" "||(Hie.includes(B.key)&&R(),B.key===" "&&B.preventDefault())})})})})});$H.displayName=aw;var Cm="SelectItemText",GH=X.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=hf(Cm,n),a=df(Cm,n),c=HH(Cm,n),u=qie(Cm,n),[g,m]=X.useState(null),w=vi(e,R=>m(R),c.onItemTextChange,R=>a.itemTextRefCallback?.(R,c.value,c.disabled)),A=g?.textContent,I=X.useMemo(()=>P.jsx("option",{value:c.value,disabled:c.disabled,children:A},c.value),[c.disabled,c.value,A]),{onNativeOptionAdd:T,onNativeOptionRemove:C}=u;return Fs(()=>(T(I),()=>C(I)),[T,C,I]),P.jsxs(P.Fragment,{children:[P.jsx(cr.span,{id:c.textId,...s,ref:w}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?by.createPortal(s.children,o.valueNode):null]})});GH.displayName=Cm;var WH="SelectItemIndicator",qH=X.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return HH(WH,n).isSelected?P.jsx(cr.span,{"aria-hidden":!0,...r,ref:e}):null});qH.displayName=WH;var jI="SelectScrollUpButton",KH=X.forwardRef((t,e)=>{const n=df(jI,t.__scopeSelect),r=jO(jI,t.__scopeSelect),[i,s]=X.useState(!1),o=vi(e,r.onScrollButtonChange);return Fs(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?P.jsx(XH,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});KH.displayName=jI;var FI="SelectScrollDownButton",YH=X.forwardRef((t,e)=>{const n=df(FI,t.__scopeSelect),r=jO(FI,t.__scopeSelect),[i,s]=X.useState(!1),o=vi(e,r.onScrollButtonChange);return Fs(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,g=Math.ceil(c.scrollTop)<u;s(g)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?P.jsx(XH,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});YH.displayName=FI;var XH=X.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=df("SelectScrollButton",n),o=X.useRef(null),a=rb(n),c=X.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return X.useEffect(()=>()=>c(),[c]),Fs(()=>{a().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),P.jsx(cr.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Cr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Cr(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Cr(i.onPointerLeave,()=>{c()})})}),ase="SelectSeparator",lse=X.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return P.jsx(cr.div,{"aria-hidden":!0,...r,ref:e})});lse.displayName=ase;var UI="SelectArrow",cse=X.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ib(n),s=hf(UI,n),o=df(UI,n);return s.open&&o.position==="popper"?P.jsx(Yre,{...i,...r,ref:e}):null});cse.displayName=UI;var use="SelectBubbleInput",QH=X.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=X.useRef(null),s=vi(r,i),o=eie(e);return X.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&g){const m=new Event("change",{bubbles:!0});g.call(a,e),a.dispatchEvent(m)}},[o,e]),P.jsx(cr.select,{...n,style:{...xH,...n.style},ref:s,defaultValue:e})});QH.displayName=use;function ZH(t){return t===""||t===void 0}function JH(t){const e=Th(t),n=X.useRef(""),r=X.useRef(0),i=X.useCallback(o=>{const a=n.current+o;e(a),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(a)},[e]),s=X.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return X.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function e$(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=fse(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function fse(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var hse=NH,dse=RH,pse=MH,gse=DH,mse=LH,yse=UH,vse=$H,wse=GH,xse=qH,bse=KH,Ase=YH;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sse=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),OD=t=>{const e=Sse(t);return e.charAt(0).toUpperCase()+e.slice(1)},t$=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>X.createElement("svg",{ref:c,...Tse,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:t$("lucide",i),...a},[...o.map(([u,g])=>X.createElement(u,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=(t,e)=>{const n=X.forwardRef(({className:r,...i},s)=>X.createElement(_se,{ref:s,iconNode:e,className:t$(`lucide-${Ese(OD(t))}`,`lucide-${t}`,r),...i}));return n.displayName=OD(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],lw=ln("arrow-left",Cse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Pse=ln("calculator",Ise);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],FO=ln("camera",Nse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rse=ln("check",Ose);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],n$=ln("chevron-down",kse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Dse=ln("chevron-up",Mse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bse=ln("circle-alert",Lse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rh=ln("circle-check-big",jse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Use=ln("circle",Fse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],zse=ln("clock",Vse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$se=ln("dollar-sign",Hse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],RD=ln("download",Gse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UO=ln("eye",Wse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Kse=ln("globe",qse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],cw=ln("history",Yse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],VO=ln("indian-rupee",Xse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],r$=ln("info",Qse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Jse=ln("leaf",Zse);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Pp=ln("link",eoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kD=ln("loader-circle",toe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],zO=ln("log-out",noe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ioe=ln("message-circle",roe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["path",{d:"M5 12h14",key:"1ays0h"}]],ooe=ln("minus",soe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],loe=ln("moon",aoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fp=ln("package",coe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vm=ln("plus",uoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],yh=ln("qr-code",foe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],doe=ln("send",hoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],goe=ln("shield",poe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],h0=ln("store",moe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],voe=ln("sun",yoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],i$=ln("trending-down",woe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],pc=ln("trending-up",xoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],d0=ln("truck",boe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Eoe=ln("upload",Aoe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uw=ln("user",Soe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HO=ln("x",Toe);function _oe({...t}){return P.jsx(hse,{"data-slot":"select",...t})}function Coe({className:t,size:e="default",children:n,...r}){return P.jsxs(dse,{"data-slot":"select-trigger","data-size":e,className:Br("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,P.jsx(pse,{asChild:!0,children:P.jsx(n$,{className:"size-4 opacity-50"})})]})}function Ioe({className:t,children:e,position:n="popper",...r}){return P.jsx(gse,{children:P.jsxs(mse,{"data-slot":"select-content",className:Br("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[P.jsx(Poe,{}),P.jsx(yse,{className:Br("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),P.jsx(Noe,{})]})})}function o2({className:t,children:e,...n}){return P.jsxs(vse,{"data-slot":"select-item",className:Br("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[P.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:P.jsx(xse,{children:P.jsx(Rse,{className:"size-4"})})}),P.jsx(wse,{children:e})]})}function Poe({className:t,...e}){return P.jsx(bse,{"data-slot":"select-scroll-up-button",className:Br("flex cursor-default items-center justify-center py-1",t),...e,children:P.jsx(Dse,{className:"size-4"})})}function Noe({className:t,...e}){return P.jsx(Ase,{"data-slot":"select-scroll-down-button",className:Br("flex cursor-default items-center justify-center py-1",t),...e,children:P.jsx(n$,{className:"size-4"})})}function Zu({showLanguageSelector:t=!0,showThemeToggle:e=!0}){const{theme:n,toggleTheme:r}=dte(),{language:i,setLanguage:s,t:o}=$c();return P.jsxs("header",{className:"absolute top-0 left-0 right-0 z-20 p-4 flex justify-between items-center",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center",children:P.jsx("span",{className:"text-white font-bold text-sm",children:"K"})}),P.jsx("h1",{className:"text-xl font-bold text-foreground",children:o("KrishiChain")})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[t&&P.jsxs(_oe,{value:i,onValueChange:a=>s(a),children:[P.jsx(Coe,{className:"w-20 bg-card/80 border-border/50",children:P.jsx(Kse,{className:"w-4 h-4"})}),P.jsxs(Ioe,{children:[P.jsx(o2,{value:"en",children:"EN"}),P.jsx(o2,{value:"hi",children:"हि"}),P.jsx(o2,{value:"or",children:"ଓ"})]})]}),e&&P.jsx(Vt,{variant:"outline",size:"icon",onClick:r,className:"bg-card/80 border-border/50",children:n==="light"?P.jsx(loe,{className:"w-4 h-4"}):P.jsx(voe,{className:"w-4 h-4"})})]})]})}function J1({onRoleSelect:t}){const{t:e}=$c(),n=[{id:"farmer",icon:uw,title:e("farmer"),description:"Track your crops from field to market",color:"from-green-600 to-green-700"},{id:"distributor",icon:d0,title:e("distributor"),description:"Manage supply chain logistics",color:"from-emerald-500 to-teal-500"},{id:"retailer",icon:h0,title:e("retailer"),description:"Connect with distributors and customers",color:"from-lime-500 to-green-600"},{id:"customer",icon:yh,title:e("customer"),description:"Verify product authenticity",color:"from-primary to-secondary"}];return P.jsxs(Yu,{type:"default",children:[P.jsx(Zu,{}),P.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:P.jsxs("div",{className:"w-full max-w-4xl",children:[P.jsxs("div",{className:"text-center mb-12",children:[P.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-foreground mb-4",children:e("KrishiChain")}),P.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Blockchain-powered transparency for agricultural supply chains. Choose your role to get started."})]}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(r=>{const i=r.icon;return P.jsx(Pn,{className:"group cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-xl bg-card/80 backdrop-blur-sm border-border/50",onClick:()=>t(r.id),children:P.jsxs(Ln,{className:"p-6 text-center",children:[P.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${r.color} flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:P.jsx(i,{className:"w-8 h-8 text-white"})}),P.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:r.title}),P.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:r.description}),P.jsx(Vt,{className:"w-full mt-4 bg-primary hover:bg-primary/90",onClick:s=>{s.stopPropagation(),t(r.id)},children:r.id==="customer"?e("scanQR"):e("continue")})]})},r.id)})}),P.jsx("div",{className:"text-center mt-8",children:P.jsx("p",{className:"text-sm text-muted-foreground",children:"Empowering farmers, securing supply chains, building trust"})})]})})]})}function Vn({className:t,type:e,...n}){return P.jsx("input",{type:e,"data-slot":"input",className:Br("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Ooe="Label",s$=X.forwardRef((t,e)=>P.jsx(cr.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));s$.displayName=Ooe;var Roe=s$;function tr({className:t,...e}){return P.jsx(Roe,{"data-slot":"label",className:Br("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const koe=()=>{};var MD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Moe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},a$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,g=s>>2,m=(s&3)<<4|a>>4;let w=(a&15)<<2|u>>6,A=u&63;c||(A=64,o||(w=64)),r.push(n[g],n[m],n[w],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Moe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw new Doe;const w=s<<2|a>>4;if(r.push(w),u!==64){const A=a<<4&240|u>>2;if(r.push(A),m!==64){const I=u<<6&192|m;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Doe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Loe=function(t){const e=o$(t);return a$.encodeByteArray(e,!0)},fw=function(t){return Loe(t).replace(/\./g,"")},l$=function(t){try{return a$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Boe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=()=>Boe().__FIREBASE_DEFAULTS__,Foe=()=>{if(typeof process>"u"||typeof MD>"u")return;const t=MD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uoe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&l$(t[1]);return e&&JSON.parse(e)},sb=()=>{try{return koe()||joe()||Foe()||Uoe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c$=t=>sb()?.emulatorHosts?.[t],Voe=t=>{const e=c$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},u$=()=>sb()?.config,f$=t=>sb()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h$(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hoe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fw(JSON.stringify(n)),fw(JSON.stringify(o)),""].join(".")}const zm={};function $oe(){const t={prod:[],emulator:[]};for(const e of Object.keys(zm))zm[e]?t.emulator.push(e):t.prod.push(e);return t}function Goe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let DD=!1;function d$(t,e){if(typeof window>"u"||typeof document>"u"||!bg(window.location.host)||zm[t]===e||zm[t]||DD)return;zm[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",s=$oe().prod.length>0;function o(){const w=document.getElementById(r);w&&w.remove()}function a(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function c(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function u(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{DD=!0,o()},w}function g(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function m(){const w=Goe(r),A=n("text"),I=document.getElementById(A)||document.createElement("span"),T=n("learnmore"),C=document.getElementById(T)||document.createElement("a"),R=n("preprendIcon"),B=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const k=w.element;a(k),g(C,T);const V=u();c(B,R),k.append(B,I,C,V),document.body.appendChild(k)}s?(I.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Woe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Us())}function qoe(){const t=sb()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Koe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yoe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xoe(){const t=Us();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qoe(){return!qoe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g$(){try{return typeof indexedDB=="object"}catch{return!1}}function m$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function Zoe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe="FirebaseError";class Za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Joe,Object.setPrototypeOf(this,Za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wh.prototype.create)}}class Wh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eae(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Za(i,a,r)}}function eae(t,e){return t.replace(tae,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tae=/\{\$([^}]+)}/g;function nae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ju(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(LD(s)&&LD(o)){if(!Ju(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Im(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rae(t,e){const n=new iae(t,e);return n.subscribe.bind(n)}class iae{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sae(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=a2),i.error===void 0&&(i.error=a2),i.complete===void 0&&(i.complete=a2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sae(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function a2(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae=1e3,aae=2,lae=14400*1e3,cae=.5;function BD(t,e=oae,n=aae){const r=e*Math.pow(n,t),i=Math.round(cae*r*(Math.random()-.5)*2);return Math.min(lae,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){return t&&t._delegate?t._delegate:t}class Xa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uae{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zoe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hae(e))try{this.getOrInitializeService({instanceIdentifier:qf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qf){return this.instances.has(e)}getOptions(e=qf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fae(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qf){return this.component?this.component.multipleInstances?e:qf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fae(t){return t===qf?void 0:t}function hae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gn||(gn={}));const pae={debug:gn.DEBUG,verbose:gn.VERBOSE,info:gn.INFO,warn:gn.WARN,error:gn.ERROR,silent:gn.SILENT},gae=gn.INFO,mae={[gn.DEBUG]:"log",[gn.VERBOSE]:"log",[gn.INFO]:"info",[gn.WARN]:"warn",[gn.ERROR]:"error"},yae=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mae[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ob{constructor(e){this.name=e,this._logLevel=gae,this._logHandler=yae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gn.DEBUG,...e),this._logHandler(this,gn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gn.VERBOSE,...e),this._logHandler(this,gn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gn.INFO,...e),this._logHandler(this,gn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gn.WARN,...e),this._logHandler(this,gn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gn.ERROR,...e),this._logHandler(this,gn.ERROR,...e)}}const vae=(t,e)=>e.some(n=>t instanceof n);let jD,FD;function wae(){return jD||(jD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xae(){return FD||(FD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y$=new WeakMap,VI=new WeakMap,v$=new WeakMap,l2=new WeakMap,$O=new WeakMap;function bae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zu(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&y$.set(n,t)}).catch(()=>{}),$O.set(e,t),e}function Aae(t){if(VI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});VI.set(t,e)}let zI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return VI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||v$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Eae(t){zI=t(zI)}function Sae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(c2(this),e,...n);return v$.set(r,e.sort?e.sort():[e]),zu(r)}:xae().includes(t)?function(...e){return t.apply(c2(this),e),zu(y$.get(this))}:function(...e){return zu(t.apply(c2(this),e))}}function Tae(t){return typeof t=="function"?Sae(t):(t instanceof IDBTransaction&&Aae(t),vae(t,wae())?new Proxy(t,zI):t)}function zu(t){if(t instanceof IDBRequest)return bae(t);if(l2.has(t))return l2.get(t);const e=Tae(t);return e!==t&&(l2.set(t,e),$O.set(e,t)),e}const c2=t=>$O.get(t);function w$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zu(o);return r&&o.addEventListener("upgradeneeded",c=>{r(zu(o.result),c.oldVersion,c.newVersion,zu(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const _ae=["get","getKey","getAll","getAllKeys","count"],Cae=["put","add","delete","clear"],u2=new Map;function UD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(u2.get(e))return u2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Cae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_ae.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return u2.set(e,s),s}Eae(t=>({...t,get:(e,n,r)=>UD(e,n)||t.get(e,n,r),has:(e,n)=>!!UD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pae(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pae(t){return t.getComponent()?.type==="VERSION"}const HI="@firebase/app",VD="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new ob("@firebase/app"),Nae="@firebase/app-compat",Oae="@firebase/analytics-compat",Rae="@firebase/analytics",kae="@firebase/app-check-compat",Mae="@firebase/app-check",Dae="@firebase/auth",Lae="@firebase/auth-compat",Bae="@firebase/database",jae="@firebase/data-connect",Fae="@firebase/database-compat",Uae="@firebase/functions",Vae="@firebase/functions-compat",zae="@firebase/installations",Hae="@firebase/installations-compat",$ae="@firebase/messaging",Gae="@firebase/messaging-compat",Wae="@firebase/performance",qae="@firebase/performance-compat",Kae="@firebase/remote-config",Yae="@firebase/remote-config-compat",Xae="@firebase/storage",Qae="@firebase/storage-compat",Zae="@firebase/firestore",Jae="@firebase/ai",ele="@firebase/firestore-compat",tle="firebase",nle="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="[DEFAULT]",rle={[HI]:"fire-core",[Nae]:"fire-core-compat",[Rae]:"fire-analytics",[Oae]:"fire-analytics-compat",[Mae]:"fire-app-check",[kae]:"fire-app-check-compat",[Dae]:"fire-auth",[Lae]:"fire-auth-compat",[Bae]:"fire-rtdb",[jae]:"fire-data-connect",[Fae]:"fire-rtdb-compat",[Uae]:"fire-fn",[Vae]:"fire-fn-compat",[zae]:"fire-iid",[Hae]:"fire-iid-compat",[$ae]:"fire-fcm",[Gae]:"fire-fcm-compat",[Wae]:"fire-perf",[qae]:"fire-perf-compat",[Kae]:"fire-rc",[Yae]:"fire-rc-compat",[Xae]:"fire-gcs",[Qae]:"fire-gcs-compat",[Zae]:"fire-fst",[ele]:"fire-fst-compat",[Jae]:"fire-vertex","fire-js":"fire-js",[tle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map,ile=new Map,GI=new Map;function zD(t,e){try{t.container.addComponent(e)}catch(n){Oc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bl(t){const e=t.name;if(GI.has(e))return Oc.debug(`There were multiple attempts to register component ${e}.`),!1;GI.set(e,t);for(const n of hw.values())zD(n,t);for(const n of ile.values())zD(n,t);return!0}function qh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hu=new Wh("app","Firebase",sle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ole{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=nle;function x$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$I,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Hu.create("bad-app-name",{appName:String(i)});if(n||(n=u$()),!n)throw Hu.create("no-options");const s=hw.get(i);if(s){if(Ju(n,s.options)&&Ju(r,s.config))return s;throw Hu.create("duplicate-app",{appName:i})}const o=new dae(i);for(const c of GI.values())o.addComponent(c);const a=new ole(n,r,o);return hw.set(i,a),a}function GO(t=$I){const e=hw.get(t);if(!e&&t===$I&&u$())return x$();if(!e)throw Hu.create("no-app",{appName:t});return e}function wa(t,e,n){let r=rle[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oc.warn(o.join(" "));return}Bl(new Xa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ale="firebase-heartbeat-database",lle=1,p0="firebase-heartbeat-store";let f2=null;function b$(){return f2||(f2=w$(ale,lle,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(p0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hu.create("idb-open",{originalErrorMessage:t.message})})),f2}async function cle(t){try{const n=(await b$()).transaction(p0),r=await n.objectStore(p0).get(A$(t));return await n.done,r}catch(e){if(e instanceof Za)Oc.warn(e.message);else{const n=Hu.create("idb-get",{originalErrorMessage:e?.message});Oc.warn(n.message)}}}async function HD(t,e){try{const r=(await b$()).transaction(p0,"readwrite");await r.objectStore(p0).put(e,A$(t)),await r.done}catch(n){if(n instanceof Za)Oc.warn(n.message);else{const r=Hu.create("idb-set",{originalErrorMessage:n?.message});Oc.warn(r.message)}}}function A$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule=1024,fle=30;class hle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ple(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$D();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>fle){const i=gle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Oc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$D(),{heartbeatsToSend:n,unsentEntries:r}=dle(this._heartbeatsCache.heartbeats),i=fw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Oc.warn(e),""}}}function $D(){return new Date().toISOString().substring(0,10)}function dle(t,e=ule){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),GD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ple{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g$()?m$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cle(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function GD(t){return fw(JSON.stringify({version:2,heartbeats:t})).length}function gle(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mle(t){Bl(new Xa("platform-logger",e=>new Iae(e),"PRIVATE")),Bl(new Xa("heartbeat",e=>new hle(e),"PRIVATE")),wa(HI,VD,t),wa(HI,VD,"esm2020"),wa("fire-js","")}mle("");function E$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yle=E$,S$=new Wh("auth","Firebase",E$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new ob("@firebase/auth");function vle(t,...e){dw.logLevel<=gn.WARN&&dw.warn(`Auth (${Ag}): ${t}`,...e)}function jv(t,...e){dw.logLevel<=gn.ERROR&&dw.error(`Auth (${Ag}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,...e){throw WO(t,...e)}function Tl(t,...e){return WO(t,...e)}function T$(t,e,n){const r={...yle(),[e]:n};return new Wh("auth","Firebase",r).create(e,{appName:t.name})}function Ec(t){return T$(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WO(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S$.create(t,...e)}function Ot(t,e,...n){if(!t)throw WO(e,...n)}function gc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jv(e),new Error(e)}function Rc(t,e){t||gc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){return typeof self<"u"&&self.location?.href||""}function wle(){return WD()==="http:"||WD()==="https:"}function WD(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xle(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wle()||p$()||"connection"in navigator)?navigator.onLine:!0}function ble(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rc(n>e,"Short delay should be less than long delay!"),this.isMobile=Woe()||Yoe()}get(){return xle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t,e){Rc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ale={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ele=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sle=new Sy(3e4,6e4);function pf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gf(t,e,n,r,i={}){return C$(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ey({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return Koe()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bg(t.emulatorConfig.host)&&(u.credentials="include"),_$.fetch()(await I$(t,t.config.apiHost,n,a),u)})}async function C$(t,e,n){t._canInitEmulator=!1;const r={...Ale,...e};try{const i=new _le(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ev(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ev(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ev(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ev(t,"user-disabled",o);const g=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw T$(t,g,u);Qa(t,g)}}catch(i){if(i instanceof Za)throw i;Qa(t,"network-request-failed",{message:String(i)})}}async function Ty(t,e,n,r,i={}){const s=await gf(t,e,n,r,i);return"mfaPendingCredential"in s&&Qa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function I$(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?qO(t.config,i):`${t.config.apiScheme}://${i}`;return Ele.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Tle(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _le{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tl(this.auth,"network-request-failed")),Sle.get())})}}function ev(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tl(t,e,r);return i.customData._tokenResponse=n,i}function qD(t){return t!==void 0&&t.enterprise!==void 0}class Cle{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Tle(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ile(t,e){return gf(t,"GET","/v2/recaptchaConfig",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ple(t,e){return gf(t,"POST","/v1/accounts:delete",e)}async function pw(t,e){return gf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nle(t,e=!1){const n=io(t),r=await n.getIdToken(e),i=KO(r);Ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Hm(h2(i.auth_time)),issuedAtTime:Hm(h2(i.iat)),expirationTime:Hm(h2(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function h2(t){return Number(t)*1e3}function KO(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jv("JWT malformed, contained fewer than 3 sections"),null;try{const i=l$(n);return i?JSON.parse(i):(jv("Failed to decode base64 JWT payload"),null)}catch(i){return jv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KD(t){const e=KO(t);return Ot(e,"internal-error"),Ot(typeof e.exp<"u","internal-error"),Ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Za&&Ole(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ole({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hm(this.lastLoginAt),this.creationTime=Hm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(t){const e=t.auth,n=await t.getIdToken(),r=await g0(t,pw(e,{idToken:n}));Ot(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?P$(i.providerUserInfo):[],o=Mle(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,u=a?c:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qI(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,g)}async function kle(t){const e=io(t);await gw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mle(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function P$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dle(t,e){const n=await C$(t,{},async()=>{const r=Ey({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await I$(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&bg(t.emulatorConfig.host)&&(c.credentials="include"),_$.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lle(t,e){return gf(t,"POST","/v2/accounts:revokeToken",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ot(e.idToken,"internal-error"),Ot(typeof e.idToken<"u","internal-error"),Ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ot(e.length!==0,"internal-error");const n=KD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Dle(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hp;return r&&(Ot(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ot(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ot(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hp,this.toJSON())}_performRefresh(){return gc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e){Ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ga{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Rle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await g0(this,this.stsTokenManager.getToken(this.auth,e));return Ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Nle(this,e)}reload(){return kle(this)}_assign(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ga({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pa(this.auth.app))return Promise.reject(Ec(this.auth));const e=await this.getIdToken();return await g0(this,Ple(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:m,emailVerified:w,isAnonymous:A,providerData:I,stsTokenManager:T}=n;Ot(m&&T,e,"internal-error");const C=hp.fromJSON(this.name,T);Ot(typeof m=="string",e,"internal-error"),bu(r,e.name),bu(i,e.name),Ot(typeof w=="boolean",e,"internal-error"),Ot(typeof A=="boolean",e,"internal-error"),bu(s,e.name),bu(o,e.name),bu(a,e.name),bu(c,e.name),bu(u,e.name),bu(g,e.name);const R=new Ga({uid:m,auth:e,email:i,emailVerified:w,displayName:r,isAnonymous:A,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:C,createdAt:u,lastLoginAt:g});return I&&Array.isArray(I)&&(R.providerData=I.map(B=>({...B}))),c&&(R._redirectEventId=c),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new hp;i.updateFromServerResponse(n);const s=new Ga({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gw(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?P$(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new hp;a.updateFromIdToken(r);const c=new Ga({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Map;function mc(t){Rc(t instanceof Function,"Expected a class definition");let e=YD.get(t);return e?(Rc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}N$.type="NONE";const XD=N$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,e,n){return`firebase:${t}:${e}:${n}`}class dp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pw(this.auth,{idToken:e}).catch(()=>{});return n?Ga._fromGetAccountInfoResponse(this.auth,n,e):null}return Ga._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dp(mc(XD),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||mc(XD);const o=Fv(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const g=await u._get(o);if(g){let m;if(typeof g=="string"){const w=await pw(e,{idToken:g}).catch(()=>{});if(!w)break;m=await Ga._fromGetAccountInfoResponse(e,w,g)}else m=Ga._fromJSON(e,g);u!==s&&(a=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new dp(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new dp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L$(e))return"Blackberry";if(B$(e))return"Webos";if(R$(e))return"Safari";if((e.includes("chrome/")||k$(e))&&!e.includes("edge/"))return"Chrome";if(D$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function O$(t=Us()){return/firefox\//i.test(t)}function R$(t=Us()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k$(t=Us()){return/crios\//i.test(t)}function M$(t=Us()){return/iemobile/i.test(t)}function D$(t=Us()){return/android/i.test(t)}function L$(t=Us()){return/blackberry/i.test(t)}function B$(t=Us()){return/webos/i.test(t)}function YO(t=Us()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ble(t=Us()){return YO(t)&&!!window.navigator?.standalone}function jle(){return Xoe()&&document.documentMode===10}function j$(t=Us()){return YO(t)||D$(t)||B$(t)||L$(t)||/windows phone/i.test(t)||M$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t,e=[]){let n;switch(t){case"Browser":n=QD(Us());break;case"Worker":n=`${QD(Us())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ag}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ule(t,e={}){return gf(t,"GET","/v2/passwordPolicy",pf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vle=6;class zle{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Vle,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZD(this),this.idTokenSubscription=new ZD(this),this.beforeStateQueue=new Fle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mc(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pw(this,{idToken:e}),r=await Ga._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pa(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gw(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ble()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pa(this.app))return Promise.reject(Ec(this));const n=e?io(e):null;return n&&Ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pa(this.app)?Promise.reject(Ec(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pa(this.app)?Promise.reject(Ec(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ule(this),n=new zle(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lle(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mc(e)||this._popupRedirectResolver;Ot(n,this,"argument-error"),this.redirectPersistenceManager=await dp.create(this,[mc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(pa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vle(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kh(t){return io(t)}class ZD{constructor(e){this.auth=e,this.observer=null,this.addObserver=rae(n=>this.observer=n)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ab={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $le(t){ab=t}function U$(t){return ab.loadJS(t)}function Gle(){return ab.recaptchaEnterpriseScript}function Wle(){return ab.gapiScript}function qle(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Kle{constructor(){this.enterprise=new Yle}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Yle{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xle="recaptcha-enterprise",V$="NO_RECAPTCHA";class Qle{constructor(e){this.type=Xle,this.auth=Kh(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Ile(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Cle(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;qD(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(V$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Kle().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&qD(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Gle();c.length!==0&&(c+=a),U$(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function JD(t,e,n,r=!1,i=!1){const s=new Qle(t);let o;if(i)o=V$;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function KI(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await JD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await JD(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zle(t,e){const n=qh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ju(s,e??{}))return i;Qa(i,"already-initialized")}return n.initialize({options:e})}function Jle(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(mc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ece(t,e,n){const r=Kh(t);Ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=z$(e),{host:o,port:a}=tce(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},g=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ot(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ot(Ju(u,r.config.emulator)&&Ju(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,bg(o)?(h$(`${s}//${o}${c}`),d$("Auth",!0)):nce()}function z$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tce(t){const e=z$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:e8(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:e8(o)}}}function e8(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nce(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gc("not implemented")}_getIdTokenResponse(e){return gc("not implemented")}_linkToIdToken(e,n){return gc("not implemented")}_getReauthenticationResolver(e){return gc("not implemented")}}async function rce(t,e){return gf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ice(t,e){return Ty(t,"POST","/v1/accounts:signInWithPassword",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sce(t,e){return Ty(t,"POST","/v1/accounts:signInWithEmailLink",pf(t,e))}async function oce(t,e){return Ty(t,"POST","/v1/accounts:signInWithEmailLink",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends XO{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new m0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new m0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return KI(e,n,"signInWithPassword",ice);case"emailLink":return sce(e,{email:this._email,oobCode:this._password});default:Qa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return KI(e,r,"signUpPassword",rce);case"emailLink":return oce(e,{idToken:n,email:this._email,oobCode:this._password});default:Qa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(t,e){return Ty(t,"POST","/v1/accounts:signInWithIdp",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace="http://localhost";class Ph extends XO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ph(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Ph(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return pp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pp(e,n)}buildRequest(){const e={requestUri:ace,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ey(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lce(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cce(t){const e=Im(Pm(t)).link,n=e?Im(Pm(e)).deep_link_id:null,r=Im(Pm(t)).deep_link_id;return(r?Im(Pm(r)).link:null)||r||n||e||t}class QO{constructor(e){const n=Im(Pm(e)),r=n.apiKey??null,i=n.oobCode??null,s=lce(n.mode??null);Ot(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cce(e);try{return new QO(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.providerId=Eg.PROVIDER_ID}static credential(e,n){return m0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=QO.parseLink(n);return Ot(r,"argument-error"),m0._fromEmailAndCode(e,r.code,r.tenantId)}}Eg.PROVIDER_ID="password";Eg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends H${constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends _y{constructor(){super("facebook.com")}static credential(e){return Ph._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ku.credential(e.oauthAccessToken)}catch{return null}}}ku.FACEBOOK_SIGN_IN_METHOD="facebook.com";ku.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends _y{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ph._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mu.credentialFromTaggedObject(e)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mu.credential(n,r)}catch{return null}}}Mu.GOOGLE_SIGN_IN_METHOD="google.com";Mu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends _y{constructor(){super("github.com")}static credential(e){return Ph._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Du.credentialFromTaggedObject(e)}static credentialFromError(e){return Du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Du.credential(e.oauthAccessToken)}catch{return null}}}Du.GITHUB_SIGN_IN_METHOD="github.com";Du.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends _y{constructor(){super("twitter.com")}static credential(e,n){return Ph._fromParams({providerId:Lu.PROVIDER_ID,signInMethod:Lu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lu.credentialFromTaggedObject(e)}static credentialFromError(e){return Lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Lu.credential(n,r)}catch{return null}}}Lu.TWITTER_SIGN_IN_METHOD="twitter.com";Lu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uce(t,e){return Ty(t,"POST","/v1/accounts:signUp",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ga._fromIdTokenResponse(e,r,i),o=t8(r);return new Nh({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=t8(r);return new Nh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function t8(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends Za{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mw.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mw(e,n,r,i)}}function $$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mw._fromErrorAndOperation(t,s,e,r):s})}async function fce(t,e,n=!1){const r=await g0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hce(t,e,n=!1){const{auth:r}=t;if(pa(r.app))return Promise.reject(Ec(r));const i="reauthenticate";try{const s=await g0(t,$$(r,i,e,t),n);Ot(s.idToken,r,"internal-error");const o=KO(s.idToken);Ot(o,r,"internal-error");const{sub:a}=o;return Ot(t.uid===a,r,"user-mismatch"),Nh._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Qa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G$(t,e,n=!1){if(pa(t.app))return Promise.reject(Ec(t));const r="signIn",i=await $$(t,r,e),s=await Nh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function dce(t,e){return G$(Kh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(t){const e=Kh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pce(t,e,n){if(pa(t.app))return Promise.reject(Ec(t));const r=Kh(t),o=await KI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uce).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&W$(t),c}),a=await Nh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function gce(t,e,n){return pa(t.app)?Promise.reject(Ec(t)):dce(io(t),Eg.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&W$(t),r})}function mce(t,e,n,r){return io(t).onIdTokenChanged(e,n,r)}function yce(t,e,n){return io(t).beforeAuthStateChanged(e,n)}function vce(t,e,n,r){return io(t).onAuthStateChanged(e,n,r)}function wce(t){return io(t).signOut()}const yw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yw,"1"),this.storage.removeItem(yw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=1e3,bce=10;class K$ extends q${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);jle()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bce):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K$.type="LOCAL";const Ace=K$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y$ extends q${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y$.type="SESSION";const X$=Y$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ece(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await Ece(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=ZO("",20);i.port1.start();const g=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const w=m;if(w.data.eventId===u)switch(w.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(w.data.response);break;default:clearTimeout(g),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(){return window}function Tce(t){_l().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(){return typeof _l().WorkerGlobalScope<"u"&&typeof _l().importScripts=="function"}async function _ce(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cce(){return navigator?.serviceWorker?.controller||null}function Ice(){return Q$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$="firebaseLocalStorageDb",Pce=1,vw="firebaseLocalStorage",J$="fbase_key";class Cy{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cb(t,e){return t.transaction([vw],e?"readwrite":"readonly").objectStore(vw)}function Nce(){const t=indexedDB.deleteDatabase(Z$);return new Cy(t).toPromise()}function YI(){const t=indexedDB.open(Z$,Pce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vw,{keyPath:J$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vw)?e(r):(r.close(),await Nce(),e(await YI()))})})}async function n8(t,e,n){const r=cb(t,!0).put({[J$]:e,value:n});return new Cy(r).toPromise()}async function Oce(t,e){const n=cb(t,!1).get(e),r=await new Cy(n).toPromise();return r===void 0?null:r.value}function r8(t,e){const n=cb(t,!0).delete(e);return new Cy(n).toPromise()}const Rce=800,kce=3;class eG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await YI(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lb._getInstance(Ice()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _ce(),!this.activeServiceWorker)return;this.sender=new Sce(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await YI();return await n8(e,yw,"1"),await r8(e,yw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>n8(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Oce(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r8(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cb(i,!1).getAll();return new Cy(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eG.type="LOCAL";const Mce=eG;new Sy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dce(t,e){return e?mc(e):(Ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO extends XO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lce(t){return G$(t.auth,new JO(t),t.bypassAuthState)}function Bce(t){const{auth:e,user:n}=t;return Ot(n,e,"internal-error"),hce(n,new JO(t),t.bypassAuthState)}async function jce(t){const{auth:e,user:n}=t;return Ot(n,e,"internal-error"),fce(n,new JO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lce;case"linkViaPopup":case"linkViaRedirect":return jce;case"reauthViaPopup":case"reauthViaRedirect":return Bce;default:Qa(this.auth,"internal-error")}}resolve(e){Rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce=new Sy(2e3,1e4);class qd extends tG{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qd.currentPopupAction&&qd.currentPopupAction.cancel(),qd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ot(e,this.auth,"internal-error"),e}async onExecution(){Rc(this.filter.length===1,"Popup operations only handle one event");const e=ZO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qd.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fce.get())};e()}}qd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uce="pendingRedirect",Uv=new Map;class Vce extends tG{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uv.get(this.auth._key());if(!e){try{const r=await zce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uv.set(this.auth._key(),e)}return this.bypassAuthState||Uv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zce(t,e){const n=Gce(e),r=$ce(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Hce(t,e){Uv.set(t._key(),e)}function $ce(t){return mc(t._redirectPersistence)}function Gce(t){return Fv(Uce,t.config.apiKey,t.name)}async function Wce(t,e,n=!1){if(pa(t.app))return Promise.reject(Ec(t));const r=Kh(t),i=Dce(r,e),o=await new Vce(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qce=600*1e3;class Kce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nG(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Tl(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qce&&this.cachedEventUids.clear(),this.cachedEventUids.has(i8(e))}saveEventToCache(e){this.cachedEventUids.add(i8(e)),this.lastProcessedEventTime=Date.now()}}function i8(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nG({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Yce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nG(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xce(t,e={}){return gf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zce=/^https?/;async function Jce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Xce(t);for(const n of e)try{if(eue(n))return}catch{}Qa(t,"unauthorized-domain")}function eue(t){const e=WI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Zce.test(n))return!1;if(Qce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue=new Sy(3e4,6e4);function s8(){const t=_l().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nue(t){return new Promise((e,n)=>{function r(){s8(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s8(),n(Tl(t,"network-request-failed"))},timeout:tue.get()})}if(_l().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_l().gapi?.load)r();else{const i=qle("iframefcb");return _l()[i]=()=>{gapi.load?r():n(Tl(t,"network-request-failed"))},U$(`${Wle()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Vv=null,e})}let Vv=null;function rue(t){return Vv=Vv||nue(t),Vv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iue=new Sy(5e3,15e3),sue="__/auth/iframe",oue="emulator/auth/iframe",aue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cue(t){const e=t.config;Ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qO(e,oue):`https://${t.config.authDomain}/${sue}`,r={apiKey:e.apiKey,appName:t.name,v:Ag},i=lue.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ey(r).slice(1)}`}async function uue(t){const e=await rue(t),n=_l().gapi;return Ot(n,t,"internal-error"),e.open({where:document.body,url:cue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tl(t,"network-request-failed"),a=_l().setTimeout(()=>{s(o)},iue.get());function c(){_l().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hue=500,due=600,pue="_blank",gue="http://localhost";class o8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mue(t,e,n,r=hue,i=due){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...fue,width:r.toString(),height:i.toString(),top:s,left:o},u=Us().toLowerCase();n&&(a=k$(u)?pue:n),O$(u)&&(e=e||gue,c.scrollbars="yes");const g=Object.entries(c).reduce((w,[A,I])=>`${w}${A}=${I},`,"");if(Ble(u)&&a!=="_self")return yue(e||"",a),new o8(null);const m=window.open(e||"",a,g);Ot(m,t,"popup-blocked");try{m.focus()}catch{}return new o8(m)}function yue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vue="__/auth/handler",wue="emulator/auth/handler",xue=encodeURIComponent("fac");async function a8(t,e,n,r,i,s){Ot(t.config.authDomain,t,"auth-domain-config-required"),Ot(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ag,eventId:i};if(e instanceof H$){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nae(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))o[g]=m}if(e instanceof _y){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const g of Object.keys(a))a[g]===void 0&&delete a[g];const c=await t._getAppCheckToken(),u=c?`#${xue}=${encodeURIComponent(c)}`:"";return`${bue(t)}?${Ey(a).slice(1)}${u}`}function bue({config:t}){return t.emulator?qO(t,wue):`https://${t.authDomain}/${vue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="webStorageSupport";class Aue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X$,this._completeRedirectFn=Wce,this._overrideRedirectResult=Hce}async _openPopup(e,n,r,i){Rc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await a8(e,n,r,WI(),i);return mue(e,s,ZO())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await a8(e,n,r,WI(),i);return Tce(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uue(e),r=new Kce(e);return n.register("authEvent",i=>(Ot(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(d2,{type:d2},i=>{const s=i?.[0]?.[d2];s!==void 0&&n(!!s),Qa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Jce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j$()||R$()||YO()}}const Eue=Aue;var l8="@firebase/auth",c8="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _ue(t){Bl(new Xa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ot(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F$(t)},u=new Hle(r,i,s,c);return Jle(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bl(new Xa("auth-internal",e=>{const n=Kh(e.getProvider("auth").getImmediate());return(r=>new Sue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wa(l8,c8,Tue(t)),wa(l8,c8,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cue=300,Iue=f$("authIdTokenMaxAge")||Cue;let u8=null;const Pue=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Iue)return;const i=n?.token;u8!==i&&(u8=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Nue(t=GO()){const e=qh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Zle(t,{popupRedirectResolver:Eue,persistence:[Mce,Ace,X$]}),r=f$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Pue(s.toString());yce(n,o,()=>o(n.currentUser)),mce(n,a=>o(a))}}const i=c$("auth");return i&&ece(n,`http://${i}`),n}function Oue(){return document.getElementsByTagName("head")?.[0]??document}$le({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Oue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_ue("Browser");var f8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $u,rG;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,M){function U(){}U.prototype=M.prototype,O.D=M.prototype,O.prototype=new U,O.prototype.constructor=O,O.C=function(K,q,G){for(var $=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)$[ce-2]=arguments[ce];return M.prototype[q].apply(K,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,M,U){U||(U=0);var K=Array(16);if(typeof M=="string")for(var q=0;16>q;++q)K[q]=M.charCodeAt(U++)|M.charCodeAt(U++)<<8|M.charCodeAt(U++)<<16|M.charCodeAt(U++)<<24;else for(q=0;16>q;++q)K[q]=M[U++]|M[U++]<<8|M[U++]<<16|M[U++]<<24;M=O.g[0],U=O.g[1],q=O.g[2];var G=O.g[3],$=M+(G^U&(q^G))+K[0]+3614090360&4294967295;M=U+($<<7&4294967295|$>>>25),$=G+(q^M&(U^q))+K[1]+3905402710&4294967295,G=M+($<<12&4294967295|$>>>20),$=q+(U^G&(M^U))+K[2]+606105819&4294967295,q=G+($<<17&4294967295|$>>>15),$=U+(M^q&(G^M))+K[3]+3250441966&4294967295,U=q+($<<22&4294967295|$>>>10),$=M+(G^U&(q^G))+K[4]+4118548399&4294967295,M=U+($<<7&4294967295|$>>>25),$=G+(q^M&(U^q))+K[5]+1200080426&4294967295,G=M+($<<12&4294967295|$>>>20),$=q+(U^G&(M^U))+K[6]+2821735955&4294967295,q=G+($<<17&4294967295|$>>>15),$=U+(M^q&(G^M))+K[7]+4249261313&4294967295,U=q+($<<22&4294967295|$>>>10),$=M+(G^U&(q^G))+K[8]+1770035416&4294967295,M=U+($<<7&4294967295|$>>>25),$=G+(q^M&(U^q))+K[9]+2336552879&4294967295,G=M+($<<12&4294967295|$>>>20),$=q+(U^G&(M^U))+K[10]+4294925233&4294967295,q=G+($<<17&4294967295|$>>>15),$=U+(M^q&(G^M))+K[11]+2304563134&4294967295,U=q+($<<22&4294967295|$>>>10),$=M+(G^U&(q^G))+K[12]+1804603682&4294967295,M=U+($<<7&4294967295|$>>>25),$=G+(q^M&(U^q))+K[13]+4254626195&4294967295,G=M+($<<12&4294967295|$>>>20),$=q+(U^G&(M^U))+K[14]+2792965006&4294967295,q=G+($<<17&4294967295|$>>>15),$=U+(M^q&(G^M))+K[15]+1236535329&4294967295,U=q+($<<22&4294967295|$>>>10),$=M+(q^G&(U^q))+K[1]+4129170786&4294967295,M=U+($<<5&4294967295|$>>>27),$=G+(U^q&(M^U))+K[6]+3225465664&4294967295,G=M+($<<9&4294967295|$>>>23),$=q+(M^U&(G^M))+K[11]+643717713&4294967295,q=G+($<<14&4294967295|$>>>18),$=U+(G^M&(q^G))+K[0]+3921069994&4294967295,U=q+($<<20&4294967295|$>>>12),$=M+(q^G&(U^q))+K[5]+3593408605&4294967295,M=U+($<<5&4294967295|$>>>27),$=G+(U^q&(M^U))+K[10]+38016083&4294967295,G=M+($<<9&4294967295|$>>>23),$=q+(M^U&(G^M))+K[15]+3634488961&4294967295,q=G+($<<14&4294967295|$>>>18),$=U+(G^M&(q^G))+K[4]+3889429448&4294967295,U=q+($<<20&4294967295|$>>>12),$=M+(q^G&(U^q))+K[9]+568446438&4294967295,M=U+($<<5&4294967295|$>>>27),$=G+(U^q&(M^U))+K[14]+3275163606&4294967295,G=M+($<<9&4294967295|$>>>23),$=q+(M^U&(G^M))+K[3]+4107603335&4294967295,q=G+($<<14&4294967295|$>>>18),$=U+(G^M&(q^G))+K[8]+1163531501&4294967295,U=q+($<<20&4294967295|$>>>12),$=M+(q^G&(U^q))+K[13]+2850285829&4294967295,M=U+($<<5&4294967295|$>>>27),$=G+(U^q&(M^U))+K[2]+4243563512&4294967295,G=M+($<<9&4294967295|$>>>23),$=q+(M^U&(G^M))+K[7]+1735328473&4294967295,q=G+($<<14&4294967295|$>>>18),$=U+(G^M&(q^G))+K[12]+2368359562&4294967295,U=q+($<<20&4294967295|$>>>12),$=M+(U^q^G)+K[5]+4294588738&4294967295,M=U+($<<4&4294967295|$>>>28),$=G+(M^U^q)+K[8]+2272392833&4294967295,G=M+($<<11&4294967295|$>>>21),$=q+(G^M^U)+K[11]+1839030562&4294967295,q=G+($<<16&4294967295|$>>>16),$=U+(q^G^M)+K[14]+4259657740&4294967295,U=q+($<<23&4294967295|$>>>9),$=M+(U^q^G)+K[1]+2763975236&4294967295,M=U+($<<4&4294967295|$>>>28),$=G+(M^U^q)+K[4]+1272893353&4294967295,G=M+($<<11&4294967295|$>>>21),$=q+(G^M^U)+K[7]+4139469664&4294967295,q=G+($<<16&4294967295|$>>>16),$=U+(q^G^M)+K[10]+3200236656&4294967295,U=q+($<<23&4294967295|$>>>9),$=M+(U^q^G)+K[13]+681279174&4294967295,M=U+($<<4&4294967295|$>>>28),$=G+(M^U^q)+K[0]+3936430074&4294967295,G=M+($<<11&4294967295|$>>>21),$=q+(G^M^U)+K[3]+3572445317&4294967295,q=G+($<<16&4294967295|$>>>16),$=U+(q^G^M)+K[6]+76029189&4294967295,U=q+($<<23&4294967295|$>>>9),$=M+(U^q^G)+K[9]+3654602809&4294967295,M=U+($<<4&4294967295|$>>>28),$=G+(M^U^q)+K[12]+3873151461&4294967295,G=M+($<<11&4294967295|$>>>21),$=q+(G^M^U)+K[15]+530742520&4294967295,q=G+($<<16&4294967295|$>>>16),$=U+(q^G^M)+K[2]+3299628645&4294967295,U=q+($<<23&4294967295|$>>>9),$=M+(q^(U|~G))+K[0]+4096336452&4294967295,M=U+($<<6&4294967295|$>>>26),$=G+(U^(M|~q))+K[7]+1126891415&4294967295,G=M+($<<10&4294967295|$>>>22),$=q+(M^(G|~U))+K[14]+2878612391&4294967295,q=G+($<<15&4294967295|$>>>17),$=U+(G^(q|~M))+K[5]+4237533241&4294967295,U=q+($<<21&4294967295|$>>>11),$=M+(q^(U|~G))+K[12]+1700485571&4294967295,M=U+($<<6&4294967295|$>>>26),$=G+(U^(M|~q))+K[3]+2399980690&4294967295,G=M+($<<10&4294967295|$>>>22),$=q+(M^(G|~U))+K[10]+4293915773&4294967295,q=G+($<<15&4294967295|$>>>17),$=U+(G^(q|~M))+K[1]+2240044497&4294967295,U=q+($<<21&4294967295|$>>>11),$=M+(q^(U|~G))+K[8]+1873313359&4294967295,M=U+($<<6&4294967295|$>>>26),$=G+(U^(M|~q))+K[15]+4264355552&4294967295,G=M+($<<10&4294967295|$>>>22),$=q+(M^(G|~U))+K[6]+2734768916&4294967295,q=G+($<<15&4294967295|$>>>17),$=U+(G^(q|~M))+K[13]+1309151649&4294967295,U=q+($<<21&4294967295|$>>>11),$=M+(q^(U|~G))+K[4]+4149444226&4294967295,M=U+($<<6&4294967295|$>>>26),$=G+(U^(M|~q))+K[11]+3174756917&4294967295,G=M+($<<10&4294967295|$>>>22),$=q+(M^(G|~U))+K[2]+718787259&4294967295,q=G+($<<15&4294967295|$>>>17),$=U+(G^(q|~M))+K[9]+3951481745&4294967295,O.g[0]=O.g[0]+M&4294967295,O.g[1]=O.g[1]+(q+($<<21&4294967295|$>>>11))&4294967295,O.g[2]=O.g[2]+q&4294967295,O.g[3]=O.g[3]+G&4294967295}r.prototype.u=function(O,M){M===void 0&&(M=O.length);for(var U=M-this.blockSize,K=this.B,q=this.h,G=0;G<M;){if(q==0)for(;G<=U;)i(this,O,G),G+=this.blockSize;if(typeof O=="string"){for(;G<M;)if(K[q++]=O.charCodeAt(G++),q==this.blockSize){i(this,K),q=0;break}}else for(;G<M;)if(K[q++]=O[G++],q==this.blockSize){i(this,K),q=0;break}}this.h=q,this.o+=M},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var M=1;M<O.length-8;++M)O[M]=0;var U=8*this.o;for(M=O.length-8;M<O.length;++M)O[M]=U&255,U/=256;for(this.u(O),O=Array(16),M=U=0;4>M;++M)for(var K=0;32>K;K+=8)O[U++]=this.g[M]>>>K&255;return O};function s(O,M){var U=a;return Object.prototype.hasOwnProperty.call(U,O)?U[O]:U[O]=M(O)}function o(O,M){this.h=M;for(var U=[],K=!0,q=O.length-1;0<=q;q--){var G=O[q]|0;K&&G==M||(U[q]=G,K=!1)}this.g=U}var a={};function c(O){return-128<=O&&128>O?s(O,function(M){return new o([M|0],0>M?-1:0)}):new o([O|0],0>O?-1:0)}function u(O){if(isNaN(O)||!isFinite(O))return m;if(0>O)return C(u(-O));for(var M=[],U=1,K=0;O>=U;K++)M[K]=O/U|0,U*=4294967296;return new o(M,0)}function g(O,M){if(O.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(O.charAt(0)=="-")return C(g(O.substring(1),M));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=u(Math.pow(M,8)),K=m,q=0;q<O.length;q+=8){var G=Math.min(8,O.length-q),$=parseInt(O.substring(q,q+G),M);8>G?(G=u(Math.pow(M,G)),K=K.j(G).add(u($))):(K=K.j(U),K=K.add(u($)))}return K}var m=c(0),w=c(1),A=c(16777216);t=o.prototype,t.m=function(){if(T(this))return-C(this).m();for(var O=0,M=1,U=0;U<this.g.length;U++){var K=this.i(U);O+=(0<=K?K:4294967296+K)*M,M*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(T(this))return"-"+C(this).toString(O);for(var M=u(Math.pow(O,6)),U=this,K="";;){var q=V(U,M).g;U=R(U,q.j(M));var G=((0<U.g.length?U.g[0]:U.h)>>>0).toString(O);if(U=q,I(U))return G+K;for(;6>G.length;)G="0"+G;K=G+K}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var M=0;M<O.g.length;M++)if(O.g[M]!=0)return!1;return!0}function T(O){return O.h==-1}t.l=function(O){return O=R(this,O),T(O)?-1:I(O)?0:1};function C(O){for(var M=O.g.length,U=[],K=0;K<M;K++)U[K]=~O.g[K];return new o(U,~O.h).add(w)}t.abs=function(){return T(this)?C(this):this},t.add=function(O){for(var M=Math.max(this.g.length,O.g.length),U=[],K=0,q=0;q<=M;q++){var G=K+(this.i(q)&65535)+(O.i(q)&65535),$=(G>>>16)+(this.i(q)>>>16)+(O.i(q)>>>16);K=$>>>16,G&=65535,$&=65535,U[q]=$<<16|G}return new o(U,U[U.length-1]&-2147483648?-1:0)};function R(O,M){return O.add(C(M))}t.j=function(O){if(I(this)||I(O))return m;if(T(this))return T(O)?C(this).j(C(O)):C(C(this).j(O));if(T(O))return C(this.j(C(O)));if(0>this.l(A)&&0>O.l(A))return u(this.m()*O.m());for(var M=this.g.length+O.g.length,U=[],K=0;K<2*M;K++)U[K]=0;for(K=0;K<this.g.length;K++)for(var q=0;q<O.g.length;q++){var G=this.i(K)>>>16,$=this.i(K)&65535,ce=O.i(q)>>>16,J=O.i(q)&65535;U[2*K+2*q]+=$*J,B(U,2*K+2*q),U[2*K+2*q+1]+=G*J,B(U,2*K+2*q+1),U[2*K+2*q+1]+=$*ce,B(U,2*K+2*q+1),U[2*K+2*q+2]+=G*ce,B(U,2*K+2*q+2)}for(K=0;K<M;K++)U[K]=U[2*K+1]<<16|U[2*K];for(K=M;K<2*M;K++)U[K]=0;return new o(U,0)};function B(O,M){for(;(O[M]&65535)!=O[M];)O[M+1]+=O[M]>>>16,O[M]&=65535,M++}function k(O,M){this.g=O,this.h=M}function V(O,M){if(I(M))throw Error("division by zero");if(I(O))return new k(m,m);if(T(O))return M=V(C(O),M),new k(C(M.g),C(M.h));if(T(M))return M=V(O,C(M)),new k(C(M.g),M.h);if(30<O.g.length){if(T(O)||T(M))throw Error("slowDivide_ only works with positive integers.");for(var U=w,K=M;0>=K.l(O);)U=D(U),K=D(K);var q=j(U,1),G=j(K,1);for(K=j(K,2),U=j(U,2);!I(K);){var $=G.add(K);0>=$.l(O)&&(q=q.add(U),G=$),K=j(K,1),U=j(U,1)}return M=R(O,q.j(M)),new k(q,M)}for(q=m;0<=O.l(M);){for(U=Math.max(1,Math.floor(O.m()/M.m())),K=Math.ceil(Math.log(U)/Math.LN2),K=48>=K?1:Math.pow(2,K-48),G=u(U),$=G.j(M);T($)||0<$.l(O);)U-=K,G=u(U),$=G.j(M);I(G)&&(G=w),q=q.add(G),O=R(O,$)}return new k(q,O)}t.A=function(O){return V(this,O).h},t.and=function(O){for(var M=Math.max(this.g.length,O.g.length),U=[],K=0;K<M;K++)U[K]=this.i(K)&O.i(K);return new o(U,this.h&O.h)},t.or=function(O){for(var M=Math.max(this.g.length,O.g.length),U=[],K=0;K<M;K++)U[K]=this.i(K)|O.i(K);return new o(U,this.h|O.h)},t.xor=function(O){for(var M=Math.max(this.g.length,O.g.length),U=[],K=0;K<M;K++)U[K]=this.i(K)^O.i(K);return new o(U,this.h^O.h)};function D(O){for(var M=O.g.length+1,U=[],K=0;K<M;K++)U[K]=O.i(K)<<1|O.i(K-1)>>>31;return new o(U,O.h)}function j(O,M){var U=M>>5;M%=32;for(var K=O.g.length-U,q=[],G=0;G<K;G++)q[G]=0<M?O.i(G+U)>>>M|O.i(G+U+1)<<32-M:O.i(G+U);return new o(q,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rG=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=g,$u=o}).apply(typeof f8<"u"?f8:typeof self<"u"?self:typeof window<"u"?window:{});var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iG,Nm,sG,zv,XI,oG,aG,lG;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,z,Y){return S==Array.prototype||S==Object.prototype||(S[z]=Y.value),S};function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof tv=="object"&&tv];for(var z=0;z<S.length;++z){var Y=S[z];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function i(S,z){if(z)e:{var Y=r;S=S.split(".");for(var ne=0;ne<S.length-1;ne++){var Ee=S[ne];if(!(Ee in Y))break e;Y=Y[Ee]}S=S[S.length-1],ne=Y[S],z=z(ne),z!=ne&&z!=null&&e(Y,S,{configurable:!0,writable:!0,value:z})}}function s(S,z){S instanceof String&&(S+="");var Y=0,ne=!1,Ee={next:function(){if(!ne&&Y<S.length){var Oe=Y++;return{value:z(Oe,S[Oe]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}i("Array.prototype.values",function(S){return S||function(){return s(this,function(z,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(S){var z=typeof S;return z=z!="object"?z:S?Array.isArray(S)?"array":z:"null",z=="array"||z=="object"&&typeof S.length=="number"}function u(S){var z=typeof S;return z=="object"&&S!=null||z=="function"}function g(S,z,Y){return S.call.apply(S.bind,arguments)}function m(S,z,Y){if(!S)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var Ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ee,ne),S.apply(z,Ee)}}return function(){return S.apply(z,arguments)}}function w(S,z,Y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:m,w.apply(null,arguments)}function A(S,z){var Y=Array.prototype.slice.call(arguments,1);return function(){var ne=Y.slice();return ne.push.apply(ne,arguments),S.apply(this,ne)}}function I(S,z){function Y(){}Y.prototype=z.prototype,S.aa=z.prototype,S.prototype=new Y,S.prototype.constructor=S,S.Qb=function(ne,Ee,Oe){for(var Ze=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)Ze[Mn-2]=arguments[Mn];return z.prototype[Ee].apply(ne,Ze)}}function T(S){const z=S.length;if(0<z){const Y=Array(z);for(let ne=0;ne<z;ne++)Y[ne]=S[ne];return Y}return[]}function C(S,z){for(let Y=1;Y<arguments.length;Y++){const ne=arguments[Y];if(c(ne)){const Ee=S.length||0,Oe=ne.length||0;S.length=Ee+Oe;for(let Ze=0;Ze<Oe;Ze++)S[Ee+Ze]=ne[Ze]}else S.push(ne)}}class R{constructor(z,Y){this.i=z,this.j=Y,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function B(S){return/^[\s\xa0]*$/.test(S)}function k(){var S=a.navigator;return S&&(S=S.userAgent)?S:""}function V(S){return V[" "](S),S}V[" "]=function(){};var D=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function j(S,z,Y){for(const ne in S)z.call(Y,S[ne],ne,S)}function O(S,z){for(const Y in S)z.call(void 0,S[Y],Y,S)}function M(S){const z={};for(const Y in S)z[Y]=S[Y];return z}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(S,z){let Y,ne;for(let Ee=1;Ee<arguments.length;Ee++){ne=arguments[Ee];for(Y in ne)S[Y]=ne[Y];for(let Oe=0;Oe<U.length;Oe++)Y=U[Oe],Object.prototype.hasOwnProperty.call(ne,Y)&&(S[Y]=ne[Y])}}function q(S){var z=1;S=S.split(":");const Y=[];for(;0<z&&S.length;)Y.push(S.shift()),z--;return S.length&&Y.push(S.join(":")),Y}function G(S){a.setTimeout(()=>{throw S},0)}function $(){var S=pe;let z=null;return S.g&&(z=S.g,S.g=S.g.next,S.g||(S.h=null),z.next=null),z}class ce{constructor(){this.h=this.g=null}add(z,Y){const ne=J.get();ne.set(z,Y),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var J=new R(()=>new oe,S=>S.reset());class oe{constructor(){this.next=this.g=this.h=null}set(z,Y){this.h=z,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,re=!1,pe=new ce,we=()=>{const S=a.Promise.resolve(void 0);ae=()=>{S.then(ue)}};var ue=()=>{for(var S;S=$();){try{S.h.call(S.g)}catch(Y){G(Y)}var z=J;z.j(S),100>z.h&&(z.h++,S.next=z.g,z.g=S)}re=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(S,z){this.type=S,this.g=this.target=z,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Re=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var S=!1,z=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const Y=()=>{};a.addEventListener("test",Y,z),a.removeEventListener("test",Y,z)}catch{}return S})();function Ue(S,z){if(xe.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var Y=this.type=S.type,ne=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=z,z=S.relatedTarget){if(D){e:{try{V(z.nodeName);var Ee=!0;break e}catch{}Ee=!1}Ee||(z=null)}}else Y=="mouseover"?z=S.fromElement:Y=="mouseout"&&(z=S.toElement);this.relatedTarget=z,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:Me[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&Ue.aa.h.call(this)}}I(Ue,xe);var Me={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),De=0;function Pe(S,z,Y,ne,Ee){this.listener=S,this.proxy=null,this.src=z,this.type=Y,this.capture=!!ne,this.ha=Ee,this.key=++De,this.da=this.fa=!1}function je(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function $e(S){this.src=S,this.g={},this.h=0}$e.prototype.add=function(S,z,Y,ne,Ee){var Oe=S.toString();S=this.g[Oe],S||(S=this.g[Oe]=[],this.h++);var Ze=et(S,z,ne,Ee);return-1<Ze?(z=S[Ze],Y||(z.fa=!1)):(z=new Pe(z,this.src,Oe,!!ne,Ee),z.fa=Y,S.push(z)),z};function _e(S,z){var Y=z.type;if(Y in S.g){var ne=S.g[Y],Ee=Array.prototype.indexOf.call(ne,z,void 0),Oe;(Oe=0<=Ee)&&Array.prototype.splice.call(ne,Ee,1),Oe&&(je(z),S.g[Y].length==0&&(delete S.g[Y],S.h--))}}function et(S,z,Y,ne){for(var Ee=0;Ee<S.length;++Ee){var Oe=S[Ee];if(!Oe.da&&Oe.listener==z&&Oe.capture==!!Y&&Oe.ha==ne)return Ee}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),jt={};function Yt(S,z,Y,ne,Ee){if(Array.isArray(z)){for(var Oe=0;Oe<z.length;Oe++)Yt(S,z[Oe],Y,ne,Ee);return null}return Y=so(Y),S&&S[ke]?S.K(z,Y,u(ne)?!!ne.capture:!1,Ee):kt(S,z,Y,!1,ne,Ee)}function kt(S,z,Y,ne,Ee,Oe){if(!z)throw Error("Invalid event type");var Ze=u(Ee)?!!Ee.capture:!!Ee,Mn=wi(S);if(Mn||(S[ht]=Mn=new $e(S)),Y=Mn.add(z,Y,ne,Ze,Oe),Y.proxy)return Y;if(ne=Kt(),Y.proxy=ne,ne.src=S,ne.listener=Y,S.addEventListener)Re||(Ee=Ze),Ee===void 0&&(Ee=!1),S.addEventListener(z.toString(),ne,Ee);else if(S.attachEvent)S.attachEvent(nt(z.toString()),ne);else if(S.addListener&&S.removeListener)S.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function Kt(){function S(Y){return z.call(S.src,S.listener,Y)}const z=Tn;return S}function wt(S,z,Y,ne,Ee){if(Array.isArray(z))for(var Oe=0;Oe<z.length;Oe++)wt(S,z[Oe],Y,ne,Ee);else ne=u(ne)?!!ne.capture:!!ne,Y=so(Y),S&&S[ke]?(S=S.i,z=String(z).toString(),z in S.g&&(Oe=S.g[z],Y=et(Oe,Y,ne,Ee),-1<Y&&(je(Oe[Y]),Array.prototype.splice.call(Oe,Y,1),Oe.length==0&&(delete S.g[z],S.h--)))):S&&(S=wi(S))&&(z=S.g[z.toString()],S=-1,z&&(S=et(z,Y,ne,Ee)),(Y=-1<S?z[S]:null)&&ii(Y))}function ii(S){if(typeof S!="number"&&S&&!S.da){var z=S.src;if(z&&z[ke])_e(z.i,S);else{var Y=S.type,ne=S.proxy;z.removeEventListener?z.removeEventListener(Y,ne,S.capture):z.detachEvent?z.detachEvent(nt(Y),ne):z.addListener&&z.removeListener&&z.removeListener(ne),(Y=wi(z))?(_e(Y,S),Y.h==0&&(Y.src=null,z[ht]=null)):je(S)}}}function nt(S){return S in jt?jt[S]:jt[S]="on"+S}function Tn(S,z){if(S.da)S=!0;else{z=new Ue(z,this);var Y=S.listener,ne=S.ha||S.src;S.fa&&ii(S),S=Y.call(ne,z)}return S}function wi(S){return S=S[ht],S instanceof $e?S:null}var si="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(S){return typeof S=="function"?S:(S[si]||(S[si]=function(z){return S.handleEvent(z)}),S[si])}function cn(){he.call(this),this.i=new $e(this),this.M=this,this.F=null}I(cn,he),cn.prototype[ke]=!0,cn.prototype.removeEventListener=function(S,z,Y,ne){wt(this,S,z,Y,ne)};function Pr(S,z){var Y,ne=S.F;if(ne)for(Y=[];ne;ne=ne.F)Y.push(ne);if(S=S.M,ne=z.type||z,typeof z=="string")z=new xe(z,S);else if(z instanceof xe)z.target=z.target||S;else{var Ee=z;z=new xe(ne,S),K(z,Ee)}if(Ee=!0,Y)for(var Oe=Y.length-1;0<=Oe;Oe--){var Ze=z.g=Y[Oe];Ee=oi(Ze,ne,!0,z)&&Ee}if(Ze=z.g=S,Ee=oi(Ze,ne,!0,z)&&Ee,Ee=oi(Ze,ne,!1,z)&&Ee,Y)for(Oe=0;Oe<Y.length;Oe++)Ze=z.g=Y[Oe],Ee=oi(Ze,ne,!1,z)&&Ee}cn.prototype.N=function(){if(cn.aa.N.call(this),this.i){var S=this.i,z;for(z in S.g){for(var Y=S.g[z],ne=0;ne<Y.length;ne++)je(Y[ne]);delete S.g[z],S.h--}}this.F=null},cn.prototype.K=function(S,z,Y,ne){return this.i.add(String(S),z,!1,Y,ne)},cn.prototype.L=function(S,z,Y,ne){return this.i.add(String(S),z,!0,Y,ne)};function oi(S,z,Y,ne){if(z=S.i.g[String(z)],!z)return!0;z=z.concat();for(var Ee=!0,Oe=0;Oe<z.length;++Oe){var Ze=z[Oe];if(Ze&&!Ze.da&&Ze.capture==Y){var Mn=Ze.listener,xr=Ze.ha||Ze.src;Ze.fa&&_e(S.i,Ze),Ee=Mn.call(xr,ne)!==!1&&Ee}}return Ee&&!ne.defaultPrevented}function yr(S,z,Y){if(typeof S=="function")Y&&(S=w(S,Y));else if(S&&typeof S.handleEvent=="function")S=w(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:a.setTimeout(S,z||0)}function $i(S){S.g=yr(()=>{S.g=null,S.i&&(S.i=!1,$i(S))},S.l);const z=S.h;S.h=null,S.m.apply(null,z)}class Vs extends he{constructor(z,Y){super(),this.m=z,this.l=Y,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:$i(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(S){he.call(this),this.h=S,this.g={}}I(ws,he);var Xn=[];function Qe(S){j(S.g,function(z,Y){this.g.hasOwnProperty(Y)&&ii(z)},S),S.g={}}ws.prototype.N=function(){ws.aa.N.call(this),Qe(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=a.JSON.stringify,un=a.JSON.parse,Bn=class{stringify(S){return a.JSON.stringify(S,void 0)}parse(S){return a.JSON.parse(S,void 0)}};function is(){}is.prototype.h=null;function Ci(S){return S.h||(S.h=S.i())}function Ta(){}var Ft={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){xe.call(this,"d")}I(ai,xe);function Yo(){xe.call(this,"c")}I(Yo,xe);var At={},fn=null;function Zn(){return fn=fn||new cn}At.La="serverreachability";function hn(S){xe.call(this,At.La,S)}I(hn,xe);function li(S){const z=Zn();Pr(z,new hn(z))}At.STAT_EVENT="statevent";function Jn(S,z){xe.call(this,At.STAT_EVENT,S),this.stat=z}I(Jn,xe);function Ht(S){const z=Zn();Pr(z,new Jn(z,S))}At.Ma="timingevent";function _o(S,z){xe.call(this,At.Ma,S),this.size=z}I(_o,xe);function Rn(S,z){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){S()},z)}function jr(){this.g=!0}jr.prototype.xa=function(){this.g=!1};function vr(S,z,Y,ne,Ee,Oe){S.info(function(){if(S.g)if(Oe)for(var Ze="",Mn=Oe.split("&"),xr=0;xr<Mn.length;xr++){var dn=Mn[xr].split("=");if(1<dn.length){var ar=dn[0];dn=dn[1];var br=ar.split("_");Ze=2<=br.length&&br[1]=="type"?Ze+(ar+"="+dn+"&"):Ze+(ar+"=redacted&")}}else Ze=null;else Ze=Oe;return"XMLHTTP REQ ("+ne+") [attempt "+Ee+"]: "+z+`
`+Y+`
`+Ze})}function Wr(S,z,Y,ne,Ee,Oe,Ze){S.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+Ee+"]: "+z+`
`+Y+`
`+Oe+" "+Ze})}function wr(S,z,Y,ne){S.info(function(){return"XMLHTTP TEXT ("+z+"): "+nl(S,Y)+(ne?" "+ne:"")})}function rt(S,z){S.info(function(){return"TIMEOUT: "+z})}jr.prototype.info=function(){};function nl(S,z){if(!S.g)return z;if(!z)return null;try{var Y=JSON.parse(z);if(Y){for(S=0;S<Y.length;S++)if(Array.isArray(Y[S])){var ne=Y[S];if(!(2>ne.length)){var Ee=ne[1];if(Array.isArray(Ee)&&!(1>Ee.length)){var Oe=Ee[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var Ze=1;Ze<Ee.length;Ze++)Ee[Ze]=""}}}}return Qn(Y)}catch{return z}}var rl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gi;function Xo(){}I(Xo,is),Xo.prototype.g=function(){return new XMLHttpRequest},Xo.prototype.i=function(){return{}},Gi=new Xo;function xs(S,z,Y,ne){this.j=S,this.i=z,this.l=Y,this.R=ne||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}var Af={},Xc={};function ss(S,z,Y){S.L=1,S.v=ir(Jt(z)),S.m=Y,S.P=!0,ci(S,null)}function ci(S,z){S.F=Date.now(),vn(S),S.A=Jt(S.v);var Y=S.A,ne=S.R;Array.isArray(ne)||(ne=[String(ne)]),sr(Y.i,"t",ne),S.C=0,Y=S.j.J,S.h=new zs,S.g=fd(S.j,Y?z:null,!S.m),0<S.O&&(S.M=new Vs(w(S.Y,S,S.g),S.O)),z=S.U,Y=S.g,ne=S.ca;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(Xn[0]=Ee.toString()),Ee=Xn);for(var Oe=0;Oe<Ee.length;Oe++){var Ze=Yt(Y,Ee[Oe],ne||z.handleEvent,!1,z.h||z);if(!Ze)break;z.g[Ze.key]=Ze}z=S.H?M(S.H):{},S.m?(S.u||(S.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,z)):(S.u="GET",S.g.ea(S.A,S.u,null,z)),li(),vr(S.i,S.u,S.A,S.l,S.R,S.m)}xs.prototype.ca=function(S){S=S.target;const z=this.M;z&&Ss(S)==3?z.j():this.Y(S)},xs.prototype.Y=function(S){try{if(S==this.g)e:{const br=Ss(this.g);var z=this.g.Ba();const Ar=this.g.Z();if(!(3>br)&&(br!=3||this.g&&(this.h.h||this.g.oa()||Tf(this.g)))){this.J||br!=4||z==7||(z==8||0>=Ar?li(3):li(2)),Be(this);var Y=this.g.Z();this.X=Y;t:if($n(this)){var ne=Tf(this.g);S="";var Ee=ne.length,Oe=Ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),il(this);var Ze="";break t}this.h.i=new a.TextDecoder}for(z=0;z<Ee;z++)this.h.h=!0,S+=this.h.i.decode(ne[z],{stream:!(Oe&&z==Ee-1)});ne.length=0,this.h.g+=S,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=Y==200,Wr(this.i,this.u,this.A,this.l,this.R,br,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Mn,xr=this.g;if((Mn=xr.g?xr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Mn)){var dn=Mn;break t}}dn=null}if(Y=dn)wr(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qo(this,Y);else{this.o=!1,this.s=3,Ht(12),wn(this),il(this);break e}}if(this.P){Y=!0;let Ts;for(;!this.J&&this.C<Ze.length;)if(Ts=ad(this,Ze),Ts==Xc){br==4&&(this.s=4,Ht(14),Y=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ts==Af){this.s=4,Ht(15),wr(this.i,this.l,Ze,"[Invalid Chunk]"),Y=!1;break}else wr(this.i,this.l,Ts,null),Qo(this,Ts);if($n(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),br!=4||Ze.length!=0||this.h.h||(this.s=1,Ht(16),Y=!1),this.o=this.o&&Y,!Y)wr(this.i,this.l,Ze,"[Invalid Chunked Response]"),wn(this),il(this);else if(0<Ze.length&&!this.W){this.W=!0;var ar=this.j;ar.g==this&&ar.ba&&!ar.M&&(ar.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),Yl(ar),ar.M=!0,Ht(11))}}else wr(this.i,this.l,Ze,null),Qo(this,Ze);br==4&&wn(this),this.o&&!this.J&&(br==4?Gn(this.j,this):(this.o=!1,vn(this)))}else xn(this.g),Y==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),wn(this),il(this)}}}catch{}finally{}};function $n(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function ad(S,z){var Y=S.C,ne=z.indexOf(`
`,Y);return ne==-1?Xc:(Y=Number(z.substring(Y,ne)),isNaN(Y)?Af:(ne+=1,ne+Y>z.length?Xc:(z=z.slice(ne,ne+Y),S.C=ne+Y,z)))}xs.prototype.cancel=function(){this.J=!0,wn(this)};function vn(S){S.S=Date.now()+S.I,Qc(S,S.I)}function Qc(S,z){if(S.B!=null)throw Error("WatchDog timer not null");S.B=Rn(w(S.ba,S),z)}function Be(S){S.B&&(a.clearTimeout(S.B),S.B=null)}xs.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(rt(this.i,this.A),this.L!=2&&(li(),Ht(17)),wn(this),this.s=2,il(this)):Qc(this,this.S-S)};function il(S){S.j.G==0||S.J||Gn(S.j,S)}function wn(S){Be(S);var z=S.M;z&&typeof z.ma=="function"&&z.ma(),S.M=null,Qe(S.U),S.g&&(z=S.g,S.g=null,z.abort(),z.ma())}function Qo(S,z){try{var Y=S.j;if(Y.G!=0&&(Y.g==S||Pi(Y.h,S))){if(!S.K&&Pi(Y.h,S)&&Y.G==3){try{var ne=Y.Da.g.parse(z)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var Ee=ne;if(Ee[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<S.F)cl(Y),Oo(Y);else break e;ru(Y),Ht(18)}}else Y.za=Ee[1],0<Y.za-Y.T&&37500>Ee[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=Rn(w(Y.Za,Y),6e3));if(1>=Zt(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else as(Y,11)}else if((S.K||Y.g==S)&&cl(Y),!B(z))for(Ee=Y.Da.g.parse(z),z=0;z<Ee.length;z++){let dn=Ee[z];if(Y.T=dn[0],dn=dn[1],Y.G==2)if(dn[0]=="c"){Y.K=dn[1],Y.ia=dn[2];const ar=dn[3];ar!=null&&(Y.la=ar,Y.j.info("VER="+Y.la));const br=dn[4];br!=null&&(Y.Aa=br,Y.j.info("SVER="+Y.Aa));const Ar=dn[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(ne=1.5*Ar,Y.L=ne,Y.j.info("backChannelRequestTimeoutMs_="+ne)),ne=Y;const Ts=S.g;if(Ts){const qi=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var Oe=ne.h;Oe.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Gl(Oe,Oe.h),Oe.h=null))}if(ne.D){const iu=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(ne.ya=iu,tt(ne.I,ne.D,iu))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-S.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ne=Y;var Ze=S;if(ne.qa=bt(ne,ne.J?ne.ia:null,ne.W),Ze.K){Zc(ne.h,Ze);var Mn=Ze,xr=ne.L;xr&&(Mn.I=xr),Mn.B&&(Be(Mn),vn(Mn)),ne.g=Ze}else Kl(ne);0<Y.i.length&&Pt(Y)}else dn[0]!="stop"&&dn[0]!="close"||as(Y,7);else Y.G==3&&(dn[0]=="stop"||dn[0]=="close"?dn[0]=="stop"?as(Y,7):ur(Y):dn[0]!="noop"&&Y.l&&Y.l.ta(dn),Y.v=0)}}li(4)}catch{}}var ld=class{constructor(S,z){this.g=S,this.map=z}};function sn(S){this.l=S||10,a.PerformanceNavigationTiming?(S=a.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $t(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function Zt(S){return S.h?1:S.g?S.g.size:0}function Pi(S,z){return S.h?S.h==z:S.g?S.g.has(z):!1}function Gl(S,z){S.g?S.g.add(z):S.h=z}function Zc(S,z){S.h&&S.h==z?S.h=null:S.g&&S.g.has(z)&&S.g.delete(z)}sn.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function Nr(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let z=S.i;for(const Y of S.g.values())z=z.concat(Y.D);return z}return T(S.i)}function Hs(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(c(S)){for(var z=[],Y=S.length,ne=0;ne<Y;ne++)z.push(S[ne]);return z}z=[],Y=0;for(ne in S)z[Y++]=S[ne];return z}function Jc(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(c(S)||typeof S=="string"){var z=[];S=S.length;for(var Y=0;Y<S;Y++)z.push(Y);return z}z=[],Y=0;for(const ne in S)z[Y++]=ne;return z}}}function jn(S,z){if(S.forEach&&typeof S.forEach=="function")S.forEach(z,void 0);else if(c(S)||typeof S=="string")Array.prototype.forEach.call(S,z,void 0);else for(var Y=Jc(S),ne=Hs(S),Ee=ne.length,Oe=0;Oe<Ee;Oe++)z.call(void 0,ne[Oe],Y&&Y[Oe],S)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zg(S,z){if(S){S=S.split("&");for(var Y=0;Y<S.length;Y++){var ne=S[Y].indexOf("="),Ee=null;if(0<=ne){var Oe=S[Y].substring(0,ne);Ee=S[Y].substring(ne+1)}else Oe=S[Y];z(Oe,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function As(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof As){this.h=S.h,Or(this,S.j),this.o=S.o,this.g=S.g,Ae(this,S.s),this.l=S.l;var z=S.i,Y=new oo;Y.i=z.i,z.g&&(Y.g=new Map(z.g),Y.h=z.h),ie(this,Y),this.m=S.m}else S&&(z=String(S).match(bs))?(this.h=!1,Or(this,z[1]||"",!0),this.o=Mt(z[2]||""),this.g=Mt(z[3]||"",!0),Ae(this,z[4]),this.l=Mt(z[5]||"",!0),ie(this,z[6]||"",!0),this.m=Mt(z[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}As.prototype.toString=function(){var S=[],z=this.j;z&&S.push(sl(z,Ni,!0),":");var Y=this.g;return(Y||z=="file")&&(S.push("//"),(z=this.o)&&S.push(sl(z,Ni,!0),"@"),S.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&S.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&S.push("/"),S.push(sl(Y,Y.charAt(0)=="/"?er:vt,!0))),(Y=this.i.toString())&&S.push("?",Y),(Y=this.m)&&S.push("#",sl(Y,Sf)),S.join("")};function Jt(S){return new As(S)}function Or(S,z,Y){S.j=Y?Mt(z,!0):z,S.j&&(S.j=S.j.replace(/:$/,""))}function Ae(S,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);S.s=z}else S.s=null}function ie(S,z,Y){z instanceof oo?(S.i=z,Oi(S.i,S.h)):(Y||(z=sl(z,Ef)),S.i=new oo(z,S.h))}function tt(S,z,Y){S.i.set(z,Y)}function ir(S){return tt(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function Mt(S,z){return S?z?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function sl(S,z,Y){return typeof S=="string"?(S=encodeURI(S).replace(z,eu),Y&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function eu(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Ni=/[#\/\?@]/g,vt=/[#\?:]/g,er=/[#\?]/g,Ef=/[#\?@]/g,Sf=/#/g;function oo(S,z){this.h=this.g=null,this.i=S||null,this.j=!!z}function qr(S){S.g||(S.g=new Map,S.h=0,S.i&&zg(S.i,function(z,Y){S.add(decodeURIComponent(z.replace(/\+/g," ")),Y)}))}t=oo.prototype,t.add=function(S,z){qr(this),this.i=null,S=Wi(this,S);var Y=this.g.get(S);return Y||this.g.set(S,Y=[]),Y.push(z),this.h+=1,this};function $s(S,z){qr(S),z=Wi(S,z),S.g.has(z)&&(S.i=null,S.h-=S.g.get(z).length,S.g.delete(z))}function Co(S,z){return qr(S),z=Wi(S,z),S.g.has(z)}t.forEach=function(S,z){qr(this),this.g.forEach(function(Y,ne){Y.forEach(function(Ee){S.call(z,Ee,ne,this)},this)},this)},t.na=function(){qr(this);const S=Array.from(this.g.values()),z=Array.from(this.g.keys()),Y=[];for(let ne=0;ne<z.length;ne++){const Ee=S[ne];for(let Oe=0;Oe<Ee.length;Oe++)Y.push(z[ne])}return Y},t.V=function(S){qr(this);let z=[];if(typeof S=="string")Co(this,S)&&(z=z.concat(this.g.get(Wi(this,S))));else{S=Array.from(this.g.values());for(let Y=0;Y<S.length;Y++)z=z.concat(S[Y])}return z},t.set=function(S,z){return qr(this),this.i=null,S=Wi(this,S),Co(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[z]),this.h+=1,this},t.get=function(S,z){return S?(S=this.V(S),0<S.length?String(S[0]):z):z};function sr(S,z,Y){$s(S,z),0<Y.length&&(S.i=null,S.g.set(Wi(S,z),T(Y)),S.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],z=Array.from(this.g.keys());for(var Y=0;Y<z.length;Y++){var ne=z[Y];const Oe=encodeURIComponent(String(ne)),Ze=this.V(ne);for(ne=0;ne<Ze.length;ne++){var Ee=Oe;Ze[ne]!==""&&(Ee+="="+encodeURIComponent(String(Ze[ne]))),S.push(Ee)}}return this.i=S.join("&")};function Wi(S,z){return z=String(z),S.j&&(z=z.toLowerCase()),z}function Oi(S,z){z&&!S.j&&(qr(S),S.i=null,S.g.forEach(function(Y,ne){var Ee=ne.toLowerCase();ne!=Ee&&($s(this,ne),sr(this,Ee,Y))},S)),S.j=z}function St(S,z){const Y=new jr;if(a.Image){const ne=new Image;ne.onload=A(Et,Y,"TestLoadImage: loaded",!0,z,ne),ne.onerror=A(Et,Y,"TestLoadImage: error",!1,z,ne),ne.onabort=A(Et,Y,"TestLoadImage: abort",!1,z,ne),ne.ontimeout=A(Et,Y,"TestLoadImage: timeout",!1,z,ne),a.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=S}else z(!1)}function cd(S,z){const Y=new jr,ne=new AbortController,Ee=setTimeout(()=>{ne.abort(),Et(Y,"TestPingServer: timeout",!1,z)},1e4);fetch(S,{signal:ne.signal}).then(Oe=>{clearTimeout(Ee),Oe.ok?Et(Y,"TestPingServer: ok",!0,z):Et(Y,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(Ee),Et(Y,"TestPingServer: error",!1,z)})}function Et(S,z,Y,ne,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),ne(Y)}catch{}}function ui(){this.g=new Bn}function ud(S,z,Y){const ne=Y||"";try{jn(S,function(Ee,Oe){let Ze=Ee;u(Ee)&&(Ze=Qn(Ee)),z.push(ne+Oe+"="+encodeURIComponent(Ze))})}catch(Ee){throw z.push(ne+"type="+encodeURIComponent("_badmap")),Ee}}function Io(S){this.l=S.Ub||null,this.j=S.eb||!1}I(Io,is),Io.prototype.g=function(){return new ol(this.l,this.j)},Io.prototype.i=(function(S){return function(){return S}})({});function ol(S,z){cn.call(this),this.D=S,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ol,cn),t=ol.prototype,t.open=function(S,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=z,this.readyState=1,os(this)},t.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(z.body=S),(this.D||a).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Po(this)),this.readyState=0},t.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}t.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var z=S.value?S.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!S.done}))&&(this.response=this.responseText+=z)}S.done?Po(this):os(this),this.readyState==3&&Zo(this)}},t.Ra=function(S){this.g&&(this.response=this.responseText=S,Po(this))},t.Qa=function(S){this.g&&(this.response=S,Po(this))},t.ga=function(){this.g&&Po(this)};function Po(S){S.readyState=4,S.l=null,S.j=null,S.v=null,os(S)}t.setRequestHeader=function(S,z){this.u.append(S,z)},t.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],z=this.h.entries();for(var Y=z.next();!Y.done;)Y=Y.value,S.push(Y[0]+": "+Y[1]),Y=z.next();return S.join(`\r
`)};function os(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Gs(S){let z="";return j(S,function(Y,ne){z+=ne,z+=":",z+=Y,z+=`\r
`}),z}function ao(S,z,Y){e:{for(ne in Y){var ne=!1;break e}ne=!0}ne||(Y=Gs(Y),typeof S=="string"?Y!=null&&encodeURIComponent(String(Y)):tt(S,z,Y))}function or(S){cn.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(or,cn);var Wl=/^https?$/i,_a=["POST","PUT"];t=or.prototype,t.Ha=function(S){this.J=S},t.ea=function(S,z,Y,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);z=z?z.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gi.g(),this.v=this.o?Ci(this.o):Ci(Gi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(z,String(S),!0),this.B=!1}catch(Oe){Kr(this,Oe);return}if(S=Y||"",Y=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var Ee in ne)Y.set(Ee,ne[Ee]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Oe of ne.keys())Y.set(Oe,ne.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(Y.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Ee=a.FormData&&S instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_a,z,void 0))||ne||Ee||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,Ze]of Y)this.g.setRequestHeader(Oe,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nu(this),this.u=!0,this.g.send(S),this.u=!1}catch(Oe){Kr(this,Oe)}};function Kr(S,z){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=z,S.m=5,ql(S),Es(S)}function ql(S){S.A||(S.A=!0,Pr(S,"complete"),Pr(S,"error"))}t.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,Pr(this,"complete"),Pr(this,"abort"),Es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),or.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tu(this):this.bb())},t.bb=function(){tu(this)};function tu(S){if(S.h&&typeof o<"u"&&(!S.v[1]||Ss(S)!=4||S.Z()!=2)){if(S.u&&Ss(S)==4)yr(S.Ea,0,S);else if(Pr(S,"readystatechange"),Ss(S)==4){S.h=!1;try{const Ze=S.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var Y;if(!(Y=z)){var ne;if(ne=Ze===0){var Ee=String(S.D).match(bs)[1]||null;!Ee&&a.self&&a.self.location&&(Ee=a.self.location.protocol.slice(0,-1)),ne=!Wl.test(Ee?Ee.toLowerCase():"")}Y=ne}if(Y)Pr(S,"complete"),Pr(S,"success");else{S.m=6;try{var Oe=2<Ss(S)?S.g.statusText:""}catch{Oe=""}S.l=Oe+" ["+S.Z()+"]",ql(S)}}finally{Es(S)}}}}function Es(S,z){if(S.g){nu(S);const Y=S.g,ne=S.v[0]?()=>{}:null;S.g=null,S.v=null,z||Pr(S,"ready");try{Y.onreadystatechange=ne}catch{}}}function nu(S){S.I&&(a.clearTimeout(S.I),S.I=null)}t.isActive=function(){return!!this.g};function Ss(S){return S.g?S.g.readyState:0}t.Z=function(){try{return 2<Ss(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(S){if(this.g){var z=this.g.responseText;return S&&z.indexOf(S)==0&&(z=z.substring(S.length)),un(z)}};function Tf(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function xn(S){const z={};S=(S.g&&2<=Ss(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<S.length;ne++){if(B(S[ne]))continue;var Y=q(S[ne]);const Ee=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Oe=z[Ee]||[];z[Ee]=Oe,Oe.push(Y)}O(z,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function No(S,z,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[S]||z}function al(S){this.Aa=0,this.i=[],this.j=new jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=No("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=No("baseRetryDelayMs",5e3,S),this.cb=No("retryDelaySeedMs",1e4,S),this.Wa=No("forwardChannelMaxRetries",2,S),this.wa=No("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new sn(S&&S.concurrentRequestLimit),this.Da=new ui,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=al.prototype,t.la=8,t.G=1,t.connect=function(S,z,Y,ne){Ht(0),this.W=S,this.H=z||{},Y&&ne!==void 0&&(this.H.OSID=Y,this.H.OAID=ne),this.F=this.X,this.I=bt(this,null,this.W),Pt(this)};function ur(S){if(Ce(S),S.G==3){var z=S.U++,Y=Jt(S.I);if(tt(Y,"SID",S.K),tt(Y,"RID",z),tt(Y,"TYPE","terminate"),Jo(S,Y),z=new xs(S,S.j,z),z.L=2,z.v=ir(Jt(Y)),Y=!1,a.navigator&&a.navigator.sendBeacon)try{Y=a.navigator.sendBeacon(z.v.toString(),"")}catch{}!Y&&a.Image&&(new Image().src=z.v,Y=!0),Y||(z.g=fd(z.j,null),z.g.ea(z.v)),z.F=Date.now(),vn(z)}_n(S)}function Oo(S){S.g&&(Yl(S),S.g.cancel(),S.g=null)}function Ce(S){Oo(S),S.u&&(a.clearTimeout(S.u),S.u=null),cl(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&a.clearTimeout(S.s),S.s=null)}function Pt(S){if(!$t(S.h)&&!S.s){S.s=!0;var z=S.Ga;ae||we(),re||(ae(),re=!0),pe.add(z,S),S.B=0}}function fi(S,z){return Zt(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=z.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=Rn(w(S.Ga,S,z),Xl(S,S.B)),S.B++,!0)}t.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const Ee=new xs(this,this.j,S);let Oe=this.o;if(this.S&&(Oe?(Oe=M(Oe),K(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(Ee.H=Oe,Oe=null),this.P)e:{for(var z=0,Y=0;Y<this.i.length;Y++){t:{var ne=this.i[Y];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(z+=ne,4096<z){z=Y;break e}if(z===4096||Y===this.i.length-1){z=Y+1;break e}}z=1e3}else z=1e3;z=ll(this,Ee,z),Y=Jt(this.I),tt(Y,"RID",S),tt(Y,"CVER",22),this.D&&tt(Y,"X-HTTP-Session-Id",this.D),Jo(this,Y),Oe&&(this.O?z="headers="+encodeURIComponent(String(Gs(Oe)))+"&"+z:this.m&&ao(Y,this.m,Oe)),Gl(this.h,Ee),this.Ua&&tt(Y,"TYPE","init"),this.P?(tt(Y,"$req",z),tt(Y,"SID","null"),Ee.T=!0,ss(Ee,Y,null)):ss(Ee,Y,z),this.G=2}}else this.G==3&&(S?Ca(this,S):this.i.length==0||$t(this.h)||Ca(this))};function Ca(S,z){var Y;z?Y=z.l:Y=S.U++;const ne=Jt(S.I);tt(ne,"SID",S.K),tt(ne,"RID",Y),tt(ne,"AID",S.T),Jo(S,ne),S.m&&S.o&&ao(ne,S.m,S.o),Y=new xs(S,S.j,Y,S.B+1),S.m===null&&(Y.H=S.o),z&&(S.i=z.D.concat(S.i)),z=ll(S,Y,1e3),Y.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),Gl(S.h,Y),ss(Y,ne,z)}function Jo(S,z){S.H&&j(S.H,function(Y,ne){tt(z,ne,Y)}),S.l&&jn({},function(Y,ne){tt(z,ne,Y)})}function ll(S,z,Y){Y=Math.min(S.i.length,Y);var ne=S.l?w(S.l.Na,S.l,S):null;e:{var Ee=S.i;let Oe=-1;for(;;){const Ze=["count="+Y];Oe==-1?0<Y?(Oe=Ee[0].g,Ze.push("ofs="+Oe)):Oe=0:Ze.push("ofs="+Oe);let Mn=!0;for(let xr=0;xr<Y;xr++){let dn=Ee[xr].g;const ar=Ee[xr].map;if(dn-=Oe,0>dn)Oe=Math.max(0,Ee[xr].g-100),Mn=!1;else try{ud(ar,Ze,"req"+dn+"_")}catch{ne&&ne(ar)}}if(Mn){ne=Ze.join("&");break e}}}return S=S.i.splice(0,Y),z.D=S,ne}function Kl(S){if(!S.g&&!S.u){S.Y=1;var z=S.Fa;ae||we(),re||(ae(),re=!0),pe.add(z,S),S.v=0}}function ru(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=Rn(w(S.Fa,S),Xl(S,S.v)),S.v++,!0)}t.Fa=function(){if(this.u=null,Rr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=Rn(w(this.ab,this),S)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Oo(this),Rr(this))};function Yl(S){S.A!=null&&(a.clearTimeout(S.A),S.A=null)}function Rr(S){S.g=new xs(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var z=Jt(S.qa);tt(z,"RID","rpc"),tt(z,"SID",S.K),tt(z,"AID",S.T),tt(z,"CI",S.F?"0":"1"),!S.F&&S.ja&&tt(z,"TO",S.ja),tt(z,"TYPE","xmlhttp"),Jo(S,z),S.m&&S.o&&ao(z,S.m,S.o),S.L&&(S.g.I=S.L);var Y=S.g;S=S.ia,Y.L=1,Y.v=ir(Jt(z)),Y.m=null,Y.P=!0,ci(Y,S)}t.Za=function(){this.C!=null&&(this.C=null,Oo(this),ru(this),Ht(19))};function cl(S){S.C!=null&&(a.clearTimeout(S.C),S.C=null)}function Gn(S,z){var Y=null;if(S.g==z){cl(S),Yl(S),S.g=null;var ne=2}else if(Pi(S.h,z))Y=z.D,Zc(S.h,z),ne=1;else return;if(S.G!=0){if(z.o)if(ne==1){Y=z.m?z.m.length:0,z=Date.now()-z.F;var Ee=S.B;ne=Zn(),Pr(ne,new _o(ne,Y)),Pt(S)}else Kl(S);else if(Ee=z.s,Ee==3||Ee==0&&0<z.X||!(ne==1&&fi(S,z)||ne==2&&ru(S)))switch(Y&&0<Y.length&&(z=S.h,z.i=z.i.concat(Y)),Ee){case 1:as(S,5);break;case 4:as(S,10);break;case 3:as(S,6);break;default:as(S,2)}}}function Xl(S,z){let Y=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(Y*=2),Y*z}function as(S,z){if(S.j.info("Error code "+z),z==2){var Y=w(S.fb,S),ne=S.Xa;const Ee=!ne;ne=new As(ne||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Or(ne,"https"),ir(ne),Ee?St(ne.toString(),Y):cd(ne.toString(),Y)}else Ht(2);S.G=0,S.l&&S.l.sa(z),_n(S),Ce(S)}t.fb=function(S){S?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function _n(S){if(S.G=0,S.ka=[],S.l){const z=Nr(S.h);(z.length!=0||S.i.length!=0)&&(C(S.ka,z),C(S.ka,S.i),S.h.i.length=0,T(S.i),S.i.length=0),S.l.ra()}}function bt(S,z,Y){var ne=Y instanceof As?Jt(Y):new As(Y);if(ne.g!="")z&&(ne.g=z+"."+ne.g),Ae(ne,ne.s);else{var Ee=a.location;ne=Ee.protocol,z=z?z+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;var Oe=new As(null);ne&&Or(Oe,ne),z&&(Oe.g=z),Ee&&Ae(Oe,Ee),Y&&(Oe.l=Y),ne=Oe}return Y=S.D,z=S.ya,Y&&z&&tt(ne,Y,z),tt(ne,"VER",S.la),Jo(S,ne),ne}function fd(S,z,Y){if(z&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=S.Ca&&!S.pa?new or(new Io({eb:Y})):new or(S.pa),z.Ha(S.J),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kn(){}t=kn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lo(){}lo.prototype.g=function(S,z){return new Yr(S,z)};function Yr(S,z){cn.call(this),this.g=new al(z),this.l=S,this.h=z&&z.messageUrlParams||null,S=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(S?S["X-WebChannel-Content-Type"]=z.messageContentType:S={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(S?S["X-WebChannel-Client-Profile"]=z.va:S={"X-WebChannel-Client-Profile":z.va}),this.g.S=S,(S=z&&z.Sb)&&!B(S)&&(this.g.m=S),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!B(z)&&(this.g.D=z,S=this.h,S!==null&&z in S&&(S=this.h,z in S&&delete S[z])),this.j=new co(this)}I(Yr,cn),Yr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yr.prototype.close=function(){ur(this.g)},Yr.prototype.o=function(S){var z=this.g;if(typeof S=="string"){var Y={};Y.__data__=S,S=Y}else this.u&&(Y={},Y.__data__=Qn(S),S=Y);z.i.push(new ld(z.Ya++,S)),z.G==3&&Pt(z)},Yr.prototype.N=function(){this.g.l=null,delete this.j,ur(this.g),delete this.g,Yr.aa.N.call(this)};function hd(S){ai.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var z=S.__sm__;if(z){e:{for(const Y in z){S=Y;break e}S=void 0}(this.i=S)&&(S=this.i,z=z!==null&&S in z?z[S]:void 0),this.data=z}else this.data=S}I(hd,ai);function Ws(){Yo.call(this),this.status=1}I(Ws,Yo);function co(S){this.g=S}I(co,kn),co.prototype.ua=function(){Pr(this.g,"a")},co.prototype.ta=function(S){Pr(this.g,new hd(S))},co.prototype.sa=function(S){Pr(this.g,new Ws)},co.prototype.ra=function(){Pr(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Yr.prototype.send=Yr.prototype.o,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,lG=function(){return new lo},aG=function(){return Zn()},oG=At,XI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,zv=rl,Ii.COMPLETE="complete",sG=Ii,Ta.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",cn.prototype.listen=cn.prototype.K,Nm=Ta,or.prototype.listenOnce=or.prototype.L,or.prototype.getLastError=or.prototype.Ka,or.prototype.getLastErrorCode=or.prototype.Ba,or.prototype.getStatus=or.prototype.Z,or.prototype.getResponseJson=or.prototype.Oa,or.prototype.getResponseText=or.prototype.oa,or.prototype.send=or.prototype.ea,or.prototype.setWithCredentials=or.prototype.Ha,iG=or}).apply(typeof tv<"u"?tv:typeof self<"u"?self:typeof window<"u"?window:{});const h8="@firebase/firestore",d8="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ks.UNAUTHENTICATED=new ks(null),ks.GOOGLE_CREDENTIALS=new ks("google-credentials-uid"),ks.FIRST_PARTY=new ks("first-party-uid"),ks.MOCK_USER=new ks("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new ob("@firebase/firestore");function zd(){return Oh.logLevel}function ot(t,...e){if(Oh.logLevel<=gn.DEBUG){const n=e.map(eR);Oh.debug(`Firestore (${Sg}): ${t}`,...n)}}function kc(t,...e){if(Oh.logLevel<=gn.ERROR){const n=e.map(eR);Oh.error(`Firestore (${Sg}): ${t}`,...n)}}function Np(t,...e){if(Oh.logLevel<=gn.WARN){const n=e.map(eR);Oh.warn(`Firestore (${Sg}): ${t}`,...n)}}function eR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cG(t,r,n)}function cG(t,e,n){let r=`FIRESTORE (${Sg}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kc(r),new Error(r)}function Hn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||cG(e,i,r)}function qt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ks.UNAUTHENTICATED)))}shutdown(){}}class kue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Mue{constructor(e){this.t=e,this.currentUser=ks.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Hn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Gu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gu,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},a=c=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>a(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gu)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new uG(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hn(e===null||typeof e=="string",2055,{h:e}),new ks(e)}}class Due{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ks.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lue{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Due(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ks.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class p8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bue{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Hn(this.o===void 0,3512);const r=s=>{s.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ot("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new p8(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Hn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p8(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=jue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function mn(t,e){return t<e?-1:t>e?1:0}function QI(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return p2(i)===p2(s)?mn(i,s):p2(i)?1:-1}return mn(t.length,e.length)}const Fue=55296,Uue=57343;function p2(t){const e=t.charCodeAt(0);return e>=Fue&&e<=Uue}function Op(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="__name__";class vl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Rt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Rt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vl?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=vl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return mn(e.length,n.length)}static compareSegments(e,n){const r=vl.isNumericId(e),i=vl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?vl.extractNumericId(e).compare(vl.extractNumericId(n)):QI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $u.fromString(e.substring(4,e.length-2))}}class zr extends vl{construct(e,n,r){return new zr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xt(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new zr(n)}static emptyPath(){return new zr([])}}const Vue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ms extends vl{construct(e,n,r){return new ms(e,n,r)}static isValidIdentifier(e){return Vue.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ms.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g8}static keyField(){return new ms([g8])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new xt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new xt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ms(n)}static emptyPath(){return new ms([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(zr.fromString(e))}static fromName(e){return new Ct(zr.fromString(e).popFirst(5))}static empty(){return new Ct(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new zr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zue(t,e,n){if(!n)throw new xt(We.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hue(t,e,n,r){if(e===!0&&r===!0)throw new xt(We.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m8(t){if(!Ct.isDocumentKey(t))throw new xt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fG(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nR(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Rt(12329,{type:typeof t})}function y0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nR(t);throw new xt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){const n={typeString:t};return e&&(n.value=e),n}function Iy(t,e){if(!fG(t))throw new xt(We.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new xt(We.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=-62135596800,v8=1e6;class Ir{static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*v8);return new Ir(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y8)throw new xt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v8}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ir._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iy(e,Ir._jsonSchema))return new Ir(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ir._jsonSchemaVersion="firestore/timestamp/1.0",Ir._jsonSchema={type:Ti("string",Ir._jsonSchemaVersion),seconds:Ti("number"),nanoseconds:Ti("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new Ir(0,0))}static max(){return new Gt(new Ir(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=-1;function $ue(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new Ir(n+1,0):new Ir(n,r));return new ef(i,Ct.empty(),e)}function Gue(t){return new ef(t.readTime,t.key,v0)}class ef{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ef(Gt.min(),Ct.empty(),v0)}static max(){return new ef(Gt.max(),Ct.empty(),v0)}}function Wue(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ct.comparator(t.documentKey,e.documentKey),n!==0?n:mn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tg(t){if(t.code!==We.FAILED_PRECONDITION||t.message!==que)throw t;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Fe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Fe?n:Fe.resolve(n)}catch(n){return Fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Fe.reject(n)}static resolve(e){return new Fe(((n,r)=>{n(e)}))}static reject(e){return new Fe(((n,r)=>{r(e)}))}static waitFor(e){return new Fe(((n,r)=>{let i=0,s=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&n()}),(c=>r(c)))})),o=!0,s===i&&n()}))}static or(e){let n=Fe.resolve(!1);for(const r of e)n=n.next((i=>i?Fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Fe(((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next((g=>{o[u]=g,++a,a===s&&r(o)}),(g=>i(g)))}}))}static doWhile(e,n){return new Fe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function Yue(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _g(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ub.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=-1;function fb(t){return t==null}function ww(t){return t===0&&1/t==-1/0}function Xue(t){return typeof t=="number"&&Number.isInteger(t)&&!ww(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG="";function Que(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=w8(e)),e=Zue(t.get(n),e);return w8(e)}function Zue(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case hG:n+="";break;default:n+=s}}return n}function w8(t){return t+hG+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.comparator=e,this.root=n||ps.EMPTY}insert(e,n){return new Gr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ps.BLACK,null,null))}remove(e){return new Gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ps.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nv(this.root,e,this.comparator,!1)}getReverseIterator(){return new nv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nv(this.root,e,this.comparator,!0)}}class nv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ps{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ps.RED,this.left=i??ps.EMPTY,this.right=s??ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ps(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Rt(27949);return e+(this.isRed()?0:1)}}ps.EMPTY=null,ps.RED=!0,ps.BLACK=!1;ps.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ps(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.comparator=e,this.data=new Gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b8(this.data.getIterator())}getIteratorFrom(e){return new b8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zi(this.comparator);return n.data=e,n}}class b8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.fields=e,e.sort(ms.comparator)}static empty(){return new Wa([])}unionWith(e){let n=new zi(ms.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Op(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pG("Invalid base64 string: "+s):s}})(e);return new vs(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new vs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vs.EMPTY_BYTE_STRING=new vs("");const Jue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tf(t){if(Hn(!!t,39018),typeof t=="string"){let e=0;const n=Jue.exec(t);if(Hn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gi(t.seconds),nanos:gi(t.nanos)}}function gi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nf(t){return typeof t=="string"?vs.fromBase64String(t):vs.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="server_timestamp",mG="__type__",yG="__previous_value__",vG="__local_write_time__";function iR(t){return(t?.mapValue?.fields||{})[mG]?.stringValue===gG}function hb(t){const e=t.mapValue.fields[yG];return iR(e)?hb(e):e}function w0(t){const e=tf(t.mapValue.fields[vG].timestampValue);return new Ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class efe{constructor(e,n,r,i,s,o,a,c,u,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=g}}const xw="(default)";class x0{constructor(e,n){this.projectId=e,this.database=n||xw}static empty(){return new x0("","")}get isDefaultDatabase(){return this.database===xw}isEqual(e){return e instanceof x0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="__type__",tfe="__max__",rv={mapValue:{}},xG="__vector__",bw="value";function rf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iR(t)?4:rfe(t)?9007199254740991:nfe(t)?10:11:Rt(28295,{value:t})}function jl(t,e){if(t===e)return!0;const n=rf(t);if(n!==rf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return w0(t).isEqual(w0(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=tf(i.timestampValue),a=tf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return nf(i.bytesValue).isEqual(nf(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return gi(i.geoPointValue.latitude)===gi(s.geoPointValue.latitude)&&gi(i.geoPointValue.longitude)===gi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return gi(i.integerValue)===gi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=gi(i.doubleValue),a=gi(s.doubleValue);return o===a?ww(o)===ww(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return Op(t.arrayValue.values||[],e.arrayValue.values||[],jl);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(x8(o)!==x8(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!jl(o[c],a[c])))return!1;return!0})(t,e);default:return Rt(52216,{left:t})}}function b0(t,e){return(t.values||[]).find((n=>jl(n,e)))!==void 0}function Rp(t,e){if(t===e)return 0;const n=rf(t),r=rf(e);if(n!==r)return mn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mn(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const a=gi(s.integerValue||s.doubleValue),c=gi(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return A8(t.timestampValue,e.timestampValue);case 4:return A8(w0(t),w0(e));case 5:return QI(t.stringValue,e.stringValue);case 6:return(function(s,o){const a=nf(s),c=nf(o);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const g=mn(a[u],c[u]);if(g!==0)return g}return mn(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const a=mn(gi(s.latitude),gi(o.latitude));return a!==0?a:mn(gi(s.longitude),gi(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return E8(t.arrayValue,e.arrayValue);case 10:return(function(s,o){const a=s.fields||{},c=o.fields||{},u=a[bw]?.arrayValue,g=c[bw]?.arrayValue,m=mn(u?.values?.length||0,g?.values?.length||0);return m!==0?m:E8(u,g)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===rv.mapValue&&o===rv.mapValue)return 0;if(s===rv.mapValue)return 1;if(o===rv.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},g=Object.keys(u);c.sort(),g.sort();for(let m=0;m<c.length&&m<g.length;++m){const w=QI(c[m],g[m]);if(w!==0)return w;const A=Rp(a[c[m]],u[g[m]]);if(A!==0)return A}return mn(c.length,g.length)})(t.mapValue,e.mapValue);default:throw Rt(23264,{he:n})}}function A8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mn(t,e);const n=tf(t),r=tf(e),i=mn(n.seconds,r.seconds);return i!==0?i:mn(n.nanos,r.nanos)}function E8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Rp(n[i],r[i]);if(s)return s}return mn(n.length,r.length)}function kp(t){return ZI(t)}function ZI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=tf(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return nf(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ct.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ZI(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ZI(n.fields[o])}`;return i+"}"})(t.mapValue):Rt(61005,{value:t})}function Hv(t){switch(rf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hb(t);return e?16+Hv(e):16;case 5:return 2*t.stringValue.length;case 6:return nf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Hv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Yh(r.fields,((s,o)=>{i+=s.length+Hv(o)})),i})(t.mapValue);default:throw Rt(13486,{value:t})}}function JI(t){return!!t&&"integerValue"in t}function sR(t){return!!t&&"arrayValue"in t}function S8(t){return!!t&&"nullValue"in t}function T8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $v(t){return!!t&&"mapValue"in t}function nfe(t){return(t?.mapValue?.fields||{})[wG]?.stringValue===xG}function $m(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Yh(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=$m(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$m(t.arrayValue.values[n]);return e}return{...t}}function rfe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tfe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.value=e}static empty(){return new ga({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$v(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$m(n)}setAll(e){let n=ms.emptyPath(),r={},i=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$m(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$v(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$v(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yh(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new ga($m(this.value))}}function bG(t){const e=[];return Yh(t.fields,((n,r)=>{const i=new ms([n]);if($v(r)){const s=bG(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new Wa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ms(e,0,Gt.min(),Gt.min(),Gt.min(),ga.empty(),0)}static newFoundDocument(e,n,r,i){return new Ms(e,1,n,Gt.min(),r,i,0)}static newNoDocument(e,n){return new Ms(e,2,n,Gt.min(),Gt.min(),ga.empty(),0)}static newUnknownDocument(e,n){return new Ms(e,3,n,Gt.min(),Gt.min(),ga.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ga.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ga.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ms&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ms(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.position=e,this.inclusive=n}}function _8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ct.comparator(Ct.fromName(o.referenceValue),n.key):r=Rp(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function C8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n="asc"){this.field=e,this.dir=n}}function ife(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{}class Fi extends AG{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ofe(e,n,r):n==="array-contains"?new cfe(e,r):n==="in"?new ufe(e,r):n==="not-in"?new ffe(e,r):n==="array-contains-any"?new hfe(e,r):new Fi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new afe(e,r):new lfe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rp(n,this.value)):n!==null&&rf(this.value)===rf(n)&&this.matchesComparison(Rp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fl extends AG{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fl(e,n)}matches(e){return EG(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EG(t){return t.op==="and"}function SG(t){return sfe(t)&&EG(t)}function sfe(t){for(const e of t.filters)if(e instanceof Fl)return!1;return!0}function eP(t){if(t instanceof Fi)return t.field.canonicalString()+t.op.toString()+kp(t.value);if(SG(t))return t.filters.map((e=>eP(e))).join(",");{const e=t.filters.map((n=>eP(n))).join(",");return`${t.op}(${e})`}}function TG(t,e){return t instanceof Fi?(function(r,i){return i instanceof Fi&&r.op===i.op&&r.field.isEqual(i.field)&&jl(r.value,i.value)})(t,e):t instanceof Fl?(function(r,i){return i instanceof Fl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,a)=>s&&TG(o,i.filters[a])),!0):!1})(t,e):void Rt(19439)}function _G(t){return t instanceof Fi?(function(n){return`${n.field.canonicalString()} ${n.op} ${kp(n.value)}`})(t):t instanceof Fl?(function(n){return n.op.toString()+" {"+n.getFilters().map(_G).join(" ,")+"}"})(t):"Filter"}class ofe extends Fi{constructor(e,n,r){super(e,n,r),this.key=Ct.fromName(r.referenceValue)}matches(e){const n=Ct.comparator(e.key,this.key);return this.matchesComparison(n)}}class afe extends Fi{constructor(e,n){super(e,"in",n),this.keys=CG("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lfe extends Fi{constructor(e,n){super(e,"not-in",n),this.keys=CG("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CG(t,e){return(e.arrayValue?.values||[]).map((n=>Ct.fromName(n.referenceValue)))}class cfe extends Fi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sR(n)&&b0(n.arrayValue,this.value)}}class ufe extends Fi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&b0(this.value.arrayValue,n)}}class ffe extends Fi{constructor(e,n){super(e,"not-in",n)}matches(e){if(b0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!b0(this.value.arrayValue,n)}}class hfe extends Fi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sR(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>b0(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function I8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new dfe(t,e,n,r,i,s,o)}function oR(t){const e=qt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>eP(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),fb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>kp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>kp(r))).join(",")),e.Te=n}return e.Te}function aR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ife(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!C8(t.startAt,e.startAt)&&C8(t.endAt,e.endAt)}function tP(t){return Ct.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pfe(t,e,n,r,i,s,o,a){return new db(t,e,n,r,i,s,o,a)}function lR(t){return new db(t)}function P8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gfe(t){return t.collectionGroup!==null}function Gm(t){const e=qt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new zi(ms.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ew(s,r))})),n.has(ms.keyField().canonicalString())||e.Ie.push(new Ew(ms.keyField(),r))}return e.Ie}function Cl(t){const e=qt(t);return e.Ee||(e.Ee=mfe(e,Gm(t))),e.Ee}function mfe(t,e){if(t.limitType==="F")return I8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Ew(i.field,s)}));const n=t.endAt?new Aw(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Aw(t.startAt.position,t.startAt.inclusive):null;return I8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nP(t,e,n){return new db(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pb(t,e){return aR(Cl(t),Cl(e))&&t.limitType===e.limitType}function IG(t){return`${oR(Cl(t))}|lt:${t.limitType}`}function Hd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>_G(i))).join(", ")}]`),fb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>kp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>kp(i))).join(",")),`Target(${r})`})(Cl(t))}; limitType=${t.limitType})`}function gb(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Gm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){const u=_8(o,a,c);return o.inclusive?u<=0:u<0})(r.startAt,Gm(r),i)||r.endAt&&!(function(o,a,c){const u=_8(o,a,c);return o.inclusive?u>=0:u>0})(r.endAt,Gm(r),i))})(t,e)}function yfe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PG(t){return(e,n)=>{let r=!1;for(const i of Gm(t)){const s=vfe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vfe(t,e,n){const r=t.field.isKeyField()?Ct.comparator(e.key,n.key):(function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Rp(c,u):Rt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yh(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return dG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wfe=new Gr(Ct.comparator);function Mc(){return wfe}const NG=new Gr(Ct.comparator);function Om(...t){let e=NG;for(const n of t)e=e.insert(n.key,n);return e}function OG(t){let e=NG;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ih(){return Wm()}function RG(){return Wm()}function Wm(){return new Xh((t=>t.toString()),((t,e)=>t.isEqual(e)))}const xfe=new Gr(Ct.comparator),bfe=new zi(Ct.comparator);function yn(...t){let e=bfe;for(const n of t)e=e.add(n);return e}const Afe=new zi(mn);function Efe(){return Afe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ww(e)?"-0":e}}function kG(t){return{integerValue:""+t}}function Sfe(t,e){return Xue(e)?kG(e):cR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this._=void 0}}function Tfe(t,e,n){return t instanceof Sw?(function(i,s){const o={fields:{[mG]:{stringValue:gG},[vG]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iR(s)&&(s=hb(s)),s&&(o.fields[yG]=s),{mapValue:o}})(n,e):t instanceof A0?DG(t,e):t instanceof E0?LG(t,e):(function(i,s){const o=MG(i,s),a=N8(o)+N8(i.Ae);return JI(o)&&JI(i.Ae)?kG(a):cR(i.serializer,a)})(t,e)}function _fe(t,e,n){return t instanceof A0?DG(t,e):t instanceof E0?LG(t,e):n}function MG(t,e){return t instanceof Tw?(function(r){return JI(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Sw extends mb{}class A0 extends mb{constructor(e){super(),this.elements=e}}function DG(t,e){const n=BG(e);for(const r of t.elements)n.some((i=>jl(i,r)))||n.push(r);return{arrayValue:{values:n}}}class E0 extends mb{constructor(e){super(),this.elements=e}}function LG(t,e){let n=BG(e);for(const r of t.elements)n=n.filter((i=>!jl(i,r)));return{arrayValue:{values:n}}}class Tw extends mb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function N8(t){return gi(t.integerValue||t.doubleValue)}function BG(t){return sR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Cfe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof A0&&i instanceof A0||r instanceof E0&&i instanceof E0?Op(r.elements,i.elements,jl):r instanceof Tw&&i instanceof Tw?jl(r.Ae,i.Ae):r instanceof Sw&&i instanceof Sw})(t.transform,e.transform)}class Ife{constructor(e,n){this.version=e,this.transformResults=n}}class Sc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sc}static exists(e){return new Sc(void 0,e)}static updateTime(e){return new Sc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yb{}function jG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new UG(t.key,Sc.none()):new Py(t.key,t.data,Sc.none());{const n=t.data,r=ga.empty();let i=new zi(ms.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qh(t.key,r,new Wa(i.toArray()),Sc.none())}}function Pfe(t,e,n){t instanceof Py?(function(i,s,o){const a=i.value.clone(),c=R8(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Qh?(function(i,s,o){if(!Gv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=R8(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(FG(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function qm(t,e,n,r){return t instanceof Py?(function(s,o,a,c){if(!Gv(s.precondition,o))return a;const u=s.value.clone(),g=k8(s.fieldTransforms,c,o);return u.setAll(g),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qh?(function(s,o,a,c){if(!Gv(s.precondition,o))return a;const u=k8(s.fieldTransforms,c,o),g=o.data;return g.setAll(FG(s)),g.setAll(u),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,o,a){return Gv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function Nfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=MG(r.transform,i||null);s!=null&&(n===null&&(n=ga.empty()),n.set(r.field,s))}return n||null}function O8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Op(r,i,((s,o)=>Cfe(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Py extends yb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qh extends yb{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function FG(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function R8(t,e,n){const r=new Map;Hn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_fe(o,a,n[i]))}return r}function k8(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Tfe(s,o,e))}return r}class UG extends yb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ofe extends yb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rfe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Pfe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RG();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=jG(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Gt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),yn())}isEqual(e){return this.batchId===e.batchId&&Op(this.mutations,e.mutations,((n,r)=>O8(n,r)))&&Op(this.baseMutations,e.baseMutations,((n,r)=>O8(n,r)))}}class uR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Hn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return xfe})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uR(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kfe=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mfe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bi,En;function Dfe(t){switch(t){case We.OK:return Rt(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return Rt(15467,{code:t})}}function VG(t){if(t===void 0)return kc("GRPC error has no .code"),We.UNKNOWN;switch(t){case bi.OK:return We.OK;case bi.CANCELLED:return We.CANCELLED;case bi.UNKNOWN:return We.UNKNOWN;case bi.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case bi.INTERNAL:return We.INTERNAL;case bi.UNAVAILABLE:return We.UNAVAILABLE;case bi.UNAUTHENTICATED:return We.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case bi.NOT_FOUND:return We.NOT_FOUND;case bi.ALREADY_EXISTS:return We.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return We.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case bi.ABORTED:return We.ABORTED;case bi.OUT_OF_RANGE:return We.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return We.UNIMPLEMENTED;case bi.DATA_LOSS:return We.DATA_LOSS;default:return Rt(39323,{code:t})}}(En=bi||(bi={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lfe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bfe=new $u([4294967295,4294967295],0);function M8(t){const e=Lfe().encode(t),n=new rG;return n.update(e),new Uint8Array(n.digest())}function D8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $u([n,r],0),new $u([i,s],0)]}class fR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rm(`Invalid padding: ${n}`);if(r<0)throw new Rm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$u.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply($u.fromNumber(r)));return i.compare(Bfe)===1&&(i=new $u([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=M8(e),[r,i]=D8(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new fR(s,i,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=M8(e),[r,i]=D8(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ny.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vb(Gt.min(),i,new Gr(mn),Mc(),yn())}}class Ny{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ny(r,n,yn(),yn(),yn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class zG{constructor(e,n){this.targetId=e,this.Ce=n}}class HG{constructor(e,n,r=vs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class L8{constructor(){this.ve=0,this.Fe=B8(),this.Me=vs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yn(),n=yn(),r=yn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Rt(38017,{changeType:s})}})),new Ny(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=B8()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jfe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mc(),this.Je=iv(),this.He=iv(),this.Ye=new Gr(mn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Rt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(tP(s))if(r===0){const o=new Ct(s.path);this.et(n,o,Ms.newNoDocument(o,Gt.min()))}else Hn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=nf(r).toUint8Array()}catch(c){if(c instanceof pG)return Np("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new fR(o,i,s)}catch(c){return Np(c instanceof Rm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const a=this.ot(o);if(a){if(s.current&&tP(a.target)){const c=new Ct(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Ms.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=yn();this.He.forEach(((s,o)=>{let a=!0;o.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new vb(e,n,this.Ye,this.je,r);return this.je=Mc(),this.Je=iv(),this.He=iv(),this.Ye=new Gr(mn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L8,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zi(mn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zi(mn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L8),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function iv(){return new Gr(Ct.comparator)}function B8(){return new Gr(Ct.comparator)}const Ffe={asc:"ASCENDING",desc:"DESCENDING"},Ufe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vfe={and:"AND",or:"OR"};class zfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rP(t,e){return t.useProto3Json||fb(e)?e:{value:e}}function _w(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $G(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hfe(t,e){return _w(t,e.toTimestamp())}function Il(t){return Hn(!!t,49232),Gt.fromTimestamp((function(n){const r=tf(n);return new Ir(r.seconds,r.nanos)})(t))}function hR(t,e){return iP(t,e).canonicalString()}function iP(t,e){const n=(function(i){return new zr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function GG(t){const e=zr.fromString(t);return Hn(XG(e),10190,{key:e.toString()}),e}function sP(t,e){return hR(t.databaseId,e.path)}function g2(t,e){const n=GG(e);if(n.get(1)!==t.databaseId.projectId)throw new xt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ct(qG(n))}function WG(t,e){return hR(t.databaseId,e)}function $fe(t){const e=GG(t);return e.length===4?zr.emptyPath():qG(e)}function oP(t){return new zr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qG(t){return Hn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function j8(t,e,n){return{name:sP(t,e),fields:n.value.mapValue.fields}}function Gfe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Rt(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,g){return u.useProto3Json?(Hn(g===void 0||typeof g=="string",58123),vs.fromBase64String(g||"")):(Hn(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),vs.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const g=u.code===void 0?We.UNKNOWN:VG(u.code);return new xt(g,u.message||"")})(o);n=new HG(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=g2(t,r.document.name),s=Il(r.document.updateTime),o=r.document.createTime?Il(r.document.createTime):Gt.min(),a=new ga({mapValue:{fields:r.document.fields}}),c=Ms.newFoundDocument(i,s,o,a),u=r.targetIds||[],g=r.removedTargetIds||[];n=new Wv(u,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=g2(t,r.document),s=r.readTime?Il(r.readTime):Gt.min(),o=Ms.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=g2(t,r.document),s=r.removedTargetIds||[];n=new Wv([],s,i,null)}else{if(!("filter"in e))return Rt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Mfe(i,s),a=r.targetId;n=new zG(a,o)}}return n}function Wfe(t,e){let n;if(e instanceof Py)n={update:j8(t,e.key,e.value)};else if(e instanceof UG)n={delete:sP(t,e.key)};else if(e instanceof Qh)n={update:j8(t,e.key,e.data),updateMask:the(e.fieldMask)};else{if(!(e instanceof Ofe))return Rt(16599,{Vt:e.type});n={verify:sP(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const a=o.transform;if(a instanceof Sw)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof A0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof E0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tw)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Rt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Hfe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Rt(27497)})(t,e.precondition)),n}function qfe(t,e){return t&&t.length>0?(Hn(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Il(i.updateTime):Il(s);return o.isEqual(Gt.min())&&(o=Il(s)),new Ife(o,i.transformResults||[])})(n,e)))):[]}function Kfe(t,e){return{documents:[WG(t,e.path)]}}function Yfe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WG(t,i);const s=(function(u){if(u.length!==0)return YG(Fl.create(u,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(u){if(u.length!==0)return u.map((g=>(function(w){return{field:$d(w.field),direction:Zfe(w.dir)}})(g)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rP(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:i}}function Xfe(t){let e=$fe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Hn(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=(function(m){const w=KG(m);return w instanceof Fl&&SG(w)?w.getFilters():[w]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((w=>(function(I){return new Ew(Gd(I.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(w)))})(n.orderBy));let a=null;n.limit&&(a=(function(m){let w;return w=typeof m=="object"?m.value:m,fb(w)?null:w})(n.limit));let c=null;n.startAt&&(c=(function(m){const w=!!m.before,A=m.values||[];return new Aw(A,w)})(n.startAt));let u=null;return n.endAt&&(u=(function(m){const w=!m.before,A=m.values||[];return new Aw(A,w)})(n.endAt)),pfe(e,i,o,s,a,"F",c,u)}function Qfe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KG(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gd(n.unaryFilter.field);return Fi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gd(n.unaryFilter.field);return Fi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gd(n.unaryFilter.field);return Fi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gd(n.unaryFilter.field);return Fi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Fi.create(Gd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Fl.create(n.compositeFilter.filters.map((r=>KG(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(n.compositeFilter.op))})(t):Rt(30097,{filter:t})}function Zfe(t){return Ffe[t]}function Jfe(t){return Ufe[t]}function ehe(t){return Vfe[t]}function $d(t){return{fieldPath:t.canonicalString()}}function Gd(t){return ms.fromServerFormat(t.fieldPath)}function YG(t){return t instanceof Fi?(function(n){if(n.op==="=="){if(T8(n.value))return{unaryFilter:{field:$d(n.field),op:"IS_NAN"}};if(S8(n.value))return{unaryFilter:{field:$d(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T8(n.value))return{unaryFilter:{field:$d(n.field),op:"IS_NOT_NAN"}};if(S8(n.value))return{unaryFilter:{field:$d(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$d(n.field),op:Jfe(n.op),value:n.value}}})(t):t instanceof Fl?(function(n){const r=n.getFilters().map((i=>YG(i)));return r.length===1?r[0]:{compositeFilter:{op:ehe(n.op),filters:r}}})(t):Rt(54877,{filter:t})}function the(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XG(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i,s=Gt.min(),o=Gt.min(),a=vs.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{constructor(e){this.yt=e}}function rhe(t){const e=Xfe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nP(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ihe{constructor(){this.Cn=new she}addToCollectionParentIndex(e,n){return this.Cn.add(n),Fe.resolve()}getCollectionParents(e,n){return Fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Fe.resolve()}deleteFieldIndex(e,n){return Fe.resolve()}deleteAllFieldIndexes(e){return Fe.resolve()}createTargetIndexes(e,n){return Fe.resolve()}getDocumentsMatchingTarget(e,n){return Fe.resolve(null)}getIndexType(e,n){return Fe.resolve(0)}getFieldIndexes(e,n){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,n){return Fe.resolve(ef.min())}getMinOffsetFromCollectionGroup(e,n){return Fe.resolve(ef.min())}updateCollectionGroup(e,n,r){return Fe.resolve()}updateIndexEntries(e,n){return Fe.resolve()}}class she{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zi(zr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zi(zr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QG=41943040;class vo{static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(QG,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mp(0)}static cr(){return new Mp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="LruGarbageCollector",ohe=1048576;function V8([t,e],[n,r]){const i=mn(t,n);return i===0?mn(e,r):i}class ahe{constructor(e){this.Ir=e,this.buffer=new zi(V8),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lhe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(U8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_g(n)?ot(U8,"Ignoring IndexedDB error during garbage collection: ",n):await Tg(n)}await this.Vr(3e5)}))}}class che{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Fe.resolve(ub.ce);const r=new ahe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(F8)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F8):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,u;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,a=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(u=Date.now(),zd()<=gn.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-g}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-g}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function uhe(t,e){return new che(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fhe{constructor(){this.changes=new Xh((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ms.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dhe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&qm(r.mutation,i,Wa.empty(),Ir.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,yn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=yn()){const i=ih();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=Om();return s.forEach(((a,c)=>{o=o.insert(a,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=ih();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,yn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,i){let s=Mc();const o=Wm(),a=(function(){return Wm()})();return n.forEach(((c,u)=>{const g=r.get(u.key);i.has(u.key)&&(g===void 0||g.mutation instanceof Qh)?s=s.insert(u.key,u):g!==void 0?(o.set(u.key,g.mutation.getFieldMask()),qm(g.mutation,u,g.mutation.getFieldMask(),Ir.now())):o.set(u.key,Wa.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((u,g)=>o.set(u,g))),n.forEach(((u,g)=>a.set(u,new hhe(g,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=Wm();let i=new Gr(((o,a)=>o-a)),s=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((c=>{const u=n.get(c);if(u===null)return;let g=r.get(c)||Wa.empty();g=a.applyToLocalView(u,g),r.set(c,g);const m=(i.get(a.batchId)||yn()).add(c);i=i.insert(a.batchId,m)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,g=c.value,m=RG();g.forEach((w=>{if(!s.has(w)){const A=jG(n.get(w),r.get(w));A!==null&&m.set(w,A),s=s.add(w)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Fe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gfe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Fe.resolve(ih());let a=v0,c=s;return o.next((u=>Fe.forEach(u,((g,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(g)?Fe.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{c=c.insert(g,w)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,c,u,yn()))).next((g=>({batchId:a,changes:OG(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ct(n)).next((r=>{let i=Om();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Om();return this.indexManager.getCollectionParents(e,s).next((a=>Fe.forEach(a,(c=>{const u=(function(m,w){return new db(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next((g=>{g.forEach(((m,w)=>{o=o.insert(m,w)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((c,u)=>{const g=u.getKey();o.get(g)===null&&(o=o.insert(g,Ms.newInvalidDocument(g)))}));let a=Om();return o.forEach(((c,u)=>{const g=s.get(c);g!==void 0&&qm(g.mutation,u,Wa.empty(),Ir.now()),gb(n,u)&&(a=a.insert(c,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Il(i.createTime)}})(n)),Fe.resolve()}getNamedQuery(e,n){return Fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:rhe(i.bundledQuery),readTime:Il(i.readTime)}})(n)),Fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ghe{constructor(){this.overlays=new Gr(Ct.comparator),this.qr=new Map}getOverlay(e,n){return Fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ih();return Fe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Fe.resolve()}getOverlaysForCollection(e,n,r){const i=ih(),s=n.length+1,o=new Ct(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Gr(((u,g)=>u-g));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let g=s.get(u.largestBatchId);g===null&&(g=ih(),s=s.insert(u.largestBatchId,g)),g.set(u.getKey(),u)}}const a=ih(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,g)=>a.set(u,g))),!(a.size()>=i)););return Fe.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kfe(n,r));let s=this.qr.get(n);s===void 0&&(s=yn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(){this.sessionToken=vs.EMPTY_BYTE_STRING}getSessionToken(e){return Fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.Qr=new zi(Qi.$r),this.Ur=new zi(Qi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Qi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Qi(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ct(new zr([])),r=new Qi(n,e),i=new Qi(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ct(new zr([])),r=new Qi(n,e),i=new Qi(n,e+1);let s=yn();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new Qi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ct.comparator(e.key,n.key)||mn(e.Yr,n.Yr)}static Kr(e,n){return mn(e.Yr,n.Yr)||Ct.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yhe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zi(Qi.$r)}checkEmpty(e){return Fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Rfe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Qi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Fe.resolve(o)}lookupMutationBatch(e,n){return Fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(this.mutationQueue.length===0?rR:this.tr-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qi(n,0),i=new Qi(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const a=this.Xr(o.Yr);s.push(a)})),Fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zi(mn);return n.forEach((i=>{const s=new Qi(i,0),o=new Qi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(a=>{r=r.add(a.Yr)}))})),Fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ct.isDocumentKey(s)||(s=s.child(""));const o=new Qi(new Ct(s),0);let a=new zi(mn);return this.Zr.forEachWhile((c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)}),o),Fe.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Hn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Fe.forEach(n.mutations,(i=>{const s=new Qi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Qi(n,0),i=this.Zr.firstAfterOrEqual(r);return Fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vhe{constructor(e){this.ri=e,this.docs=(function(){return new Gr(Ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Fe.resolve(r?r.document.mutableCopy():Ms.newInvalidDocument(n))}getEntries(e,n){let r=Mc();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ms.newInvalidDocument(i))})),Fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mc();const o=n.path,a=new Ct(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:g}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Wue(Gue(g),r)<=0||(i.has(g.key)||gb(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return Fe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Rt(9500)}ii(e,n){return Fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new whe(this)}getSize(e){return Fe.resolve(this.size)}}class whe extends fhe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xhe{constructor(e){this.persistence=e,this.si=new Xh((n=>oR(n)),aR),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new dR,this.targetCount=0,this.ai=Mp.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mp(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Fe.resolve()}updateTargetData(e,n){return this.Pr(n),Fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),Fe.waitFor(s).next((()=>i))}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Fe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Fe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Fe.resolve(r)}containsKey(e,n){return Fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n){this.ui={},this.overlays={},this.ci=new ub(0),this.li=!1,this.li=!0,this.hi=new mhe,this.referenceDelegate=e(this),this.Pi=new xhe(this),this.indexManager=new ihe,this.remoteDocumentCache=(function(i){return new vhe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new nhe(n),this.Ii=new phe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ghe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new yhe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ot("MemoryPersistence","Starting transaction:",e);const i=new bhe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class bhe extends Kue{constructor(e){super(),this.currentSequenceNumber=e}}class pR{constructor(e){this.persistence=e,this.Ri=new dR,this.Vi=null}static mi(e){return new pR(e)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.fi,(r=>{const i=Ct.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Gt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Fe.or([()=>Fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cw{constructor(e,n){this.persistence=e,this.pi=new Xh((r=>Que(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=uhe(this,n)}static mi(e,n){return new Cw(e,n)}Ei(){}di(e){return Fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Fe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,s.removeEntry(o,Gt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Fe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hv(e.data.value)),n}br(e,n,r){return Fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=yn(),i=yn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gR(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ahe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ehe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Qoe()?8:Yue(Us())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new Ahe;return this.Ss(e,n,o).next((a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(zd()<=gn.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Hd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Fe.resolve()):(zd()<=gn.DEBUG&&ot("QueryEngine","Query:",Hd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(zd()<=gn.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Hd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cl(n))):Fe.resolve())}ys(e,n){if(P8(n))return Fe.resolve(null);let r=Cl(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=nP(n,null,"F"),r=Cl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=yn(...s);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,nP(n,null,"F")):this.vs(e,u,n,c)}))))})))))}ws(e,n,r,i){return P8(n)||i.isEqual(Gt.min())?Fe.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Fe.resolve(null):(zd()<=gn.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hd(n)),this.vs(e,o,n,$ue(i,v0)).next((a=>a)))}))}Ds(e,n){let r=new zi(PG(e));return n.forEach(((i,s)=>{gb(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return zd()<=gn.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Hd(n)),this.ps.getDocumentsMatchingQuery(e,n,ef.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="LocalStore",She=3e8;class The{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Gr(mn),this.xs=new Xh((s=>oR(s)),aR),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dhe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _he(t,e,n,r){return new The(t,e,n,r)}async function JG(t,e){const n=qt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],a=[];let c=yn();for(const u of i){o.push(u.batchId);for(const g of u.mutations)c=c.add(g.key)}for(const u of s){a.push(u.batchId);for(const g of u.mutations)c=c.add(g.key)}return n.localDocuments.getDocuments(r,c).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function Che(t,e){const n=qt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,g){const m=u.batch,w=m.keys();let A=Fe.resolve();return w.forEach((I=>{A=A.next((()=>g.getEntry(c,I))).next((T=>{const C=u.docVersions.get(I);Hn(C!==null,48541),T.version.compareTo(C)<0&&(m.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),g.addEntry(T)))}))})),A.next((()=>a.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=yn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function eW(t){const e=qt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Ihe(t,e){const n=qt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach(((g,m)=>{const w=i.get(m);if(!w)return;a.push(n.Pi.removeMatchingKeys(s,g.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,g.addedDocuments,m))));let A=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?A=A.withResumeToken(vs.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(m,A),(function(T,C,R){return T.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=She?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(w,A,g)&&a.push(n.Pi.updateTargetData(s,A))}));let c=Mc(),u=yn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))})),a.push(Phe(s,o,e.documentUpdates).next((g=>{c=g.ks,u=g.qs}))),!r.isEqual(Gt.min())){const g=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));a.push(g)}return Fe.waitFor(a).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,u))).next((()=>c))})).then((s=>(n.Ms=i,s)))}function Phe(t,e,n){let r=yn(),i=yn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=Mc();return n.forEach(((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Gt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ot(mR,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function Nhe(t,e){const n=qt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rR),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Ohe(t,e){const n=qt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Fe.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Fu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function aP(t,e,n){const r=qt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!_g(o))throw o;ot(mR,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function z8(t,e,n){const r=qt(t);let i=Gt.min(),s=yn();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,u,g){const m=qt(c),w=m.xs.get(g);return w!==void 0?Fe.resolve(m.Ms.get(w)):m.Pi.getTargetData(u,g)})(r,o,Cl(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((c=>{s=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Gt.min(),n?s:yn()))).next((a=>(Rhe(r,yfe(e),a),{documents:a,Qs:s})))))}function Rhe(t,e,n){let r=t.Os.get(e)||Gt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class H8{constructor(){this.activeTargetIds=Efe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class khe{constructor(){this.Mo=new H8,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mhe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="ConnectivityMonitor";class G8{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot($8,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot($8,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sv=null;function lP(){return sv===null?sv=(function(){return 268435456+Math.round(2147483648*Math.random())})():sv++,"0x"+sv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="RestConnection",Dhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lhe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===xw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=lP(),a=this.zo(e,n.toUriEncodedString());ot(m2,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),g=bg(u);return this.Jo(e,a,c,r,g).then((m=>(ot(m2,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw Np(m2,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sg})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Dhe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bhe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="WebChannelConnection";class jhe extends Lhe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=lP();return new Promise(((a,c)=>{const u=new iG;u.setWithCredentials(!0),u.listenOnce(sG.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case zv.NO_ERROR:const m=u.getResponseJson();ot(Os,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case zv.TIMEOUT:ot(Os,`RPC '${e}' ${o} timed out`),c(new xt(We.DEADLINE_EXCEEDED,"Request time out"));break;case zv.HTTP_ERROR:const w=u.getStatus();if(ot(Os,`RPC '${e}' ${o} failed with status:`,w,"response text:",u.getResponseText()),w>0){let A=u.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A?.error;if(I&&I.status&&I.message){const T=(function(R){const B=R.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(B)>=0?B:We.UNKNOWN})(I.status);c(new xt(T,I.message))}else c(new xt(We.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new xt(We.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ot(Os,`RPC '${e}' ${o} completed.`)}}));const g=JSON.stringify(i);ot(Os,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=lP(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lG(),a=aG(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const g=s.join("");ot(Os,`Creating RPC '${e}' stream ${i}: ${g}`,c);const m=o.createWebChannel(g,c);this.I_(m);let w=!1,A=!1;const I=new Bhe({Yo:C=>{A?ot(Os,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(w||(ot(Os,`Opening RPC '${e}' stream ${i} transport.`),m.open(),w=!0),ot(Os,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Zo:()=>m.close()}),T=(C,R,B)=>{C.listen(R,(k=>{try{B(k)}catch(V){setTimeout((()=>{throw V}),0)}}))};return T(m,Nm.EventType.OPEN,(()=>{A||(ot(Os,`RPC '${e}' stream ${i} transport opened.`),I.o_())})),T(m,Nm.EventType.CLOSE,(()=>{A||(A=!0,ot(Os,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(m))})),T(m,Nm.EventType.ERROR,(C=>{A||(A=!0,Np(Os,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),I.a_(new xt(We.UNAVAILABLE,"The operation could not be completed")))})),T(m,Nm.EventType.MESSAGE,(C=>{if(!A){const R=C.data[0];Hn(!!R,16349);const B=R,k=B?.error||B[0]?.error;if(k){ot(Os,`RPC '${e}' stream ${i} received error:`,k);const V=k.status;let D=(function(M){const U=bi[M];if(U!==void 0)return VG(U)})(V),j=k.message;D===void 0&&(D=We.INTERNAL,j="Unknown error status: "+V+" with message "+k.message),A=!0,I.a_(new xt(D,j)),m.close()}else ot(Os,`RPC '${e}' stream ${i} received:`,R),I.u_(R)}})),T(a,oG.STAT_EVENT,(C=>{C.stat===XI.PROXY?ot(Os,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===XI.NOPROXY&&ot(Os,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function y2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){return new zfe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="PersistentStream";class nW{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tW(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===We.RESOURCE_EXHAUSTED?(kc(n.toString()),kc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xt(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(W8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ot(W8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fhe extends nW{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Gfe(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?Il(o.readTime):Gt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=oP(this.serializer),n.addTarget=(function(s,o){let a;const c=o.target;if(a=tP(c)?{documents:Kfe(s,c)}:{query:Yfe(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$G(s,o.resumeToken);const u=rP(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Gt.min())>0){a.readTime=_w(s,o.snapshotVersion.toTimestamp());const u=rP(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=Qfe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=oP(this.serializer),n.removeTarget=e,this.q_(n)}}class Uhe extends nW{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qfe(e.writeResults,e.commitTime),r=Il(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=oP(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Wfe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vhe{}class zhe extends Vhe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,iP(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xt(We.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,iP(n,r),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xt(We.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Hhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kc(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="RemoteStore";class $he{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Zh(this)&&(ot(Rh,"Restarting streams for network reachability change."),await(async function(c){const u=qt(c);u.Ea.add(4),await Oy(u),u.Ra.set("Unknown"),u.Ea.delete(4),await xb(u)})(this))}))})),this.Ra=new Hhe(r,i)}}async function xb(t){if(Zh(t))for(const e of t.da)await e(!0)}async function Oy(t){for(const e of t.da)await e(!1)}function rW(t,e){const n=qt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xR(n)?wR(n):Cg(n).O_()&&vR(n,e))}function yR(t,e){const n=qt(t),r=Cg(n);n.Ia.delete(e),r.O_()&&iW(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zh(n)&&n.Ra.set("Unknown"))}function vR(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cg(t).Y_(e)}function iW(t,e){t.Va.Ue(e),Cg(t).Z_(e)}function wR(t){t.Va=new jfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cg(t).start(),t.Ra.ua()}function xR(t){return Zh(t)&&!Cg(t).x_()&&t.Ia.size>0}function Zh(t){return qt(t).Ea.size===0}function sW(t){t.Va=void 0}async function Ghe(t){t.Ra.set("Online")}async function Whe(t){t.Ia.forEach(((e,n)=>{vR(t,e)}))}async function qhe(t,e){sW(t),xR(t)?(t.Ra.ha(e),wR(t)):t.Ra.set("Unknown")}async function Khe(t,e,n){if(t.Ra.set("Online"),e instanceof HG&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){ot(Rh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Iw(t,r)}else if(e instanceof Wv?t.Va.Ze(e):e instanceof zG?t.Va.st(e):t.Va.tt(e),!n.isEqual(Gt.min()))try{const r=await eW(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const g=s.Ia.get(u);g&&s.Ia.set(u,g.withResumeToken(c.resumeToken,o))}})),a.targetMismatches.forEach(((c,u)=>{const g=s.Ia.get(c);if(!g)return;s.Ia.set(c,g.withResumeToken(vs.EMPTY_BYTE_STRING,g.snapshotVersion)),iW(s,c);const m=new Fu(g.target,c,u,g.sequenceNumber);vR(s,m)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){ot(Rh,"Failed to raise snapshot:",r),await Iw(t,r)}}async function Iw(t,e,n){if(!_g(e))throw e;t.Ea.add(1),await Oy(t),t.Ra.set("Offline"),n||(n=()=>eW(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ot(Rh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xb(t)}))}function oW(t,e){return e().catch((n=>Iw(t,n,e)))}async function bb(t){const e=qt(t),n=sf(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rR;for(;Yhe(e);)try{const i=await Nhe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Xhe(e,i)}catch(i){await Iw(e,i)}aW(e)&&lW(e)}function Yhe(t){return Zh(t)&&t.Ta.length<10}function Xhe(t,e){t.Ta.push(e);const n=sf(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aW(t){return Zh(t)&&!sf(t).x_()&&t.Ta.length>0}function lW(t){sf(t).start()}async function Qhe(t){sf(t).ra()}async function Zhe(t){const e=sf(t);for(const n of t.Ta)e.ea(n.mutations)}async function Jhe(t,e,n){const r=t.Ta.shift(),i=uR.from(r,e,n);await oW(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await bb(t)}async function ede(t,e){e&&sf(t).X_&&await(async function(r,i){if((function(o){return Dfe(o)&&o!==We.ABORTED})(i.code)){const s=r.Ta.shift();sf(r).B_(),await oW(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await bb(r)}})(t,e),aW(t)&&lW(t)}async function q8(t,e){const n=qt(t);n.asyncQueue.verifyOperationInProgress(),ot(Rh,"RemoteStore received new credentials");const r=Zh(n);n.Ea.add(3),await Oy(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xb(n)}async function tde(t,e){const n=qt(t);e?(n.Ea.delete(2),await xb(n)):e||(n.Ea.add(2),await Oy(n),n.Ra.set("Unknown"))}function Cg(t){return t.ma||(t.ma=(function(n,r,i){const s=qt(n);return s.sa(),new Fhe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Ghe.bind(null,t),t_:Whe.bind(null,t),r_:qhe.bind(null,t),H_:Khe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),xR(t)?wR(t):t.Ra.set("Unknown")):(await t.ma.stop(),sW(t))}))),t.ma}function sf(t){return t.fa||(t.fa=(function(n,r,i){const s=qt(n);return s.sa(),new Uhe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qhe.bind(null,t),r_:ede.bind(null,t),ta:Zhe.bind(null,t),na:Jhe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await bb(t)):(await t.fa.stop(),t.Ta.length>0&&(ot(Rh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bR(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AR(t,e){if(kc("AsyncQueue",`${e}: ${t}`),_g(t))return new xt(We.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{static emptySet(e){return new gp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ct.comparator(n.key,r.key):(n,r)=>Ct.comparator(n.key,r.key),this.keyedMap=Om(),this.sortedSet=new Gr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this.ga=new Gr(Ct.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Rt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Dp{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new Dp(e,n,gp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rde{constructor(){this.queries=Y8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=qt(n),s=i.queries;i.queries=Y8(),s.forEach(((o,a)=>{for(const c of a.Sa)c.onError(r)}))})(this,new xt(We.ABORTED,"Firestore shutting down"))}}function Y8(){return new Xh((t=>IG(t)),pb)}async function ide(t,e){const n=qt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new nde,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=AR(o,`Initialization of query '${Hd(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&ER(n)}async function sde(t,e){const n=qt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ode(t,e){const n=qt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&ER(n)}function ade(t,e,n){const r=qt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function ER(t){t.Ca.forEach((e=>{e.next()}))}var cP,X8;(X8=cP||(cP={})).Ma="default",X8.Cache="cache";class lde{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Dp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.key=e}}class uW{constructor(e){this.key=e}}class cde{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yn(),this.mutatedKeys=yn(),this.eu=PG(e),this.tu=new gp(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new K8,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,m)=>{const w=i.get(g),A=gb(this.query,m)?m:null,I=!!w&&this.mutatedKeys.has(w.key),T=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let C=!1;w&&A?w.data.isEqual(A.data)?I!==T&&(r.track({type:3,doc:A}),C=!0):this.su(w,A)||(r.track({type:2,doc:A}),C=!0,(c&&this.eu(A,c)>0||u&&this.eu(A,u)<0)&&(a=!0)):!w&&A?(r.track({type:0,doc:A}),C=!0):w&&!A&&(r.track({type:1,doc:w}),C=!0,(c||u)&&(a=!0)),C&&(A?(o=o.add(A),s=T?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((g,m)=>(function(A,I){const T=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:C})}};return T(A)-T(I)})(g.type,m.type)||this.eu(g.doc,m.doc))),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Dp(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K8,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new uW(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new cW(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=yn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const SR="SyncEngine";class ude{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fde{constructor(e){this.key=e,this.hu=!1}}class hde{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Xh((a=>IG(a)),pb),this.Iu=new Map,this.Eu=new Set,this.du=new Gr(Ct.comparator),this.Au=new Map,this.Ru=new dR,this.Vu={},this.mu=new Map,this.fu=Mp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dde(t,e,n=!0){const r=mW(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await fW(r,e,n,!0),i}async function pde(t,e){const n=mW(t);await fW(n,e,!0,!1)}async function fW(t,e,n,r){const i=await Ohe(t.localStore,Cl(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await gde(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&rW(t.remoteStore,i),a}async function gde(t,e,n,r,i){t.pu=(m,w,A)=>(async function(T,C,R,B){let k=C.view.ru(R);k.Cs&&(k=await z8(T.localStore,C.query,!1).then((({documents:O})=>C.view.ru(O,k))));const V=B&&B.targetChanges.get(C.targetId),D=B&&B.targetMismatches.get(C.targetId)!=null,j=C.view.applyChanges(k,T.isPrimaryClient,V,D);return Z8(T,C.targetId,j.au),j.snapshot})(t,m,w,A);const s=await z8(t.localStore,e,!0),o=new cde(e,s.Qs),a=o.ru(s.documents),c=Ny.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Z8(t,n,u.au);const g=new ude(e,n,o);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function mde(t,e,n){const r=qt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!pb(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await aP(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yR(r.remoteStore,i.targetId),uP(r,i.targetId)})).catch(Tg)):(uP(r,i.targetId),await aP(r.localStore,i.targetId,!0))}async function yde(t,e){const n=qt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yR(n.remoteStore,r.targetId))}async function vde(t,e,n){const r=Tde(t);try{const i=await(function(o,a){const c=qt(o),u=Ir.now(),g=a.reduce(((A,I)=>A.add(I.key)),yn());let m,w;return c.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Mc(),T=yn();return c.Ns.getEntries(A,g).next((C=>{I=C,I.forEach(((R,B)=>{B.isValidDocument()||(T=T.add(R))}))})).next((()=>c.localDocuments.getOverlayedDocuments(A,I))).next((C=>{m=C;const R=[];for(const B of a){const k=Nfe(B,m.get(B.key).overlayedDocument);k!=null&&R.push(new Qh(B.key,k,bG(k.value.mapValue),Sc.exists(!0)))}return c.mutationQueue.addMutationBatch(A,u,R,a)})).next((C=>{w=C;const R=C.applyToLocalDocumentSet(m,T);return c.documentOverlayCache.saveOverlays(A,C.batchId,R)}))})).then((()=>({batchId:w.batchId,changes:OG(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Gr(mn)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u})(r,i.batchId,n),await Ry(r,i.changes),await bb(r.remoteStore)}catch(i){const s=AR(i,"Failed to persist write");n.reject(s)}}async function hW(t,e){const n=qt(t);try{const r=await Ihe(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Hn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Hn(o.hu,14607):i.removedDocuments.size>0&&(Hn(o.hu,42227),o.hu=!1))})),await Ry(n,r,e)}catch(r){await Tg(r)}}function Q8(t,e,n){const r=qt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const c=qt(o);c.onlineState=a;let u=!1;c.queries.forEach(((g,m)=>{for(const w of m.Sa)w.va(a)&&(u=!0)})),u&&ER(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wde(t,e,n){const r=qt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Gr(Ct.comparator);o=o.insert(s,Ms.newNoDocument(s,Gt.min()));const a=yn().add(s),c=new vb(Gt.min(),new Map,new Gr(mn),o,a);await hW(r,c),r.du=r.du.remove(s),r.Au.delete(e),TR(r)}else await aP(r.localStore,e,!1).then((()=>uP(r,e,n))).catch(Tg)}async function xde(t,e){const n=qt(t),r=e.batch.batchId;try{const i=await Che(n.localStore,e);pW(n,r,null),dW(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ry(n,i)}catch(i){await Tg(i)}}async function bde(t,e,n){const r=qt(t);try{const i=await(function(o,a){const c=qt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let g;return c.mutationQueue.lookupMutationBatch(u,a).next((m=>(Hn(m!==null,37113),g=m.keys(),c.mutationQueue.removeMutationBatch(u,m)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,g,a))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,g))).next((()=>c.localDocuments.getDocuments(u,g)))}))})(r.localStore,e);pW(r,e,n),dW(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ry(r,i)}catch(i){await Tg(i)}}function dW(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function pW(t,e,n){const r=qt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function uP(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||gW(t,r)}))}function gW(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yR(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),TR(t))}function Z8(t,e,n){for(const r of n)r instanceof cW?(t.Ru.addReference(r.key,e),Ade(t,r)):r instanceof uW?(ot(SR,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||gW(t,r.key)):Rt(19791,{wu:r})}function Ade(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ot(SR,"New document in limbo: "+n),t.Eu.add(r),TR(t))}function TR(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ct(zr.fromString(e)),r=t.fu.next();t.Au.set(r,new fde(n)),t.du=t.du.insert(n,r),rW(t.remoteStore,new Fu(Cl(lR(n.path)),r,"TargetPurposeLimboResolution",ub.ce))}}async function Ry(t,e,n){const r=qt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,c)=>{o.push(r.pu(c,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const g=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(u){i.push(u);const g=gR.As(c.targetId,u);s.push(g)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(c,u){const g=qt(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Fe.forEach(u,(w=>Fe.forEach(w.Es,(A=>g.persistence.referenceDelegate.addReference(m,w.targetId,A))).next((()=>Fe.forEach(w.ds,(A=>g.persistence.referenceDelegate.removeReference(m,w.targetId,A)))))))))}catch(m){if(!_g(m))throw m;ot(mR,"Failed to update sequence numbers: "+m)}for(const m of u){const w=m.targetId;if(!m.fromCache){const A=g.Ms.get(w),I=A.snapshotVersion,T=A.withLastLimboFreeSnapshotVersion(I);g.Ms=g.Ms.insert(w,T)}}})(r.localStore,s))}async function Ede(t,e){const n=qt(t);if(!n.currentUser.isEqual(e)){ot(SR,"User change. New user:",e.toKey());const r=await JG(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((a=>{a.forEach((c=>{c.reject(new xt(We.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ry(n,r.Ls)}}function Sde(t,e){const n=qt(t),r=n.Au.get(e);if(r&&r.hu)return yn().add(r.key);{let i=yn();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function mW(t){const e=qt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wde.bind(null,e),e.Pu.H_=ode.bind(null,e.eventManager),e.Pu.yu=ade.bind(null,e.eventManager),e}function Tde(t){const e=qt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bde.bind(null,e),e}class Pw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _he(this.persistence,new Ehe,e.initialUser,this.serializer)}Cu(e){return new ZG(pR.mi,this.serializer)}Du(e){return new khe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pw.provider={build:()=>new Pw};class _de extends Pw{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Hn(this.persistence.referenceDelegate instanceof Cw,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lhe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new ZG((r=>Cw.mi(r,n)),this.serializer)}}class fP{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q8(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ede.bind(null,this.syncEngine),await tde(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rde})()}createDatastore(e){const n=wb(e.databaseInfo.databaseId),r=(function(s){return new jhe(s)})(e.databaseInfo);return(function(s,o,a,c){return new zhe(s,o,a,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,a){return new $he(r,i,s,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>Q8(this.syncEngine,n,0)),(function(){return G8.v()?new G8:new Mhe})())}createSyncEngine(e,n){return(function(i,s,o,a,c,u,g){const m=new hde(i,s,o,a,c,u);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=qt(n);ot(Rh,"RemoteStore shutting down."),r.Ea.add(5),await Oy(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fP.provider={build:()=>new fP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cde{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="FirestoreClient";class Ide{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ks.UNAUTHENTICATED,this.clientId=tR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{ot(of,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(ot(of,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=AR(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function v2(t,e){t.asyncQueue.verifyOperationInProgress(),ot(of,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await JG(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function J8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Pde(t);ot(of,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>q8(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>q8(e.remoteStore,i))),t._onlineComponents=e}async function Pde(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ot(of,"Using user provided OfflineComponentProvider");try{await v2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Np("Error using user provided cache. Falling back to memory cache: "+n),await v2(t,new Pw)}}else ot(of,"Using default OfflineComponentProvider"),await v2(t,new _de(void 0));return t._offlineComponents}async function yW(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ot(of,"Using user provided OnlineComponentProvider"),await J8(t,t._uninitializedComponentsProvider._online)):(ot(of,"Using default OnlineComponentProvider"),await J8(t,new fP))),t._onlineComponents}function Nde(t){return yW(t).then((e=>e.syncEngine))}async function Ode(t){const e=await yW(t),n=e.eventManager;return n.onListen=dde.bind(null,e.syncEngine),n.onUnlisten=mde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yde.bind(null,e.syncEngine),n}function Rde(t,e,n={}){const r=new Gu;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,u){const g=new Cde({next:w=>{g.Nu(),o.enqueueAndForget((()=>sde(s,m)));const A=w.docs.has(a);!A&&w.fromCache?u.reject(new xt(We.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&c&&c.source==="server"?u.reject(new xt(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(w)},error:w=>u.reject(w)}),m=new lde(lR(a.path),g,{includeMetadataChanges:!0,qa:!0});return ide(s,m)})(await Ode(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW="firestore.googleapis.com",t6=!0;class n6{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wW,this.ssl=t6}else this.host=e.host,this.ssl=e.ssl??t6;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QG;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ohe)throw new xt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vW(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _R{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n6({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n6(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Rue;switch(r.type){case"firstParty":return new Lue(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=e6.get(n);r&&(ot("ComponentProvider","Removing Datastore"),e6.delete(n),r.terminate())})(this),Promise.resolve()}}function kde(t,e,n,r={}){t=y0(t,_R);const i=bg(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(h$(`https://${a}`),d$("Firestore",!0)),s.host!==wW&&s.host!==a&&Np("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!Ju(c,o)&&(t._setSettings(c),r.mockUserToken)){let u,g;if(typeof r.mockUserToken=="string")u=r.mockUserToken,g=ks.MOCK_USER;else{u=Hoe(r.mockUserToken,t._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new xt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ks(m)}t._authCredentials=new kue(new uG(u,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new CR(this.firestore,e,this._query)}}class ts{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new S0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ts(this.firestore,e,this._key)}toJSON(){return{type:ts._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Iy(n,ts._jsonSchema))return new ts(e,r||null,new Ct(zr.fromString(n.referencePath)))}}ts._jsonSchemaVersion="firestore/documentReference/1.0",ts._jsonSchema={type:Ti("string",ts._jsonSchemaVersion),referencePath:Ti("string")};class S0 extends CR{constructor(e,n,r){super(e,n,lR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ts(this.firestore,null,new Ct(e))}withConverter(e){return new S0(this.firestore,e,this._path)}}function xW(t,e,...n){if(t=io(t),arguments.length===1&&(e=tR.newId()),zue("doc","path",e),t instanceof _R){const r=zr.fromString(e,...n);return m8(r),new ts(t,null,new Ct(r))}{if(!(t instanceof ts||t instanceof S0))throw new xt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zr.fromString(e,...n));return m8(r),new ts(t.firestore,t instanceof S0?t.converter:null,new Ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="AsyncQueue";class i6{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tW(this,"async_queue_retry"),this._c=()=>{const r=y2();r&&ot(r6,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=y2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=y2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_g(e))throw e;ot(r6,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,kc("INTERNAL UNHANDLED ERROR: ",s6(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=bR.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Rt(47125,{Pc:s6(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function s6(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class IR extends _R{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new i6,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i6(e),this._firestoreClient=void 0,await e}}}function Mde(t,e){const n=typeof t=="object"?t:GO(),r=typeof t=="string"?t:xw,i=qh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Voe("firestore");s&&kde(i,...s)}return i}function bW(t){if(t._terminated)throw new xt(We.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Dde(t),t._firestoreClient}function Dde(t){const e=t._freezeSettings(),n=(function(i,s,o,a){return new efe(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,vW(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ide(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ma(vs.fromBase64String(e))}catch(n){throw new xt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ma(vs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ma._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iy(e,ma._jsonSchema))return ma.fromBase64String(e.bytes)}}ma._jsonSchemaVersion="firestore/bytes/1.0",ma._jsonSchema={type:Ti("string",ma._jsonSchemaVersion),bytes:Ti("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pl._jsonSchemaVersion}}static fromJSON(e){if(Iy(e,Pl._jsonSchema))return new Pl(e.latitude,e.longitude)}}Pl._jsonSchemaVersion="firestore/geoPoint/1.0",Pl._jsonSchema={type:Ti("string",Pl._jsonSchemaVersion),latitude:Ti("number"),longitude:Ti("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iy(e,Nl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Nl(e.vectorValues);throw new xt(We.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nl._jsonSchemaVersion="firestore/vectorValue/1.0",Nl._jsonSchema={type:Ti("string",Nl._jsonSchemaVersion),vectorValues:Ti("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lde=/^__.*__$/;class Bde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qh(e,this.data,this.fieldMask,n,this.fieldTransforms):new Py(e,this.data,n,this.fieldTransforms)}}function EW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:t})}}class NR{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new NR({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nw(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(EW(this.Ac)&&Lde.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wb(e)}Cc(e,n,r,i=!1){return new NR({Ac:e,methodName:n,Dc:r,path:ms.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fde(t){const e=t._freezeSettings(),n=wb(t._databaseId);return new jde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ude(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);CW("Data must be an object, but it was:",o,r);const a=TW(r,o);let c,u;if(s.merge)c=new Wa(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const m of s.mergeFields){const w=Vde(e,m,n);if(!o.contains(w))throw new xt(We.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Hde(g,w)||g.push(w)}c=new Wa(g),u=o.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,u=o.fieldTransforms;return new Bde(new ga(a),c,u)}function SW(t,e){if(_W(t=io(t)))return CW("Unsupported field value:",e,t),TW(t,e);if(t instanceof AW)return(function(r,i){if(!EW(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const a of r){let c=SW(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=io(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sfe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ir.fromDate(r);return{timestampValue:_w(i.serializer,s)}}if(r instanceof Ir){const s=new Ir(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_w(i.serializer,s)}}if(r instanceof Pl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ma)return{bytesValue:$G(i.serializer,r._byteString)};if(r instanceof ts){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hR(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Nl)return(function(o,a){return{mapValue:{fields:{[wG]:{stringValue:xG},[bw]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return cR(a.serializer,u)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${nR(r)}`)})(t,e)}function TW(t,e){const n={};return dG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yh(t,((r,i)=>{const s=SW(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function _W(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ir||t instanceof Pl||t instanceof ma||t instanceof ts||t instanceof AW||t instanceof Nl)}function CW(t,e,n){if(!_W(n)||!fG(n)){const r=nR(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Vde(t,e,n){if((e=io(e))instanceof PR)return e._internalPath;if(typeof e=="string")return IW(t,e);throw Nw("Field path arguments must be of type string or ",t,!1,void 0,n)}const zde=new RegExp("[~\\*/\\[\\]]");function IW(t,e,n){if(e.search(zde)>=0)throw Nw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new PR(...e.split("."))._internalPath}catch{throw Nw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nw(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new xt(We.INVALID_ARGUMENT,a+t+c)}function Hde(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ts(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $de(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(NW("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $de extends PW{data(){return super.data()}}function NW(t,e){return typeof e=="string"?IW(t,e):e instanceof PR?e._internalPath:e._delegate._internalPath}class Gde{convertValue(e,n="none"){switch(rf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Rt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yh(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[bw].arrayValue?.values?.map((r=>gi(r.doubleValue)));return new Nl(n)}convertGeoPoint(e){return new Pl(gi(e.latitude),gi(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(w0(e));default:return null}}convertTimestamp(e){const n=tf(e);return new Ir(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zr.fromString(e);Hn(XG(r),9688,{name:e});const i=new x0(r.get(1),r.get(3)),s=new Ct(r.popFirst(5));return i.isEqual(n)||kc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wde(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class km{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vh extends PW{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(NW("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(We.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vh._jsonSchemaVersion="firestore/documentSnapshot/1.0",vh._jsonSchema={type:Ti("string",vh._jsonSchemaVersion),bundleSource:Ti("string","DocumentSnapshot"),bundleName:Ti("string"),bundle:Ti("string")};class qv extends vh{data(e={}){return super.data(e)}}class Km{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new km(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new qv(this._firestore,this._userDataWriter,r.key,r,new km(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const c=new qv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new km(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const c=new qv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new km(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,g=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),g=o.indexOf(a.doc.key)),{type:qde(a.type),doc:c,oldIndex:u,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(We.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Km._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tR.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kde(t){t=y0(t,ts);const e=y0(t.firestore,IR);return Rde(bW(e),t._key).then((n=>Zde(e,t,n)))}Km._jsonSchemaVersion="firestore/querySnapshot/1.0",Km._jsonSchema={type:Ti("string",Km._jsonSchemaVersion),bundleSource:Ti("string","QuerySnapshot"),bundleName:Ti("string"),bundle:Ti("string")};class Yde extends Gde{constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ts(this.firestore,null,n)}}function Xde(t,e,n){t=y0(t,ts);const r=y0(t.firestore,IR),i=Wde(t.converter,e);return Qde(r,[Ude(Fde(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Sc.none())])}function Qde(t,e){return(function(r,i){const s=new Gu;return r.asyncQueue.enqueueAndForget((async()=>vde(await Nde(r),i,s))),s.promise})(bW(t),e)}function Zde(t,e,n){const r=n.docs.get(e._key),i=new Yde(t);return new vh(t,i,e._key,r,new km(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Sg=i})(Ag),Bl(new Xa("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new IR(new Mue(r.getProvider("auth-internal")),new Bue(o,r.getProvider("app-check-internal")),(function(u,g){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new xt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new x0(u.options.projectId,g)})(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),wa(h8,d8,e),wa(h8,d8,"esm2020")})();var Jde="firebase",epe="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa(Jde,epe,"app");const OW="@firebase/installations",OR="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW=1e4,kW=`w:${OR}`,MW="FIS_v2",tpe="https://firebaseinstallations.googleapis.com/v1",npe=3600*1e3,rpe="installations",ipe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const spe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},kh=new Wh(rpe,ipe,spe);function DW(t){return t instanceof Za&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW({projectId:t}){return`${tpe}/projects/${t}/installations`}function BW(t){return{token:t.token,requestStatus:2,expiresIn:ape(t.expiresIn),creationTime:Date.now()}}async function jW(t,e){const r=(await e.json()).error;return kh.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function FW({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ope(t,{refreshToken:e}){const n=FW(t);return n.append("Authorization",lpe(e)),n}async function UW(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ape(t){return Number(t.replace("s","000"))}function lpe(t){return`${MW} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cpe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=LW(t),i=FW(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:MW,appId:t.appId,sdkVersion:kW},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await UW(()=>fetch(r,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:BW(u.authToken)}}else throw await jW("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VW(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function upe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fpe=/^[cdef][\w-]{21}$/,hP="";function hpe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=dpe(t);return fpe.test(n)?n:hP}catch{return hP}}function dpe(t){return upe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=new Map;function HW(t,e){const n=Ab(t);$W(n,e),ppe(n,e)}function $W(t,e){const n=zW.get(t);if(n)for(const r of n)r(e)}function ppe(t,e){const n=gpe();n&&n.postMessage({key:t,fid:e}),mpe()}let sh=null;function gpe(){return!sh&&"BroadcastChannel"in self&&(sh=new BroadcastChannel("[Firebase] FID Change"),sh.onmessage=t=>{$W(t.data.key,t.data.fid)}),sh}function mpe(){zW.size===0&&sh&&(sh.close(),sh=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ype="firebase-installations-database",vpe=1,Mh="firebase-installations-store";let w2=null;function RR(){return w2||(w2=w$(ype,vpe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mh)}}})),w2}async function Ow(t,e){const n=Ab(t),i=(await RR()).transaction(Mh,"readwrite"),s=i.objectStore(Mh),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&HW(t,e.fid),e}async function GW(t){const e=Ab(t),r=(await RR()).transaction(Mh,"readwrite");await r.objectStore(Mh).delete(e),await r.done}async function Eb(t,e){const n=Ab(t),i=(await RR()).transaction(Mh,"readwrite"),s=i.objectStore(Mh),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&HW(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t){let e;const n=await Eb(t.appConfig,r=>{const i=wpe(r),s=xpe(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===hP?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function wpe(t){const e=t||{fid:hpe(),registrationStatus:0};return WW(e)}function xpe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(kh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=bpe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ape(t)}:{installationEntry:e}}async function bpe(t,e){try{const n=await cpe(t,e);return Ow(t.appConfig,n)}catch(n){throw DW(n)&&n.customData.serverCode===409?await GW(t.appConfig):await Ow(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ape(t){let e=await o6(t.appConfig);for(;e.registrationStatus===1;)await VW(100),e=await o6(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await kR(t);return r||n}return e}function o6(t){return Eb(t,e=>{if(!e)throw kh.create("installation-not-found");return WW(e)})}function WW(t){return Epe(t)?{fid:t.fid,registrationStatus:0}:t}function Epe(t){return t.registrationStatus===1&&t.registrationTime+RW<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Spe({appConfig:t,heartbeatServiceProvider:e},n){const r=Tpe(t,n),i=ope(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:kW,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await UW(()=>fetch(r,a));if(c.ok){const u=await c.json();return BW(u)}else throw await jW("Generate Auth Token",c)}function Tpe(t,{fid:e}){return`${LW(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(t,e=!1){let n;const r=await Eb(t.appConfig,s=>{if(!qW(s))throw kh.create("not-registered");const o=s.authToken;if(!e&&Ipe(o))return s;if(o.requestStatus===1)return n=_pe(t,e),s;{if(!navigator.onLine)throw kh.create("app-offline");const a=Npe(s);return n=Cpe(t,a),a}});return n?await n:r.authToken}async function _pe(t,e){let n=await a6(t.appConfig);for(;n.authToken.requestStatus===1;)await VW(100),n=await a6(t.appConfig);const r=n.authToken;return r.requestStatus===0?MR(t,e):r}function a6(t){return Eb(t,e=>{if(!qW(e))throw kh.create("not-registered");const n=e.authToken;return Ope(n)?{...e,authToken:{requestStatus:0}}:e})}async function Cpe(t,e){try{const n=await Spe(t,e),r={...e,authToken:n};return await Ow(t.appConfig,r),n}catch(n){if(DW(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await GW(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ow(t.appConfig,r)}throw n}}function qW(t){return t!==void 0&&t.registrationStatus===2}function Ipe(t){return t.requestStatus===2&&!Ppe(t)}function Ppe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+npe}function Npe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Ope(t){return t.requestStatus===1&&t.requestTime+RW<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rpe(t){const e=t,{installationEntry:n,registrationPromise:r}=await kR(e);return r?r.catch(console.error):MR(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kpe(t,e=!1){const n=t;return await Mpe(n),(await MR(n,e)).token}async function Mpe(t){const{registrationPromise:e}=await kR(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dpe(t){if(!t||!t.options)throw x2("App Configuration");if(!t.name)throw x2("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw x2(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function x2(t){return kh.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW="installations",Lpe="installations-internal",Bpe=t=>{const e=t.getProvider("app").getImmediate(),n=Dpe(e),r=qh(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jpe=t=>{const e=t.getProvider("app").getImmediate(),n=qh(e,KW).getImmediate();return{getId:()=>Rpe(n),getToken:i=>kpe(n,i)}};function Fpe(){Bl(new Xa(KW,Bpe,"PUBLIC")),Bl(new Xa(Lpe,jpe,"PRIVATE"))}Fpe();wa(OW,OR);wa(OW,OR,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="analytics",Upe="firebase_id",Vpe="origin",zpe=60*1e3,Hpe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",DR="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new ob("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $pe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qo=new Wh("analytics","Analytics",$pe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gpe(t){if(!t.startsWith(DR)){const e=qo.create("invalid-gtag-resource",{gtagURL:t});return Eo.warn(e.message),""}return t}function YW(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Wpe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function qpe(t,e){const n=Wpe("firebase-js-sdk-policy",{createScriptURL:Gpe}),r=document.createElement("script"),i=`${DR}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Kpe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Ype(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await YW(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(a){Eo.error(a)}t("config",i,s)}async function Xpe(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await YW(n);for(const c of o){const u=a.find(m=>m.measurementId===c),g=u&&e[u.appId];if(g)s.push(g);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Eo.error(s)}}function Qpe(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,c]=o;await Xpe(t,e,n,a,c)}else if(s==="config"){const[a,c]=o;await Ype(t,e,n,r,a,c)}else if(s==="consent"){const[a,c]=o;t("consent",a,c)}else if(s==="get"){const[a,c,u]=o;t("get",a,c,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Eo.error(a)}}return i}function Zpe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Qpe(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Jpe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(DR)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ege=30,tge=1e3;class nge{constructor(e={},n=tge){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const XW=new nge;function rge(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ige(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:rge(n)},i=Hpe.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let o="";try{const a=await s.json();a.error?.message&&(o=a.error.message)}catch{}throw qo.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function sge(t,e=XW,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw qo.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw qo.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new lge;return setTimeout(async()=>{a.abort()},zpe),QW({appId:r,apiKey:i,measurementId:s},o,a,e)}async function QW(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=XW){const{appId:s,measurementId:o}=t;try{await oge(r,e)}catch(a){if(o)return Eo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:s,measurementId:o};throw a}try{const a=await ige(t);return i.deleteThrottleMetadata(s),a}catch(a){const c=a;if(!age(c)){if(i.deleteThrottleMetadata(s),o)return Eo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:o};throw a}const u=Number(c?.customData?.httpStatus)===503?BD(n,i.intervalMillis,ege):BD(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,g),Eo.debug(`Calling attemptFetch again in ${u} millis`),QW(t,g,r,i)}}function oge(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(qo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function age(t){if(!(t instanceof Za)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class lge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cge(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uge(){if(g$())try{await m$()}catch(t){return Eo.warn(qo.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Eo.warn(qo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fge(t,e,n,r,i,s,o){const a=sge(t);a.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Eo.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Eo.error(w)),e.push(a);const c=uge().then(w=>{if(w)return r.getId()}),[u,g]=await Promise.all([a,c]);Jpe(s)||qpe(s,u.measurementId),i("js",new Date);const m=o?.config??{};return m[Vpe]="firebase",m.update=!0,g!=null&&(m[Upe]=g),i("config",u.measurementId,m),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hge{constructor(e){this.app=e}_delete(){return delete Ym[this.app.options.appId],Promise.resolve()}}let Ym={},l6=[];const c6={};let b2="dataLayer",dge="gtag",u6,ZW,f6=!1;function pge(){const t=[];if(p$()&&t.push("This is a browser extension environment."),Zoe()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=qo.create("invalid-analytics-context",{errorInfo:e});Eo.warn(n.message)}}function gge(t,e,n){pge();const r=t.options.appId;if(!r)throw qo.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Eo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qo.create("no-api-key");if(Ym[r]!=null)throw qo.create("already-exists",{id:r});if(!f6){Kpe(b2);const{wrappedGtag:s,gtagCore:o}=Zpe(Ym,l6,c6,b2,dge);ZW=s,u6=o,f6=!0}return Ym[r]=fge(t,l6,c6,e,u6,b2,n),new hge(t)}function mge(t=GO()){t=io(t);const e=qh(t,Rw);return e.isInitialized()?e.getImmediate():yge(t)}function yge(t,e={}){const n=qh(t,Rw);if(n.isInitialized()){const i=n.getImmediate();if(Ju(e,n.getOptions()))return i;throw qo.create("already-initialized")}return n.initialize({options:e})}function vge(t,e,n,r){t=io(t),cge(ZW,Ym[t.app.options.appId],e,n,r).catch(i=>Eo.error(i))}const h6="@firebase/analytics",d6="0.10.18";function wge(){Bl(new Xa(Rw,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return gge(r,i,n)},"PUBLIC")),Bl(new Xa("analytics-internal",t,"PRIVATE")),wa(h6,d6),wa(h6,d6,"esm2020");function t(e){try{const n=e.getProvider(Rw).getImmediate();return{logEvent:(r,i,s)=>vge(n,r,i,s)}}catch(n){throw qo.create("interop-component-reg-failed",{reason:n})}}}wge();const xge={apiKey:"AIzaSyCHaJxGSMZ5LYxg3bYpMn3_81c5EpTf1v8",authDomain:"sih-agro-chain.firebaseapp.com",projectId:"sih-agro-chain",storageBucket:"sih-agro-chain.firebasestorage.app",messagingSenderId:"473727370298",appId:"1:473727370298:web:dbdfbda0ded909f4bba103",measurementId:"G-EN8XZQGK23"},LR=x$(xge);mge(LR);const Sb=Nue(LR),JW=Mde(LR),bge=async(t,e,n)=>{try{const i=(await pce(Sb,t,e)).user,s={uid:i.uid,email:i.email,role:n.role,name:n.name,phone:n.phone,address:n.address,createdAt:new Date,updatedAt:new Date};return await Xde(xW(JW,"users",i.uid),s),s}catch(r){throw new Error(r.message)}},eq=async(t,e)=>{try{return(await gce(Sb,t,e)).user}catch(n){throw new Error(n.message)}},Age=async()=>{try{await wce(Sb)}catch(t){throw new Error(t.message)}},Ege=t=>vce(Sb,t),Sge=async t=>{try{const e=await Kde(xW(JW,"users",t));return e.exists()?e.data():null}catch(e){throw new Error(e.message)}};function Tge({role:t,onBack:e,onLogin:n,onSignupRedirect:r}){const[i,s]=X.useState(""),[o,a]=X.useState(""),[c,u]=X.useState(!1),{t:g}=$c(),m=async w=>{if(w.preventDefault(),c)alert("Password reset link sent to your email!"),u(!1);else try{await eq(i,o),n(i,o)}catch(A){alert(`Login failed: ${A.message}`)}};return P.jsxs(Yu,{type:t,children:[P.jsx(Zu,{}),P.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:P.jsxs("div",{className:"w-full max-w-md",children:[P.jsxs(Vt,{variant:"ghost",onClick:e,className:"mb-4 text-foreground hover:bg-card/20",children:[P.jsx(lw,{className:"w-4 h-4 mr-2"}),"Back"]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(Bi,{children:[P.jsx(ji,{className:"text-center",children:c?"Reset Password":g("login")}),P.jsx("p",{className:"text-center text-muted-foreground",children:c?"Enter your email to reset password":`${g(t)} ${g("login").toLowerCase()}`})]}),P.jsx(Ln,{children:P.jsxs("form",{onSubmit:m,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"email",children:g("email")}),P.jsx(Vn,{id:"email",type:"email",value:i,onChange:w=>s(w.target.value),required:!0,className:"bg-input-background"})]}),!c&&P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"password",children:g("password")}),P.jsx(Vn,{id:"password",type:"password",value:o,onChange:w=>a(w.target.value),required:!0,className:"bg-input-background"})]}),P.jsx(Vt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",children:c?"Send Reset Link":g("login")}),!c&&P.jsxs(P.Fragment,{children:[P.jsx(Vt,{type:"button",variant:"link",onClick:()=>u(!0),className:"w-full text-primary",children:"Forgot Password?"}),P.jsxs("div",{className:"text-center",children:[P.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),P.jsx(Vt,{type:"button",variant:"link",onClick:r,className:"text-primary p-0",children:g("signup")})]})]}),c&&P.jsx(Vt,{type:"button",variant:"link",onClick:()=>u(!1),className:"w-full text-primary",children:"Back to Login"})]})})]})]})})]})}function _ge({role:t,onBack:e,onSignup:n,onLoginRedirect:r}){const[i,s]=X.useState({name:"",email:"",password:"",mobile:"",village:"",state:"",district:"",farmArea:"",warehouseLocation:"",shopName:"",shopAddress:""}),{t:o}=$c(),a=async g=>{g.preventDefault(),n(i)},c=(g,m)=>{s(w=>({...w,[g]:m}))},u=()=>{switch(t){case"farmer":return P.jsxs(P.Fragment,{children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"village",children:o("village")}),P.jsx(Vn,{id:"village",value:i.village,onChange:g=>c("village",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"state",children:o("state")}),P.jsx(Vn,{id:"state",value:i.state,onChange:g=>c("state",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"district",children:o("district")}),P.jsx(Vn,{id:"district",value:i.district,onChange:g=>c("district",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"farmArea",children:"Area of Farm (acres)"}),P.jsx(Vn,{id:"farmArea",type:"number",value:i.farmArea,onChange:g=>c("farmArea",g.target.value),required:!0,className:"bg-input-background"})]})]});case"distributor":return P.jsxs(P.Fragment,{children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"warehouseLocation",children:"Warehouse Address"}),P.jsx(Vn,{id:"warehouseLocation",value:i.warehouseLocation,onChange:g=>c("warehouseLocation",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"state",children:o("state")}),P.jsx(Vn,{id:"state",value:i.state,onChange:g=>c("state",g.target.value),required:!0,className:"bg-input-background"})]})]});case"retailer":return P.jsxs(P.Fragment,{children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"shopName",children:"Shop Name"}),P.jsx(Vn,{id:"shopName",value:i.shopName,onChange:g=>c("shopName",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"shopAddress",children:"Shop Address"}),P.jsx(Vn,{id:"shopAddress",value:i.shopAddress,onChange:g=>c("shopAddress",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"state",children:o("state")}),P.jsx(Vn,{id:"state",value:i.state,onChange:g=>c("state",g.target.value),required:!0,className:"bg-input-background"})]})]});default:return null}};return P.jsxs(Yu,{type:t,children:[P.jsx(Zu,{}),P.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-8",children:P.jsxs("div",{className:"w-full max-w-md",children:[P.jsxs(Vt,{variant:"ghost",onClick:e,className:"mb-4 text-foreground hover:bg-card/20",children:[P.jsx(lw,{className:"w-4 h-4 mr-2"}),"Back"]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(Bi,{children:[P.jsx(ji,{className:"text-center",children:o("signup")}),P.jsxs("p",{className:"text-center text-muted-foreground",children:["Create your ",o(t)," account"]})]}),P.jsx(Ln,{children:P.jsxs("form",{onSubmit:a,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"name",children:o("name")}),P.jsx(Vn,{id:"name",value:i.name,onChange:g=>c("name",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"mobile",children:o("mobile")}),P.jsx(Vn,{id:"mobile",type:"tel",value:i.mobile,onChange:g=>c("mobile",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"email",children:o("email")}),P.jsx(Vn,{id:"email",type:"email",value:i.email,onChange:g=>c("email",g.target.value),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"password",children:o("password")}),P.jsx(Vn,{id:"password",type:"password",value:i.password,onChange:g=>c("password",g.target.value),required:!0,className:"bg-input-background"})]}),u(),P.jsx(Vt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",children:o("continue")}),P.jsxs("div",{className:"text-center",children:[P.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),P.jsx(Vt,{type:"button",variant:"link",onClick:r,className:"text-primary p-0",children:o("login")})]})]})})]})]})})]})}function kw({className:t,...e}){return P.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:P.jsx("table",{"data-slot":"table",className:Br("w-full caption-bottom text-sm",t),...e})})}function Mw({className:t,...e}){return P.jsx("thead",{"data-slot":"table-header",className:Br("[&_tr]:border-b",t),...e})}function Dw({className:t,...e}){return P.jsx("tbody",{"data-slot":"table-body",className:Br("[&_tr:last-child]:border-0",t),...e})}function Uu({className:t,...e}){return P.jsx("tr",{"data-slot":"table-row",className:Br("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function Wn({className:t,...e}){return P.jsx("th",{"data-slot":"table-head",className:Br("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function qn({className:t,...e}){return P.jsx("td",{"data-slot":"table-cell",className:Br("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}var A2,p6;function To(){if(p6)return A2;p6=1;var t=Array.isArray;return A2=t,A2}var E2,g6;function tq(){if(g6)return E2;g6=1;var t=typeof ju=="object"&&ju&&ju.Object===Object&&ju;return E2=t,E2}var S2,m6;function Hl(){if(m6)return S2;m6=1;var t=tq(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return S2=n,S2}var T2,y6;function ky(){if(y6)return T2;y6=1;var t=Hl(),e=t.Symbol;return T2=e,T2}var _2,v6;function Cge(){if(v6)return _2;v6=1;var t=ky(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var g=r.call(o);return u&&(a?o[i]=c:delete o[i]),g}return _2=s,_2}var C2,w6;function Ige(){if(w6)return C2;w6=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return C2=n,C2}var I2,x6;function Gc(){if(x6)return I2;x6=1;var t=ky(),e=Cge(),n=Ige(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return I2=o,I2}var P2,b6;function Wc(){if(b6)return P2;b6=1;function t(e){return e!=null&&typeof e=="object"}return P2=t,P2}var N2,A6;function Ig(){if(A6)return N2;A6=1;var t=Gc(),e=Wc(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return N2=r,N2}var O2,E6;function BR(){if(E6)return O2;E6=1;var t=To(),e=Ig(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return O2=i,O2}var R2,S6;function mf(){if(S6)return R2;S6=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return R2=t,R2}var k2,T6;function jR(){if(T6)return k2;T6=1;var t=Gc(),e=mf(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var c=t(a);return c==r||c==i||c==n||c==s}return k2=o,k2}var M2,_6;function Pge(){if(_6)return M2;_6=1;var t=Hl(),e=t["__core-js_shared__"];return M2=e,M2}var D2,C6;function Nge(){if(C6)return D2;C6=1;var t=Pge(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return D2=n,D2}var L2,I6;function nq(){if(I6)return L2;I6=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return L2=n,L2}var B2,P6;function Oge(){if(P6)return B2;P6=1;var t=jR(),e=Nge(),n=mf(),r=nq(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,c=o.toString,u=a.hasOwnProperty,g=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(w){if(!n(w)||e(w))return!1;var A=t(w)?g:s;return A.test(r(w))}return B2=m,B2}var j2,N6;function Rge(){if(N6)return j2;N6=1;function t(e,n){return e?.[n]}return j2=t,j2}var F2,O6;function Jh(){if(O6)return F2;O6=1;var t=Oge(),e=Rge();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return F2=n,F2}var U2,R6;function Tb(){if(R6)return U2;R6=1;var t=Jh(),e=t(Object,"create");return U2=e,U2}var V2,k6;function kge(){if(k6)return V2;k6=1;var t=Tb();function e(){this.__data__=t?t(null):{},this.size=0}return V2=e,V2}var z2,M6;function Mge(){if(M6)return z2;M6=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return z2=t,z2}var H2,D6;function Dge(){if(D6)return H2;D6=1;var t=Tb(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return H2=i,H2}var $2,L6;function Lge(){if(L6)return $2;L6=1;var t=Tb(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return $2=r,$2}var G2,B6;function Bge(){if(B6)return G2;B6=1;var t=Tb(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return G2=n,G2}var W2,j6;function jge(){if(j6)return W2;j6=1;var t=kge(),e=Mge(),n=Dge(),r=Lge(),i=Bge();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,W2=s,W2}var q2,F6;function Fge(){if(F6)return q2;F6=1;function t(){this.__data__=[],this.size=0}return q2=t,q2}var K2,U6;function FR(){if(U6)return K2;U6=1;function t(e,n){return e===n||e!==e&&n!==n}return K2=t,K2}var Y2,V6;function _b(){if(V6)return Y2;V6=1;var t=FR();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Y2=e,Y2}var X2,z6;function Uge(){if(z6)return X2;z6=1;var t=_b(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return X2=r,X2}var Q2,H6;function Vge(){if(H6)return Q2;H6=1;var t=_b();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Q2=e,Q2}var Z2,$6;function zge(){if($6)return Z2;$6=1;var t=_b();function e(n){return t(this.__data__,n)>-1}return Z2=e,Z2}var J2,G6;function Hge(){if(G6)return J2;G6=1;var t=_b();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return J2=e,J2}var eS,W6;function Cb(){if(W6)return eS;W6=1;var t=Fge(),e=Uge(),n=Vge(),r=zge(),i=Hge();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,eS=s,eS}var tS,q6;function UR(){if(q6)return tS;q6=1;var t=Jh(),e=Hl(),n=t(e,"Map");return tS=n,tS}var nS,K6;function $ge(){if(K6)return nS;K6=1;var t=jge(),e=Cb(),n=UR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return nS=r,nS}var rS,Y6;function Gge(){if(Y6)return rS;Y6=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return rS=t,rS}var iS,X6;function Ib(){if(X6)return iS;X6=1;var t=Gge();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return iS=e,iS}var sS,Q6;function Wge(){if(Q6)return sS;Q6=1;var t=Ib();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return sS=e,sS}var oS,Z6;function qge(){if(Z6)return oS;Z6=1;var t=Ib();function e(n){return t(this,n).get(n)}return oS=e,oS}var aS,J6;function Kge(){if(J6)return aS;J6=1;var t=Ib();function e(n){return t(this,n).has(n)}return aS=e,aS}var lS,eL;function Yge(){if(eL)return lS;eL=1;var t=Ib();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return lS=e,lS}var cS,tL;function VR(){if(tL)return cS;tL=1;var t=$ge(),e=Wge(),n=qge(),r=Kge(),i=Yge();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,cS=s,cS}var uS,nL;function rq(){if(nL)return uS;nL=1;var t=VR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],c=s.cache;if(c.has(a))return c.get(a);var u=r.apply(this,o);return s.cache=c.set(a,u)||c,u};return s.cache=new(n.Cache||t),s}return n.Cache=t,uS=n,uS}var fS,rL;function Xge(){if(rL)return fS;rL=1;var t=rq(),e=500;function n(r){var i=t(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return fS=n,fS}var hS,iL;function Qge(){if(iL)return hS;iL=1;var t=Xge(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,c,u){s.push(c?u.replace(n,"$1"):a||o)}),s});return hS=r,hS}var dS,sL;function zR(){if(sL)return dS;sL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return dS=t,dS}var pS,oL;function Zge(){if(oL)return pS;oL=1;var t=ky(),e=zR(),n=To(),r=Ig(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return e(a,o)+"";if(r(a))return s?s.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return pS=o,pS}var gS,aL;function iq(){if(aL)return gS;aL=1;var t=Zge();function e(n){return n==null?"":t(n)}return gS=e,gS}var mS,lL;function sq(){if(lL)return mS;lL=1;var t=To(),e=BR(),n=Qge(),r=iq();function i(s,o){return t(s)?s:e(s,o)?[s]:n(r(s))}return mS=i,mS}var yS,cL;function Pb(){if(cL)return yS;cL=1;var t=Ig();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return yS=e,yS}var vS,uL;function HR(){if(uL)return vS;uL=1;var t=sq(),e=Pb();function n(r,i){i=t(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return vS=n,vS}var wS,fL;function oq(){if(fL)return wS;fL=1;var t=HR();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return wS=e,wS}var Jge=oq();const Ko=On(Jge);var xS,hL;function eme(){if(hL)return xS;hL=1;function t(e){return e==null}return xS=t,xS}var tme=eme();const an=On(tme);var bS,dL;function nme(){if(dL)return bS;dL=1;var t=Gc(),e=To(),n=Wc(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return bS=i,bS}var rme=nme();const Dh=On(rme);var ime=jR();const zt=On(ime);var sme=mf();const Pg=On(sme);var AS={exports:{}},Fn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pL;function ome(){if(pL)return Fn;pL=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),I;I=Symbol.for("react.module.reference");function T(C){if(typeof C=="object"&&C!==null){var R=C.$$typeof;switch(R){case t:switch(C=C.type,C){case n:case i:case r:case u:case g:return C;default:switch(C=C&&C.$$typeof,C){case a:case o:case c:case w:case m:case s:return C;default:return R}}case e:return R}}}return Fn.ContextConsumer=o,Fn.ContextProvider=s,Fn.Element=t,Fn.ForwardRef=c,Fn.Fragment=n,Fn.Lazy=w,Fn.Memo=m,Fn.Portal=e,Fn.Profiler=i,Fn.StrictMode=r,Fn.Suspense=u,Fn.SuspenseList=g,Fn.isAsyncMode=function(){return!1},Fn.isConcurrentMode=function(){return!1},Fn.isContextConsumer=function(C){return T(C)===o},Fn.isContextProvider=function(C){return T(C)===s},Fn.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Fn.isForwardRef=function(C){return T(C)===c},Fn.isFragment=function(C){return T(C)===n},Fn.isLazy=function(C){return T(C)===w},Fn.isMemo=function(C){return T(C)===m},Fn.isPortal=function(C){return T(C)===e},Fn.isProfiler=function(C){return T(C)===i},Fn.isStrictMode=function(C){return T(C)===r},Fn.isSuspense=function(C){return T(C)===u},Fn.isSuspenseList=function(C){return T(C)===g},Fn.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===i||C===r||C===u||C===g||C===A||typeof C=="object"&&C!==null&&(C.$$typeof===w||C.$$typeof===m||C.$$typeof===s||C.$$typeof===o||C.$$typeof===c||C.$$typeof===I||C.getModuleId!==void 0)},Fn.typeOf=T,Fn}var gL;function ame(){return gL||(gL=1,AS.exports=ome()),AS.exports}var lme=ame(),ES,mL;function aq(){if(mL)return ES;mL=1;var t=Gc(),e=Wc(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return ES=r,ES}var SS,yL;function cme(){if(yL)return SS;yL=1;var t=aq();function e(n){return t(n)&&n!=+n}return SS=e,SS}var ume=cme();const My=On(ume);var fme=aq();const hme=On(fme);var Qs=function(e){return e===0?0:e>0?1:-1},oh=function(e){return Dh(e)&&e.indexOf("%")===e.length-1},Je=function(e){return hme(e)&&!My(e)},dme=function(e){return an(e)},Ui=function(e){return Je(e)||Dh(e)},pme=0,Dy=function(e){var n=++pme;return"".concat(e||"").concat(n)},Zs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&!Dh(e))return r;var s;if(oh(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return My(s)&&(s=r),i&&s>n&&(s=n),s},Bu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},gme=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ou=function(e,n){return Je(e)&&Je(n)?function(r){return e+r*(n-e)}:function(){return n}};function dP(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ko(r,e))===n})}var mme=function(e,n){return Je(e)&&Je(n)?e-n:Dh(e)&&Dh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function mp(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function pP(t){"@babel/helpers - typeof";return pP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pP(t)}var yme=["viewBox","children"],vme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vL=["points","pathLength"],TS={svg:yme,polygon:vL,polyline:vL},$R=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lw=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(X.isValidElement(e)&&(r=e.props),!Pg(r))return null;var i={};return Object.keys(r).forEach(function(s){$R.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},wme=function(e,n,r){return function(i){return e(n,r,i),null}},Lh=function(e,n,r){if(!Pg(e)||pP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];$R.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=wme(o,n,r))}),i},xme=["children"],bme=["children"];function wL(t,e){if(t==null)return{};var n=Ame(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ame(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Tc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},bL=null,_S=null,GR=function t(e){if(e===bL&&Array.isArray(_S))return _S;var n=[];return X.Children.forEach(e,function(r){an(r)||(lme.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),_S=n,bL=e,n};function xa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Tc(i)}):r=[Tc(e)],GR(t).forEach(function(i){var s=Ko(i,"type.displayName")||Ko(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Vo(t,e){var n=xa(t,e);return n&&n[0]}var AL=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Je(r)||r<=0||!Je(i)||i<=0)},Eme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Sme=function(e){return e&&e.type&&Dh(e.type)&&Eme.indexOf(e.type)>=0},Tme=function(e,n,r,i){var s,o=(s=TS?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!zt(e)&&(i&&o.includes(n)||vme.includes(n))||r&&$R.includes(n)},Lt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(X.isValidElement(e)&&(i=e.props),!Pg(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;Tme((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},gP=function t(e,n){if(e===n)return!0;var r=X.Children.count(e);if(r!==X.Children.count(n))return!1;if(r===0)return!0;if(r===1)return EL(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!EL(s,o))return!1}return!0},EL=function(e,n){if(an(e)&&an(n))return!0;if(!an(e)&&!an(n)){var r=e.props||{},i=r.children,s=wL(r,xme),o=n.props||{},a=o.children,c=wL(o,bme);return i&&a?mp(s,c)&&gP(i,a):!i&&!a?mp(s,c):!1}return!1},SL=function(e,n){var r=[],i={};return GR(e).forEach(function(s,o){if(Sme(s))r.push(s);else if(s){var a=Tc(s.type),c=n[a]||{},u=c.handler,g=c.once;if(u&&(!g||!i[a])){var m=u(s,a,o);r.push(m),i[a]=!0}}}),r},_me=function(e){var n=e&&e.type;return n&&xL[n]?xL[n]:null},Cme=function(e,n){return GR(n).indexOf(e)},Ime=["children","width","height","viewBox","className","style","title","desc"];function mP(){return mP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mP.apply(this,arguments)}function Pme(t,e){if(t==null)return{};var n=Nme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yP(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,c=t.desc,u=Pme(t,Ime),g=i||{width:n,height:r,x:0,y:0},m=Qt("recharts-surface",s);return se.createElement("svg",mP({},Lt(u,!0,"svg"),{className:m,width:n,height:r,style:o,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),se.createElement("title",null,a),se.createElement("desc",null,c),e)}var Ome=["children","className"];function vP(){return vP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vP.apply(this,arguments)}function Rme(t,e){if(t==null)return{};var n=kme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yn=se.forwardRef(function(t,e){var n=t.children,r=t.className,i=Rme(t,Ome),s=Qt("recharts-layer",r);return se.createElement("g",vP({className:s},Lt(i,!0),{ref:e}),n)}),qa=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},CS,TL;function Mme(){if(TL)return CS;TL=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return CS=t,CS}var IS,_L;function Dme(){if(_L)return IS;_L=1;var t=Mme();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return IS=e,IS}var PS,CL;function lq(){if(CL)return PS;CL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function c(u){return a.test(u)}return PS=c,PS}var NS,IL;function Lme(){if(IL)return NS;IL=1;function t(e){return e.split("")}return NS=t,NS}var OS,PL;function Bme(){if(PL)return OS;PL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+c+")",g="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",w="[\\ud800-\\udbff][\\udc00-\\udfff]",A="\\u200d",I=u+"?",T="["+s+"]?",C="(?:"+A+"(?:"+[g,m,w].join("|")+")"+T+I+")*",R=T+I+C,B="(?:"+[g+a+"?",a,m,w,o].join("|")+")",k=RegExp(c+"(?="+c+")|"+B+R,"g");function V(D){return D.match(k)||[]}return OS=V,OS}var RS,NL;function jme(){if(NL)return RS;NL=1;var t=Lme(),e=lq(),n=Bme();function r(i){return e(i)?n(i):t(i)}return RS=r,RS}var kS,OL;function Fme(){if(OL)return kS;OL=1;var t=Dme(),e=lq(),n=jme(),r=iq();function i(s){return function(o){o=r(o);var a=e(o)?n(o):void 0,c=a?a[0]:o.charAt(0),u=a?t(a,1).join(""):o.slice(1);return c[s]()+u}}return kS=i,kS}var MS,RL;function Ume(){if(RL)return MS;RL=1;var t=Fme(),e=t("toUpperCase");return MS=e,MS}var Vme=Ume();const Nb=On(Vme);function dr(t){return function(){return t}}const cq=Math.cos,Bw=Math.sin,Ja=Math.sqrt,jw=Math.PI,Ob=2*jw,wP=Math.PI,xP=2*wP,Kf=1e-6,zme=xP-Kf;function uq(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Hme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uq;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $me{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uq:Hme(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,c=r-e,u=i-n,g=o-e,m=a-n,w=g*g+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(w>Kf)if(!(Math.abs(m*c-u*g)>Kf)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let A=r-o,I=i-a,T=c*c+u*u,C=A*A+I*I,R=Math.sqrt(T),B=Math.sqrt(w),k=s*Math.tan((wP-Math.acos((T+w-C)/(2*R*B)))/2),V=k/B,D=k/R;Math.abs(V-1)>Kf&&this._append`L${e+V*g},${n+V*m}`,this._append`A${s},${s},0,0,${+(m*A>g*I)},${this._x1=e+D*c},${this._y1=n+D*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),u=e+a,g=n+c,m=1^o,w=o?i-s:s-i;this._x1===null?this._append`M${u},${g}`:(Math.abs(this._x1-u)>Kf||Math.abs(this._y1-g)>Kf)&&this._append`L${u},${g}`,r&&(w<0&&(w=w%xP+xP),w>zme?this._append`A${r},${r},0,1,${m},${e-a},${n-c}A${r},${r},0,1,${m},${this._x1=u},${this._y1=g}`:w>Kf&&this._append`A${r},${r},0,${+(w>=wP)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function WR(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $me(e)}function qR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fq(t){this._context=t}fq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rb(t){return new fq(t)}function hq(t){return t[0]}function dq(t){return t[1]}function pq(t,e){var n=dr(!0),r=null,i=Rb,s=null,o=WR(a);t=typeof t=="function"?t:t===void 0?hq:dr(t),e=typeof e=="function"?e:e===void 0?dq:dr(e);function a(c){var u,g=(c=qR(c)).length,m,w=!1,A;for(r==null&&(s=i(A=o())),u=0;u<=g;++u)!(u<g&&n(m=c[u],u,c))===w&&((w=!w)?s.lineStart():s.lineEnd()),w&&s.point(+t(m,u,c),+e(m,u,c));if(A)return s=null,A+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:dr(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:dr(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:dr(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),a):r},a}function ov(t,e,n){var r=null,i=dr(!0),s=null,o=Rb,a=null,c=WR(u);t=typeof t=="function"?t:t===void 0?hq:dr(+t),e=typeof e=="function"?e:dr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?dq:dr(+n);function u(m){var w,A,I,T=(m=qR(m)).length,C,R=!1,B,k=new Array(T),V=new Array(T);for(s==null&&(a=o(B=c())),w=0;w<=T;++w){if(!(w<T&&i(C=m[w],w,m))===R)if(R=!R)A=w,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),I=w-1;I>=A;--I)a.point(k[I],V[I]);a.lineEnd(),a.areaEnd()}R&&(k[w]=+t(C,w,m),V[w]=+e(C,w,m),a.point(r?+r(C,w,m):k[w],n?+n(C,w,m):V[w]))}if(B)return a=null,B+""||null}function g(){return pq().defined(i).curve(o).context(s)}return u.x=function(m){return arguments.length?(t=typeof m=="function"?m:dr(+m),r=null,u):t},u.x0=function(m){return arguments.length?(t=typeof m=="function"?m:dr(+m),u):t},u.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:dr(+m),u):r},u.y=function(m){return arguments.length?(e=typeof m=="function"?m:dr(+m),n=null,u):e},u.y0=function(m){return arguments.length?(e=typeof m=="function"?m:dr(+m),u):e},u.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:dr(+m),u):n},u.lineX0=u.lineY0=function(){return g().x(t).y(e)},u.lineY1=function(){return g().x(t).y(n)},u.lineX1=function(){return g().x(r).y(e)},u.defined=function(m){return arguments.length?(i=typeof m=="function"?m:dr(!!m),u):i},u.curve=function(m){return arguments.length?(o=m,s!=null&&(a=o(s)),u):o},u.context=function(m){return arguments.length?(m==null?s=a=null:a=o(s=m),u):s},u}class gq{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Gme(t){return new gq(t,!0)}function Wme(t){return new gq(t,!1)}const KR={draw(t,e){const n=Ja(e/jw);t.moveTo(n,0),t.arc(0,0,n,0,Ob)}},qme={draw(t,e){const n=Ja(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mq=Ja(1/3),Kme=mq*2,Yme={draw(t,e){const n=Ja(e/Kme),r=n*mq;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Xme={draw(t,e){const n=Ja(e),r=-n/2;t.rect(r,r,n,n)}},Qme=.8908130915292852,yq=Bw(jw/10)/Bw(7*jw/10),Zme=Bw(Ob/10)*yq,Jme=-cq(Ob/10)*yq,e0e={draw(t,e){const n=Ja(e*Qme),r=Zme*n,i=Jme*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=Ob*s/5,a=cq(o),c=Bw(o);t.lineTo(c*n,-a*n),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},DS=Ja(3),t0e={draw(t,e){const n=-Ja(e/(DS*3));t.moveTo(0,n*2),t.lineTo(-DS*n,-n),t.lineTo(DS*n,-n),t.closePath()}},oa=-.5,aa=Ja(3)/2,bP=1/Ja(12),n0e=(bP/2+1)*3,r0e={draw(t,e){const n=Ja(e/n0e),r=n/2,i=n*bP,s=r,o=n*bP+n,a=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,c),t.lineTo(oa*r-aa*i,aa*r+oa*i),t.lineTo(oa*s-aa*o,aa*s+oa*o),t.lineTo(oa*a-aa*c,aa*a+oa*c),t.lineTo(oa*r+aa*i,oa*i-aa*r),t.lineTo(oa*s+aa*o,oa*o-aa*s),t.lineTo(oa*a+aa*c,oa*c-aa*a),t.closePath()}};function i0e(t,e){let n=null,r=WR(i);t=typeof t=="function"?t:dr(t||KR),e=typeof e=="function"?e:dr(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:dr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:dr(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Fw(){}function Uw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vq(t){this._context=t}vq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s0e(t){return new vq(t)}function wq(t){this._context=t}wq.prototype={areaStart:Fw,areaEnd:Fw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o0e(t){return new wq(t)}function xq(t){this._context=t}xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Uw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function a0e(t){return new xq(t)}function bq(t){this._context=t}bq.prototype={areaStart:Fw,areaEnd:Fw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function l0e(t){return new bq(t)}function kL(t){return t<0?-1:1}function ML(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(kL(s)+kL(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function DL(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function LS(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function Vw(t){this._context=t}Vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:LS(this,this._t0,DL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,LS(this,DL(this,n=ML(this,t,e)),n);break;default:LS(this,this._t0,n=ML(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Aq(t){this._context=new Eq(t)}(Aq.prototype=Object.create(Vw.prototype)).point=function(t,e){Vw.prototype.point.call(this,e,t)};function Eq(t){this._context=t}Eq.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function c0e(t){return new Vw(t)}function u0e(t){return new Aq(t)}function Sq(t){this._context=t}Sq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=LL(t),i=LL(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function LL(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function f0e(t){return new Sq(t)}function kb(t,e){this._context=t,this._t=e}kb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function h0e(t){return new kb(t,.5)}function d0e(t){return new kb(t,0)}function p0e(t){return new kb(t,1)}function Lp(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function AP(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function g0e(t,e){return t[e]}function m0e(t){const e=[];return e.key=t,e}function y0e(){var t=dr([]),e=AP,n=Lp,r=g0e;function i(s){var o=Array.from(t.apply(this,arguments),m0e),a,c=o.length,u=-1,g;for(const m of s)for(a=0,++u;a<c;++a)(o[a][u]=[0,+r(m,o[a].key,u,s)]).data=m;for(a=0,g=qR(e(o));a<c;++a)o[g[a]].index=a;return n(o,g),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:dr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:dr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?AP:typeof s=="function"?s:dr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Lp,i):n},i}function v0e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Lp(t,e)}}function w0e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Lp(t,e)}}function x0e(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,c=0,u=0;a<o;++a){for(var g=t[e[a]],m=g[r][1]||0,w=g[r-1][1]||0,A=(m-w)/2,I=0;I<a;++I){var T=t[e[I]],C=T[r][1]||0,R=T[r-1][1]||0;A+=C-R}c+=m,u+=A*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Lp(t,e)}}function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}var b0e=["type","size","sizeType"];function EP(){return EP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EP.apply(this,arguments)}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){A0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A0e(t,e,n){return e=E0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E0e(t){var e=S0e(t,"string");return T0(e)=="symbol"?e:e+""}function S0e(t,e){if(T0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T0e(t,e){if(t==null)return{};var n=_0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tq={symbolCircle:KR,symbolCross:qme,symbolDiamond:Yme,symbolSquare:Xme,symbolStar:e0e,symbolTriangle:t0e,symbolWye:r0e},C0e=Math.PI/180,I0e=function(e){var n="symbol".concat(Nb(e));return Tq[n]||KR},P0e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*C0e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},N0e=function(e,n){Tq["symbol".concat(Nb(e))]=n},YR=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,c=T0e(e,b0e),u=jL(jL({},c),{},{type:r,size:s,sizeType:a}),g=function(){var C=I0e(r),R=i0e().type(C).size(P0e(s,a,r));return R()},m=u.className,w=u.cx,A=u.cy,I=Lt(u,!0);return w===+w&&A===+A&&s===+s?se.createElement("path",EP({},I,{className:Qt("recharts-symbols",m),transform:"translate(".concat(w,", ").concat(A,")"),d:g()})):null};YR.registerSymbol=N0e;function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function SP(){return SP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SP.apply(this,arguments)}function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){_0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cq(r.key),r)}}function M0e(t,e,n){return e&&k0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D0e(t,e,n){return e=zw(e),L0e(t,_q()?Reflect.construct(e,n||[],zw(t).constructor):e.apply(t,n))}function L0e(t,e){if(e&&(Bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B0e(t)}function B0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!t})()}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zw(t)}function j0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TP(t,e)}function TP(t,e){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TP(t,e)}function _0(t,e,n){return e=Cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cq(t){var e=F0e(t,"string");return Bp(e)=="symbol"?e:e+""}function F0e(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var la=32,XR=(function(t){function e(){return R0e(this,e),D0e(this,e,arguments)}return j0e(e,t),M0e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=la/2,o=la/6,a=la/3,c=r.inactive?i:r.color;if(r.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:la,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(la,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return se.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(la/8,"h").concat(la,"v").concat(la*3/4,"h").concat(-la,"z"),className:"recharts-legend-icon"});if(se.isValidElement(r.legendIcon)){var u=O0e({},r);return delete u.legendIcon,se.cloneElement(r.legendIcon,u)}return se.createElement(YR,{fill:c,cx:s,cy:s,size:la,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,c=i.formatter,u=i.inactiveColor,g={x:0,y:0,width:la,height:la},m={display:a==="horizontal"?"inline-block":"block",marginRight:10},w={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(A,I){var T=A.formatter||c,C=Qt(_0(_0({"recharts-legend-item":!0},"legend-item-".concat(I),!0),"inactive",A.inactive));if(A.type==="none")return null;var R=zt(A.value)?null:A.value;qa(!zt(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var B=A.inactive?u:A.color;return se.createElement("li",SP({className:C,style:m,key:"legend-item-".concat(I)},Lh(r.props,A,I)),se.createElement(yP,{width:o,height:o,viewBox:g,style:w},r.renderIcon(A)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:B}},T?T(R,A,I):R))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(X.PureComponent);_0(XR,"displayName","Legend");_0(XR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var BS,UL;function U0e(){if(UL)return BS;UL=1;var t=Cb();function e(){this.__data__=new t,this.size=0}return BS=e,BS}var jS,VL;function V0e(){if(VL)return jS;VL=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return jS=t,jS}var FS,zL;function z0e(){if(zL)return FS;zL=1;function t(e){return this.__data__.get(e)}return FS=t,FS}var US,HL;function H0e(){if(HL)return US;HL=1;function t(e){return this.__data__.has(e)}return US=t,US}var VS,$L;function $0e(){if($L)return VS;$L=1;var t=Cb(),e=UR(),n=VR(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var c=a.__data__;if(!e||c.length<r-1)return c.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(s,o),this.size=a.size,this}return VS=i,VS}var zS,GL;function Iq(){if(GL)return zS;GL=1;var t=Cb(),e=U0e(),n=V0e(),r=z0e(),i=H0e(),s=$0e();function o(a){var c=this.__data__=new t(a);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,zS=o,zS}var HS,WL;function G0e(){if(WL)return HS;WL=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return HS=e,HS}var $S,qL;function W0e(){if(qL)return $S;qL=1;function t(e){return this.__data__.has(e)}return $S=t,$S}var GS,KL;function Pq(){if(KL)return GS;KL=1;var t=VR(),e=G0e(),n=W0e();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,GS=r,GS}var WS,YL;function Nq(){if(YL)return WS;YL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return WS=t,WS}var qS,XL;function Oq(){if(XL)return qS;XL=1;function t(e,n){return e.has(n)}return qS=t,qS}var KS,QL;function Rq(){if(QL)return KS;QL=1;var t=Pq(),e=Nq(),n=Oq(),r=1,i=2;function s(o,a,c,u,g,m){var w=c&r,A=o.length,I=a.length;if(A!=I&&!(w&&I>A))return!1;var T=m.get(o),C=m.get(a);if(T&&C)return T==a&&C==o;var R=-1,B=!0,k=c&i?new t:void 0;for(m.set(o,a),m.set(a,o);++R<A;){var V=o[R],D=a[R];if(u)var j=w?u(D,V,R,a,o,m):u(V,D,R,o,a,m);if(j!==void 0){if(j)continue;B=!1;break}if(k){if(!e(a,function(O,M){if(!n(k,M)&&(V===O||g(V,O,c,u,m)))return k.push(M)})){B=!1;break}}else if(!(V===D||g(V,D,c,u,m))){B=!1;break}}return m.delete(o),m.delete(a),B}return KS=s,KS}var YS,ZL;function q0e(){if(ZL)return YS;ZL=1;var t=Hl(),e=t.Uint8Array;return YS=e,YS}var XS,JL;function K0e(){if(JL)return XS;JL=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return XS=t,XS}var QS,e5;function QR(){if(e5)return QS;e5=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return QS=t,QS}var ZS,t5;function Y0e(){if(t5)return ZS;t5=1;var t=ky(),e=q0e(),n=FR(),r=Rq(),i=K0e(),s=QR(),o=1,a=2,c="[object Boolean]",u="[object Date]",g="[object Error]",m="[object Map]",w="[object Number]",A="[object RegExp]",I="[object Set]",T="[object String]",C="[object Symbol]",R="[object ArrayBuffer]",B="[object DataView]",k=t?t.prototype:void 0,V=k?k.valueOf:void 0;function D(j,O,M,U,K,q,G){switch(M){case B:if(j.byteLength!=O.byteLength||j.byteOffset!=O.byteOffset)return!1;j=j.buffer,O=O.buffer;case R:return!(j.byteLength!=O.byteLength||!q(new e(j),new e(O)));case c:case u:case w:return n(+j,+O);case g:return j.name==O.name&&j.message==O.message;case A:case T:return j==O+"";case m:var $=i;case I:var ce=U&o;if($||($=s),j.size!=O.size&&!ce)return!1;var J=G.get(j);if(J)return J==O;U|=a,G.set(j,O);var oe=r($(j),$(O),U,K,q,G);return G.delete(j),oe;case C:if(V)return V.call(j)==V.call(O)}return!1}return ZS=D,ZS}var JS,n5;function kq(){if(n5)return JS;n5=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return JS=t,JS}var eT,r5;function X0e(){if(r5)return eT;r5=1;var t=kq(),e=To();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return eT=n,eT}var tT,i5;function Q0e(){if(i5)return tT;i5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return tT=t,tT}var nT,s5;function Z0e(){if(s5)return nT;s5=1;function t(){return[]}return nT=t,nT}var rT,o5;function J0e(){if(o5)return rT;o5=1;var t=Q0e(),e=Z0e(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return rT=s,rT}var iT,a5;function eye(){if(a5)return iT;a5=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return iT=t,iT}var sT,l5;function tye(){if(l5)return sT;l5=1;var t=Gc(),e=Wc(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return sT=r,sT}var oT,c5;function ZR(){if(c5)return oT;c5=1;var t=tye(),e=Wc(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return oT=s,oT}var Mm={exports:{}},aT,u5;function nye(){if(u5)return aT;u5=1;function t(){return!1}return aT=t,aT}Mm.exports;var f5;function Mq(){return f5||(f5=1,(function(t,e){var n=Hl(),r=nye(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;t.exports=u})(Mm,Mm.exports)),Mm.exports}var lT,h5;function JR(){if(h5)return lT;h5=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return lT=n,lT}var cT,d5;function e3(){if(d5)return cT;d5=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return cT=e,cT}var uT,p5;function rye(){if(p5)return uT;p5=1;var t=Gc(),e=e3(),n=Wc(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",c="[object Function]",u="[object Map]",g="[object Number]",m="[object Object]",w="[object RegExp]",A="[object Set]",I="[object String]",T="[object WeakMap]",C="[object ArrayBuffer]",R="[object DataView]",B="[object Float32Array]",k="[object Float64Array]",V="[object Int8Array]",D="[object Int16Array]",j="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",U="[object Uint16Array]",K="[object Uint32Array]",q={};q[B]=q[k]=q[V]=q[D]=q[j]=q[O]=q[M]=q[U]=q[K]=!0,q[r]=q[i]=q[C]=q[s]=q[R]=q[o]=q[a]=q[c]=q[u]=q[g]=q[m]=q[w]=q[A]=q[I]=q[T]=!1;function G($){return n($)&&e($.length)&&!!q[t($)]}return uT=G,uT}var fT,g5;function Dq(){if(g5)return fT;g5=1;function t(e){return function(n){return e(n)}}return fT=t,fT}var Dm={exports:{}};Dm.exports;var m5;function iye(){return m5||(m5=1,(function(t,e){var n=tq(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=a})(Dm,Dm.exports)),Dm.exports}var hT,y5;function Lq(){if(y5)return hT;y5=1;var t=rye(),e=Dq(),n=iye(),r=n&&n.isTypedArray,i=r?e(r):t;return hT=i,hT}var dT,v5;function sye(){if(v5)return dT;v5=1;var t=eye(),e=ZR(),n=To(),r=Mq(),i=JR(),s=Lq(),o=Object.prototype,a=o.hasOwnProperty;function c(u,g){var m=n(u),w=!m&&e(u),A=!m&&!w&&r(u),I=!m&&!w&&!A&&s(u),T=m||w||A||I,C=T?t(u.length,String):[],R=C.length;for(var B in u)(g||a.call(u,B))&&!(T&&(B=="length"||A&&(B=="offset"||B=="parent")||I&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||i(B,R)))&&C.push(B);return C}return dT=c,dT}var pT,w5;function oye(){if(w5)return pT;w5=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return pT=e,pT}var gT,x5;function Bq(){if(x5)return gT;x5=1;function t(e,n){return function(r){return e(n(r))}}return gT=t,gT}var mT,b5;function aye(){if(b5)return mT;b5=1;var t=Bq(),e=t(Object.keys,Object);return mT=e,mT}var yT,A5;function lye(){if(A5)return yT;A5=1;var t=oye(),e=aye(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return yT=i,yT}var vT,E5;function Ly(){if(E5)return vT;E5=1;var t=jR(),e=e3();function n(r){return r!=null&&e(r.length)&&!t(r)}return vT=n,vT}var wT,S5;function Mb(){if(S5)return wT;S5=1;var t=sye(),e=lye(),n=Ly();function r(i){return n(i)?t(i):e(i)}return wT=r,wT}var xT,T5;function cye(){if(T5)return xT;T5=1;var t=X0e(),e=J0e(),n=Mb();function r(i){return t(i,n,e)}return xT=r,xT}var bT,_5;function uye(){if(_5)return bT;_5=1;var t=cye(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,c,u,g){var m=a&e,w=t(s),A=w.length,I=t(o),T=I.length;if(A!=T&&!m)return!1;for(var C=A;C--;){var R=w[C];if(!(m?R in o:r.call(o,R)))return!1}var B=g.get(s),k=g.get(o);if(B&&k)return B==o&&k==s;var V=!0;g.set(s,o),g.set(o,s);for(var D=m;++C<A;){R=w[C];var j=s[R],O=o[R];if(c)var M=m?c(O,j,R,o,s,g):c(j,O,R,s,o,g);if(!(M===void 0?j===O||u(j,O,a,c,g):M)){V=!1;break}D||(D=R=="constructor")}if(V&&!D){var U=s.constructor,K=o.constructor;U!=K&&"constructor"in s&&"constructor"in o&&!(typeof U=="function"&&U instanceof U&&typeof K=="function"&&K instanceof K)&&(V=!1)}return g.delete(s),g.delete(o),V}return bT=i,bT}var AT,C5;function fye(){if(C5)return AT;C5=1;var t=Jh(),e=Hl(),n=t(e,"DataView");return AT=n,AT}var ET,I5;function hye(){if(I5)return ET;I5=1;var t=Jh(),e=Hl(),n=t(e,"Promise");return ET=n,ET}var ST,P5;function jq(){if(P5)return ST;P5=1;var t=Jh(),e=Hl(),n=t(e,"Set");return ST=n,ST}var TT,N5;function dye(){if(N5)return TT;N5=1;var t=Jh(),e=Hl(),n=t(e,"WeakMap");return TT=n,TT}var _T,O5;function pye(){if(O5)return _T;O5=1;var t=fye(),e=UR(),n=hye(),r=jq(),i=dye(),s=Gc(),o=nq(),a="[object Map]",c="[object Object]",u="[object Promise]",g="[object Set]",m="[object WeakMap]",w="[object DataView]",A=o(t),I=o(e),T=o(n),C=o(r),R=o(i),B=s;return(t&&B(new t(new ArrayBuffer(1)))!=w||e&&B(new e)!=a||n&&B(n.resolve())!=u||r&&B(new r)!=g||i&&B(new i)!=m)&&(B=function(k){var V=s(k),D=V==c?k.constructor:void 0,j=D?o(D):"";if(j)switch(j){case A:return w;case I:return a;case T:return u;case C:return g;case R:return m}return V}),_T=B,_T}var CT,R5;function gye(){if(R5)return CT;R5=1;var t=Iq(),e=Rq(),n=Y0e(),r=uye(),i=pye(),s=To(),o=Mq(),a=Lq(),c=1,u="[object Arguments]",g="[object Array]",m="[object Object]",w=Object.prototype,A=w.hasOwnProperty;function I(T,C,R,B,k,V){var D=s(T),j=s(C),O=D?g:i(T),M=j?g:i(C);O=O==u?m:O,M=M==u?m:M;var U=O==m,K=M==m,q=O==M;if(q&&o(T)){if(!o(C))return!1;D=!0,U=!1}if(q&&!U)return V||(V=new t),D||a(T)?e(T,C,R,B,k,V):n(T,C,O,R,B,k,V);if(!(R&c)){var G=U&&A.call(T,"__wrapped__"),$=K&&A.call(C,"__wrapped__");if(G||$){var ce=G?T.value():T,J=$?C.value():C;return V||(V=new t),k(ce,J,R,B,V)}}return q?(V||(V=new t),r(T,C,R,B,k,V)):!1}return CT=I,CT}var IT,k5;function t3(){if(k5)return IT;k5=1;var t=gye(),e=Wc();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,a)}return IT=n,IT}var PT,M5;function mye(){if(M5)return PT;M5=1;var t=Iq(),e=t3(),n=1,r=2;function i(s,o,a,c){var u=a.length,g=u,m=!c;if(s==null)return!g;for(s=Object(s);u--;){var w=a[u];if(m&&w[2]?w[1]!==s[w[0]]:!(w[0]in s))return!1}for(;++u<g;){w=a[u];var A=w[0],I=s[A],T=w[1];if(m&&w[2]){if(I===void 0&&!(A in s))return!1}else{var C=new t;if(c)var R=c(I,T,A,s,o,C);if(!(R===void 0?e(T,I,n|r,c,C):R))return!1}}return!0}return PT=i,PT}var NT,D5;function Fq(){if(D5)return NT;D5=1;var t=mf();function e(n){return n===n&&!t(n)}return NT=e,NT}var OT,L5;function yye(){if(L5)return OT;L5=1;var t=Fq(),e=Mb();function n(r){for(var i=e(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,t(a)]}return i}return OT=n,OT}var RT,B5;function Uq(){if(B5)return RT;B5=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return RT=t,RT}var kT,j5;function vye(){if(j5)return kT;j5=1;var t=mye(),e=yye(),n=Uq();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return kT=r,kT}var MT,F5;function wye(){if(F5)return MT;F5=1;function t(e,n){return e!=null&&n in Object(e)}return MT=t,MT}var DT,U5;function xye(){if(U5)return DT;U5=1;var t=sq(),e=ZR(),n=To(),r=JR(),i=e3(),s=Pb();function o(a,c,u){c=t(c,a);for(var g=-1,m=c.length,w=!1;++g<m;){var A=s(c[g]);if(!(w=a!=null&&u(a,A)))break;a=a[A]}return w||++g!=m?w:(m=a==null?0:a.length,!!m&&i(m)&&r(A,m)&&(n(a)||e(a)))}return DT=o,DT}var LT,V5;function bye(){if(V5)return LT;V5=1;var t=wye(),e=xye();function n(r,i){return r!=null&&e(r,i,t)}return LT=n,LT}var BT,z5;function Aye(){if(z5)return BT;z5=1;var t=t3(),e=oq(),n=bye(),r=BR(),i=Fq(),s=Uq(),o=Pb(),a=1,c=2;function u(g,m){return r(g)&&i(m)?s(o(g),m):function(w){var A=e(w,g);return A===void 0&&A===m?n(w,g):t(m,A,a|c)}}return BT=u,BT}var jT,H5;function Ng(){if(H5)return jT;H5=1;function t(e){return e}return jT=t,jT}var FT,$5;function Eye(){if($5)return FT;$5=1;function t(e){return function(n){return n?.[e]}}return FT=t,FT}var UT,G5;function Sye(){if(G5)return UT;G5=1;var t=HR();function e(n){return function(r){return t(r,n)}}return UT=e,UT}var VT,W5;function Tye(){if(W5)return VT;W5=1;var t=Eye(),e=Sye(),n=BR(),r=Pb();function i(s){return n(s)?t(r(s)):e(s)}return VT=i,VT}var zT,q5;function $l(){if(q5)return zT;q5=1;var t=vye(),e=Aye(),n=Ng(),r=To(),i=Tye();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return zT=s,zT}var HT,K5;function Vq(){if(K5)return HT;K5=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return HT=t,HT}var $T,Y5;function _ye(){if(Y5)return $T;Y5=1;function t(e){return e!==e}return $T=t,$T}var GT,X5;function Cye(){if(X5)return GT;X5=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return GT=t,GT}var WT,Q5;function Iye(){if(Q5)return WT;Q5=1;var t=Vq(),e=_ye(),n=Cye();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return WT=r,WT}var qT,Z5;function Pye(){if(Z5)return qT;Z5=1;var t=Iye();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return qT=e,qT}var KT,J5;function Nye(){if(J5)return KT;J5=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return KT=t,KT}var YT,eB;function Oye(){if(eB)return YT;eB=1;function t(){}return YT=t,YT}var XT,tB;function Rye(){if(tB)return XT;tB=1;var t=jq(),e=Oye(),n=QR(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return XT=i,XT}var QT,nB;function kye(){if(nB)return QT;nB=1;var t=Pq(),e=Pye(),n=Nye(),r=Oq(),i=Rye(),s=QR(),o=200;function a(c,u,g){var m=-1,w=e,A=c.length,I=!0,T=[],C=T;if(g)I=!1,w=n;else if(A>=o){var R=u?null:i(c);if(R)return s(R);I=!1,w=r,C=new t}else C=u?[]:T;e:for(;++m<A;){var B=c[m],k=u?u(B):B;if(B=g||B!==0?B:0,I&&k===k){for(var V=C.length;V--;)if(C[V]===k)continue e;u&&C.push(k),T.push(B)}else w(C,k,g)||(C!==T&&C.push(k),T.push(B))}return T}return QT=a,QT}var ZT,rB;function Mye(){if(rB)return ZT;rB=1;var t=$l(),e=kye();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return ZT=n,ZT}var Dye=Mye();const iB=On(Dye);function zq(t,e,n){return e===!0?iB(t,n):zt(e)?iB(t,e):t}function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}var Lye=["ref"];function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){Db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$q(r.key),r)}}function jye(t,e,n){return e&&oB(t.prototype,e),n&&oB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fye(t,e,n){return e=Hw(e),Uye(t,Hq()?Reflect.construct(e,n||[],Hw(t).constructor):e.apply(t,n))}function Uye(t,e){if(e&&(jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vye(t)}function Vye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hq=function(){return!!t})()}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hw(t)}function zye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_P(t,e)}function _P(t,e){return _P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_P(t,e)}function Db(t,e,n){return e=$q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $q(t){var e=Hye(t,"string");return jp(e)=="symbol"?e:e+""}function Hye(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $ye(t,e){if(t==null)return{};var n=Gye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wye(t){return t.value}function qye(t,e){if(se.isValidElement(t))return se.cloneElement(t,e);if(typeof t=="function")return se.createElement(t,e);e.ref;var n=$ye(e,Lye);return se.createElement(XR,n)}var aB=1,yp=(function(t){function e(){var n;Bye(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Fye(this,e,[].concat(i)),Db(n,"lastBoundingBox",{width:-1,height:-1}),n}return zye(e,t),jye(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aB||Math.abs(i.height-this.lastBoundingBox.height)>aB)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ac({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,c=i.margin,u=i.chartWidth,g=i.chartHeight,m,w;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var A=this.getBBoxSnapshot();m={left:((u||0)-A.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var I=this.getBBoxSnapshot();w={top:((g||0)-I.height)/2}}else w=a==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ac(ac({},m),w)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,g=i.payload,m=ac(ac({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(c)),c);return se.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(A){r.wrapperNode=A}},qye(s,ac(ac({},this.props),{},{payload:zq(g,u,Wye)})))}}],[{key:"getWithHeight",value:function(r,i){var s=ac(ac({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&Je(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(X.PureComponent);Db(yp,"displayName","Legend");Db(yp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var JT,lB;function Kye(){if(lB)return JT;lB=1;var t=ky(),e=ZR(),n=To(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return JT=i,JT}var e_,cB;function Gq(){if(cB)return e_;cB=1;var t=kq(),e=Kye();function n(r,i,s,o,a){var c=-1,u=r.length;for(s||(s=e),a||(a=[]);++c<u;){var g=r[c];i>0&&s(g)?i>1?n(g,i-1,s,o,a):t(a,g):o||(a[a.length]=g)}return a}return e_=n,e_}var t_,uB;function Yye(){if(uB)return t_;uB=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),c=a.length;c--;){var u=a[e?c:++s];if(r(o[u],u,o)===!1)break}return n}}return t_=t,t_}var n_,fB;function Xye(){if(fB)return n_;fB=1;var t=Yye(),e=t();return n_=e,n_}var r_,hB;function Wq(){if(hB)return r_;hB=1;var t=Xye(),e=Mb();function n(r,i){return r&&t(r,i,e)}return r_=n,r_}var i_,dB;function Qye(){if(dB)return i_;dB=1;var t=Ly();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var o=i.length,a=r?o:-1,c=Object(i);(r?a--:++a<o)&&s(c[a],a,c)!==!1;);return i}}return i_=e,i_}var s_,pB;function n3(){if(pB)return s_;pB=1;var t=Wq(),e=Qye(),n=e(t);return s_=n,s_}var o_,gB;function qq(){if(gB)return o_;gB=1;var t=n3(),e=Ly();function n(r,i){var s=-1,o=e(r)?Array(r.length):[];return t(r,function(a,c,u){o[++s]=i(a,c,u)}),o}return o_=n,o_}var a_,mB;function Zye(){if(mB)return a_;mB=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return a_=t,a_}var l_,yB;function Jye(){if(yB)return l_;yB=1;var t=Ig();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=t(n),c=r!==void 0,u=r===null,g=r===r,m=t(r);if(!u&&!m&&!a&&n>r||a&&c&&g&&!u&&!m||s&&c&&g||!i&&g||!o)return 1;if(!s&&!a&&!m&&n<r||m&&i&&o&&!s&&!a||u&&i&&o||!c&&o||!g)return-1}return 0}return l_=e,l_}var c_,vB;function e1e(){if(vB)return c_;vB=1;var t=Jye();function e(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,c=o.length,u=i.length;++s<c;){var g=t(o[s],a[s]);if(g){if(s>=u)return g;var m=i[s];return g*(m=="desc"?-1:1)}}return n.index-r.index}return c_=e,c_}var u_,wB;function t1e(){if(wB)return u_;wB=1;var t=zR(),e=HR(),n=$l(),r=qq(),i=Zye(),s=Dq(),o=e1e(),a=Ng(),c=To();function u(g,m,w){m.length?m=t(m,function(T){return c(T)?function(C){return e(C,T.length===1?T[0]:T)}:T}):m=[a];var A=-1;m=t(m,s(n));var I=r(g,function(T,C,R){var B=t(m,function(k){return k(T)});return{criteria:B,index:++A,value:T}});return i(I,function(T,C){return o(T,C,w)})}return u_=u,u_}var f_,xB;function n1e(){if(xB)return f_;xB=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return f_=t,f_}var h_,bB;function r1e(){if(bB)return h_;bB=1;var t=n1e(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,c=e(o.length-i,0),u=Array(c);++a<c;)u[a]=o[i+a];a=-1;for(var g=Array(i+1);++a<i;)g[a]=o[a];return g[i]=s(u),t(r,this,g)}}return h_=n,h_}var d_,AB;function i1e(){if(AB)return d_;AB=1;function t(e){return function(){return e}}return d_=t,d_}var p_,EB;function Kq(){if(EB)return p_;EB=1;var t=Jh(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return p_=e,p_}var g_,SB;function s1e(){if(SB)return g_;SB=1;var t=i1e(),e=Kq(),n=Ng(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return g_=r,g_}var m_,TB;function o1e(){if(TB)return m_;TB=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),c=e-(a-o);if(o=a,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return m_=r,m_}var y_,_B;function a1e(){if(_B)return y_;_B=1;var t=s1e(),e=o1e(),n=e(t);return y_=n,y_}var v_,CB;function l1e(){if(CB)return v_;CB=1;var t=Ng(),e=r1e(),n=a1e();function r(i,s){return n(e(i,s,t),i+"")}return v_=r,v_}var w_,IB;function Lb(){if(IB)return w_;IB=1;var t=FR(),e=Ly(),n=JR(),r=mf();function i(s,o,a){if(!r(a))return!1;var c=typeof o;return(c=="number"?e(a)&&n(o,a.length):c=="string"&&o in a)?t(a[o],s):!1}return w_=i,w_}var x_,PB;function c1e(){if(PB)return x_;PB=1;var t=Gq(),e=t1e(),n=l1e(),r=Lb(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return x_=i,x_}var u1e=c1e();const r3=On(u1e);function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}function CP(){return CP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CP.apply(this,arguments)}function f1e(t,e){return g1e(t)||p1e(t,e)||d1e(t,e)||h1e()}function h1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d1e(t,e){if(t){if(typeof t=="string")return NB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NB(t,e)}}function NB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function g1e(t){if(Array.isArray(t))return t}function OB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(n),!0).forEach(function(r){m1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1e(t,e,n){return e=y1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y1e(t){var e=v1e(t,"string");return C0(e)=="symbol"?e:e+""}function v1e(t,e){if(C0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(C0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w1e(t){return Array.isArray(t)&&Ui(t[0])&&Ui(t[1])?t.join(" ~ "):t}var x1e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,g=e.payload,m=e.formatter,w=e.itemSorter,A=e.wrapperClassName,I=e.labelClassName,T=e.label,C=e.labelFormatter,R=e.accessibilityLayer,B=R===void 0?!1:R,k=function(){if(g&&g.length){var G={padding:0,margin:0},$=(w?r3(g,w):g).map(function(ce,J){if(ce.type==="none")return null;var oe=b_({display:"block",paddingTop:4,paddingBottom:4,color:ce.color||"#000"},a),ae=ce.formatter||m||w1e,re=ce.value,pe=ce.name,we=re,ue=pe;if(ae&&we!=null&&ue!=null){var he=ae(re,pe,ce,J,g);if(Array.isArray(he)){var xe=f1e(he,2);we=xe[0],ue=xe[1]}else we=he}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:oe},Ui(ue)?se.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,Ui(ue)?se.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,se.createElement("span",{className:"recharts-tooltip-item-value"},we),se.createElement("span",{className:"recharts-tooltip-item-unit"},ce.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:G},$)}return null},V=b_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),D=b_({margin:0},u),j=!an(T),O=j?T:"",M=Qt("recharts-default-tooltip",A),U=Qt("recharts-tooltip-label",I);j&&C&&g!==void 0&&g!==null&&(O=C(T,g));var K=B?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",CP({className:M,style:V},K),se.createElement("p",{className:U,style:D},se.isValidElement(O)?O:"".concat(O)),k())};function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}function av(t,e,n){return e=b1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b1e(t){var e=A1e(t,"string");return I0(e)=="symbol"?e:e+""}function A1e(t,e){if(I0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dm="recharts-tooltip-wrapper",E1e={visibility:"hidden"};function S1e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Qt(dm,av(av(av(av({},"".concat(dm,"-right"),Je(n)&&e&&Je(e.x)&&n>=e.x),"".concat(dm,"-left"),Je(n)&&e&&Je(e.x)&&n<e.x),"".concat(dm,"-bottom"),Je(r)&&e&&Je(e.y)&&r>=e.y),"".concat(dm,"-top"),Je(r)&&e&&Je(e.y)&&r<e.y))}function RB(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Je(s[r]))return s[r];var g=n[r]-a-i,m=n[r]+i;if(e[r])return o[r]?g:m;if(o[r]){var w=g,A=c[r];return w<A?Math.max(m,c[r]):Math.max(g,c[r])}var I=m+a,T=c[r]+u;return I>T?Math.max(g,c[r]):Math.max(m,c[r])}function T1e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function _1e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,c=t.viewBox,u,g,m;return o.height>0&&o.width>0&&n?(g=RB({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=RB({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=T1e({translateX:g,translateY:m,useTranslate3d:a})):u=E1e,{cssProperties:u,cssClasses:S1e({translateX:g,translateY:m,coordinate:n})}}function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function kB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(n),!0).forEach(function(r){PP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xq(r.key),r)}}function P1e(t,e,n){return e&&I1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N1e(t,e,n){return e=$w(e),O1e(t,Yq()?Reflect.construct(e,n||[],$w(t).constructor):e.apply(t,n))}function O1e(t,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1e(t)}function R1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yq=function(){return!!t})()}function $w(t){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$w(t)}function k1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IP(t,e)}function IP(t,e){return IP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IP(t,e)}function PP(t,e,n){return e=Xq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xq(t){var e=M1e(t,"string");return Fp(e)=="symbol"?e:e+""}function M1e(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DB=1,D1e=(function(t){function e(){var n;C1e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=N1e(this,e,[].concat(i)),PP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,c,u,g;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&a!==void 0?a:0,y:(u=(g=n.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&u!==void 0?u:0}})}}),n}return k1e(e,t),P1e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>DB||Math.abs(r.height-this.state.lastBoundingBox.height)>DB)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.children,g=i.coordinate,m=i.hasPayload,w=i.isAnimationActive,A=i.offset,I=i.position,T=i.reverseDirection,C=i.useTranslate3d,R=i.viewBox,B=i.wrapperStyle,k=_1e({allowEscapeViewBox:o,coordinate:g,offsetTopLeft:A,position:I,reverseDirection:T,tooltipBox:this.state.lastBoundingBox,useTranslate3d:C,viewBox:R}),V=k.cssClasses,D=k.cssProperties,j=MB(MB({transition:w&&s?"transform ".concat(a,"ms ").concat(c):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},B);return se.createElement("div",{tabIndex:-1,className:V,style:j,ref:function(M){r.wrapperNode=M}},u)}}])})(X.PureComponent),L1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Og={isSsr:L1e()};function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function LB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(n),!0).forEach(function(r){i3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zq(r.key),r)}}function F1e(t,e,n){return e&&j1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U1e(t,e,n){return e=Gw(e),V1e(t,Qq()?Reflect.construct(e,n||[],Gw(t).constructor):e.apply(t,n))}function V1e(t,e){if(e&&(Up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1e(t)}function z1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!t})()}function Gw(t){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gw(t)}function H1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NP(t,e)}function NP(t,e){return NP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NP(t,e)}function i3(t,e,n){return e=Zq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zq(t){var e=$1e(t,"string");return Up(e)=="symbol"?e:e+""}function $1e(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G1e(t){return t.dataKey}function W1e(t,e){return se.isValidElement(t)?se.cloneElement(t,e):typeof t=="function"?se.createElement(t,e):se.createElement(x1e,e)}var da=(function(t){function e(){return B1e(this,e),U1e(this,e,arguments)}return H1e(e,t),F1e(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.content,g=i.coordinate,m=i.filterNull,w=i.isAnimationActive,A=i.offset,I=i.payload,T=i.payloadUniqBy,C=i.position,R=i.reverseDirection,B=i.useTranslate3d,k=i.viewBox,V=i.wrapperStyle,D=I??[];m&&D.length&&(D=zq(I.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),T,G1e));var j=D.length>0;return se.createElement(D1e,{allowEscapeViewBox:o,animationDuration:a,animationEasing:c,isAnimationActive:w,active:s,coordinate:g,hasPayload:j,offset:A,position:C,reverseDirection:R,useTranslate3d:B,viewBox:k,wrapperStyle:V},W1e(u,BB(BB({},this.props),{},{payload:D})))}}])})(X.PureComponent);i3(da,"displayName","Tooltip");i3(da,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Og.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var A_,jB;function q1e(){if(jB)return A_;jB=1;var t=Hl(),e=function(){return t.Date.now()};return A_=e,A_}var E_,FB;function K1e(){if(FB)return E_;FB=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return E_=e,E_}var S_,UB;function Y1e(){if(UB)return S_;UB=1;var t=K1e(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return S_=n,S_}var T_,VB;function Jq(){if(VB)return T_;VB=1;var t=Y1e(),e=mf(),n=Ig(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var g=typeof u.valueOf=="function"?u.valueOf():u;u=e(g)?g+"":g}if(typeof u!="string")return u===0?u:+u;u=t(u);var m=s.test(u);return m||o.test(u)?a(u.slice(2),m?2:8):i.test(u)?r:+u}return T_=c,T_}var __,zB;function X1e(){if(zB)return __;zB=1;var t=mf(),e=q1e(),n=Jq(),r="Expected a function",i=Math.max,s=Math.min;function o(a,c,u){var g,m,w,A,I,T,C=0,R=!1,B=!1,k=!0;if(typeof a!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(R=!!u.leading,B="maxWait"in u,w=B?i(n(u.maxWait)||0,c):w,k="trailing"in u?!!u.trailing:k);function V($){var ce=g,J=m;return g=m=void 0,C=$,A=a.apply(J,ce),A}function D($){return C=$,I=setTimeout(M,c),R?V($):A}function j($){var ce=$-T,J=$-C,oe=c-ce;return B?s(oe,w-J):oe}function O($){var ce=$-T,J=$-C;return T===void 0||ce>=c||ce<0||B&&J>=w}function M(){var $=e();if(O($))return U($);I=setTimeout(M,j($))}function U($){return I=void 0,k&&g?V($):(g=m=void 0,A)}function K(){I!==void 0&&clearTimeout(I),C=0,g=T=m=I=void 0}function q(){return I===void 0?A:U(e())}function G(){var $=e(),ce=O($);if(g=arguments,m=this,T=$,ce){if(I===void 0)return D(T);if(B)return clearTimeout(I),I=setTimeout(M,c),V(T)}return I===void 0&&(I=setTimeout(M,c)),A}return G.cancel=K,G.flush=q,G}return __=o,__}var C_,HB;function Q1e(){if(HB)return C_;HB=1;var t=X1e(),e=mf(),n="Expected a function";function r(i,s,o){var a=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:a,maxWait:s,trailing:c})}return C_=r,C_}var Z1e=Q1e();const eK=On(Z1e);function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){J1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e,n){return e=eve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eve(t){var e=tve(t,"string");return P0(e)=="symbol"?e:e+""}function tve(t,e){if(P0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nve(t,e){return ove(t)||sve(t,e)||ive(t,e)||rve()}function rve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ive(t,e){if(t){if(typeof t=="string")return GB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GB(t,e)}}function GB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function ove(t){if(Array.isArray(t))return t}var OP=X.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,c=a===void 0?"100%":a,u=t.minWidth,g=u===void 0?0:u,m=t.minHeight,w=t.maxHeight,A=t.children,I=t.debounce,T=I===void 0?0:I,C=t.id,R=t.className,B=t.onResize,k=t.style,V=k===void 0?{}:k,D=X.useRef(null),j=X.useRef();j.current=B,X.useImperativeHandle(e,function(){return Object.defineProperty(D.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),D.current},configurable:!0})});var O=X.useState({containerWidth:i.width,containerHeight:i.height}),M=nve(O,2),U=M[0],K=M[1],q=X.useCallback(function($,ce){K(function(J){var oe=Math.round($),ae=Math.round(ce);return J.containerWidth===oe&&J.containerHeight===ae?J:{containerWidth:oe,containerHeight:ae}})},[]);X.useEffect(function(){var $=function(pe){var we,ue=pe[0].contentRect,he=ue.width,xe=ue.height;q(he,xe),(we=j.current)===null||we===void 0||we.call(j,he,xe)};T>0&&($=eK($,T,{trailing:!0,leading:!1}));var ce=new ResizeObserver($),J=D.current.getBoundingClientRect(),oe=J.width,ae=J.height;return q(oe,ae),ce.observe(D.current),function(){ce.disconnect()}},[q,T]);var G=X.useMemo(function(){var $=U.containerWidth,ce=U.containerHeight;if($<0||ce<0)return null;qa(oh(o)||oh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),qa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=oh(o)?$:o,oe=oh(c)?ce:c;n&&n>0&&(J?oe=J/n:oe&&(J=oe*n),w&&oe>w&&(oe=w)),qa(J>0||oe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,oe,o,c,g,m,n);var ae=!Array.isArray(A)&&Tc(A.type).endsWith("Chart");return se.Children.map(A,function(re){return se.isValidElement(re)?X.cloneElement(re,lv({width:J,height:oe},ae?{style:lv({height:"100%",width:"100%",maxHeight:oe,maxWidth:J},re.props.style)}:{})):re})},[n,A,c,w,m,g,U,o]);return se.createElement("div",{id:C?"".concat(C):void 0,className:Qt("recharts-responsive-container",R),style:lv(lv({},V),{},{width:o,height:c,minWidth:g,minHeight:m,maxHeight:w}),ref:D},G)}),Bb=function(e){return null};Bb.displayName="Cell";function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){ave(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ave(t,e,n){return e=lve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lve(t){var e=cve(t,"string");return N0(e)=="symbol"?e:e+""}function cve(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dd={widthCache:{},cacheCount:0},uve=2e3,fve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qB="recharts_measurement_span";function hve(t){var e=RP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Xm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Og.isSsr)return{width:0,height:0};var r=hve(n),i=JSON.stringify({text:e,copyStyle:r});if(Dd.widthCache[i])return Dd.widthCache[i];try{var s=document.getElementById(qB);s||(s=document.createElement("span"),s.setAttribute("id",qB),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=RP(RP({},fve),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),c={width:a.width,height:a.height};return Dd.widthCache[i]=c,++Dd.cacheCount>uve&&(Dd.cacheCount=0,Dd.widthCache={}),c}catch{return{width:0,height:0}}},dve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}function Ww(t,e){return yve(t)||mve(t,e)||gve(t,e)||pve()}function pve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gve(t,e){if(t){if(typeof t=="string")return KB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KB(t,e)}}function KB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function yve(t){if(Array.isArray(t))return t}function vve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xve(r.key),r)}}function wve(t,e,n){return e&&YB(t.prototype,e),n&&YB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xve(t){var e=bve(t,"string");return O0(e)=="symbol"?e:e+""}function bve(t,e){if(O0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ave=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Eve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sve=Object.keys(tK),Kd="NaN";function Tve(t,e){return t*tK[e]}var cv=(function(){function t(e,n){vve(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ave.test(n)&&(this.num=NaN,this.unit=""),Sve.includes(n)&&(this.num=Tve(e,n),this.unit="px")}return wve(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Eve.exec(n))!==null&&r!==void 0?r:[],s=Ww(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])})();function nK(t){if(t.includes(Kd))return Kd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=XB.exec(e))!==null&&n!==void 0?n:[],i=Ww(r,4),s=i[1],o=i[2],a=i[3],c=cv.parse(s??""),u=cv.parse(a??""),g=o==="*"?c.multiply(u):c.divide(u);if(g.isNaN())return Kd;e=e.replace(XB,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,w=(m=QB.exec(e))!==null&&m!==void 0?m:[],A=Ww(w,4),I=A[1],T=A[2],C=A[3],R=cv.parse(I??""),B=cv.parse(C??""),k=T==="+"?R.add(B):R.subtract(B);if(k.isNaN())return Kd;e=e.replace(QB,k.toString())}return e}var ZB=/\(([^()]*)\)/;function _ve(t){for(var e=t;e.includes("(");){var n=ZB.exec(e),r=Ww(n,2),i=r[1];e=e.replace(ZB,nK(i))}return e}function Cve(t){var e=t.replace(/\s+/g,"");return e=_ve(e),e=nK(e),e}function Ive(t){try{return Cve(t)}catch{return Kd}}function I_(t){var e=Ive(t.slice(5,-1));return e===Kd?"":e}var Pve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nve=["dx","dy","angle","className","breakAll"];function kP(){return kP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kP.apply(this,arguments)}function JB(t,e){if(t==null)return{};var n=Ove(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ove(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ej(t,e){return Dve(t)||Mve(t,e)||kve(t,e)||Rve()}function Rve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kve(t,e){if(t){if(typeof t=="string")return tj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tj(t,e)}}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Dve(t){if(Array.isArray(t))return t}var rK=/[ \f\n\r\t\v\u2028\u2029]+/,iK=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];an(n)||(r?s=n.toString().split(""):s=n.toString().split(rK));var o=s.map(function(c){return{word:c,width:Xm(c,i).width}}),a=r?0:Xm(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},Lve=function(e,n,r,i,s){var o=e.maxLines,a=e.children,c=e.style,u=e.breakAll,g=Je(o),m=a,w=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(oe,ae){var re=ae.word,pe=ae.width,we=oe[oe.length-1];if(we&&(i==null||s||we.width+pe+r<Number(i)))we.words.push(re),we.width+=pe+r;else{var ue={words:[re],width:pe};oe.push(ue)}return oe},[])},A=w(n),I=function(J){return J.reduce(function(oe,ae){return oe.width>ae.width?oe:ae})};if(!g)return A;for(var T="…",C=function(J){var oe=m.slice(0,J),ae=iK({breakAll:u,style:c,children:oe+T}).wordsWithComputedWidth,re=w(ae),pe=re.length>o||I(re).width>Number(i);return[pe,re]},R=0,B=m.length-1,k=0,V;R<=B&&k<=m.length-1;){var D=Math.floor((R+B)/2),j=D-1,O=C(j),M=ej(O,2),U=M[0],K=M[1],q=C(D),G=ej(q,1),$=G[0];if(!U&&!$&&(R=D+1),U&&$&&(B=D-1),!U&&$){V=K;break}k++}return V||A},nj=function(e){var n=an(e)?[]:e.toString().split(rK);return[{words:n}]},Bve=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!Og.isSsr){var c,u,g=iK({breakAll:o,children:i,style:s});if(g){var m=g.wordsWithComputedWidth,w=g.spaceWidth;c=m,u=w}else return nj(i);return Lve({breakAll:o,children:i,maxLines:a,style:s},c,u,n,r)}return nj(i)},rj="#808080",Bh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,g=e.scaleToFit,m=g===void 0?!1:g,w=e.textAnchor,A=w===void 0?"start":w,I=e.verticalAnchor,T=I===void 0?"end":I,C=e.fill,R=C===void 0?rj:C,B=JB(e,Pve),k=X.useMemo(function(){return Bve({breakAll:B.breakAll,children:B.children,maxLines:B.maxLines,scaleToFit:m,style:B.style,width:B.width})},[B.breakAll,B.children,B.maxLines,m,B.style,B.width]),V=B.dx,D=B.dy,j=B.angle,O=B.className,M=B.breakAll,U=JB(B,Nve);if(!Ui(r)||!Ui(s))return null;var K=r+(Je(V)?V:0),q=s+(Je(D)?D:0),G;switch(T){case"start":G=I_("calc(".concat(u,")"));break;case"middle":G=I_("calc(".concat((k.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:G=I_("calc(".concat(k.length-1," * -").concat(a,")"));break}var $=[];if(m){var ce=k[0].width,J=B.width;$.push("scale(".concat((Je(J)?J/ce:1)/ce,")"))}return j&&$.push("rotate(".concat(j,", ").concat(K,", ").concat(q,")")),$.length&&(U.transform=$.join(" ")),se.createElement("text",kP({},Lt(U,!0),{x:K,y:q,className:Qt("recharts-text",O),textAnchor:A,fill:R.includes("url")?rj:R}),k.map(function(oe,ae){var re=oe.words.join(M?"":" ");return se.createElement("tspan",{x:K,dy:ae===0?G:a,key:"".concat(re,"-").concat(ae)},re)}))};function Wu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s3(t){let e,n,r;t.length!==2?(e=Wu,n=(a,c)=>Wu(t(a),c),r=(a,c)=>t(a)-c):(e=t===Wu||t===jve?t:Fve,n=t,r=t);function i(a,c,u=0,g=a.length){if(u<g){if(e(c,c)!==0)return g;do{const m=u+g>>>1;n(a[m],c)<0?u=m+1:g=m}while(u<g)}return u}function s(a,c,u=0,g=a.length){if(u<g){if(e(c,c)!==0)return g;do{const m=u+g>>>1;n(a[m],c)<=0?u=m+1:g=m}while(u<g)}return u}function o(a,c,u=0,g=a.length){const m=i(a,c,u,g-1);return m>u&&r(a[m-1],c)>-r(a[m],c)?m-1:m}return{left:i,center:o,right:s}}function Fve(){return 0}function sK(t){return t===null?NaN:+t}function*Uve(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Vve=s3(Wu),By=Vve.right;s3(sK).center;class ij extends Map{constructor(e,n=$ve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(sj(this,e))}has(e){return super.has(sj(this,e))}set(e,n){return super.set(zve(this,e),n)}delete(e){return super.delete(Hve(this,e))}}function sj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function zve({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Hve({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $ve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gve(t=Wu){if(t===Wu)return oK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function oK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Wve=Math.sqrt(50),qve=Math.sqrt(10),Kve=Math.sqrt(2);function qw(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Wve?10:s>=qve?5:s>=Kve?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?qw(t,e,n*2):[a,c,u]}function MP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?qw(e,t,n):qw(t,e,n);if(!(s>=i))return[];const a=s-i+1,c=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)c[u]=(s-u)/-o;else for(let u=0;u<a;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)c[u]=(i+u)/-o;else for(let u=0;u<a;++u)c[u]=(i+u)*o;return c}function DP(t,e,n){return e=+e,t=+t,n=+n,qw(t,e,n)[2]}function LP(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?DP(e,t,n):DP(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function oj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function aj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function aK(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?oK:Gve(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,g=Math.log(c),m=.5*Math.exp(2*g/3),w=.5*Math.sqrt(g*m*(c-m)/c)*(u-c/2<0?-1:1),A=Math.max(n,Math.floor(e-u*m/c+w)),I=Math.min(r,Math.floor(e+(c-u)*m/c+w));aK(t,e,A,I,i)}const s=t[e];let o=n,a=r;for(pm(t,n,e),i(t[r],s)>0&&pm(t,n,r);o<a;){for(pm(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?pm(t,n,a):(++a,pm(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function pm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Yve(t,e,n){if(t=Float64Array.from(Uve(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return aj(t);if(e>=1)return oj(t);var r,i=(r-1)*e,s=Math.floor(i),o=oj(aK(t,s).subarray(0,s+1)),a=aj(t.subarray(s+1));return o+(a-o)*(i-s)}}function Xve(t,e,n=sK){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function Qve(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Sa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BP=Symbol("implicit");function o3(){var t=new ij,e=[],n=[],r=BP;function i(s){let o=t.get(s);if(o===void 0){if(r!==BP)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new ij;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return o3(e,n).unknown(r)},Sa.apply(i,arguments),i}function R0(){var t=o3().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,c=0,u=0,g=.5;delete t.unknown;function m(){var w=e().length,A=i<r,I=A?i:r,T=A?r:i;s=(T-I)/Math.max(1,w-c+u*2),a&&(s=Math.floor(s)),I+=(T-I-s*(w-c))*g,o=s*(1-c),a&&(I=Math.round(I),o=Math.round(o));var C=Qve(w).map(function(R){return I+s*R});return n(A?C.reverse():C)}return t.domain=function(w){return arguments.length?(e(w),m()):e()},t.range=function(w){return arguments.length?([r,i]=w,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(w){return[r,i]=w,r=+r,i=+i,a=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(w){return arguments.length?(a=!!w,m()):a},t.padding=function(w){return arguments.length?(c=Math.min(1,u=+w),m()):c},t.paddingInner=function(w){return arguments.length?(c=Math.min(1,w),m()):c},t.paddingOuter=function(w){return arguments.length?(u=+w,m()):u},t.align=function(w){return arguments.length?(g=Math.max(0,Math.min(1,w)),m()):g},t.copy=function(){return R0(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(g)},Sa.apply(m(),arguments)}function lK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lK(e())},t}function Qm(){return lK(R0.apply(null,arguments).paddingInner(1))}function a3(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cK(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jy(){}var k0=.7,Kw=1/k0,vp="\\s*([+-]?\\d+)\\s*",M0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zve=/^#([0-9a-f]{3,8})$/,Jve=new RegExp(`^rgb\\(${vp},${vp},${vp}\\)$`),ewe=new RegExp(`^rgb\\(${Ol},${Ol},${Ol}\\)$`),twe=new RegExp(`^rgba\\(${vp},${vp},${vp},${M0}\\)$`),nwe=new RegExp(`^rgba\\(${Ol},${Ol},${Ol},${M0}\\)$`),rwe=new RegExp(`^hsl\\(${M0},${Ol},${Ol}\\)$`),iwe=new RegExp(`^hsla\\(${M0},${Ol},${Ol},${M0}\\)$`),lj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a3(jy,D0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cj,formatHex:cj,formatHex8:swe,formatHsl:owe,formatRgb:uj,toString:uj});function cj(){return this.rgb().formatHex()}function swe(){return this.rgb().formatHex8()}function owe(){return uK(this).formatHsl()}function uj(){return this.rgb().formatRgb()}function D0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Zve.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fj(e):n===3?new bo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?uv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?uv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jve.exec(t))?new bo(e[1],e[2],e[3],1):(e=ewe.exec(t))?new bo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=twe.exec(t))?uv(e[1],e[2],e[3],e[4]):(e=nwe.exec(t))?uv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rwe.exec(t))?pj(e[1],e[2]/100,e[3]/100,1):(e=iwe.exec(t))?pj(e[1],e[2]/100,e[3]/100,e[4]):lj.hasOwnProperty(t)?fj(lj[t]):t==="transparent"?new bo(NaN,NaN,NaN,0):null}function fj(t){return new bo(t>>16&255,t>>8&255,t&255,1)}function uv(t,e,n,r){return r<=0&&(t=e=n=NaN),new bo(t,e,n,r)}function awe(t){return t instanceof jy||(t=D0(t)),t?(t=t.rgb(),new bo(t.r,t.g,t.b,t.opacity)):new bo}function jP(t,e,n,r){return arguments.length===1?awe(t):new bo(t,e,n,r??1)}function bo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}a3(bo,jP,cK(jy,{brighter(t){return t=t==null?Kw:Math.pow(Kw,t),new bo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?k0:Math.pow(k0,t),new bo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bo(wh(this.r),wh(this.g),wh(this.b),Yw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hj,formatHex:hj,formatHex8:lwe,formatRgb:dj,toString:dj}));function hj(){return`#${ah(this.r)}${ah(this.g)}${ah(this.b)}`}function lwe(){return`#${ah(this.r)}${ah(this.g)}${ah(this.b)}${ah((isNaN(this.opacity)?1:this.opacity)*255)}`}function dj(){const t=Yw(this.opacity);return`${t===1?"rgb(":"rgba("}${wh(this.r)}, ${wh(this.g)}, ${wh(this.b)}${t===1?")":`, ${t})`}`}function Yw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ah(t){return t=wh(t),(t<16?"0":"")+t.toString(16)}function pj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ha(t,e,n,r)}function uK(t){if(t instanceof Ha)return new Ha(t.h,t.s,t.l,t.opacity);if(t instanceof jy||(t=D0(t)),!t)return new Ha;if(t instanceof Ha)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,c=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=c<.5?s+i:2-s-i,o*=60):a=c>0&&c<1?0:o,new Ha(o,a,c,t.opacity)}function cwe(t,e,n,r){return arguments.length===1?uK(t):new Ha(t,e,n,r??1)}function Ha(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}a3(Ha,cwe,cK(jy,{brighter(t){return t=t==null?Kw:Math.pow(Kw,t),new Ha(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?k0:Math.pow(k0,t),new Ha(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new bo(P_(t>=240?t-240:t+120,i,r),P_(t,i,r),P_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ha(gj(this.h),fv(this.s),fv(this.l),Yw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yw(this.opacity);return`${t===1?"hsl(":"hsla("}${gj(this.h)}, ${fv(this.s)*100}%, ${fv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gj(t){return t=(t||0)%360,t<0?t+360:t}function fv(t){return Math.max(0,Math.min(1,t||0))}function P_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const l3=t=>()=>t;function uwe(t,e){return function(n){return t+n*e}}function fwe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hwe(t){return(t=+t)==1?fK:function(e,n){return n-e?fwe(e,n,t):l3(isNaN(e)?n:e)}}function fK(t,e){var n=e-t;return n?uwe(t,n):l3(isNaN(t)?e:t)}const mj=(function t(e){var n=hwe(e);function r(i,s){var o=n((i=jP(i)).r,(s=jP(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),u=fK(i.opacity,s.opacity);return function(g){return i.r=o(g),i.g=a(g),i.b=c(g),i.opacity=u(g),i+""}}return r.gamma=t,r})(1);function dwe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function pwe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gwe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Rg(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function mwe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ywe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Rg(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var FP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N_=new RegExp(FP.source,"g");function vwe(t){return function(){return t}}function wwe(t){return function(e){return t(e)+""}}function xwe(t,e){var n=FP.lastIndex=N_.lastIndex=0,r,i,s,o=-1,a=[],c=[];for(t=t+"",e=e+"";(r=FP.exec(t))&&(i=N_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:Xw(r,i)})),n=N_.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?wwe(c[0].x):vwe(e):(e=c.length,function(u){for(var g=0,m;g<e;++g)a[(m=c[g]).i]=m.x(u);return a.join("")})}function Rg(t,e){var n=typeof e,r;return e==null||n==="boolean"?l3(e):(n==="number"?Xw:n==="string"?(r=D0(e))?(e=r,mj):xwe:e instanceof D0?mj:e instanceof Date?mwe:pwe(e)?dwe:Array.isArray(e)?gwe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ywe:Xw)(t,e)}function c3(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function bwe(t,e){e===void 0&&(e=t,t=Rg);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function Awe(t){return function(){return t}}function Qw(t){return+t}var yj=[0,1];function Js(t){return t}function UP(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Awe(isNaN(e)?NaN:.5)}function Ewe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Swe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=UP(i,r),s=n(o,s)):(r=UP(r,i),s=n(s,o)),function(a){return s(r(a))}}function Twe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=UP(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var c=By(t,a,1,r)-1;return s[c](i[c](a))}}function Fy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jb(){var t=yj,e=yj,n=Rg,r,i,s,o=Js,a,c,u;function g(){var w=Math.min(t.length,e.length);return o!==Js&&(o=Ewe(t[0],t[w-1])),a=w>2?Twe:Swe,c=u=null,m}function m(w){return w==null||isNaN(w=+w)?s:(c||(c=a(t.map(r),e,n)))(r(o(w)))}return m.invert=function(w){return o(i((u||(u=a(e,t.map(r),Xw)))(w)))},m.domain=function(w){return arguments.length?(t=Array.from(w,Qw),g()):t.slice()},m.range=function(w){return arguments.length?(e=Array.from(w),g()):e.slice()},m.rangeRound=function(w){return e=Array.from(w),n=c3,g()},m.clamp=function(w){return arguments.length?(o=w?!0:Js,g()):o!==Js},m.interpolate=function(w){return arguments.length?(n=w,g()):n},m.unknown=function(w){return arguments.length?(s=w,m):s},function(w,A){return r=w,i=A,g()}}function u3(){return jb()(Js,Js)}function _we(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vp(t){return t=Zw(Math.abs(t)),t?t[1]:NaN}function Cwe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Iwe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Pwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function L0(t){if(!(e=Pwe.exec(t)))throw new Error("invalid format: "+t);var e;return new f3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}L0.prototype=f3.prototype;function f3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}f3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nwe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var hK;function Owe(t,e){var n=Zw(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(hK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Zw(t,Math.max(0,e+s-1))[0]}function vj(t,e){var n=Zw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_we,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vj(t*100,e),r:vj,s:Owe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xj(t){return t}var bj=Array.prototype.map,Aj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Rwe(t){var e=t.grouping===void 0||t.thousands===void 0?xj:Cwe(bj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?xj:Iwe(bj.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(m){m=L0(m);var w=m.fill,A=m.align,I=m.sign,T=m.symbol,C=m.zero,R=m.width,B=m.comma,k=m.precision,V=m.trim,D=m.type;D==="n"?(B=!0,D="g"):wj[D]||(k===void 0&&(k=12),V=!0,D="g"),(C||w==="0"&&A==="=")&&(C=!0,w="0",A="=");var j=T==="$"?n:T==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",O=T==="$"?r:/[%p]/.test(D)?o:"",M=wj[D],U=/[defgprs%]/.test(D);k=k===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function K(q){var G=j,$=O,ce,J,oe;if(D==="c")$=M(q)+$,q="";else{q=+q;var ae=q<0||1/q<0;if(q=isNaN(q)?c:M(Math.abs(q),k),V&&(q=Nwe(q)),ae&&+q==0&&I!=="+"&&(ae=!1),G=(ae?I==="("?I:a:I==="-"||I==="("?"":I)+G,$=(D==="s"?Aj[8+hK/3]:"")+$+(ae&&I==="("?")":""),U){for(ce=-1,J=q.length;++ce<J;)if(oe=q.charCodeAt(ce),48>oe||oe>57){$=(oe===46?i+q.slice(ce+1):q.slice(ce))+$,q=q.slice(0,ce);break}}}B&&!C&&(q=e(q,1/0));var re=G.length+q.length+$.length,pe=re<R?new Array(R-re+1).join(w):"";switch(B&&C&&(q=e(pe+q,pe.length?R-$.length:1/0),pe=""),A){case"<":q=G+q+$+pe;break;case"=":q=G+pe+q+$;break;case"^":q=pe.slice(0,re=pe.length>>1)+G+q+$+pe.slice(re);break;default:q=pe+G+q+$;break}return s(q)}return K.toString=function(){return m+""},K}function g(m,w){var A=u((m=L0(m),m.type="f",m)),I=Math.max(-8,Math.min(8,Math.floor(Vp(w)/3)))*3,T=Math.pow(10,-I),C=Aj[8+I/3];return function(R){return A(T*R)+C}}return{format:u,formatPrefix:g}}var hv,h3,dK;kwe({thousands:",",grouping:[3],currency:["$",""]});function kwe(t){return hv=Rwe(t),h3=hv.format,dK=hv.formatPrefix,hv}function Mwe(t){return Math.max(0,-Vp(Math.abs(t)))}function Dwe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vp(e)/3)))*3-Vp(Math.abs(t)))}function Lwe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vp(e)-Vp(t))+1}function pK(t,e,n,r){var i=LP(t,e,n),s;switch(r=L0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Dwe(i,o))&&(r.precision=s),dK(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Lwe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Mwe(i))&&(r.precision=s-(r.type==="%")*2);break}}return h3(r)}function yf(t){var e=t.domain;return t.ticks=function(n){var r=e();return MP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pK(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],c,u,g=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);g-- >0;){if(u=DP(o,a,n),u===c)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function Jw(){var t=u3();return t.copy=function(){return Fy(t,Jw())},Sa.apply(t,arguments),yf(t)}function gK(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qw),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return gK(t).unknown(e)},t=arguments.length?Array.from(t,Qw):[0,1],yf(n)}function mK(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Ej(t){return Math.log(t)}function Sj(t){return Math.exp(t)}function Bwe(t){return-Math.log(-t)}function jwe(t){return-Math.exp(-t)}function Fwe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Uwe(t){return t===10?Fwe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Vwe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Tj(t){return(e,n)=>-t(-e,n)}function d3(t){const e=t(Ej,Sj),n=e.domain;let r=10,i,s;function o(){return i=Vwe(r),s=Uwe(r),n()[0]<0?(i=Tj(i),s=Tj(s),t(Bwe,jwe)):t(Ej,Sj),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const c=n();let u=c[0],g=c[c.length-1];const m=g<u;m&&([u,g]=[g,u]);let w=i(u),A=i(g),I,T;const C=a==null?10:+a;let R=[];if(!(r%1)&&A-w<C){if(w=Math.floor(w),A=Math.ceil(A),u>0){for(;w<=A;++w)for(I=1;I<r;++I)if(T=w<0?I/s(-w):I*s(w),!(T<u)){if(T>g)break;R.push(T)}}else for(;w<=A;++w)for(I=r-1;I>=1;--I)if(T=w>0?I/s(-w):I*s(w),!(T<u)){if(T>g)break;R.push(T)}R.length*2<C&&(R=MP(u,g,C))}else R=MP(w,A,Math.min(A-w,C)).map(s);return m?R.reverse():R},e.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=L0(c)).precision==null&&(c.trim=!0),c=h3(c)),a===1/0)return c;const u=Math.max(1,r*a/e.ticks().length);return g=>{let m=g/s(Math.round(i(g)));return m*r<r-.5&&(m*=r),m<=u?c(g):""}},e.nice=()=>n(mK(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function yK(){const t=d3(jb()).domain([1,10]);return t.copy=()=>Fy(t,yK()).base(t.base()),Sa.apply(t,arguments),t}function _j(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Cj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function p3(t){var e=1,n=t(_j(e),Cj(e));return n.constant=function(r){return arguments.length?t(_j(e=+r),Cj(e)):e},yf(n)}function vK(){var t=p3(jb());return t.copy=function(){return Fy(t,vK()).constant(t.constant())},Sa.apply(t,arguments)}function Ij(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zwe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Hwe(t){return t<0?-t*t:t*t}function g3(t){var e=t(Js,Js),n=1;function r(){return n===1?t(Js,Js):n===.5?t(zwe,Hwe):t(Ij(n),Ij(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},yf(e)}function m3(){var t=g3(jb());return t.copy=function(){return Fy(t,m3()).exponent(t.exponent())},Sa.apply(t,arguments),t}function $we(){return m3.apply(null,arguments).exponent(.5)}function Pj(t){return Math.sign(t)*t*t}function Gwe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wK(){var t=u3(),e=[0,1],n=!1,r;function i(s){var o=Gwe(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(Pj(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Qw)).map(Pj)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wK(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Sa.apply(i,arguments),yf(i)}function xK(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=Xve(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[By(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Wu),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return xK().domain(t).range(e).unknown(r)},Sa.apply(s,arguments)}function bK(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[By(r,c,0,n)]:s}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,a()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,a()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return bK().domain([t,e]).range(i).unknown(s)},Sa.apply(yf(o),arguments)}function AK(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[By(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return AK().domain(t).range(e).unknown(n)},Sa.apply(i,arguments)}const O_=new Date,R_=new Date;function Hi(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const c=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return c;let u;do c.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return c},i.filter=s=>Hi(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(O_.setTime(+s),R_.setTime(+o),t(O_),t(R_),Math.floor(n(O_,R_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const ex=Hi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ex.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Hi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ex);ex.range;const yc=1e3,va=yc*60,vc=va*60,Dc=vc*24,y3=Dc*7,Nj=Dc*30,k_=Dc*365,lh=Hi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yc)},(t,e)=>(e-t)/yc,t=>t.getUTCSeconds());lh.range;const v3=Hi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yc)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getMinutes());v3.range;const w3=Hi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getUTCMinutes());w3.range;const x3=Hi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yc-t.getMinutes()*va)},(t,e)=>{t.setTime(+t+e*vc)},(t,e)=>(e-t)/vc,t=>t.getHours());x3.range;const b3=Hi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vc)},(t,e)=>(e-t)/vc,t=>t.getUTCHours());b3.range;const Uy=Hi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*va)/Dc,t=>t.getDate()-1);Uy.range;const Fb=Hi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Dc,t=>t.getUTCDate()-1);Fb.range;const EK=Hi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Dc,t=>Math.floor(t/Dc));EK.range;function ed(t){return Hi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*va)/y3)}const Ub=ed(0),tx=ed(1),Wwe=ed(2),qwe=ed(3),zp=ed(4),Kwe=ed(5),Ywe=ed(6);Ub.range;tx.range;Wwe.range;qwe.range;zp.range;Kwe.range;Ywe.range;function td(t){return Hi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/y3)}const Vb=td(0),nx=td(1),Xwe=td(2),Qwe=td(3),Hp=td(4),Zwe=td(5),Jwe=td(6);Vb.range;nx.range;Xwe.range;Qwe.range;Hp.range;Zwe.range;Jwe.range;const A3=Hi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());A3.range;const E3=Hi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());E3.range;const Lc=Hi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Lc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Lc.range;const Bc=Hi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bc.range;function SK(t,e,n,r,i,s){const o=[[lh,1,yc],[lh,5,5*yc],[lh,15,15*yc],[lh,30,30*yc],[s,1,va],[s,5,5*va],[s,15,15*va],[s,30,30*va],[i,1,vc],[i,3,3*vc],[i,6,6*vc],[i,12,12*vc],[r,1,Dc],[r,2,2*Dc],[n,1,y3],[e,1,Nj],[e,3,3*Nj],[t,1,k_]];function a(u,g,m){const w=g<u;w&&([u,g]=[g,u]);const A=m&&typeof m.range=="function"?m:c(u,g,m),I=A?A.range(u,+g+1):[];return w?I.reverse():I}function c(u,g,m){const w=Math.abs(g-u)/m,A=s3(([,,C])=>C).right(o,w);if(A===o.length)return t.every(LP(u/k_,g/k_,m));if(A===0)return ex.every(Math.max(LP(u,g,m),1));const[I,T]=o[w/o[A-1][2]<o[A][2]/w?A-1:A];return I.every(T)}return[a,c]}const[exe,txe]=SK(Bc,E3,Vb,EK,b3,w3),[nxe,rxe]=SK(Lc,A3,Ub,Uy,x3,v3);function M_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function D_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ixe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,c=t.shortMonths,u=mm(i),g=ym(i),m=mm(s),w=ym(s),A=mm(o),I=ym(o),T=mm(a),C=ym(a),R=mm(c),B=ym(c),k={a:ae,A:re,b:pe,B:we,c:null,d:Lj,e:Lj,f:Cxe,g:Bxe,G:Fxe,H:Sxe,I:Txe,j:_xe,L:TK,m:Ixe,M:Pxe,p:ue,q:he,Q:Fj,s:Uj,S:Nxe,u:Oxe,U:Rxe,V:kxe,w:Mxe,W:Dxe,x:null,X:null,y:Lxe,Y:jxe,Z:Uxe,"%":jj},V={a:xe,A:Re,b:Ue,B:Me,c:null,d:Bj,e:Bj,f:$xe,g:ebe,G:nbe,H:Vxe,I:zxe,j:Hxe,L:CK,m:Gxe,M:Wxe,p:ke,q:De,Q:Fj,s:Uj,S:qxe,u:Kxe,U:Yxe,V:Xxe,w:Qxe,W:Zxe,x:null,X:null,y:Jxe,Y:tbe,Z:rbe,"%":jj},D={a:K,A:q,b:G,B:$,c:ce,d:Mj,e:Mj,f:xxe,g:kj,G:Rj,H:Dj,I:Dj,j:mxe,L:wxe,m:gxe,M:yxe,p:U,q:pxe,Q:Axe,s:Exe,S:vxe,u:cxe,U:uxe,V:fxe,w:lxe,W:hxe,x:J,X:oe,y:kj,Y:Rj,Z:dxe,"%":bxe};k.x=j(n,k),k.X=j(r,k),k.c=j(e,k),V.x=j(n,V),V.X=j(r,V),V.c=j(e,V);function j(Pe,je){return function($e){var _e=[],et=-1,ht=0,jt=Pe.length,Yt,kt,Kt;for($e instanceof Date||($e=new Date(+$e));++et<jt;)Pe.charCodeAt(et)===37&&(_e.push(Pe.slice(ht,et)),(kt=Oj[Yt=Pe.charAt(++et)])!=null?Yt=Pe.charAt(++et):kt=Yt==="e"?" ":"0",(Kt=je[Yt])&&(Yt=Kt($e,kt)),_e.push(Yt),ht=et+1);return _e.push(Pe.slice(ht,et)),_e.join("")}}function O(Pe,je){return function($e){var _e=gm(1900,void 0,1),et=M(_e,Pe,$e+="",0),ht,jt;if(et!=$e.length)return null;if("Q"in _e)return new Date(_e.Q);if("s"in _e)return new Date(_e.s*1e3+("L"in _e?_e.L:0));if(je&&!("Z"in _e)&&(_e.Z=0),"p"in _e&&(_e.H=_e.H%12+_e.p*12),_e.m===void 0&&(_e.m="q"in _e?_e.q:0),"V"in _e){if(_e.V<1||_e.V>53)return null;"w"in _e||(_e.w=1),"Z"in _e?(ht=D_(gm(_e.y,0,1)),jt=ht.getUTCDay(),ht=jt>4||jt===0?nx.ceil(ht):nx(ht),ht=Fb.offset(ht,(_e.V-1)*7),_e.y=ht.getUTCFullYear(),_e.m=ht.getUTCMonth(),_e.d=ht.getUTCDate()+(_e.w+6)%7):(ht=M_(gm(_e.y,0,1)),jt=ht.getDay(),ht=jt>4||jt===0?tx.ceil(ht):tx(ht),ht=Uy.offset(ht,(_e.V-1)*7),_e.y=ht.getFullYear(),_e.m=ht.getMonth(),_e.d=ht.getDate()+(_e.w+6)%7)}else("W"in _e||"U"in _e)&&("w"in _e||(_e.w="u"in _e?_e.u%7:"W"in _e?1:0),jt="Z"in _e?D_(gm(_e.y,0,1)).getUTCDay():M_(gm(_e.y,0,1)).getDay(),_e.m=0,_e.d="W"in _e?(_e.w+6)%7+_e.W*7-(jt+5)%7:_e.w+_e.U*7-(jt+6)%7);return"Z"in _e?(_e.H+=_e.Z/100|0,_e.M+=_e.Z%100,D_(_e)):M_(_e)}}function M(Pe,je,$e,_e){for(var et=0,ht=je.length,jt=$e.length,Yt,kt;et<ht;){if(_e>=jt)return-1;if(Yt=je.charCodeAt(et++),Yt===37){if(Yt=je.charAt(et++),kt=D[Yt in Oj?je.charAt(et++):Yt],!kt||(_e=kt(Pe,$e,_e))<0)return-1}else if(Yt!=$e.charCodeAt(_e++))return-1}return _e}function U(Pe,je,$e){var _e=u.exec(je.slice($e));return _e?(Pe.p=g.get(_e[0].toLowerCase()),$e+_e[0].length):-1}function K(Pe,je,$e){var _e=A.exec(je.slice($e));return _e?(Pe.w=I.get(_e[0].toLowerCase()),$e+_e[0].length):-1}function q(Pe,je,$e){var _e=m.exec(je.slice($e));return _e?(Pe.w=w.get(_e[0].toLowerCase()),$e+_e[0].length):-1}function G(Pe,je,$e){var _e=R.exec(je.slice($e));return _e?(Pe.m=B.get(_e[0].toLowerCase()),$e+_e[0].length):-1}function $(Pe,je,$e){var _e=T.exec(je.slice($e));return _e?(Pe.m=C.get(_e[0].toLowerCase()),$e+_e[0].length):-1}function ce(Pe,je,$e){return M(Pe,e,je,$e)}function J(Pe,je,$e){return M(Pe,n,je,$e)}function oe(Pe,je,$e){return M(Pe,r,je,$e)}function ae(Pe){return o[Pe.getDay()]}function re(Pe){return s[Pe.getDay()]}function pe(Pe){return c[Pe.getMonth()]}function we(Pe){return a[Pe.getMonth()]}function ue(Pe){return i[+(Pe.getHours()>=12)]}function he(Pe){return 1+~~(Pe.getMonth()/3)}function xe(Pe){return o[Pe.getUTCDay()]}function Re(Pe){return s[Pe.getUTCDay()]}function Ue(Pe){return c[Pe.getUTCMonth()]}function Me(Pe){return a[Pe.getUTCMonth()]}function ke(Pe){return i[+(Pe.getUTCHours()>=12)]}function De(Pe){return 1+~~(Pe.getUTCMonth()/3)}return{format:function(Pe){var je=j(Pe+="",k);return je.toString=function(){return Pe},je},parse:function(Pe){var je=O(Pe+="",!1);return je.toString=function(){return Pe},je},utcFormat:function(Pe){var je=j(Pe+="",V);return je.toString=function(){return Pe},je},utcParse:function(Pe){var je=O(Pe+="",!0);return je.toString=function(){return Pe},je}}}var Oj={"-":"",_:" ",0:"0"},rs=/^\s*\d+/,sxe=/^%/,oxe=/[\\^$*+?|[\]().{}]/g;function Nn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function axe(t){return t.replace(oxe,"\\$&")}function mm(t){return new RegExp("^(?:"+t.map(axe).join("|")+")","i")}function ym(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function lxe(t,e,n){var r=rs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cxe(t,e,n){var r=rs.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uxe(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fxe(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hxe(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Rj(t,e,n){var r=rs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function kj(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dxe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pxe(t,e,n){var r=rs.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function gxe(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Mj(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mxe(t,e,n){var r=rs.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Dj(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yxe(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vxe(t,e,n){var r=rs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wxe(t,e,n){var r=rs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function xxe(t,e,n){var r=rs.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bxe(t,e,n){var r=sxe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Axe(t,e,n){var r=rs.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Exe(t,e,n){var r=rs.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Lj(t,e){return Nn(t.getDate(),e,2)}function Sxe(t,e){return Nn(t.getHours(),e,2)}function Txe(t,e){return Nn(t.getHours()%12||12,e,2)}function _xe(t,e){return Nn(1+Uy.count(Lc(t),t),e,3)}function TK(t,e){return Nn(t.getMilliseconds(),e,3)}function Cxe(t,e){return TK(t,e)+"000"}function Ixe(t,e){return Nn(t.getMonth()+1,e,2)}function Pxe(t,e){return Nn(t.getMinutes(),e,2)}function Nxe(t,e){return Nn(t.getSeconds(),e,2)}function Oxe(t){var e=t.getDay();return e===0?7:e}function Rxe(t,e){return Nn(Ub.count(Lc(t)-1,t),e,2)}function _K(t){var e=t.getDay();return e>=4||e===0?zp(t):zp.ceil(t)}function kxe(t,e){return t=_K(t),Nn(zp.count(Lc(t),t)+(Lc(t).getDay()===4),e,2)}function Mxe(t){return t.getDay()}function Dxe(t,e){return Nn(tx.count(Lc(t)-1,t),e,2)}function Lxe(t,e){return Nn(t.getFullYear()%100,e,2)}function Bxe(t,e){return t=_K(t),Nn(t.getFullYear()%100,e,2)}function jxe(t,e){return Nn(t.getFullYear()%1e4,e,4)}function Fxe(t,e){var n=t.getDay();return t=n>=4||n===0?zp(t):zp.ceil(t),Nn(t.getFullYear()%1e4,e,4)}function Uxe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nn(e/60|0,"0",2)+Nn(e%60,"0",2)}function Bj(t,e){return Nn(t.getUTCDate(),e,2)}function Vxe(t,e){return Nn(t.getUTCHours(),e,2)}function zxe(t,e){return Nn(t.getUTCHours()%12||12,e,2)}function Hxe(t,e){return Nn(1+Fb.count(Bc(t),t),e,3)}function CK(t,e){return Nn(t.getUTCMilliseconds(),e,3)}function $xe(t,e){return CK(t,e)+"000"}function Gxe(t,e){return Nn(t.getUTCMonth()+1,e,2)}function Wxe(t,e){return Nn(t.getUTCMinutes(),e,2)}function qxe(t,e){return Nn(t.getUTCSeconds(),e,2)}function Kxe(t){var e=t.getUTCDay();return e===0?7:e}function Yxe(t,e){return Nn(Vb.count(Bc(t)-1,t),e,2)}function IK(t){var e=t.getUTCDay();return e>=4||e===0?Hp(t):Hp.ceil(t)}function Xxe(t,e){return t=IK(t),Nn(Hp.count(Bc(t),t)+(Bc(t).getUTCDay()===4),e,2)}function Qxe(t){return t.getUTCDay()}function Zxe(t,e){return Nn(nx.count(Bc(t)-1,t),e,2)}function Jxe(t,e){return Nn(t.getUTCFullYear()%100,e,2)}function ebe(t,e){return t=IK(t),Nn(t.getUTCFullYear()%100,e,2)}function tbe(t,e){return Nn(t.getUTCFullYear()%1e4,e,4)}function nbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hp(t):Hp.ceil(t),Nn(t.getUTCFullYear()%1e4,e,4)}function rbe(){return"+0000"}function jj(){return"%"}function Fj(t){return+t}function Uj(t){return Math.floor(+t/1e3)}var Ld,PK,NK;ibe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ibe(t){return Ld=ixe(t),PK=Ld.format,Ld.parse,NK=Ld.utcFormat,Ld.utcParse,Ld}function sbe(t){return new Date(t)}function obe(t){return t instanceof Date?+t:+new Date(+t)}function S3(t,e,n,r,i,s,o,a,c,u){var g=u3(),m=g.invert,w=g.domain,A=u(".%L"),I=u(":%S"),T=u("%I:%M"),C=u("%I %p"),R=u("%a %d"),B=u("%b %d"),k=u("%B"),V=u("%Y");function D(j){return(c(j)<j?A:a(j)<j?I:o(j)<j?T:s(j)<j?C:r(j)<j?i(j)<j?R:B:n(j)<j?k:V)(j)}return g.invert=function(j){return new Date(m(j))},g.domain=function(j){return arguments.length?w(Array.from(j,obe)):w().map(sbe)},g.ticks=function(j){var O=w();return t(O[0],O[O.length-1],j??10)},g.tickFormat=function(j,O){return O==null?D:u(O)},g.nice=function(j){var O=w();return(!j||typeof j.range!="function")&&(j=e(O[0],O[O.length-1],j??10)),j?w(mK(O,j)):g},g.copy=function(){return Fy(g,S3(t,e,n,r,i,s,o,a,c,u))},g}function abe(){return Sa.apply(S3(nxe,rxe,Lc,A3,Ub,Uy,x3,v3,lh,PK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lbe(){return Sa.apply(S3(exe,txe,Bc,E3,Vb,Fb,b3,w3,lh,NK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zb(){var t=0,e=1,n,r,i,s,o=Js,a=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(s(m)-n)*i,a?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(m){return arguments.length?(a=!!m,u):a},u.interpolator=function(m){return arguments.length?(o=m,u):o};function g(m){return function(w){var A,I;return arguments.length?([A,I]=w,o=m(A,I),u):[o(0),o(1)]}}return u.range=g(Rg),u.rangeRound=g(c3),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),u}}function vf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function OK(){var t=yf(zb()(Js));return t.copy=function(){return vf(t,OK())},qc.apply(t,arguments)}function RK(){var t=d3(zb()).domain([1,10]);return t.copy=function(){return vf(t,RK()).base(t.base())},qc.apply(t,arguments)}function kK(){var t=p3(zb());return t.copy=function(){return vf(t,kK()).constant(t.constant())},qc.apply(t,arguments)}function T3(){var t=g3(zb());return t.copy=function(){return vf(t,T3()).exponent(t.exponent())},qc.apply(t,arguments)}function cbe(){return T3.apply(null,arguments).exponent(.5)}function MK(){var t=[],e=Js;function n(r){if(r!=null&&!isNaN(r=+r))return e((By(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Yve(t,s/r))},n.copy=function(){return MK(e).domain(t)},qc.apply(n,arguments)}function Hb(){var t=0,e=.5,n=1,r=1,i,s,o,a,c,u=Js,g,m=!1,w;function A(T){return isNaN(T=+T)?w:(T=.5+((T=+g(T))-s)*(r*T<r*s?a:c),u(m?Math.max(0,Math.min(1,T)):T))}A.domain=function(T){return arguments.length?([t,e,n]=T,i=g(t=+t),s=g(e=+e),o=g(n=+n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,A):[t,e,n]},A.clamp=function(T){return arguments.length?(m=!!T,A):m},A.interpolator=function(T){return arguments.length?(u=T,A):u};function I(T){return function(C){var R,B,k;return arguments.length?([R,B,k]=C,u=bwe(T,[R,B,k]),A):[u(0),u(.5),u(1)]}}return A.range=I(Rg),A.rangeRound=I(c3),A.unknown=function(T){return arguments.length?(w=T,A):w},function(T){return g=T,i=T(t),s=T(e),o=T(n),a=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,A}}function DK(){var t=yf(Hb()(Js));return t.copy=function(){return vf(t,DK())},qc.apply(t,arguments)}function LK(){var t=d3(Hb()).domain([.1,1,10]);return t.copy=function(){return vf(t,LK()).base(t.base())},qc.apply(t,arguments)}function BK(){var t=p3(Hb());return t.copy=function(){return vf(t,BK()).constant(t.constant())},qc.apply(t,arguments)}function _3(){var t=g3(Hb());return t.copy=function(){return vf(t,_3()).exponent(t.exponent())},qc.apply(t,arguments)}function ube(){return _3.apply(null,arguments).exponent(.5)}const Vj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:R0,scaleDiverging:DK,scaleDivergingLog:LK,scaleDivergingPow:_3,scaleDivergingSqrt:ube,scaleDivergingSymlog:BK,scaleIdentity:gK,scaleImplicit:BP,scaleLinear:Jw,scaleLog:yK,scaleOrdinal:o3,scalePoint:Qm,scalePow:m3,scaleQuantile:xK,scaleQuantize:bK,scaleRadial:wK,scaleSequential:OK,scaleSequentialLog:RK,scaleSequentialPow:T3,scaleSequentialQuantile:MK,scaleSequentialSqrt:cbe,scaleSequentialSymlog:kK,scaleSqrt:$we,scaleSymlog:vK,scaleThreshold:AK,scaleTime:abe,scaleUtc:lbe,tickFormat:pK},Symbol.toStringTag,{value:"Module"}));var L_,zj;function $b(){if(zj)return L_;zj=1;var t=Ig();function e(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],c=r(a);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,g=a}return g}return L_=e,L_}var B_,Hj;function jK(){if(Hj)return B_;Hj=1;function t(e,n){return e>n}return B_=t,B_}var j_,$j;function fbe(){if($j)return j_;$j=1;var t=$b(),e=jK(),n=Ng();function r(i){return i&&i.length?t(i,n,e):void 0}return j_=r,j_}var hbe=fbe();const Gb=On(hbe);var F_,Gj;function FK(){if(Gj)return F_;Gj=1;function t(e,n){return e<n}return F_=t,F_}var U_,Wj;function dbe(){if(Wj)return U_;Wj=1;var t=$b(),e=FK(),n=Ng();function r(i){return i&&i.length?t(i,n,e):void 0}return U_=r,U_}var pbe=dbe();const Wb=On(pbe);var V_,qj;function gbe(){if(qj)return V_;qj=1;var t=zR(),e=$l(),n=qq(),r=To();function i(s,o){var a=r(s)?t:n;return a(s,e(o,3))}return V_=i,V_}var z_,Kj;function mbe(){if(Kj)return z_;Kj=1;var t=Gq(),e=gbe();function n(r,i){return t(e(r,i),1)}return z_=n,z_}var ybe=mbe();const vbe=On(ybe);var H_,Yj;function wbe(){if(Yj)return H_;Yj=1;var t=t3();function e(n,r){return t(n,r)}return H_=e,H_}var xbe=wbe();const qb=On(xbe);var kg=1e9,bbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},I3,Dr=!0,Aa="[DecimalError] ",xh=Aa+"Invalid argument: ",C3=Aa+"Exponent out of range: ",Mg=Math.floor,Yf=Math.pow,Abe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ho,Zi=1e7,_r=7,UK=9007199254740991,rx=Mg(UK/_r),ft={};ft.absoluteValue=ft.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ft.comparedTo=ft.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_r;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ft.dividedBy=ft.div=function(t){return _c(this,new this.constructor(t))};ft.dividedToIntegerBy=ft.idiv=function(t){var e=this,n=e.constructor;return lr(_c(e,new n(t),0,1),n.precision)};ft.equals=ft.eq=function(t){return!this.cmp(t)};ft.exponent=function(){return _i(this)};ft.greaterThan=ft.gt=function(t){return this.cmp(t)>0};ft.greaterThanOrEqualTo=ft.gte=function(t){return this.cmp(t)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(t){return this.cmp(t)<0};ft.lessThanOrEqualTo=ft.lte=function(t){return this.cmp(t)<1};ft.logarithm=ft.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ho))throw Error(Aa+"NaN");if(n.s<1)throw Error(Aa+(n.s?"NaN":"-Infinity"));return n.eq(Ho)?new r(0):(Dr=!1,e=_c(B0(n,s),B0(t,s),s),Dr=!0,lr(e,i))};ft.minus=ft.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HK(e,t):VK(e,(t.s=-t.s,t))};ft.modulo=ft.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Aa+"NaN");return n.s?(Dr=!1,e=_c(n,t,0,1).times(t),Dr=!0,n.minus(e)):lr(new r(n),i)};ft.naturalExponential=ft.exp=function(){return zK(this)};ft.naturalLogarithm=ft.ln=function(){return B0(this)};ft.negated=ft.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ft.plus=ft.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VK(e,t):HK(e,(t.s=-t.s,t))};ft.precision=ft.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xh+t);if(e=_i(i)+1,r=i.d.length-1,n=r*_r+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ft.squareRoot=ft.sqrt=function(){var t,e,n,r,i,s,o,a=this,c=a.constructor;if(a.s<1){if(!a.s)return new c(0);throw Error(Aa+"NaN")}for(t=_i(a),Dr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=El(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Mg((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(_c(a,s,o+2)).times(.5),El(s.d).slice(0,o)===(e=El(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(lr(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return Dr=!0,lr(r,n)};ft.times=ft.mul=function(t){var e,n,r,i,s,o,a,c,u,g=this,m=g.constructor,w=g.d,A=(t=new m(t)).d;if(!g.s||!t.s)return new m(0);for(t.s*=g.s,n=g.e+t.e,c=w.length,u=A.length,c<u&&(s=w,w=A,A=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)a=s[i]+A[r]*w[i-r-1]+e,s[i--]=a%Zi|0,e=a/Zi|0;s[i]=(s[i]+e)%Zi|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Dr?lr(t,m.precision):t};ft.toDecimalPlaces=ft.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ul(t,0,kg),e===void 0?e=r.rounding:Ul(e,0,8),lr(n,t+_i(n)+1,e))};ft.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=jh(r,!0):(Ul(t,0,kg),e===void 0?e=i.rounding:Ul(e,0,8),r=lr(new i(r),t+1,e),n=jh(r,!0,t+1)),n};ft.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?jh(i):(Ul(t,0,kg),e===void 0?e=s.rounding:Ul(e,0,8),r=lr(new s(i),t+_i(i)+1,e),n=jh(r.abs(),!1,t+_i(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ft.toInteger=ft.toint=function(){var t=this,e=t.constructor;return lr(new e(t),_i(t)+1,e.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(t){var e,n,r,i,s,o,a=this,c=a.constructor,u=12,g=+(t=new c(t));if(!t.s)return new c(Ho);if(a=new c(a),!a.s){if(t.s<1)throw Error(Aa+"Infinity");return a}if(a.eq(Ho))return a;if(r=c.precision,t.eq(Ho))return lr(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=g<0?-g:g)<=UK){for(i=new c(Ho),e=Math.ceil(r/_r+4),Dr=!1;n%2&&(i=i.times(a),Qj(i.d,e)),n=Mg(n/2),n!==0;)a=a.times(a),Qj(a.d,e);return Dr=!0,t.s<0?new c(Ho).div(i):lr(i,r)}}else if(s<0)throw Error(Aa+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Dr=!1,i=t.times(B0(a,r+u)),Dr=!0,i=zK(i),i.s=s,i};ft.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=_i(i),r=jh(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ul(t,1,kg),e===void 0?e=s.rounding:Ul(e,0,8),i=lr(new s(i),t,e),n=_i(i),r=jh(i,t<=n||n<=s.toExpNeg,t)),r};ft.toSignificantDigits=ft.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ul(t,1,kg),e===void 0?e=r.rounding:Ul(e,0,8)),lr(new r(n),t,e)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_i(t),n=t.constructor;return jh(t,e<=n.toExpNeg||e>=n.toExpPos)};function VK(t,e){var n,r,i,s,o,a,c,u,g=t.constructor,m=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),Dr?lr(e,m):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,a=u.length):(r=u,i=o,a=c.length),o=Math.ceil(m/_r),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=c.length,s=u.length,a-s<0&&(s=a,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/Zi|0,c[s]%=Zi;for(n&&(c.unshift(n),++i),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=i,Dr?lr(e,m):e}function Ul(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xh+t)}function El(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=_r-r.length,n&&(s+=Ru(n)),s+=r;o=t[e],r=o+"",n=_r-r.length,n&&(s+=Ru(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var _c=(function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Zi|0,o=s/Zi|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Zi+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,c,u,g,m,w,A,I,T,C,R,B,k,V,D,j,O,M,U=r.constructor,K=r.s==i.s?1:-1,q=r.d,G=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(Aa+"Division by zero");for(c=r.e-i.e,O=G.length,D=q.length,A=new U(K),I=A.d=[],u=0;G[u]==(q[u]||0);)++u;if(G[u]>(q[u]||0)&&--c,s==null?B=s=U.precision:o?B=s+(_i(r)-_i(i))+1:B=s,B<0)return new U(0);if(B=B/_r+2|0,u=0,O==1)for(g=0,G=G[0],B++;(u<D||g)&&B--;u++)k=g*Zi+(q[u]||0),I[u]=k/G|0,g=k%G|0;else{for(g=Zi/(G[0]+1)|0,g>1&&(G=t(G,g),q=t(q,g),O=G.length,D=q.length),V=O,T=q.slice(0,O),C=T.length;C<O;)T[C++]=0;M=G.slice(),M.unshift(0),j=G[0],G[1]>=Zi/2&&++j;do g=0,a=e(G,T,O,C),a<0?(R=T[0],O!=C&&(R=R*Zi+(T[1]||0)),g=R/j|0,g>1?(g>=Zi&&(g=Zi-1),m=t(G,g),w=m.length,C=T.length,a=e(m,T,w,C),a==1&&(g--,n(m,O<w?M:G,w))):(g==0&&(a=g=1),m=G.slice()),w=m.length,w<C&&m.unshift(0),n(T,m,C),a==-1&&(C=T.length,a=e(G,T,O,C),a<1&&(g++,n(T,O<C?M:G,C))),C=T.length):a===0&&(g++,T=[0]),I[u++]=g,a&&T[0]?T[C++]=q[V]||0:(T=[q[V]],C=1);while((V++<D||T[0]!==void 0)&&B--)}return I[0]||I.shift(),A.e=c,lr(A,o?s+_i(A)+1:s)}})();function zK(t,e){var n,r,i,s,o,a,c=0,u=0,g=t.constructor,m=g.precision;if(_i(t)>16)throw Error(C3+_i(t));if(!t.s)return new g(Ho);for(Dr=!1,a=m,o=new g(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Yf(2,u))/Math.LN10*2+5|0,a+=r,n=i=s=new g(Ho),g.precision=a;;){if(i=lr(i.times(t),a),n=n.times(++c),o=s.plus(_c(i,n,a)),El(o.d).slice(0,a)===El(s.d).slice(0,a)){for(;u--;)s=lr(s.times(s),a);return g.precision=m,e==null?(Dr=!0,lr(s,m)):s}s=o}}function _i(t){for(var e=t.e*_r,n=t.d[0];n>=10;n/=10)e++;return e}function $_(t,e,n){if(e>t.LN10.sd())throw Dr=!0,n&&(t.precision=n),Error(Aa+"LN10 precision limit exceeded");return lr(new t(t.LN10),e)}function Ru(t){for(var e="";t--;)e+="0";return e}function B0(t,e){var n,r,i,s,o,a,c,u,g,m=1,w=10,A=t,I=A.d,T=A.constructor,C=T.precision;if(A.s<1)throw Error(Aa+(A.s?"NaN":"-Infinity"));if(A.eq(Ho))return new T(0);if(e==null?(Dr=!1,u=C):u=e,A.eq(10))return e==null&&(Dr=!0),$_(T,u);if(u+=w,T.precision=u,n=El(I),r=n.charAt(0),s=_i(A),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(t),n=El(A.d),r=n.charAt(0),m++;s=_i(A),r>1?(A=new T("0."+n),s++):A=new T(r+"."+n.slice(1))}else return c=$_(T,u+2,C).times(s+""),A=B0(new T(r+"."+n.slice(1)),u-w).plus(c),T.precision=C,e==null?(Dr=!0,lr(A,C)):A;for(a=o=A=_c(A.minus(Ho),A.plus(Ho),u),g=lr(A.times(A),u),i=3;;){if(o=lr(o.times(g),u),c=a.plus(_c(o,new T(i),u)),El(c.d).slice(0,u)===El(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus($_(T,u+2,C).times(s+""))),a=_c(a,new T(m),u),T.precision=C,e==null?(Dr=!0,lr(a,C)):a;a=c,i+=2}}function Xj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Mg(n/_r),t.d=[],r=(n+1)%_r,n<0&&(r+=_r),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=_r;r<i;)t.d.push(+e.slice(r,r+=_r));e=e.slice(r),r=_r-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dr&&(t.e>rx||t.e<-rx))throw Error(C3+n)}else t.s=0,t.e=0,t.d=[0];return t}function lr(t,e,n){var r,i,s,o,a,c,u,g,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=_r,i=e,u=m[g=0];else{if(g=Math.ceil((r+1)/_r),s=m.length,g>=s)return t;for(u=s=m[g],o=1;s>=10;s/=10)o++;r%=_r,i=r-_r+o}if(n!==void 0&&(s=Yf(10,o-i-1),a=u/s%10|0,c=e<0||m[g+1]!==void 0||u%s,c=n<4?(a||c)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||c||n==6&&(r>0?i>0?u/Yf(10,o-i):0:m[g-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(s=_i(t),m.length=1,e=e-s-1,m[0]=Yf(10,(_r-e%_r)%_r),t.e=Mg(-e/_r)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=g,s=1,g--):(m.length=g+1,s=Yf(10,_r-r),m[g]=i>0?(u/Yf(10,o-i)%Yf(10,i)|0)*s:0),c)for(;;)if(g==0){(m[0]+=s)==Zi&&(m[0]=1,++t.e);break}else{if(m[g]+=s,m[g]!=Zi)break;m[g--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(Dr&&(t.e>rx||t.e<-rx))throw Error(C3+_i(t));return t}function HK(t,e){var n,r,i,s,o,a,c,u,g,m,w=t.constructor,A=w.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new w(t),Dr?lr(e,A):e;if(c=t.d,m=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(g=o<0,g?(n=c,o=-o,a=m.length):(n=m,r=u,a=c.length),i=Math.max(Math.ceil(A/_r),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,a=m.length,g=i<a,g&&(a=i),i=0;i<a;i++)if(c[i]!=m[i]){g=c[i]<m[i];break}o=0}for(g&&(n=c,c=m,m=n,e.s=-e.s),a=c.length,i=m.length-a;i>0;--i)c[a++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=Zi-1;--c[s],c[i]+=Zi}c[i]-=m[i]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Dr?lr(e,A):e):new w(0)}function jh(t,e,n){var r,i=_i(t),s=El(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ru(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ru(-i-1)+s,n&&(r=n-o)>0&&(s+=Ru(r))):i>=o?(s+=Ru(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Ru(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Ru(r))),t.s<0?"-"+s:s}function Qj(t,e){if(t.length>e)return t.length=e,!0}function $K(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(xh+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Xj(o,s.toString())}else if(typeof s!="string")throw Error(xh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Abe.test(s))Xj(o,s);else throw Error(xh+s)}if(i.prototype=ft,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$K,i.config=i.set=Ebe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ebe(t){if(!t||typeof t!="object")throw Error(Aa+"Object expected");var e,n,r,i=["precision",1,kg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Mg(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xh+n+": "+r);return this}var I3=$K(bbe);Ho=new I3(1);const nr=I3;function Sbe(t){return Ibe(t)||Cbe(t)||_be(t)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _be(t,e){if(t){if(typeof t=="string")return VP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VP(t,e)}}function Cbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ibe(t){if(Array.isArray(t))return VP(t)}function VP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pbe=function(e){return e},GK={},WK=function(e){return e===GK},Zj=function(e){return function n(){return arguments.length===0||arguments.length===1&&WK(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Nbe=function t(e,n){return e===1?n:Zj(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==GK}).length;return o>=e?n.apply(void 0,i):t(e-o,Zj(function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];var g=i.map(function(m){return WK(m)?c.shift():m});return n.apply(void 0,Sbe(g).concat(c))}))})},Kb=function(e){return Nbe(e.length,e)},zP=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Obe=Kb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Rbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Pbe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,c){return c(a)},s.apply(void 0,arguments))}},HP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},qK=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,c){return a===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function kbe(t){var e;return t===0?e=1:e=Math.floor(new nr(t).abs().log(10).toNumber())+1,e}function Mbe(t,e,n){for(var r=new nr(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Dbe=Kb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Lbe=Kb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Bbe=Kb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Yb={rangeStep:Mbe,getDigitCount:kbe,interpolateNumber:Dbe,uninterpolateNumber:Lbe,uninterpolateTruncation:Bbe};function $P(t){return Ube(t)||Fbe(t)||KK(t)||jbe()}function jbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ube(t){if(Array.isArray(t))return GP(t)}function j0(t,e){return Hbe(t)||zbe(t,e)||KK(t,e)||Vbe()}function Vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KK(t,e){if(t){if(typeof t=="string")return GP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(t,e)}}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zbe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Hbe(t){if(Array.isArray(t))return t}function YK(t){var e=j0(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function XK(t,e,n){if(t.lte(0))return new nr(0);var r=Yb.getDigitCount(t.toNumber()),i=new nr(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new nr(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=a.mul(i);return e?c:new nr(Math.ceil(c))}function $be(t,e,n){var r=1,i=new nr(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new nr(10).pow(Yb.getDigitCount(t)-1),i=new nr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new nr(Math.floor(t)))}else t===0?i=new nr(Math.floor((e-1)/2)):n||(i=new nr(Math.floor(t)));var o=Math.floor((e-1)/2),a=Rbe(Obe(function(c){return i.add(new nr(c-o).mul(r)).toNumber()}),zP);return a(0,e)}function QK(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var s=XK(new nr(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new nr(0):(o=new nr(t).add(e).div(2),o=o.sub(new nr(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new nr(e).sub(o).div(s).toNumber()),u=a+c+1;return u>n?QK(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,a=e>0?a:a+(n-u)),{step:s,tickMin:o.sub(new nr(a).mul(s)),tickMax:o.add(new nr(c).mul(s))})}function Gbe(t){var e=j0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=YK([n,r]),c=j0(a,2),u=c[0],g=c[1];if(u===-1/0||g===1/0){var m=g===1/0?[u].concat($P(zP(0,i-1).map(function(){return 1/0}))):[].concat($P(zP(0,i-1).map(function(){return-1/0})),[g]);return n>r?HP(m):m}if(u===g)return $be(u,i,s);var w=QK(u,g,o,s),A=w.step,I=w.tickMin,T=w.tickMax,C=Yb.rangeStep(I,T.add(new nr(.1).mul(A)),A);return n>r?HP(C):C}function Wbe(t,e){var n=j0(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=YK([r,i]),a=j0(o,2),c=a[0],u=a[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var g=Math.max(e,2),m=XK(new nr(u).sub(c).div(g-1),s,0),w=[].concat($P(Yb.rangeStep(new nr(c),new nr(u).sub(new nr(.99).mul(m)),m)),[u]);return r>i?HP(w):w}var qbe=qK(Gbe),Kbe=qK(Wbe),Ybe="Invariant failed";function Fh(t,e){throw new Error(Ybe)}var Xbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}function Qbe(t,e){return tAe(t)||eAe(t,e)||Jbe(t,e)||Zbe()}function Zbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jbe(t,e){if(t){if(typeof t=="string")return Jj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jj(t,e)}}function Jj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function tAe(t){if(Array.isArray(t))return t}function nAe(t,e){if(t==null)return{};var n=rAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eY(r.key),r)}}function oAe(t,e,n){return e&&sAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aAe(t,e,n){return e=sx(e),lAe(t,ZK()?Reflect.construct(e,n||[],sx(t).constructor):e.apply(t,n))}function lAe(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cAe(t)}function cAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZK=function(){return!!t})()}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(t)}function uAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WP(t,e)}function WP(t,e){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WP(t,e)}function JK(t,e,n){return e=eY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eY(t){var e=fAe(t,"string");return $p(e)=="symbol"?e:e+""}function fAe(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xb=(function(t){function e(){return iAe(this,e),aAe(this,e,arguments)}return uAe(e,t),oAe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,c=r.data,u=r.dataPointFormatter,g=r.xAxis,m=r.yAxis,w=nAe(r,Xbe),A=Lt(w,!1);this.props.direction==="x"&&g.type!=="number"&&Fh();var I=c.map(function(T){var C=u(T,a),R=C.x,B=C.y,k=C.value,V=C.errorVal;if(!V)return null;var D=[],j,O;if(Array.isArray(V)){var M=Qbe(V,2);j=M[0],O=M[1]}else j=O=V;if(s==="vertical"){var U=g.scale,K=B+i,q=K+o,G=K-o,$=U(k-j),ce=U(k+O);D.push({x1:ce,y1:q,x2:ce,y2:G}),D.push({x1:$,y1:K,x2:ce,y2:K}),D.push({x1:$,y1:q,x2:$,y2:G})}else if(s==="horizontal"){var J=m.scale,oe=R+i,ae=oe-o,re=oe+o,pe=J(k-j),we=J(k+O);D.push({x1:ae,y1:we,x2:re,y2:we}),D.push({x1:oe,y1:pe,x2:oe,y2:we}),D.push({x1:ae,y1:pe,x2:re,y2:pe})}return se.createElement(Yn,ix({className:"recharts-errorBar",key:"bar-".concat(D.map(function(ue){return"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))},A),D.map(function(ue){return se.createElement("line",ix({},ue,{key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))}))});return se.createElement(Yn,{className:"recharts-errorBars"},I)}}])})(se.Component);JK(Xb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});JK(Xb,"displayName","ErrorBar");function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function e9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(n),!0).forEach(function(r){hAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hAe(t,e,n){return e=dAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dAe(t){var e=pAe(t,"string");return F0(e)=="symbol"?e:e+""}function pAe(t,e){if(F0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tY=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Vo(n,yp);if(!o)return null;var a=yp.defaultProps,c=a!==void 0?Vf(Vf({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(g,m){var w=m.item,A=m.props,I=A.sectors||A.data||[];return g.concat(I.map(function(T){return{type:o.props.iconType||w.props.legendType,value:T.name,color:T.fill,payload:T}}))},[]):u=(r||[]).map(function(g){var m=g.item,w=m.type.defaultProps,A=w!==void 0?Vf(Vf({},w),m.props):{},I=A.dataKey,T=A.name,C=A.legendType,R=A.hide;return{inactive:R,dataKey:I,type:c.iconType||C||"square",color:P3(m),value:T||I,payload:A}}),Vf(Vf(Vf({},c),yp.getWithHeight(o,i)),{},{payload:u,item:o})};function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function t9(t){return vAe(t)||yAe(t)||mAe(t)||gAe()}function gAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mAe(t,e){if(t){if(typeof t=="string")return qP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(t,e)}}function yAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vAe(t){if(Array.isArray(t))return qP(t)}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n9(Object(n),!0).forEach(function(r){wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wp(t,e,n){return e=wAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wAe(t){var e=xAe(t,"string");return U0(e)=="symbol"?e:e+""}function xAe(t,e){if(U0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ls(t,e,n){return an(t)||an(e)?n:Ui(e)?Ko(t,e,n):zt(e)?e(t):n}function Zm(t,e,n,r){var i=vbe(t,function(a){return Ls(a,e)});if(n==="number"){var s=i.filter(function(a){return Je(a)||parseFloat(a)});return s.length?[Wb(s),Gb(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!an(a)}):i;return o.map(function(a){return Ui(a)||a instanceof Date?a:""})}var bAe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r?.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<a;u++){var g=u>0?i[u-1].coordinate:i[a-1].coordinate,m=i[u].coordinate,w=u>=a-1?i[0].coordinate:i[u+1].coordinate,A=void 0;if(Qs(m-g)!==Qs(w-m)){var I=[];if(Qs(w-m)===Qs(c[1]-c[0])){A=w;var T=m+c[1]-c[0];I[0]=Math.min(T,(T+g)/2),I[1]=Math.max(T,(T+g)/2)}else{A=g;var C=w+c[1]-c[0];I[0]=Math.min(m,(C+m)/2),I[1]=Math.max(m,(C+m)/2)}var R=[Math.min(m,(A+m)/2),Math.max(m,(A+m)/2)];if(e>R[0]&&e<=R[1]||e>=I[0]&&e<=I[1]){o=i[u].index;break}}else{var B=Math.min(g,w),k=Math.max(g,w);if(e>(B+m)/2&&e<=(k+m)/2){o=i[u].index;break}}}else for(var V=0;V<a;V++)if(V===0&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V>0&&V<a-1&&e>(r[V].coordinate+r[V-1].coordinate)/2&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V===a-1&&e>(r[V].coordinate+r[V-1].coordinate)/2){o=r[V].index;break}return o},P3=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ti(ti({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:a;break;default:c=a;break}return c},AAe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),c=0,u=a.length;c<u;c++)for(var g=s[a[c]].stackGroups,m=Object.keys(g),w=0,A=m.length;w<A;w++){var I=g[m[w]],T=I.items,C=I.cateAxisId,R=T.filter(function(O){return Tc(O.type).indexOf("Bar")>=0});if(R&&R.length){var B=R[0].type.defaultProps,k=B!==void 0?ti(ti({},B),R[0].props):R[0].props,V=k.barSize,D=k[C];o[D]||(o[D]=[]);var j=an(V)?n:V;o[D].push({item:R[0],stackList:R.slice(1),barSize:an(j)?void 0:Zs(j,r,0)})}}return o},EAe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,c=o.length;if(c<1)return null;var u=Zs(n,i,0,!0),g,m=[];if(o[0].barSize===+o[0].barSize){var w=!1,A=i/c,I=o.reduce(function(V,D){return V+D.barSize||0},0);I+=(c-1)*u,I>=i&&(I-=(c-1)*u,u=0),I>=i&&A>0&&(w=!0,A*=.9,I=c*A);var T=(i-I)/2>>0,C={offset:T-u,size:0};g=o.reduce(function(V,D){var j={item:D.item,position:{offset:C.offset+C.size+u,size:w?A:D.barSize}},O=[].concat(t9(V),[j]);return C=O[O.length-1].position,D.stackList&&D.stackList.length&&D.stackList.forEach(function(M){O.push({item:M,position:C})}),O},m)}else{var R=Zs(r,i,0,!0);i-2*R-(c-1)*u<=0&&(u=0);var B=(i-2*R-(c-1)*u)/c;B>1&&(B>>=0);var k=a===+a?Math.min(B,a):B;g=o.reduce(function(V,D,j){var O=[].concat(t9(V),[{item:D.item,position:{offset:R+(B+u)*j+(B-k)/2,size:k}}]);return D.stackList&&D.stackList.length&&D.stackList.forEach(function(M){O.push({item:M,position:O[O.length-1].position})}),O},m)}return g},SAe=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,c=o-(a.left||0)-(a.right||0),u=tY({children:s,legendWidth:c});if(u){var g=i||{},m=g.width,w=g.height,A=u.align,I=u.verticalAlign,T=u.layout;if((T==="vertical"||T==="horizontal"&&I==="middle")&&A!=="center"&&Je(e[A]))return ti(ti({},e),{},wp({},A,e[A]+(m||0)));if((T==="horizontal"||T==="vertical"&&A==="center")&&I!=="middle"&&Je(e[I]))return ti(ti({},e),{},wp({},I,e[I]+(w||0)))}return e},TAe=function(e,n,r){return an(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},nY=function(e,n,r,i,s){var o=n.props.children,a=xa(o,Xb).filter(function(u){return TAe(i,s,u.props.direction)});if(a&&a.length){var c=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,g){var m=Ls(g,r);if(an(m))return u;var w=Array.isArray(m)?[Wb(m),Gb(m)]:[m,m],A=c.reduce(function(I,T){var C=Ls(g,T,0),R=w[0]-Math.abs(Array.isArray(C)?C[0]:C),B=w[1]+Math.abs(Array.isArray(C)?C[1]:C);return[Math.min(R,I[0]),Math.max(B,I[1])]},[1/0,-1/0]);return[Math.min(A[0],u[0]),Math.max(A[1],u[1])]},[1/0,-1/0])}return null},_Ae=function(e,n,r,i,s){var o=n.map(function(a){return nY(e,a,r,s,i)}).filter(function(a){return!an(a)});return o&&o.length?o.reduce(function(a,c){return[Math.min(a[0],c[0]),Math.max(a[1],c[1])]},[1/0,-1/0]):null},rY=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&nY(e,c,u,i)||Zm(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(c,u){for(var g=0,m=u.length;g<m;g++)a[u[g]]||(a[u[g]]=!0,c.push(u[g]));return c},[])},iY=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},sY=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,a=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||a.push(n),o||a.push(r),a},wc=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&a?.length>=2?Qs(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(m){var w=s?s.indexOf(m):m;return{coordinate:i(w)+u,value:m,offset:u}});return g.filter(function(m){return!My(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,w){return{coordinate:i(m)+u,value:m,index:w,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+u,value:m,offset:u}}):i.domain().map(function(m,w){return{coordinate:i(m)+u,value:s?s[m]:m,index:w,offset:u}})},G_=new WeakMap,dv=function(e,n){if(typeof n!="function")return e;G_.has(e)||G_.set(e,new WeakMap);var r=G_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},oY=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:R0(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:Jw(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Qm(),realScaleType:"point"}:s==="category"?{scale:R0(),realScaleType:"band"}:{scale:Jw(),realScaleType:"linear"};if(Dh(i)){var c="scale".concat(Nb(i));return{scale:(Vj[c]||Qm)(),realScaleType:Vj[c]?c:"point"}}return zt(i)?{scale:i}:{scale:Qm(),realScaleType:"point"}},r9=1e-4,aY=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-r9,o=Math.max(i[0],i[1])+r9,a=e(n[0]),c=e(n[r-1]);(a<s||a>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},CAe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},IAe=function(e,n){if(!n||n.length!==2||!Je(n[0])||!Je(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Je(e[0])||e[0]<r)&&(s[0]=r),(!Je(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},PAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var c=My(e[a][r][1])?e[a][r][0]:e[a][r][1];c>=0?(e[a][r][0]=s,e[a][r][1]=s+c,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+c,o=e[a][r][1])}},NAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=My(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},OAe={sign:PAe,expand:v0e,none:Lp,silhouette:w0e,wiggle:x0e,positive:NAe},RAe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=OAe[r],o=y0e().keys(i).value(function(a,c){return+Ls(a,c,0)}).order(AP).offset(s);return o(e)},kAe=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,c={},u=a.reduce(function(m,w){var A,I=(A=w.type)!==null&&A!==void 0&&A.defaultProps?ti(ti({},w.type.defaultProps),w.props):w.props,T=I.stackId,C=I.hide;if(C)return m;var R=I[r],B=m[R]||{hasStack:!1,stackGroups:{}};if(Ui(T)){var k=B.stackGroups[T]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(w),B.hasStack=!0,B.stackGroups[T]=k}else B.stackGroups[Dy("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[w]};return ti(ti({},m),{},wp({},R,B))},c),g={};return Object.keys(u).reduce(function(m,w){var A=u[w];if(A.hasStack){var I={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(T,C){var R=A.stackGroups[C];return ti(ti({},T),{},wp({},C,{numericAxisId:r,cateAxisId:i,items:R.items,stackedData:RAe(e,R.items,s)}))},I)}return ti(ti({},m),{},wp({},w,A))},g)},lY=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var g=qbe(u,s,a);return e.domain([Wb(g),Gb(g)]),{niceTicks:g}}if(s&&i==="number"){var m=e.domain(),w=Kbe(m,s,a);return{niceTicks:w}}return null},i9=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var c=Ls(o,n.dataKey,n.domain[a]);return an(c)?null:n.scale(c)-s/2+i},MAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},DAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ti(ti({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Ui(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},LAe=function(e){return e.reduce(function(n,r){return[Wb(r.concat([n[0]]).filter(Je)),Gb(r.concat([n[1]]).filter(Je))]},[1/0,-1/0])},cY=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,c=a.reduce(function(u,g){var m=LAe(g.slice(n,r+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},s9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KP=function(e,n,r){if(zt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Je(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(s9.test(e[0])){var s=+s9.exec(e[0])[1];i[0]=n[0]-s}else zt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Je(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(o9.test(e[1])){var o=+o9.exec(e[1])[1];i[1]=n[1]+o}else zt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ox=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=r3(n,function(m){return m.coordinate}),o=1/0,a=1,c=s.length;a<c;a++){var u=s[a],g=s[a-1];o=Math.min((u.coordinate||0)-(g.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},a9=function(e,n,r){return!e||!e.length||qb(e,Ko(r,"type.defaultProps.domain"))?n:e},uY=function(e,n){var r=e.type.defaultProps?ti(ti({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,c=r.tooltipType,u=r.chartType,g=r.hide;return ti(ti({},Lt(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:P3(e),value:Ls(n,i),type:c,payload:n,chartType:u,hide:g})};function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){fY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fY(t,e,n){return e=BAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BAe(t){var e=jAe(t,"string");return V0(e)=="symbol"?e:e+""}function jAe(t,e){if(V0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(V0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FAe(t,e){return HAe(t)||zAe(t,e)||VAe(t,e)||UAe()}function UAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VAe(t,e){if(t){if(typeof t=="string")return c9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c9(t,e)}}function c9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function HAe(t){if(Array.isArray(t))return t}var ax=Math.PI/180,$Ae=function(e){return e*180/Math.PI},gr=function(e,n,r,i){return{x:e+Math.cos(-ax*i)*r,y:n+Math.sin(-ax*i)*r}},hY=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},GAe=function(e,n,r,i,s){var o=e.width,a=e.height,c=e.startAngle,u=e.endAngle,g=Zs(e.cx,o,o/2),m=Zs(e.cy,a,a/2),w=hY(o,a,r),A=Zs(e.innerRadius,w,0),I=Zs(e.outerRadius,w,w*.8),T=Object.keys(n);return T.reduce(function(C,R){var B=n[R],k=B.domain,V=B.reversed,D;if(an(B.range))i==="angleAxis"?D=[c,u]:i==="radiusAxis"&&(D=[A,I]),V&&(D=[D[1],D[0]]);else{D=B.range;var j=D,O=FAe(j,2);c=O[0],u=O[1]}var M=oY(B,s),U=M.realScaleType,K=M.scale;K.domain(k).range(D),aY(K);var q=lY(K,lc(lc({},B),{},{realScaleType:U})),G=lc(lc(lc({},B),q),{},{range:D,radius:I,realScaleType:U,scale:K,cx:g,cy:m,innerRadius:A,outerRadius:I,startAngle:c,endAngle:u});return lc(lc({},C),{},fY({},R,G))},{})},WAe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},qAe=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=WAe({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var c=(r-s)/a,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:a,angle:$Ae(u),angleInRadian:u}},KAe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},YAe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},u9=function(e,n){var r=e.x,i=e.y,s=qAe({x:r,y:i},n),o=s.radius,a=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var g=KAe(n),m=g.startAngle,w=g.endAngle,A=a,I;if(m<=w){for(;A>w;)A-=360;for(;A<m;)A+=360;I=A>=m&&A<=w}else{for(;A>m;)A-=360;for(;A<w;)A+=360;I=A>=w&&A<=m}return I?lc(lc({},n),{},{radius:o,angle:YAe(A,n)}):null},dY=function(e){return!X.isValidElement(e)&&!zt(e)&&typeof e!="boolean"?e.className:""};function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}var XAe=["offset"];function QAe(t){return tEe(t)||eEe(t)||JAe(t)||ZAe()}function ZAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JAe(t,e){if(t){if(typeof t=="string")return YP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(t,e)}}function eEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tEe(t){if(Array.isArray(t))return YP(t)}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nEe(t,e){if(t==null)return{};var n=rEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function f9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f9(Object(n),!0).forEach(function(r){iEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iEe(t,e,n){return e=sEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sEe(t){var e=oEe(t,"string");return z0(e)=="symbol"?e:e+""}function oEe(t,e){if(z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}var aEe=function(e){var n=e.value,r=e.formatter,i=an(e.children)?n:e.children;return zt(r)?r(i):i},lEe=function(e,n){var r=Qs(n-e),i=Math.min(Math.abs(n-e),360);return r*i},cEe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,c=s,u=c.cx,g=c.cy,m=c.innerRadius,w=c.outerRadius,A=c.startAngle,I=c.endAngle,T=c.clockWise,C=(m+w)/2,R=lEe(A,I),B=R>=0?1:-1,k,V;i==="insideStart"?(k=A+B*o,V=T):i==="insideEnd"?(k=I-B*o,V=!T):i==="end"&&(k=I+B*o,V=T),V=R<=0?V:!V;var D=gr(u,g,C,k),j=gr(u,g,C,k+(V?1:-1)*359),O="M".concat(D.x,",").concat(D.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(V?0:1,`,
    `).concat(j.x,",").concat(j.y),M=an(e.id)?Dy("recharts-radial-line-"):e.id;return se.createElement("text",H0({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",a)}),se.createElement("defs",null,se.createElement("path",{id:M,d:O})),se.createElement("textPath",{xlinkHref:"#".concat(M)},n))},uEe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,c=s.innerRadius,u=s.outerRadius,g=s.startAngle,m=s.endAngle,w=(g+m)/2;if(i==="outside"){var A=gr(o,a,u+r,w),I=A.x,T=A.y;return{x:I,y:T,textAnchor:I>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var C=(c+u)/2,R=gr(o,a,C,w),B=R.x,k=R.y;return{x:B,y:k,textAnchor:"middle",verticalAnchor:"middle"}},fEe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,c=o.y,u=o.width,g=o.height,m=g>=0?1:-1,w=m*i,A=m>0?"end":"start",I=m>0?"start":"end",T=u>=0?1:-1,C=T*i,R=T>0?"end":"start",B=T>0?"start":"end";if(s==="top"){var k={x:a+u/2,y:c-m*i,textAnchor:"middle",verticalAnchor:A};return Li(Li({},k),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var V={x:a+u/2,y:c+g+w,textAnchor:"middle",verticalAnchor:I};return Li(Li({},V),r?{height:Math.max(r.y+r.height-(c+g),0),width:u}:{})}if(s==="left"){var D={x:a-C,y:c+g/2,textAnchor:R,verticalAnchor:"middle"};return Li(Li({},D),r?{width:Math.max(D.x-r.x,0),height:g}:{})}if(s==="right"){var j={x:a+u+C,y:c+g/2,textAnchor:B,verticalAnchor:"middle"};return Li(Li({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:g}:{})}var O=r?{width:u,height:g}:{};return s==="insideLeft"?Li({x:a+C,y:c+g/2,textAnchor:B,verticalAnchor:"middle"},O):s==="insideRight"?Li({x:a+u-C,y:c+g/2,textAnchor:R,verticalAnchor:"middle"},O):s==="insideTop"?Li({x:a+u/2,y:c+w,textAnchor:"middle",verticalAnchor:I},O):s==="insideBottom"?Li({x:a+u/2,y:c+g-w,textAnchor:"middle",verticalAnchor:A},O):s==="insideTopLeft"?Li({x:a+C,y:c+w,textAnchor:B,verticalAnchor:I},O):s==="insideTopRight"?Li({x:a+u-C,y:c+w,textAnchor:R,verticalAnchor:I},O):s==="insideBottomLeft"?Li({x:a+C,y:c+g-w,textAnchor:B,verticalAnchor:A},O):s==="insideBottomRight"?Li({x:a+u-C,y:c+g-w,textAnchor:R,verticalAnchor:A},O):Pg(s)&&(Je(s.x)||oh(s.x))&&(Je(s.y)||oh(s.y))?Li({x:a+Zs(s.x,u),y:c+Zs(s.y,g),textAnchor:"end",verticalAnchor:"end"},O):Li({x:a+u/2,y:c+g/2,textAnchor:"middle",verticalAnchor:"middle"},O)},hEe=function(e){return"cx"in e&&Je(e.cx)};function es(t){var e=t.offset,n=e===void 0?5:e,r=nEe(t,XAe),i=Li({offset:n},r),s=i.viewBox,o=i.position,a=i.value,c=i.children,u=i.content,g=i.className,m=g===void 0?"":g,w=i.textBreakAll;if(!s||an(a)&&an(c)&&!X.isValidElement(u)&&!zt(u))return null;if(X.isValidElement(u))return X.cloneElement(u,i);var A;if(zt(u)){if(A=X.createElement(u,i),X.isValidElement(A))return A}else A=aEe(i);var I=hEe(s),T=Lt(i,!0);if(I&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cEe(i,A,T);var C=I?uEe(i):fEe(i);return se.createElement(Bh,H0({className:Qt("recharts-label",m)},T,C,{breakAll:w}),A)}es.displayName="Label";var pY=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,c=e.radius,u=e.innerRadius,g=e.outerRadius,m=e.x,w=e.y,A=e.top,I=e.left,T=e.width,C=e.height,R=e.clockWise,B=e.labelViewBox;if(B)return B;if(Je(T)&&Je(C)){if(Je(m)&&Je(w))return{x:m,y:w,width:T,height:C};if(Je(A)&&Je(I))return{x:A,y:I,width:T,height:C}}return Je(m)&&Je(w)?{x:m,y:w,width:0,height:0}:Je(n)&&Je(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:g||c||a||0,clockWise:R}:e.viewBox?e.viewBox:{}},dEe=function(e,n){return e?e===!0?se.createElement(es,{key:"label-implicit",viewBox:n}):Ui(e)?se.createElement(es,{key:"label-implicit",viewBox:n,value:e}):X.isValidElement(e)?e.type===es?X.cloneElement(e,{key:"label-implicit",viewBox:n}):se.createElement(es,{key:"label-implicit",content:e,viewBox:n}):zt(e)?se.createElement(es,{key:"label-implicit",content:e,viewBox:n}):Pg(e)?se.createElement(es,H0({viewBox:n},e,{key:"label-implicit"})):null:null},pEe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=pY(e),o=xa(i,es).map(function(c,u){return X.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var a=dEe(e.label,n||s);return[a].concat(QAe(o))};es.parseViewBox=pY;es.renderCallByParent=pEe;var W_,h9;function gEe(){if(h9)return W_;h9=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return W_=t,W_}var mEe=gEe();const yEe=On(mEe);function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}var vEe=["valueAccessor"],wEe=["data","dataKey","clockWise","id","textBreakAll"];function xEe(t){return SEe(t)||EEe(t)||AEe(t)||bEe()}function bEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AEe(t,e){if(t){if(typeof t=="string")return XP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XP(t,e)}}function EEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SEe(t){if(Array.isArray(t))return XP(t)}function XP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(this,arguments)}function d9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d9(Object(n),!0).forEach(function(r){TEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TEe(t,e,n){return e=_Ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ee(t){var e=CEe(t,"string");return $0(e)=="symbol"?e:e+""}function CEe(t,e){if($0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g9(t,e){if(t==null)return{};var n=IEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var PEe=function(e){return Array.isArray(e.value)?yEe(e.value):e.value};function qu(t){var e=t.valueAccessor,n=e===void 0?PEe:e,r=g9(t,vEe),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,c=r.textBreakAll,u=g9(r,wEe);return!i||!i.length?null:se.createElement(Yn,{className:"recharts-label-list"},i.map(function(g,m){var w=an(s)?n(g,m):Ls(g&&g.payload,s),A=an(a)?{}:{id:"".concat(a,"-").concat(m)};return se.createElement(es,lx({},Lt(g,!0),u,A,{parentViewBox:g.parentViewBox,value:w,textBreakAll:c,viewBox:es.parseViewBox(an(o)?g:p9(p9({},g),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}qu.displayName="LabelList";function NEe(t,e){return t?t===!0?se.createElement(qu,{key:"labelList-implicit",data:e}):se.isValidElement(t)||zt(t)?se.createElement(qu,{key:"labelList-implicit",data:e,content:t}):Pg(t)?se.createElement(qu,lx({data:e},t,{key:"labelList-implicit"})):null:null}function OEe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=xa(r,qu).map(function(o,a){return X.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=NEe(t.label,e);return[s].concat(xEe(i))}qu.renderCallByParent=OEe;function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function QP(){return QP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QP.apply(this,arguments)}function m9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(n),!0).forEach(function(r){REe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function REe(t,e,n){return e=kEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kEe(t){var e=MEe(t,"string");return G0(e)=="symbol"?e:e+""}function MEe(t,e){if(G0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DEe=function(e,n){var r=Qs(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},pv=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,g=c*(a?1:-1)+i,m=Math.asin(c/g)/ax,w=u?s:s+o*m,A=gr(n,r,g,w),I=gr(n,r,i,w),T=u?s-o*m:s,C=gr(n,r,g*Math.cos(m*ax),T);return{center:A,circleTangency:I,lineTangency:C,theta:m}},gY=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,c=DEe(o,a),u=o+c,g=gr(n,r,s,o),m=gr(n,r,s,u),w="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var A=gr(n,r,i,o),I=gr(n,r,i,u);w+="L ".concat(I.x,",").concat(I.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(A.x,",").concat(A.y," Z")}else w+="L ".concat(n,",").concat(r," Z");return w},LEe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,g=e.endAngle,m=Qs(g-u),w=pv({cx:n,cy:r,radius:s,angle:u,sign:m,cornerRadius:o,cornerIsExternal:c}),A=w.circleTangency,I=w.lineTangency,T=w.theta,C=pv({cx:n,cy:r,radius:s,angle:g,sign:-m,cornerRadius:o,cornerIsExternal:c}),R=C.circleTangency,B=C.lineTangency,k=C.theta,V=c?Math.abs(u-g):Math.abs(u-g)-T-k;if(V<0)return a?"M ".concat(I.x,",").concat(I.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):gY({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:g});var D="M ".concat(I.x,",").concat(I.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,`
  `);if(i>0){var j=pv({cx:n,cy:r,radius:i,angle:u,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=j.circleTangency,M=j.lineTangency,U=j.theta,K=pv({cx:n,cy:r,radius:i,angle:g,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),q=K.circleTangency,G=K.lineTangency,$=K.theta,ce=c?Math.abs(u-g):Math.abs(u-g)-U-$;if(ce<0&&o===0)return"".concat(D,"L").concat(n,",").concat(r,"Z");D+="L".concat(G.x,",").concat(G.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ce>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else D+="L".concat(n,",").concat(r,"Z");return D},BEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mY=function(e){var n=y9(y9({},BEe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,g=n.startAngle,m=n.endAngle,w=n.className;if(o<s||g===m)return null;var A=Qt("recharts-sector",w),I=o-s,T=Zs(a,I,0,!0),C;return T>0&&Math.abs(g-m)<360?C=LEe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(T,I/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:g,endAngle:m}):C=gY({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:g,endAngle:m}),se.createElement("path",QP({},Lt(n,!0),{className:A,d:C,role:"img"}))};function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function ZP(){return ZP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZP.apply(this,arguments)}function v9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v9(Object(n),!0).forEach(function(r){jEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jEe(t,e,n){return e=FEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FEe(t){var e=UEe(t,"string");return W0(e)=="symbol"?e:e+""}function UEe(t,e){if(W0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(W0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x9={curveBasisClosed:o0e,curveBasisOpen:a0e,curveBasis:s0e,curveBumpX:Gme,curveBumpY:Wme,curveLinearClosed:l0e,curveLinear:Rb,curveMonotoneX:c0e,curveMonotoneY:u0e,curveNatural:f0e,curveStep:h0e,curveStepAfter:p0e,curveStepBefore:d0e},gv=function(e){return e.x===+e.x&&e.y===+e.y},vm=function(e){return e.x},wm=function(e){return e.y},VEe=function(e,n){if(zt(e))return e;var r="curve".concat(Nb(e));return(r==="curveMonotone"||r==="curveBump")&&n?x9["".concat(r).concat(n==="vertical"?"Y":"X")]:x9[r]||Rb},zEe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,c=e.connectNulls,u=c===void 0?!1:c,g=VEe(r,a),m=u?s.filter(function(T){return gv(T)}):s,w;if(Array.isArray(o)){var A=u?o.filter(function(T){return gv(T)}):o,I=m.map(function(T,C){return w9(w9({},T),{},{base:A[C]})});return a==="vertical"?w=ov().y(wm).x1(vm).x0(function(T){return T.base.x}):w=ov().x(vm).y1(wm).y0(function(T){return T.base.y}),w.defined(gv).curve(g),w(I)}return a==="vertical"&&Je(o)?w=ov().y(wm).x1(vm).x0(o):Je(o)?w=ov().x(vm).y1(wm).y0(o):w=pq().x(vm).y(wm),w.defined(gv).curve(g),w(m)},JP=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?zEe(e):i;return X.createElement("path",ZP({},Lt(e,!1),Lw(e),{className:Qt("recharts-curve",n),d:o,ref:s}))},q_={exports:{}},K_,b9;function HEe(){if(b9)return K_;b9=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return K_=t,K_}var Y_,A9;function $Ee(){if(A9)return Y_;A9=1;var t=HEe();function e(){}function n(){}return n.resetWarningCache=e,Y_=function(){function r(o,a,c,u,g,m){if(m!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Y_}var E9;function GEe(){return E9||(E9=1,q_.exports=$Ee()()),q_.exports}var WEe=GEe();const Un=On(WEe);var qEe=Object.getOwnPropertyNames,KEe=Object.getOwnPropertySymbols,YEe=Object.prototype.hasOwnProperty;function S9(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function mv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function T9(t){return qEe(t).concat(KEe(t))}var XEe=Object.hasOwn||(function(t,e){return YEe.call(t,e)});function nd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var QEe="__v",ZEe="__o",JEe="_owner",_9=Object.getOwnPropertyDescriptor,C9=Object.keys;function e2e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function t2e(t,e){return nd(t.getTime(),e.getTime())}function n2e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function r2e(t,e){return t===e}function I9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),g=!1,m=0;(a=u.next())&&!a.done;){if(i[m]){m++;continue}var w=o.value,A=a.value;if(n.equals(w[0],A[0],c,m,t,e,n)&&n.equals(w[1],A[1],w[0],A[0],t,e,n)){g=i[m]=!0;break}m++}if(!g)return!1;c++}return!0}var i2e=nd;function s2e(t,e,n){var r=C9(t),i=r.length;if(C9(e).length!==i)return!1;for(;i-- >0;)if(!yY(t,e,n,r[i]))return!1;return!0}function xm(t,e,n){var r=T9(t),i=r.length;if(T9(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!yY(t,e,n,s)||(o=_9(t,s),a=_9(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function o2e(t,e){return nd(t.valueOf(),e.valueOf())}function a2e(t,e){return t.source===e.source&&t.flags===e.flags}function P9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,g=0;(a=c.next())&&!a.done;){if(!i[g]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){u=i[g]=!0;break}g++}if(!u)return!1}return!0}function l2e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function c2e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function yY(t,e,n,r){return(r===JEe||r===ZEe||r===QEe)&&(t.$$typeof||e.$$typeof)?!0:XEe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var u2e="[object Arguments]",f2e="[object Boolean]",h2e="[object Date]",d2e="[object Error]",p2e="[object Map]",g2e="[object Number]",m2e="[object Object]",y2e="[object RegExp]",v2e="[object Set]",w2e="[object String]",x2e="[object URL]",b2e=Array.isArray,N9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,O9=Object.assign,A2e=Object.prototype.toString.call.bind(Object.prototype.toString);function E2e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,g=t.areSetsEqual,m=t.areTypedArraysEqual,w=t.areUrlsEqual;return function(I,T,C){if(I===T)return!0;if(I==null||T==null)return!1;var R=typeof I;if(R!==typeof T)return!1;if(R!=="object")return R==="number"?o(I,T,C):R==="function"?i(I,T,C):!1;var B=I.constructor;if(B!==T.constructor)return!1;if(B===Object)return a(I,T,C);if(b2e(I))return e(I,T,C);if(N9!=null&&N9(I))return m(I,T,C);if(B===Date)return n(I,T,C);if(B===RegExp)return u(I,T,C);if(B===Map)return s(I,T,C);if(B===Set)return g(I,T,C);var k=A2e(I);return k===h2e?n(I,T,C):k===y2e?u(I,T,C):k===p2e?s(I,T,C):k===v2e?g(I,T,C):k===m2e?typeof I.then!="function"&&typeof T.then!="function"&&a(I,T,C):k===x2e?w(I,T,C):k===d2e?r(I,T,C):k===u2e?a(I,T,C):k===f2e||k===g2e||k===w2e?c(I,T,C):!1}}function S2e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?xm:e2e,areDatesEqual:t2e,areErrorsEqual:n2e,areFunctionsEqual:r2e,areMapsEqual:r?S9(I9,xm):I9,areNumbersEqual:i2e,areObjectsEqual:r?xm:s2e,arePrimitiveWrappersEqual:o2e,areRegExpsEqual:a2e,areSetsEqual:r?S9(P9,xm):P9,areTypedArraysEqual:r?xm:l2e,areUrlsEqual:c2e};if(n&&(i=O9({},i,n(i))),e){var s=mv(i.areArraysEqual),o=mv(i.areMapsEqual),a=mv(i.areObjectsEqual),c=mv(i.areSetsEqual);i=O9({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:c})}return i}function T2e(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function _2e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var g=r(),m=g.cache,w=m===void 0?e?new WeakMap:void 0:m,A=g.meta;return n(c,u,{cache:w,equals:i,meta:A,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var C2e=wf();wf({strict:!0});wf({circular:!0});wf({circular:!0,strict:!0});wf({createInternalComparator:function(){return nd}});wf({strict:!0,createInternalComparator:function(){return nd}});wf({circular:!0,createInternalComparator:function(){return nd}});wf({circular:!0,createInternalComparator:function(){return nd},strict:!0});function wf(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=S2e(t),c=E2e(a),u=r?r(c):T2e(c);return _2e({circular:n,comparator:c,createState:i,equals:u,strict:o})}function I2e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function R9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):I2e(i)};requestAnimationFrame(r)}function eN(t){"@babel/helpers - typeof";return eN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eN(t)}function P2e(t){return k2e(t)||R2e(t)||O2e(t)||N2e()}function N2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2e(t,e){if(t){if(typeof t=="string")return k9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k9(t,e)}}function k9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k2e(t){if(Array.isArray(t))return t}function M2e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=P2e(o),c=a[0],u=a.slice(1);if(typeof c=="number"){R9(i.bind(null,u),c);return}i(c),R9(i.bind(null,u));return}eN(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function M9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(n),!0).forEach(function(r){vY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vY(t,e,n){return e=D2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D2e(t){var e=L2e(t,"string");return q0(e)==="symbol"?e:String(e)}function L2e(t,e){if(q0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B2e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},j2e=function(e){return e},F2e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Jm=function(e,n){return Object.keys(n).reduce(function(r,i){return D9(D9({},r),{},vY({},i,e(i,n[i])))},{})},L9=function(e,n,r){return e.map(function(i){return"".concat(F2e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function U2e(t,e){return H2e(t)||z2e(t,e)||wY(t,e)||V2e()}function V2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function H2e(t){if(Array.isArray(t))return t}function $2e(t){return q2e(t)||W2e(t)||wY(t)||G2e()}function G2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wY(t,e){if(t){if(typeof t=="string")return tN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tN(t,e)}}function W2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q2e(t){if(Array.isArray(t))return tN(t)}function tN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cx=1e-4,xY=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},bY=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},B9=function(e,n){return function(r){var i=xY(e,n);return bY(i,r)}},K2e=function(e,n){return function(r){var i=xY(e,n),s=[].concat($2e(i.map(function(o,a){return o*a}).slice(1)),[0]);return bY(s,r)}},j9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(C){return parseFloat(C)}),g=U2e(u,4);i=g[0],s=g[1],o=g[2],a=g[3]}}}var m=B9(i,o),w=B9(s,a),A=K2e(i,o),I=function(R){return R>1?1:R<0?0:R},T=function(R){for(var B=R>1?1:R,k=B,V=0;V<8;++V){var D=m(k)-B,j=A(k);if(Math.abs(D-B)<cx||j<cx)return w(k);k=I(k-D/j)}return w(k)};return T.isStepper=!1,T},Y2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,c=function(g,m,w){var A=-(g-m)*r,I=w*s,T=w+(A-I)*a/1e3,C=w*a/1e3+g;return Math.abs(C-m)<cx&&Math.abs(T)<cx?[m,0]:[C,T]};return c.isStepper=!0,c.dt=a,c},X2e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return j9(i);case"spring":return Y2e();default:if(i.split("(")[0]==="cubic-bezier")return j9(i)}return typeof i=="function"?i:null};function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function F9(t){return J2e(t)||Z2e(t)||AY(t)||Q2e()}function Q2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J2e(t){if(Array.isArray(t))return rN(t)}function U9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(n),!0).forEach(function(r){nN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nN(t,e,n){return e=eSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eSe(t){var e=tSe(t,"string");return K0(e)==="symbol"?e:String(e)}function tSe(t,e){if(K0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(K0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nSe(t,e){return sSe(t)||iSe(t,e)||AY(t,e)||rSe()}function rSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(t,e){if(t){if(typeof t=="string")return rN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(t,e)}}function rN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function sSe(t){if(Array.isArray(t))return t}var ux=function(e,n,r){return e+(n-e)*r},iN=function(e){var n=e.from,r=e.to;return n!==r},oSe=function t(e,n,r){var i=Jm(function(s,o){if(iN(o)){var a=e(o.from,o.to,o.velocity),c=nSe(a,2),u=c[0],g=c[1];return hs(hs({},o),{},{from:u,velocity:g})}return o},n);return r<1?Jm(function(s,o){return iN(o)?hs(hs({},o),{},{velocity:ux(o.velocity,i[s].velocity,r),from:ux(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const aSe=(function(t,e,n,r,i){var s=B2e(t,e),o=s.reduce(function(C,R){return hs(hs({},C),{},nN({},R,[t[R],e[R]]))},{}),a=s.reduce(function(C,R){return hs(hs({},C),{},nN({},R,{from:t[R],velocity:0,to:e[R]}))},{}),c=-1,u,g,m=function(){return null},w=function(){return Jm(function(R,B){return B.from},a)},A=function(){return!Object.values(a).filter(iN).length},I=function(R){u||(u=R);var B=R-u,k=B/n.dt;a=oSe(n,a,k),i(hs(hs(hs({},t),e),w())),u=R,A()||(c=requestAnimationFrame(m))},T=function(R){g||(g=R);var B=(R-g)/r,k=Jm(function(D,j){return ux.apply(void 0,F9(j).concat([n(B)]))},o);if(i(hs(hs(hs({},t),e),k)),B<1)c=requestAnimationFrame(m);else{var V=Jm(function(D,j){return ux.apply(void 0,F9(j).concat([n(1)]))},o);i(hs(hs(hs({},t),e),V))}};return m=n.isStepper?I:T,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}var lSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cSe(t,e){if(t==null)return{};var n=uSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function X_(t){return pSe(t)||dSe(t)||hSe(t)||fSe()}function fSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hSe(t,e){if(t){if(typeof t=="string")return sN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sN(t,e)}}function dSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pSe(t){if(Array.isArray(t))return sN(t)}function sN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(n),!0).forEach(function(r){Lm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lm(t,e,n){return e=EY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EY(r.key),r)}}function ySe(t,e,n){return e&&mSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EY(t){var e=vSe(t,"string");return Gp(e)==="symbol"?e:String(e)}function vSe(t,e){if(Gp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oN(t,e)}function oN(t,e){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oN(t,e)}function xSe(t){var e=bSe();return function(){var r=fx(t),i;if(e){var s=fx(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return aN(this,i)}}function aN(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lN(t)}function lN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(t)}var jc=(function(t){wSe(n,t);var e=xSe(n);function n(r,i){var s;gSe(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,c=o.attributeName,u=o.from,g=o.to,m=o.steps,w=o.children,A=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(lN(s)),s.changeStyle=s.changeStyle.bind(lN(s)),!a||A<=0)return s.state={style:{}},typeof w=="function"&&(s.state={style:g}),aN(s);if(m&&m.length)s.state={style:m[0].style};else if(u){if(typeof w=="function")return s.state={style:u},aN(s);s.state={style:c?Lm({},c,u):u}}else s.state={style:{}};return s}return ySe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,g=s.to,m=s.from,w=this.state.style;if(a){if(!o){var A={style:c?Lm({},c,g):g};this.state&&w&&(c&&w[c]!==g||!c&&w!==g)&&this.setState(A);return}if(!(C2e(i.to,g)&&i.canBegin&&i.isActive)){var I=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var T=I||u?m:i.to;if(this.state&&w){var C={style:c?Lm({},c,T):T};(c&&w[c]!==T||!c&&w!==T)&&this.setState(C)}this.runAnimation(Ma(Ma({},this.props),{},{from:T,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,c=i.duration,u=i.easing,g=i.begin,m=i.onAnimationEnd,w=i.onAnimationStart,A=aSe(o,a,X2e(u),c,this.changeStyle),I=function(){s.stopJSAnimation=A()};this.manager.start([w,g,I,c,m])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,c=i.onAnimationStart,u=o[0],g=u.style,m=u.duration,w=m===void 0?0:m,A=function(T,C,R){if(R===0)return T;var B=C.duration,k=C.easing,V=k===void 0?"ease":k,D=C.style,j=C.properties,O=C.onAnimationEnd,M=R>0?o[R-1]:C,U=j||Object.keys(D);if(typeof V=="function"||V==="spring")return[].concat(X_(T),[s.runJSAnimation.bind(s,{from:M.style,to:D,duration:B,easing:V}),B]);var K=L9(U,B,V),q=Ma(Ma(Ma({},M.style),D),{},{transition:K});return[].concat(X_(T),[q,B,O]).filter(j2e)};return this.manager.start([c].concat(X_(o.reduce(A,[g,Math.max(w,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=M2e());var s=i.begin,o=i.duration,a=i.attributeName,c=i.to,u=i.easing,g=i.onAnimationStart,m=i.onAnimationEnd,w=i.steps,A=i.children,I=this.manager;if(this.unSubscribe=I.subscribe(this.handleStyleChange),typeof u=="function"||typeof A=="function"||u==="spring"){this.runJSAnimation(i);return}if(w.length>1){this.runStepAnimation(i);return}var T=a?Lm({},a,c):c,C=L9(Object.keys(T),o,u);I.start([g,s,Ma(Ma({},T),{},{transition:C}),o,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=cSe(i,lSe),u=X.Children.count(s),g=this.state.style;if(typeof s=="function")return s(g);if(!a||u===0||o<=0)return s;var m=function(A){var I=A.props,T=I.style,C=T===void 0?{}:T,R=I.className,B=X.cloneElement(A,Ma(Ma({},c),{},{style:Ma(Ma({},C),g),className:R}));return B};return u===1?m(X.Children.only(s)):se.createElement("div",null,X.Children.map(s,function(w){return m(w)}))}}]),n})(X.PureComponent);jc.displayName="Animate";jc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jc.propTypes={from:Un.oneOfType([Un.object,Un.string]),to:Un.oneOfType([Un.object,Un.string]),attributeName:Un.string,duration:Un.number,begin:Un.number,easing:Un.oneOfType([Un.string,Un.func]),steps:Un.arrayOf(Un.shape({duration:Un.number.isRequired,style:Un.object.isRequired,easing:Un.oneOfType([Un.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Un.func]),properties:Un.arrayOf("string"),onAnimationEnd:Un.func})),children:Un.oneOfType([Un.node,Un.func]),isActive:Un.bool,canBegin:Un.bool,onAnimationEnd:Un.func,shouldReAnimate:Un.bool,onAnimationStart:Un.func,onAnimationReStart:Un.func};function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hx.apply(this,arguments)}function ASe(t,e){return _Se(t)||TSe(t,e)||SSe(t,e)||ESe()}function ESe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(t,e){if(t){if(typeof t=="string")return z9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z9(t,e)}}function z9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function _Se(t){if(Array.isArray(t))return t}function H9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(n),!0).forEach(function(r){CSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CSe(t,e,n){return e=ISe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ISe(t){var e=PSe(t,"string");return Y0(e)=="symbol"?e:e+""}function PSe(t,e){if(Y0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G9=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,g;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],w=0,A=4;w<A;w++)m[w]=s[w]>o?o:s[w];g="M".concat(e,",").concat(n+a*m[0]),m[0]>0&&(g+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(n)),g+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(g+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*m[1])),g+="L ".concat(e+r,",").concat(n+i-a*m[2]),m[2]>0&&(g+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),g+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(g+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*m[3])),g+="Z"}else if(o>0&&s===+s&&s>0){var I=Math.min(o,s);g="M ".concat(e,",").concat(n+a*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(u,",").concat(e+c*I,",").concat(n,`
            L `).concat(e+r-c*I,",").concat(n,`
            A `).concat(I,",").concat(I,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*I,`
            L `).concat(e+r,",").concat(n+i-a*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(u,",").concat(e+r-c*I,",").concat(n+i,`
            L `).concat(e+c*I,",").concat(n+i,`
            A `).concat(I,",").concat(I,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*I," Z")}else g="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return g},NSe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,c=n.height;if(Math.abs(a)>0&&Math.abs(c)>0){var u=Math.min(s,s+a),g=Math.max(s,s+a),m=Math.min(o,o+c),w=Math.max(o,o+c);return r>=u&&r<=g&&i>=m&&i<=w}return!1},OSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N3=function(e){var n=$9($9({},OSe),e),r=X.useRef(),i=X.useState(-1),s=ASe(i,2),o=s[0],a=s[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var c=n.x,u=n.y,g=n.width,m=n.height,w=n.radius,A=n.className,I=n.animationEasing,T=n.animationDuration,C=n.animationBegin,R=n.isAnimationActive,B=n.isUpdateAnimationActive;if(c!==+c||u!==+u||g!==+g||m!==+m||g===0||m===0)return null;var k=Qt("recharts-rectangle",A);return B?se.createElement(jc,{canBegin:o>0,from:{width:g,height:m,x:c,y:u},to:{width:g,height:m,x:c,y:u},duration:T,animationEasing:I,isActive:B},function(V){var D=V.width,j=V.height,O=V.x,M=V.y;return se.createElement(jc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:T,isActive:R,easing:I},se.createElement("path",hx({},Lt(n,!0),{className:k,d:G9(O,M,D,j,w),ref:r})))}):se.createElement("path",hx({},Lt(n,!0),{className:k,d:G9(c,u,g,m,w)}))},RSe=["points","className","baseLinePoints","connectNulls"];function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function kSe(t,e){if(t==null)return{};var n=MSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W9(t){return jSe(t)||BSe(t)||LSe(t)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LSe(t,e){if(t){if(typeof t=="string")return cN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(t,e)}}function BSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jSe(t){if(Array.isArray(t))return cN(t)}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var q9=function(e){return e&&e.x===+e.x&&e.y===+e.y},FSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){q9(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),q9(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},e0=function(e,n){var r=FSe(e);n&&(r=[r.reduce(function(s,o){return[].concat(W9(s),W9(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,c){return"".concat(o).concat(c===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},USe=function(e,n,r){var i=e0(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(e0(n.reverse(),r).slice(1))},VSe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=kSe(e,RSe);if(!n||!n.length)return null;var a=Qt("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=USe(n,i,s);return se.createElement("g",{className:a},se.createElement("path",Yd({},Lt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?se.createElement("path",Yd({},Lt(o,!0),{fill:"none",d:e0(n,s)})):null,c?se.createElement("path",Yd({},Lt(o,!0),{fill:"none",d:e0(i,s)})):null)}var g=e0(n,s);return se.createElement("path",Yd({},Lt(o,!0),{fill:g.slice(-1)==="Z"?o.fill:"none",className:a,d:g}))};function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uN.apply(this,arguments)}var O3=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Qt("recharts-dot",s);return n===+n&&r===+r&&i===+i?X.createElement("circle",uN({},Lt(e,!1),Lw(e),{className:o,cx:n,cy:r,r:i})):null};function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}var zSe=["x","y","top","left","width","height","className"];function fN(){return fN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fN.apply(this,arguments)}function K9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(n),!0).forEach(function(r){$Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Se(t,e,n){return e=GSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GSe(t){var e=WSe(t,"string");return X0(e)=="symbol"?e:e+""}function WSe(t,e){if(X0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(X0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qSe(t,e){if(t==null)return{};var n=KSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YSe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},XSe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,c=e.left,u=c===void 0?0:c,g=e.width,m=g===void 0?0:g,w=e.height,A=w===void 0?0:w,I=e.className,T=qSe(e,zSe),C=HSe({x:r,y:s,top:a,left:u,width:m,height:A},T);return!Je(r)||!Je(s)||!Je(m)||!Je(A)||!Je(a)||!Je(u)?null:se.createElement("path",fN({},Lt(C,!0),{className:Qt("recharts-cross",I),d:YSe(r,s,m,A,a,u)}))},Q_,Y9;function QSe(){if(Y9)return Q_;Y9=1;var t=$b(),e=jK(),n=$l();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return Q_=r,Q_}var ZSe=QSe();const JSe=On(ZSe);var Z_,X9;function eTe(){if(X9)return Z_;X9=1;var t=$b(),e=$l(),n=FK();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return Z_=r,Z_}var tTe=eTe();const nTe=On(tTe);var rTe=["cx","cy","angle","ticks","axisLine"],iTe=["ticks","tick","angle","tickFormatter","stroke"];function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t0.apply(this,arguments)}function Q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(n),!0).forEach(function(r){Qb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z9(t,e){if(t==null)return{};var n=sTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TY(r.key),r)}}function aTe(t,e,n){return e&&J9(t.prototype,e),n&&J9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lTe(t,e,n){return e=dx(e),cTe(t,SY()?Reflect.construct(e,n||[],dx(t).constructor):e.apply(t,n))}function cTe(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uTe(t)}function uTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SY=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(t)}function fTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hN(t,e)}function hN(t,e){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hN(t,e)}function Qb(t,e,n){return e=TY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TY(t){var e=hTe(t,"string");return Wp(e)=="symbol"?e:e+""}function hTe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zb=(function(t){function e(){return oTe(this,e),lTe(this,e,arguments)}return fTe(e,t),aTe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,c=s.cy;return gr(a,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,c=JSe(a,function(g){return g.coordinate||0}),u=nTe(a,function(g){return g.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,c=r.axisLine,u=Z9(r,rTe),g=a.reduce(function(I,T){return[Math.min(I[0],T.coordinate),Math.max(I[1],T.coordinate)]},[1/0,-1/0]),m=gr(i,s,g[0],o),w=gr(i,s,g[1],o),A=zf(zf(zf({},Lt(u,!1)),{},{fill:"none"},Lt(c,!1)),{},{x1:m.x,y1:m.y,x2:w.x,y2:w.y});return se.createElement("line",t0({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,c=i.tickFormatter,u=i.stroke,g=Z9(i,iTe),m=this.getTickTextAnchor(),w=Lt(g,!1),A=Lt(o,!1),I=s.map(function(T,C){var R=r.getTickValueCoord(T),B=zf(zf(zf(zf({textAnchor:m,transform:"rotate(".concat(90-a,", ").concat(R.x,", ").concat(R.y,")")},w),{},{stroke:"none",fill:u},A),{},{index:C},R),{},{payload:T});return se.createElement(Yn,t0({className:Qt("recharts-polar-radius-axis-tick",dY(o)),key:"tick-".concat(T.coordinate)},Lh(r.props,T,C)),e.renderTickItem(o,B,c?c(T.value,C):T.value))});return se.createElement(Yn,{className:"recharts-polar-radius-axis-ticks"},I)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:se.createElement(Yn,{className:Qt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),es.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return se.isValidElement(r)?o=se.cloneElement(r,i):zt(r)?o=r(i):o=se.createElement(Bh,t0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(X.PureComponent);Qb(Zb,"displayName","PolarRadiusAxis");Qb(Zb,"axisType","radiusAxis");Qb(Zb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}function eF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(n),!0).forEach(function(r){Jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CY(r.key),r)}}function pTe(t,e,n){return e&&tF(t.prototype,e),n&&tF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gTe(t,e,n){return e=px(e),mTe(t,_Y()?Reflect.construct(e,n||[],px(t).constructor):e.apply(t,n))}function mTe(t,e){if(e&&(qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(t)}function yTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Y=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(t)}function vTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dN(t,e)}function dN(t,e){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dN(t,e)}function Jb(t,e,n){return e=CY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=wTe(t,"string");return qp(e)=="symbol"?e:e+""}function wTe(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xTe=Math.PI/180,nF=1e-5,eA=(function(t){function e(){return dTe(this,e),gTe(this,e,arguments)}return vTe(e,t),pTe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,c=i.orientation,u=i.tickSize,g=u||8,m=gr(s,o,a,r.coordinate),w=gr(s,o,a+(c==="inner"?-1:1)*g,r.coordinate);return{x1:m.x,y1:m.y,x2:w.x,y2:w.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*xTe),o;return s>nF?o=i==="outer"?"start":"end":s<-nF?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,c=r.axisLineType,u=Hf(Hf({},Lt(this.props,!1)),{},{fill:"none"},Lt(a,!1));if(c==="circle")return se.createElement(O3,Zf({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var g=this.props.ticks,m=g.map(function(w){return gr(i,s,o,w.coordinate)});return se.createElement(VSe,Zf({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,c=i.tickFormatter,u=i.stroke,g=Lt(this.props,!1),m=Lt(o,!1),w=Hf(Hf({},g),{},{fill:"none"},Lt(a,!1)),A=s.map(function(I,T){var C=r.getTickLineCoord(I),R=r.getTickTextAnchor(I),B=Hf(Hf(Hf({textAnchor:R},g),{},{stroke:"none",fill:u},m),{},{index:T,payload:I,x:C.x2,y:C.y2});return se.createElement(Yn,Zf({className:Qt("recharts-polar-angle-axis-tick",dY(o)),key:"tick-".concat(I.coordinate)},Lh(r.props,I,T)),a&&se.createElement("line",Zf({className:"recharts-polar-angle-axis-tick-line"},w,C)),o&&e.renderTickItem(o,B,c?c(I.value,T):I.value))});return se.createElement(Yn,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:se.createElement(Yn,{className:Qt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return se.isValidElement(r)?o=se.cloneElement(r,i):zt(r)?o=r(i):o=se.createElement(Bh,Zf({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(X.PureComponent);Jb(eA,"displayName","PolarAngleAxis");Jb(eA,"axisType","angleAxis");Jb(eA,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var J_,rF;function bTe(){if(rF)return J_;rF=1;var t=Bq(),e=t(Object.getPrototypeOf,Object);return J_=e,J_}var eC,iF;function ATe(){if(iF)return eC;iF=1;var t=Gc(),e=bTe(),n=Wc(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,c=o.call(Object);function u(g){if(!n(g)||t(g)!=r)return!1;var m=e(g);if(m===null)return!0;var w=a.call(m,"constructor")&&m.constructor;return typeof w=="function"&&w instanceof w&&o.call(w)==c}return eC=u,eC}var ETe=ATe();const STe=On(ETe);var tC,sF;function TTe(){if(sF)return tC;sF=1;var t=Gc(),e=Wc(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return tC=r,tC}var _Te=TTe();const CTe=On(_Te);function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function ITe(t,e){return RTe(t)||OTe(t,e)||NTe(t,e)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NTe(t,e){if(t){if(typeof t=="string")return oF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oF(t,e)}}function oF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function RTe(t){if(Array.isArray(t))return t}function aF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(n),!0).forEach(function(r){kTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kTe(t,e,n){return e=MTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MTe(t){var e=DTe(t,"string");return Q0(e)=="symbol"?e:e+""}function DTe(t,e){if(Q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cF=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},LTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BTe=function(e){var n=lF(lF({},LTe),e),r=X.useRef(),i=X.useState(-1),s=ITe(i,2),o=s[0],a=s[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&a(k)}catch{}},[]);var c=n.x,u=n.y,g=n.upperWidth,m=n.lowerWidth,w=n.height,A=n.className,I=n.animationEasing,T=n.animationDuration,C=n.animationBegin,R=n.isUpdateAnimationActive;if(c!==+c||u!==+u||g!==+g||m!==+m||w!==+w||g===0&&m===0||w===0)return null;var B=Qt("recharts-trapezoid",A);return R?se.createElement(jc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:w,x:c,y:u},to:{upperWidth:g,lowerWidth:m,height:w,x:c,y:u},duration:T,animationEasing:I,isActive:R},function(k){var V=k.upperWidth,D=k.lowerWidth,j=k.height,O=k.x,M=k.y;return se.createElement(jc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:T,easing:I},se.createElement("path",gx({},Lt(n,!0),{className:B,d:cF(O,M,V,D,j),ref:r})))}):se.createElement("g",null,se.createElement("path",gx({},Lt(n,!0),{className:B,d:cF(c,u,g,m,w)})))},jTe=["option","shapeType","propTransformer","activeClassName","isActive"];function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function FTe(t,e){if(t==null)return{};var n=UTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){VTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VTe(t,e,n){return e=zTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zTe(t){var e=HTe(t,"string");return Z0(e)=="symbol"?e:e+""}function HTe(t,e){if(Z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Te(t,e){return mx(mx({},e),t)}function GTe(t,e){return t==="symbols"}function fF(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return se.createElement(N3,n);case"trapezoid":return se.createElement(BTe,n);case"sector":return se.createElement(mY,n);case"symbols":if(GTe(e))return se.createElement(YR,n);break;default:return null}}function WTe(t){return X.isValidElement(t)?t.props:t}function IY(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$Te:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,c=FTe(t,jTe),u;if(X.isValidElement(e))u=X.cloneElement(e,mx(mx({},c),WTe(e)));else if(zt(e))u=e(c);else if(STe(e)&&!CTe(e)){var g=i(e,c);u=se.createElement(fF,{shapeType:n,elementProps:g})}else{var m=c;u=se.createElement(fF,{shapeType:n,elementProps:m})}return a?se.createElement(Yn,{className:o},u):u}function tA(t,e){return e!=null&&"trapezoids"in t.props}function nA(t,e){return e!=null&&"sectors"in t.props}function J0(t,e){return e!=null&&"points"in t.props}function qTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function KTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function YTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function XTe(t,e){var n;return tA(t,e)?n=qTe:nA(t,e)?n=KTe:J0(t,e)&&(n=YTe),n}function QTe(t,e){var n;return tA(t,e)?n="trapezoids":nA(t,e)?n="sectors":J0(t,e)&&(n="points"),n}function ZTe(t,e){if(tA(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(nA(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return J0(t,e)?e.payload:{}}function JTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=QTe(n,e),s=ZTe(n,e),o=r.filter(function(c,u){var g=qb(s,c),m=n.props[i].filter(function(I){var T=XTe(n,e);return T(I,e)}),w=n.props[i].indexOf(m[m.length-1]),A=u===w;return g&&A}),a=r.indexOf(o[o.length-1]);return a}var Kv;function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(n),!0).forEach(function(r){ya(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NY(r.key),r)}}function t_e(t,e,n){return e&&dF(t.prototype,e),n&&dF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n_e(t,e,n){return e=yx(e),r_e(t,PY()?Reflect.construct(e,n||[],yx(t).constructor):e.apply(t,n))}function r_e(t,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i_e(t)}function i_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PY=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yx(t)}function s_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pN(t,e)}function pN(t,e){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pN(t,e)}function ya(t,e,n){return e=NY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NY(t){var e=o_e(t,"string");return Kp(e)=="symbol"?e:e+""}function o_e(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kc=(function(t){function e(n){var r;return e_e(this,e),r=n_e(this,e,[n]),ya(r,"pieRef",null),ya(r,"sectorRefs",[]),ya(r,"id",Dy("recharts-pie-")),ya(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),zt(i)&&i()}),ya(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),zt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return s_e(e,t),t_e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,c=s.dataKey,u=s.valueKey,g=Lt(this.props,!1),m=Lt(o,!1),w=Lt(a,!1),A=o&&o.offsetRadius||20,I=r.map(function(T,C){var R=(T.startAngle+T.endAngle)/2,B=gr(T.cx,T.cy,T.outerRadius+A,R),k=hr(hr(hr(hr({},g),T),{},{stroke:"none"},m),{},{index:C,textAnchor:e.getTextAnchor(B.x,T.cx)},B),V=hr(hr(hr(hr({},g),T),{},{fill:"none",stroke:T.fill},w),{},{index:C,points:[gr(T.cx,T.cy,T.outerRadius,R),B]}),D=c;return an(c)&&an(u)?D="value":an(c)&&(D=u),se.createElement(Yn,{key:"label-".concat(T.startAngle,"-").concat(T.endAngle,"-").concat(T.midAngle,"-").concat(C)},a&&e.renderLabelLineItem(a,V,"line"),e.renderLabelItem(o,k,Ls(T,D)))});return se.createElement(Yn,{className:"recharts-pie-labels"},I)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,c=s.inactiveShape;return r.map(function(u,g){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var m=i.isActiveIndex(g),w=c&&i.hasActiveIndex()?c:null,A=m?o:w,I=hr(hr({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return se.createElement(Yn,Xd({ref:function(C){C&&!i.sectorRefs.includes(C)&&i.sectorRefs.push(C)},tabIndex:-1,className:"recharts-pie-sector"},Lh(i.props,u,g),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(g)}),se.createElement(IY,Xd({option:A,isActive:m,shapeType:"sector"},I)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,c=i.animationDuration,u=i.animationEasing,g=i.animationId,m=this.state,w=m.prevSectors,A=m.prevIsAnimationActive;return se.createElement(jc,{begin:a,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(I){var T=I.t,C=[],R=s&&s[0],B=R.startAngle;return s.forEach(function(k,V){var D=w&&w[V],j=V>0?Ko(k,"paddingAngle",0):0;if(D){var O=Ou(D.endAngle-D.startAngle,k.endAngle-k.startAngle),M=hr(hr({},k),{},{startAngle:B+j,endAngle:B+O(T)+j});C.push(M),B=M.endAngle}else{var U=k.endAngle,K=k.startAngle,q=Ou(0,U-K),G=q(T),$=hr(hr({},k),{},{startAngle:B+j,endAngle:B+G+j});C.push($),B=$.endAngle}}),se.createElement(Yn,null,r.renderSectorsStatically(C))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!qb(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,c=i.label,u=i.cx,g=i.cy,m=i.innerRadius,w=i.outerRadius,A=i.isAnimationActive,I=this.state.isAnimationFinished;if(s||!o||!o.length||!Je(u)||!Je(g)||!Je(m)||!Je(w))return null;var T=Qt("recharts-pie",a);return se.createElement(Yn,{tabIndex:this.props.rootTabIndex,className:T,ref:function(R){r.pieRef=R}},this.renderSectors(),c&&this.renderLabels(o),es.renderCallByParent(this.props,null,!1),(!A||I)&&qu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(se.isValidElement(r))return se.cloneElement(r,i);if(zt(r))return r(i);var o=Qt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return se.createElement(JP,Xd({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(se.isValidElement(r))return se.cloneElement(r,i);var o=s;if(zt(r)&&(o=r(i),se.isValidElement(o)))return o;var a=Qt("recharts-pie-label-text",typeof r!="boolean"&&!zt(r)?r.className:"");return se.createElement(Bh,Xd({},i,{alignmentBaseline:"middle",className:a}),o)}}])})(X.PureComponent);Kv=Kc;ya(Kc,"displayName","Pie");ya(Kc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Og.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ya(Kc,"parseDeltaAngle",function(t,e){var n=Qs(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ya(Kc,"getRealPieData",function(t){var e=t.data,n=t.children,r=Lt(t,!1),i=xa(n,Bb);return e&&e.length?e.map(function(s,o){return hr(hr(hr({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return hr(hr({},r),s.props)}):[]});ya(Kc,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=hY(i,s),a=r+Zs(t.cx,i,i/2),c=n+Zs(t.cy,s,s/2),u=Zs(t.innerRadius,o,0),g=Zs(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:c,innerRadius:u,outerRadius:g,maxRadius:m}});ya(Kc,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?hr(hr({},e.type.defaultProps),e.props):e.props,i=Kv.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,c=r.paddingAngle,u=r.dataKey,g=r.nameKey,m=r.valueKey,w=r.tooltipType,A=Math.abs(r.minAngle),I=Kv.parseCoordinateOfPie(r,n),T=Kv.parseDeltaAngle(o,a),C=Math.abs(T),R=u;an(u)&&an(m)?(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R="value"):an(u)&&(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R=m);var B=i.filter(function(M){return Ls(M,R,0)!==0}).length,k=(C>=360?B:B-1)*c,V=C-B*A-k,D=i.reduce(function(M,U){var K=Ls(U,R,0);return M+(Je(K)?K:0)},0),j;if(D>0){var O;j=i.map(function(M,U){var K=Ls(M,R,0),q=Ls(M,g,U),G=(Je(K)?K:0)/D,$;U?$=O.endAngle+Qs(T)*c*(K!==0?1:0):$=o;var ce=$+Qs(T)*((K!==0?A:0)+G*V),J=($+ce)/2,oe=(I.innerRadius+I.outerRadius)/2,ae=[{name:q,value:K,payload:M,dataKey:R,type:w}],re=gr(I.cx,I.cy,oe,J);return O=hr(hr(hr({percent:G,cornerRadius:s,name:q,tooltipPayload:ae,midAngle:J,middleRadius:oe,tooltipPosition:re},M),I),{},{value:Ls(M,R),startAngle:$,endAngle:ce,payload:M,paddingAngle:Qs(T)*c}),O})}return hr(hr({},I),{},{sectors:j,data:i})});var nC,pF;function a_e(){if(pF)return nC;pF=1;var t=Math.ceil,e=Math.max;function n(r,i,s,o){for(var a=-1,c=e(t((i-r)/(s||1)),0),u=Array(c);c--;)u[o?c:++a]=r,r+=s;return u}return nC=n,nC}var rC,gF;function OY(){if(gF)return rC;gF=1;var t=Jq(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return rC=r,rC}var iC,mF;function l_e(){if(mF)return iC;mF=1;var t=a_e(),e=Lb(),n=OY();function r(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),t(s,o,a,i)}}return iC=r,iC}var sC,yF;function c_e(){if(yF)return sC;yF=1;var t=l_e(),e=t();return sC=e,sC}var u_e=c_e();const vx=On(u_e);function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function vF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(n),!0).forEach(function(r){RY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RY(t,e,n){return e=f_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f_e(t){var e=h_e(t,"string");return ey(e)=="symbol"?e:e+""}function h_e(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d_e=["Webkit","Moz","O","ms"],p_e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=d_e.reduce(function(s,o){return wF(wF({},s),{},RY({},o+r,n))},{});return i[e]=n,i};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(this,arguments)}function xF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(n),!0).forEach(function(r){jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MY(r.key),r)}}function m_e(t,e,n){return e&&bF(t.prototype,e),n&&bF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y_e(t,e,n){return e=xx(e),v_e(t,kY()?Reflect.construct(e,n||[],xx(t).constructor):e.apply(t,n))}function v_e(t,e){if(e&&(Yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_e(t)}function w_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kY=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xx(t)}function x_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gN(t,e)}function gN(t,e){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gN(t,e)}function jo(t,e,n){return e=MY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MY(t){var e=b_e(t,"string");return Yp(e)=="symbol"?e:e+""}function b_e(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Qm().domain(vx(0,c)).range([s,s+o-a]),g=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:g}},AF=function(e){return e.changedTouches&&!!e.changedTouches.length},Xp=(function(t){function e(n){var r;return g_e(this,e),r=y_e(this,e,[n]),jo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),jo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),jo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o?.({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),jo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),jo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),jo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),jo(r,"handleSlideDragStart",function(i){var s=AF(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return x_e(e,t),m_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,c=a.gap,u=a.data,g=u.length-1,m=Math.min(i,s),w=Math.max(i,s),A=e.getIndexInRange(o,m),I=e.getIndexInRange(o,w);return{startIndex:A-A%c,endIndex:I===g?g:I-I%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,c=Ls(s[r],a,r);return zt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,c=this.props,u=c.x,g=c.width,m=c.travellerWidth,w=c.startIndex,A=c.endIndex,I=c.onChange,T=r.pageX-s;T>0?T=Math.min(T,u+g-m-a,u+g-m-o):T<0&&(T=Math.max(T,u-o,u-a));var C=this.getIndex({startX:o+T,endX:a+T});(C.startIndex!==w||C.endIndex!==A)&&I&&I(C),this.setState({startX:o+T,endX:a+T,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=AF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,c=i.startX,u=this.state[o],g=this.props,m=g.x,w=g.width,A=g.travellerWidth,I=g.onChange,T=g.gap,C=g.data,R={startX:this.state.startX,endX:this.state.endX},B=r.pageX-s;B>0?B=Math.min(B,m+w-A-u):B<0&&(B=Math.max(B,m-u)),R[o]=u+B;var k=this.getIndex(R),V=k.startIndex,D=k.endIndex,j=function(){var M=C.length-1;return o==="startX"&&(a>c?V%T===0:D%T===0)||a<c&&D===M||o==="endX"&&(a>c?D%T===0:V%T===0)||a>c&&D===M};this.setState(jo(jo({},o,u+B),"brushMoveStartX",r.pageX),function(){I&&j()&&I(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,c=o.startX,u=o.endX,g=this.state[i],m=a.indexOf(g);if(m!==-1){var w=m+r;if(!(w===-1||w>=a.length)){var A=a[w];i==="startX"&&A>=u||i==="endX"&&A<=c||this.setState(jo({},i,A),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.fill,u=r.stroke;return se.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.data,u=r.children,g=r.padding,m=X.Children.only(u);return m?se.cloneElement(m,{x:i,y:s,width:o,height:a,margin:g,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,c=this.props,u=c.y,g=c.travellerWidth,m=c.height,w=c.traveller,A=c.ariaLabel,I=c.data,T=c.startIndex,C=c.endIndex,R=Math.max(r,this.props.x),B=oC(oC({},Lt(this.props,!1)),{},{x:R,y:u,width:g,height:m}),k=A||"Min value: ".concat((s=I[T])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=I[C])===null||o===void 0?void 0:o.name);return se.createElement(Yn,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(D){["ArrowLeft","ArrowRight"].includes(D.key)&&(D.preventDefault(),D.stopPropagation(),a.handleTravellerMoveKeyboard(D.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(w,B))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,c=s.stroke,u=s.travellerWidth,g=Math.min(r,i)+u,m=Math.max(Math.abs(i-r)-u,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:g,y:o,width:m,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,c=r.travellerWidth,u=r.stroke,g=this.state,m=g.startX,w=g.endX,A=5,I={pointerEvents:"none",fill:u};return se.createElement(Yn,{className:"recharts-brush-texts"},se.createElement(Bh,wx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,w)-A,y:o+a/2},I),this.getTextOfTick(i)),se.createElement(Bh,wx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,w)+c+A,y:o+a/2},I),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,c=r.y,u=r.width,g=r.height,m=r.alwaysShowText,w=this.state,A=w.startX,I=w.endX,T=w.isTextActive,C=w.isSlideMoving,R=w.isTravellerMoving,B=w.isTravellerFocused;if(!i||!i.length||!Je(a)||!Je(c)||!Je(u)||!Je(g)||u<=0||g<=0)return null;var k=Qt("recharts-brush",s),V=se.Children.count(o)===1,D=p_e("userSelect","none");return se.createElement(Yn,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:D},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(A,I),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(I,"endX"),(T||C||R||B||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,c=r.stroke,u=Math.floor(s+a/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:i,y:s,width:o,height:a,fill:c,stroke:"none"}),se.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return se.isValidElement(r)?s=se.cloneElement(r,i):zt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,c=r.travellerWidth,u=r.updateId,g=r.startIndex,m=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return oC({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?A_e({data:s,width:o,x:a,travellerWidth:c,startIndex:g,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([a,a+o-c]);var w=i.scale.domain().map(function(A){return i.scale(A)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:w}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var c=Math.floor((o+a)/2);r[c]>i?a=c:o=c}return i>=r[a]?a:o}}])})(X.PureComponent);jo(Xp,"displayName","Brush");jo(Xp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aC,EF;function E_e(){if(EF)return aC;EF=1;var t=n3();function e(n,r){var i;return t(n,function(s,o,a){return i=r(s,o,a),!i}),!!i}return aC=e,aC}var lC,SF;function S_e(){if(SF)return lC;SF=1;var t=Nq(),e=$l(),n=E_e(),r=To(),i=Lb();function s(o,a,c){var u=r(o)?t:n;return c&&i(o,a,c)&&(a=void 0),u(o,e(a,3))}return lC=s,lC}var T_e=S_e();const __e=On(T_e);var Rl=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},cC,TF;function C_e(){if(TF)return cC;TF=1;var t=Kq();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return cC=e,cC}var uC,_F;function I_e(){if(_F)return uC;_F=1;var t=C_e(),e=Wq(),n=$l();function r(i,s){var o={};return s=n(s,3),e(i,function(a,c,u){t(o,c,s(a,c,u))}),o}return uC=r,uC}var P_e=I_e();const N_e=On(P_e);var fC,CF;function O_e(){if(CF)return fC;CF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return fC=t,fC}var hC,IF;function R_e(){if(IF)return hC;IF=1;var t=n3();function e(n,r){var i=!0;return t(n,function(s,o,a){return i=!!r(s,o,a),i}),i}return hC=e,hC}var dC,PF;function k_e(){if(PF)return dC;PF=1;var t=O_e(),e=R_e(),n=$l(),r=To(),i=Lb();function s(o,a,c){var u=r(o)?t:e;return c&&i(o,a,c)&&(a=void 0),u(o,n(a,3))}return dC=s,dC}var M_e=k_e();const DY=On(M_e);var D_e=["x","y"];function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function mN(){return mN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mN.apply(this,arguments)}function NF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(n),!0).forEach(function(r){L_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L_e(t,e,n){return e=B_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B_e(t){var e=j_e(t,"string");return ty(e)=="symbol"?e:e+""}function j_e(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F_e(t,e){if(t==null)return{};var n=U_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function U_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V_e(t,e){var n=t.x,r=t.y,i=F_e(t,D_e),s="".concat(n),o=parseInt(s,10),a="".concat(r),c=parseInt(a,10),u="".concat(e.height||i.height),g=parseInt(u,10),m="".concat(e.width||i.width),w=parseInt(m,10);return bm(bm(bm(bm(bm({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:g,width:w,name:e.name,radius:e.radius})}function OF(t){return se.createElement(IY,mN({shapeType:"rectangle",propTransformer:V_e,activeClassName:"recharts-active-bar"},t))}var z_e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Je(r)||dme(r);return s?e(r,i):(s||Fh(),n)}},H_e=["value","background"],LY;function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function $_e(t,e){if(t==null)return{};var n=G_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bx.apply(this,arguments)}function RF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(n),!0).forEach(function(r){Vu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jY(r.key),r)}}function q_e(t,e,n){return e&&kF(t.prototype,e),n&&kF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_e(t,e,n){return e=Ax(e),Y_e(t,BY()?Reflect.construct(e,n||[],Ax(t).constructor):e.apply(t,n))}function Y_e(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X_e(t)}function X_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BY=function(){return!!t})()}function Ax(t){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(t)}function Q_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yN(t,e)}function yN(t,e){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yN(t,e)}function Vu(t,e,n){return e=jY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jY(t){var e=Z_e(t,"string");return Qp(e)=="symbol"?e:e+""}function Z_e(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vl=(function(t){function e(){var n;W_e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=K_e(this,e,[].concat(i)),Vu(n,"state",{isAnimationFinished:!1}),Vu(n,"id",Dy("recharts-bar-")),Vu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Vu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Q_e(e,t),q_e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,c=s.activeIndex,u=s.activeBar,g=Lt(this.props,!1);return r&&r.map(function(m,w){var A=w===c,I=A?u:o,T=Ai(Ai(Ai({},g),m),{},{isActive:A,option:I,index:w,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return se.createElement(Yn,bx({className:"recharts-bar-rectangle"},Lh(i.props,m,w),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(w)}),se.createElement(OF,T))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,g=i.animationEasing,m=i.animationId,w=this.state.prevData;return se.createElement(jc,{begin:c,duration:u,isActive:a,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var I=A.t,T=s.map(function(C,R){var B=w&&w[R];if(B){var k=Ou(B.x,C.x),V=Ou(B.y,C.y),D=Ou(B.width,C.width),j=Ou(B.height,C.height);return Ai(Ai({},C),{},{x:k(I),y:V(I),width:D(I),height:j(I)})}if(o==="horizontal"){var O=Ou(0,C.height),M=O(I);return Ai(Ai({},C),{},{y:C.y+C.height-M,height:M})}var U=Ou(0,C.width),K=U(I);return Ai(Ai({},C),{},{width:K})});return se.createElement(Yn,null,r.renderRectanglesStatically(T))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!qb(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,c=Lt(this.props.background,!1);return s.map(function(u,g){u.value;var m=u.background,w=$_e(u,H_e);if(!m)return null;var A=Ai(Ai(Ai(Ai(Ai({},w),{},{fill:"#eee"},m),c),Lh(r.props,u,g)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:g,className:"recharts-bar-background-rectangle"});return se.createElement(OF,bx({key:"background-bar-".concat(g),option:r.props.background,isActive:g===a},A))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,c=s.yAxis,u=s.layout,g=s.children,m=xa(g,Xb);if(!m)return null;var w=u==="vertical"?o[0].height/2:o[0].width/2,A=function(C,R){var B=Array.isArray(C.value)?C.value[1]:C.value;return{x:C.x,y:C.y,value:B,errorVal:Ls(C,R)}},I={clipPath:r?"url(#clipPath-".concat(i,")"):null};return se.createElement(Yn,I,m.map(function(T){return se.cloneElement(T,{key:"error-bar-".concat(i,"-").concat(T.props.dataKey),data:o,xAxis:a,yAxis:c,layout:u,offset:w,dataPointFormatter:A})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,c=r.yAxis,u=r.left,g=r.top,m=r.width,w=r.height,A=r.isAnimationActive,I=r.background,T=r.id;if(i||!s||!s.length)return null;var C=this.state.isAnimationFinished,R=Qt("recharts-bar",o),B=a&&a.allowDataOverflow,k=c&&c.allowDataOverflow,V=B||k,D=an(T)?this.id:T;return se.createElement(Yn,{className:R},B||k?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(D)},se.createElement("rect",{x:B?u:u-m/2,y:k?g:g-w/2,width:B?m:m*2,height:k?w:w*2}))):null,se.createElement(Yn,{className:"recharts-bar-rectangles",clipPath:V?"url(#clipPath-".concat(D,")"):null},I?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(V,D),(!A||C)&&qu.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(X.PureComponent);LY=Vl;Vu(Vl,"displayName","Bar");Vu(Vl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Og.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vu(Vl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,g=t.dataStartIndex,m=t.displayedData,w=t.offset,A=CAe(r,n);if(!A)return null;var I=e.layout,T=n.type.defaultProps,C=T!==void 0?Ai(Ai({},T),n.props):n.props,R=C.dataKey,B=C.children,k=C.minPointSize,V=I==="horizontal"?o:s,D=u?V.scale.domain():null,j=MAe({numericAxis:V}),O=xa(B,Bb),M=m.map(function(U,K){var q,G,$,ce,J,oe;u?q=IAe(u[g+K],D):(q=Ls(U,R),Array.isArray(q)||(q=[j,q]));var ae=z_e(k,LY.defaultProps.minPointSize)(q[1],K);if(I==="horizontal"){var re,pe=[o.scale(q[0]),o.scale(q[1])],we=pe[0],ue=pe[1];G=i9({axis:s,ticks:a,bandSize:i,offset:A.offset,entry:U,index:K}),$=(re=ue??we)!==null&&re!==void 0?re:void 0,ce=A.size;var he=we-ue;if(J=Number.isNaN(he)?0:he,oe={x:G,y:o.y,width:ce,height:o.height},Math.abs(ae)>0&&Math.abs(J)<Math.abs(ae)){var xe=Qs(J||ae)*(Math.abs(ae)-Math.abs(J));$-=xe,J+=xe}}else{var Re=[s.scale(q[0]),s.scale(q[1])],Ue=Re[0],Me=Re[1];if(G=Ue,$=i9({axis:o,ticks:c,bandSize:i,offset:A.offset,entry:U,index:K}),ce=Me-Ue,J=A.size,oe={x:s.x,y:$,width:s.width,height:J},Math.abs(ae)>0&&Math.abs(ce)<Math.abs(ae)){var ke=Qs(ce||ae)*(Math.abs(ae)-Math.abs(ce));ce+=ke}}return Ai(Ai(Ai({},U),{},{x:G,y:$,width:ce,height:J,value:u?q:q[1],payload:U,background:oe},O&&O[K]&&O[K].props),{},{tooltipPayload:[uY(n,U)],tooltipPosition:{x:G+ce/2,y:$+J/2}})});return Ai({data:M,layout:I},w)});function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function J_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FY(r.key),r)}}function eCe(t,e,n){return e&&MF(t.prototype,e),n&&MF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(n),!0).forEach(function(r){rA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rA(t,e,n){return e=FY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FY(t){var e=tCe(t,"string");return ny(e)=="symbol"?e:e+""}function tCe(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nCe=function(e,n,r,i,s){var o=e.width,a=e.height,c=e.layout,u=e.children,g=Object.keys(n),m={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},w=!!Vo(u,Vl);return g.reduce(function(A,I){var T=n[I],C=T.orientation,R=T.domain,B=T.padding,k=B===void 0?{}:B,V=T.mirror,D=T.reversed,j="".concat(C).concat(V?"Mirror":""),O,M,U,K,q;if(T.type==="number"&&(T.padding==="gap"||T.padding==="no-gap")){var G=R[1]-R[0],$=1/0,ce=T.categoricalDomain.sort(mme);if(ce.forEach(function(Re,Ue){Ue>0&&($=Math.min((Re||0)-(ce[Ue-1]||0),$))}),Number.isFinite($)){var J=$/G,oe=T.layout==="vertical"?r.height:r.width;if(T.padding==="gap"&&(O=J*oe/2),T.padding==="no-gap"){var ae=Zs(e.barCategoryGap,J*oe),re=J*oe/2;O=re-ae-(re-ae)/oe*ae}}}i==="xAxis"?M=[r.left+(k.left||0)+(O||0),r.left+r.width-(k.right||0)-(O||0)]:i==="yAxis"?M=c==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(O||0),r.top+r.height-(k.bottom||0)-(O||0)]:M=T.range,D&&(M=[M[1],M[0]]);var pe=oY(T,s,w),we=pe.scale,ue=pe.realScaleType;we.domain(R).range(M),aY(we);var he=lY(we,Ua(Ua({},T),{},{realScaleType:ue}));i==="xAxis"?(q=C==="top"&&!V||C==="bottom"&&V,U=r.left,K=m[j]-q*T.height):i==="yAxis"&&(q=C==="left"&&!V||C==="right"&&V,U=m[j]-q*T.width,K=r.top);var xe=Ua(Ua(Ua({},T),he),{},{realScaleType:ue,x:U,y:K,scale:we,width:i==="xAxis"?r.width:T.width,height:i==="yAxis"?r.height:T.height});return xe.bandSize=ox(xe,he),!T.hide&&i==="xAxis"?m[j]+=(q?-1:1)*xe.height:T.hide||(m[j]+=(q?-1:1)*xe.width),Ua(Ua({},A),{},rA({},I,xe))},{})},UY=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},rCe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return UY({x:n,y:r},{x:i,y:s})},VY=(function(){function t(e){J_e(this,t),this.scale=e}return eCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();rA(VY,"EPS",1e-4);var R3=function(e){var n=Object.keys(e).reduce(function(r,i){return Ua(Ua({},r),{},rA({},i,VY.create(e[i])))},{});return Ua(Ua({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return N_e(i,function(c,u){return n[u].apply(c,{bandAware:o,position:a})})},isInRange:function(i){return DY(i,function(s,o){return n[o].isInRange(s)})}})};function iCe(t){return(t%180+180)%180}var sCe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=iCe(i),o=s*Math.PI/180,a=Math.atan(r/n),c=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},pC,LF;function oCe(){if(LF)return pC;LF=1;var t=$l(),e=Ly(),n=Mb();function r(i){return function(s,o,a){var c=Object(s);if(!e(s)){var u=t(o,3);s=n(s),o=function(m){return u(c[m],m,c)}}var g=i(s,o,a);return g>-1?c[u?s[g]:g]:void 0}}return pC=r,pC}var gC,BF;function aCe(){if(BF)return gC;BF=1;var t=OY();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return gC=e,gC}var mC,jF;function lCe(){if(jF)return mC;jF=1;var t=Vq(),e=$l(),n=aCe(),r=Math.max;function i(s,o,a){var c=s==null?0:s.length;if(!c)return-1;var u=a==null?0:n(a);return u<0&&(u=r(c+u,0)),t(s,e(o,3),u)}return mC=i,mC}var yC,FF;function cCe(){if(FF)return yC;FF=1;var t=oCe(),e=lCe(),n=t(e);return yC=n,yC}var uCe=cCe();const fCe=On(uCe);var hCe=rq();const dCe=On(hCe);var pCe=dCe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),k3=X.createContext(void 0),M3=X.createContext(void 0),zY=X.createContext(void 0),HY=X.createContext({}),$Y=X.createContext(void 0),GY=X.createContext(0),WY=X.createContext(0),UF=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,c=e.width,u=e.height,g=pCe(s);return se.createElement(k3.Provider,{value:r},se.createElement(M3.Provider,{value:i},se.createElement(HY.Provider,{value:s},se.createElement(zY.Provider,{value:g},se.createElement($Y.Provider,{value:o},se.createElement(GY.Provider,{value:u},se.createElement(WY.Provider,{value:c},a)))))))},gCe=function(){return X.useContext($Y)},qY=function(e){var n=X.useContext(k3);n==null&&Fh();var r=n[e];return r==null&&Fh(),r},mCe=function(){var e=X.useContext(k3);return Bu(e)},yCe=function(){var e=X.useContext(M3),n=fCe(e,function(r){return DY(r.domain,Number.isFinite)});return n||Bu(e)},KY=function(e){var n=X.useContext(M3);n==null&&Fh();var r=n[e];return r==null&&Fh(),r},vCe=function(){var e=X.useContext(zY);return e},wCe=function(){return X.useContext(HY)},D3=function(){return X.useContext(WY)},L3=function(){return X.useContext(GY)};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function xCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XY(r.key),r)}}function ACe(t,e,n){return e&&bCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ECe(t,e,n){return e=Ex(e),SCe(t,YY()?Reflect.construct(e,n||[],Ex(t).constructor):e.apply(t,n))}function SCe(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TCe(t)}function TCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YY=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(t)}function _Ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vN(t,e)}function vN(t,e){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vN(t,e)}function VF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(n),!0).forEach(function(r){B3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B3(t,e,n){return e=XY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XY(t){var e=CCe(t,"string");return Zp(e)=="symbol"?e:e+""}function CCe(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ICe(t,e){return RCe(t)||OCe(t,e)||NCe(t,e)||PCe()}function PCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NCe(t,e){if(t){if(typeof t=="string")return HF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HF(t,e)}}function HF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function RCe(t){if(Array.isArray(t))return t}function wN(){return wN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wN.apply(this,arguments)}var kCe=function(e,n){var r;return se.isValidElement(e)?r=se.cloneElement(e,n):zt(e)?r=e(n):r=se.createElement("line",wN({},n,{className:"recharts-reference-line-line"})),r},MCe=function(e,n,r,i,s,o,a,c,u){var g=s.x,m=s.y,w=s.width,A=s.height;if(r){var I=u.y,T=e.y.apply(I,{position:o});if(Rl(u,"discard")&&!e.y.isInRange(T))return null;var C=[{x:g+w,y:T},{x:g,y:T}];return c==="left"?C.reverse():C}if(n){var R=u.x,B=e.x.apply(R,{position:o});if(Rl(u,"discard")&&!e.x.isInRange(B))return null;var k=[{x:B,y:m+A},{x:B,y:m}];return a==="top"?k.reverse():k}if(i){var V=u.segment,D=V.map(function(j){return e.apply(j,{position:o})});return Rl(u,"discard")&&__e(D,function(j){return!e.isInRange(j)})?null:D}return null};function DCe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,c=t.alwaysShow,u=gCe(),g=qY(i),m=KY(s),w=vCe();if(!u||!w)return null;qa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=R3({x:g.scale,y:m.scale}),I=Ui(e),T=Ui(n),C=r&&r.length===2,R=MCe(A,I,T,C,w,t.position,g.orientation,m.orientation,t);if(!R)return null;var B=ICe(R,2),k=B[0],V=k.x,D=k.y,j=B[1],O=j.x,M=j.y,U=Rl(t,"hidden")?"url(#".concat(u,")"):void 0,K=zF(zF({clipPath:U},Lt(t,!0)),{},{x1:V,y1:D,x2:O,y2:M});return se.createElement(Yn,{className:Qt("recharts-reference-line",a)},kCe(o,K),es.renderCallByParent(t,rCe({x1:V,y1:D,x2:O,y2:M})))}var j3=(function(t){function e(){return xCe(this,e),ECe(this,e,arguments)}return _Ce(e,t),ACe(e,[{key:"render",value:function(){return se.createElement(DCe,this.props)}}])})(se.Component);B3(j3,"displayName","ReferenceLine");B3(j3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xN(){return xN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xN.apply(this,arguments)}function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function $F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(n),!0).forEach(function(r){iA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZY(r.key),r)}}function jCe(t,e,n){return e&&BCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FCe(t,e,n){return e=Sx(e),UCe(t,QY()?Reflect.construct(e,n||[],Sx(t).constructor):e.apply(t,n))}function UCe(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VCe(t)}function VCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QY=function(){return!!t})()}function Sx(t){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sx(t)}function zCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bN(t,e)}function bN(t,e){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bN(t,e)}function iA(t,e,n){return e=ZY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZY(t){var e=HCe(t,"string");return Jp(e)=="symbol"?e:e+""}function HCe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Ce=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=R3({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return Rl(e,"discard")&&!o.isInRange(a)?null:a},sA=(function(t){function e(){return LCe(this,e),FCe(this,e,arguments)}return zCe(e,t),jCe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,c=r.clipPathId,u=Ui(i),g=Ui(s);if(qa(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!g)return null;var m=$Ce(this.props);if(!m)return null;var w=m.x,A=m.y,I=this.props,T=I.shape,C=I.className,R=Rl(this.props,"hidden")?"url(#".concat(c,")"):void 0,B=GF(GF({clipPath:R},Lt(this.props,!0)),{},{cx:w,cy:A});return se.createElement(Yn,{className:Qt("recharts-reference-dot",C)},e.renderDot(T,B),es.renderCallByParent(this.props,{x:w-o,y:A-o,width:2*o,height:2*o}))}}])})(se.Component);iA(sA,"displayName","ReferenceDot");iA(sA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});iA(sA,"renderDot",function(t,e){var n;return se.isValidElement(t)?n=se.cloneElement(t,e):zt(t)?n=t(e):n=se.createElement(O3,xN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function AN(){return AN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AN.apply(this,arguments)}function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function WF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(n),!0).forEach(function(r){oA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eX(r.key),r)}}function qCe(t,e,n){return e&&WCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KCe(t,e,n){return e=Tx(e),YCe(t,JY()?Reflect.construct(e,n||[],Tx(t).constructor):e.apply(t,n))}function YCe(t,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XCe(t)}function XCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JY=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(t)}function QCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EN(t,e)}function EN(t,e){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EN(t,e)}function oA(t,e,n){return e=eX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eX(t){var e=ZCe(t,"string");return eg(e)=="symbol"?e:e+""}function ZCe(t,e){if(eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JCe=function(e,n,r,i,s){var o=s.x1,a=s.x2,c=s.y1,u=s.y2,g=s.xAxis,m=s.yAxis;if(!g||!m)return null;var w=R3({x:g.scale,y:m.scale}),A={x:e?w.x.apply(o,{position:"start"}):w.x.rangeMin,y:r?w.y.apply(c,{position:"start"}):w.y.rangeMin},I={x:n?w.x.apply(a,{position:"end"}):w.x.rangeMax,y:i?w.y.apply(u,{position:"end"}):w.y.rangeMax};return Rl(s,"discard")&&(!w.isInRange(A)||!w.isInRange(I))?null:UY(A,I)},aA=(function(t){function e(){return GCe(this,e),KCe(this,e,arguments)}return QCe(e,t),qCe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,c=r.className,u=r.alwaysShow,g=r.clipPathId;qa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Ui(i),w=Ui(s),A=Ui(o),I=Ui(a),T=this.props.shape;if(!m&&!w&&!A&&!I&&!T)return null;var C=JCe(m,w,A,I,this.props);if(!C&&!T)return null;var R=Rl(this.props,"hidden")?"url(#".concat(g,")"):void 0;return se.createElement(Yn,{className:Qt("recharts-reference-area",c)},e.renderRect(T,qF(qF({clipPath:R},Lt(this.props,!0)),C)),es.renderCallByParent(this.props,C))}}])})(se.Component);oA(aA,"displayName","ReferenceArea");oA(aA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});oA(aA,"renderRect",function(t,e){var n;return se.isValidElement(t)?n=se.cloneElement(t,e):zt(t)?n=t(e):n=se.createElement(N3,AN({},e,{className:"recharts-reference-area-rect"})),n});function tX(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function eIe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return sCe(r,n)}function tIe(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function _x(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function nIe(t,e){return tX(t,e+1)}function rIe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,c=0,u=1,g=o,m=function(){var I=r?.[c];if(I===void 0)return{v:tX(r,u)};var T=c,C,R=function(){return C===void 0&&(C=n(I,T)),C},B=I.coordinate,k=c===0||_x(t,B,R,g,a);k||(c=0,g=o,u+=1),k&&(g=B+t*(R()/2+i),c+=u)},w;u<=s.length;)if(w=m(),w)return w.v;return[]}function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function KF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(n),!0).forEach(function(r){iIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iIe(t,e,n){return e=sIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sIe(t){var e=oIe(t,"string");return ry(e)=="symbol"?e:e+""}function oIe(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aIe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,c=e.end,u=function(w){var A=s[w],I,T=function(){return I===void 0&&(I=n(A,w)),I};if(w===o-1){var C=t*(A.coordinate+t*T()/2-c);s[w]=A=Rs(Rs({},A),{},{tickCoord:C>0?A.coordinate-C*t:A.coordinate})}else s[w]=A=Rs(Rs({},A),{},{tickCoord:A.coordinate});var R=_x(t,A.tickCoord,T,a,c);R&&(c=A.tickCoord-t*(T()/2+i),s[w]=Rs(Rs({},A),{},{isShow:!0}))},g=o-1;g>=0;g--)u(g);return s}function lIe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,c=e.start,u=e.end;if(s){var g=r[a-1],m=n(g,a-1),w=t*(g.coordinate+t*m/2-u);o[a-1]=g=Rs(Rs({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate});var A=_x(t,g.tickCoord,function(){return m},c,u);A&&(u=g.tickCoord-t*(m/2+i),o[a-1]=Rs(Rs({},g),{},{isShow:!0}))}for(var I=s?a-1:a,T=function(B){var k=o[B],V,D=function(){return V===void 0&&(V=n(k,B)),V};if(B===0){var j=t*(k.coordinate-t*D()/2-c);o[B]=k=Rs(Rs({},k),{},{tickCoord:j<0?k.coordinate-j*t:k.coordinate})}else o[B]=k=Rs(Rs({},k),{},{tickCoord:k.coordinate});var O=_x(t,k.tickCoord,D,c,u);O&&(c=k.tickCoord+t*(D()/2+i),o[B]=Rs(Rs({},k),{},{isShow:!0}))},C=0;C<I;C++)T(C);return o}function F3(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,c=t.interval,u=t.tickFormatter,g=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Je(c)||Og.isSsr)return nIe(i,typeof c=="number"&&Je(c)?c:0);var w=[],A=a==="top"||a==="bottom"?"width":"height",I=g&&A==="width"?Xm(g,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=function(k,V){var D=zt(u)?u(k.value,V):k.value;return A==="width"?eIe(Xm(D,{fontSize:e,letterSpacing:n}),I,m):Xm(D,{fontSize:e,letterSpacing:n})[A]},C=i.length>=2?Qs(i[1].coordinate-i[0].coordinate):1,R=tIe(s,C,A);return c==="equidistantPreserveStart"?rIe(C,R,T,i,o):(c==="preserveStart"||c==="preserveStartEnd"?w=lIe(C,R,T,i,o,c==="preserveStartEnd"):w=aIe(C,R,T,i,o),w.filter(function(B){return B.isShow}))}var cIe=["viewBox"],uIe=["viewBox"],fIe=["ticks"];function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qd.apply(this,arguments)}function YF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(n),!0).forEach(function(r){U3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vC(t,e){if(t==null)return{};var n=hIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rX(r.key),r)}}function pIe(t,e,n){return e&&XF(t.prototype,e),n&&XF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gIe(t,e,n){return e=Cx(e),mIe(t,nX()?Reflect.construct(e,n||[],Cx(t).constructor):e.apply(t,n))}function mIe(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yIe(t)}function yIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nX=function(){return!!t})()}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(t)}function vIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SN(t,e)}function SN(t,e){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SN(t,e)}function U3(t,e,n){return e=rX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=wIe(t,"string");return tg(e)=="symbol"?e:e+""}function wIe(t,e){if(tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dg=(function(t){function e(n){var r;return dIe(this,e),r=gIe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return vIe(e,t),pIe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=vC(r,cIe),a=this.props,c=a.viewBox,u=vC(a,uIe);return!mp(s,c)||!mp(o,u)||!mp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,c=i.height,u=i.orientation,g=i.tickSize,m=i.mirror,w=i.tickMargin,A,I,T,C,R,B,k=m?-1:1,V=r.tickSize||g,D=Je(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":A=I=r.coordinate,C=o+ +!m*c,T=C-k*V,B=T-k*w,R=D;break;case"left":T=C=r.coordinate,I=s+ +!m*a,A=I-k*V,R=A-k*w,B=D;break;case"right":T=C=r.coordinate,I=s+ +m*a,A=I+k*V,R=A+k*w,B=D;break;default:A=I=r.coordinate,C=o+ +m*c,T=C+k*V,B=T+k*w,R=D;break}return{line:{x1:A,y1:T,x2:I,y2:C},tick:{x:R,y:B}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,c=r.orientation,u=r.mirror,g=r.axisLine,m=Di(Di(Di({},Lt(this.props,!1)),Lt(g,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var w=+(c==="top"&&!u||c==="bottom"&&u);m=Di(Di({},m),{},{x1:i,y1:s+w*a,x2:i+o,y2:s+w*a})}else{var A=+(c==="left"&&!u||c==="right"&&u);m=Di(Di({},m),{},{x1:i+A*o,y1:s,x2:i+A*o,y2:s+a})}return se.createElement("line",Qd({},m,{className:Qt("recharts-cartesian-axis-line",Ko(g,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,c=a.tickLine,u=a.stroke,g=a.tick,m=a.tickFormatter,w=a.unit,A=F3(Di(Di({},this.props),{},{ticks:r}),i,s),I=this.getTickTextAnchor(),T=this.getTickVerticalAnchor(),C=Lt(this.props,!1),R=Lt(g,!1),B=Di(Di({},C),{},{fill:"none"},Lt(c,!1)),k=A.map(function(V,D){var j=o.getTickLineCoord(V),O=j.line,M=j.tick,U=Di(Di(Di(Di({textAnchor:I,verticalAnchor:T},C),{},{stroke:"none",fill:u},R),M),{},{index:D,payload:V,visibleTicksCount:A.length,tickFormatter:m});return se.createElement(Yn,Qd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},Lh(o.props,V,D)),c&&se.createElement("line",Qd({},B,O,{className:Qt("recharts-cartesian-axis-tick-line",Ko(c,"className"))})),g&&e.renderTickItem(g,U,"".concat(zt(m)?m(V.value,D):V.value).concat(w||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,c=i.ticksGenerator,u=i.className,g=i.hide;if(g)return null;var m=this.props,w=m.ticks,A=vC(m,fIe),I=w;return zt(c)&&(I=w&&w.length>0?c(this.props):c(A)),o<=0||a<=0||!I||!I.length?null:se.createElement(Yn,{className:Qt("recharts-cartesian-axis",u),ref:function(C){r.layerReference=C}},s&&this.renderAxisLine(),this.renderTicks(I,this.state.fontSize,this.state.letterSpacing),es.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,a=Qt(i.className,"recharts-cartesian-axis-tick-value");return se.isValidElement(r)?o=se.cloneElement(r,Di(Di({},i),{},{className:a})):zt(r)?o=r(Di(Di({},i),{},{className:a})):o=se.createElement(Bh,Qd({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(X.Component);U3(Dg,"displayName","CartesianAxis");U3(Dg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xIe=["x1","y1","x2","y2","key"],bIe=["offset"];function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function QF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(n),!0).forEach(function(r){AIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AIe(t,e,n){return e=EIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EIe(t){var e=SIe(t,"string");return Uh(e)=="symbol"?e:e+""}function SIe(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}function ZF(t,e){if(t==null)return{};var n=TIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _Ie=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,c=e.ry;return se.createElement("rect",{x:i,y:s,ry:c,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function iX(t,e){var n;if(se.isValidElement(t))n=se.cloneElement(t,e);else if(zt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,c=ZF(e,xIe),u=Lt(c,!1);u.offset;var g=ZF(u,bIe);n=se.createElement("line",ch({},g,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function CIe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,c){var u=Ds(Ds({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(c),index:c});return iX(i,u)});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function IIe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,c){var u=Ds(Ds({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(c),index:c});return iX(i,u)});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function PIe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var g=a.map(function(w){return Math.round(w+i-i)}).sort(function(w,A){return w-A});i!==g[0]&&g.unshift(0);var m=g.map(function(w,A){var I=!g[A+1],T=I?i+o-w:g[A+1]-w;if(T<=0)return null;var C=A%e.length;return se.createElement("rect",{key:"react-".concat(A),y:w,x:r,height:T,width:s,stroke:"none",fill:e[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function NIe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var g=u.map(function(w){return Math.round(w+s-s)}).sort(function(w,A){return w-A});s!==g[0]&&g.unshift(0);var m=g.map(function(w,A){var I=!g[A+1],T=I?s+a-w:g[A+1]-w;if(T<=0)return null;var C=A%r.length;return se.createElement("rect",{key:"react-".concat(A),x:w,y:o,width:T,height:c,stroke:"none",fill:r[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var OIe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return sY(F3(Ds(Ds(Ds({},Dg.defaultProps),r),{},{ticks:wc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},RIe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return sY(F3(Ds(Ds(Ds({},Dg.defaultProps),r),{},{ticks:wc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Bd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function V3(t){var e,n,r,i,s,o,a=D3(),c=L3(),u=wCe(),g=Ds(Ds({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bd.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bd.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bd.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Bd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Bd.verticalFill,x:Je(t.x)?t.x:u.left,y:Je(t.y)?t.y:u.top,width:Je(t.width)?t.width:u.width,height:Je(t.height)?t.height:u.height}),m=g.x,w=g.y,A=g.width,I=g.height,T=g.syncWithTicks,C=g.horizontalValues,R=g.verticalValues,B=mCe(),k=yCe();if(!Je(A)||A<=0||!Je(I)||I<=0||!Je(m)||m!==+m||!Je(w)||w!==+w)return null;var V=g.verticalCoordinatesGenerator||OIe,D=g.horizontalCoordinatesGenerator||RIe,j=g.horizontalPoints,O=g.verticalPoints;if((!j||!j.length)&&zt(D)){var M=C&&C.length,U=D({yAxis:k?Ds(Ds({},k),{},{ticks:M?C:k.ticks}):void 0,width:a,height:c,offset:u},M?!0:T);qa(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Uh(U),"]")),Array.isArray(U)&&(j=U)}if((!O||!O.length)&&zt(V)){var K=R&&R.length,q=V({xAxis:B?Ds(Ds({},B),{},{ticks:K?R:B.ticks}):void 0,width:a,height:c,offset:u},K?!0:T);qa(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Uh(q),"]")),Array.isArray(q)&&(O=q)}return se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(_Ie,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),se.createElement(CIe,ch({},g,{offset:u,horizontalPoints:j,xAxis:B,yAxis:k})),se.createElement(IIe,ch({},g,{offset:u,verticalPoints:O,xAxis:B,yAxis:k})),se.createElement(PIe,ch({},g,{horizontalPoints:j})),se.createElement(NIe,ch({},g,{verticalPoints:O})))}V3.displayName="CartesianGrid";function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function kIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aX(r.key),r)}}function DIe(t,e,n){return e&&MIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LIe(t,e,n){return e=Ix(e),BIe(t,sX()?Reflect.construct(e,n||[],Ix(t).constructor):e.apply(t,n))}function BIe(t,e){if(e&&(ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jIe(t)}function jIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sX=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(t)}function FIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TN(t,e)}function TN(t,e){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TN(t,e)}function oX(t,e,n){return e=aX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aX(t){var e=UIe(t,"string");return ng(e)=="symbol"?e:e+""}function UIe(t,e){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_N.apply(this,arguments)}function VIe(t){var e=t.xAxisId,n=D3(),r=L3(),i=qY(e);return i==null?null:X.createElement(Dg,_N({},i,{className:Qt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return wc(o,!0)}}))}var Vy=(function(t){function e(){return kIe(this,e),LIe(this,e,arguments)}return FIe(e,t),DIe(e,[{key:"render",value:function(){return X.createElement(VIe,this.props)}}])})(X.Component);oX(Vy,"displayName","XAxis");oX(Vy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function zIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uX(r.key),r)}}function $Ie(t,e,n){return e&&HIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GIe(t,e,n){return e=Px(e),WIe(t,lX()?Reflect.construct(e,n||[],Px(t).constructor):e.apply(t,n))}function WIe(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qIe(t)}function qIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lX=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Px(t)}function KIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CN(t,e)}function CN(t,e){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CN(t,e)}function cX(t,e,n){return e=uX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uX(t){var e=YIe(t,"string");return rg(e)=="symbol"?e:e+""}function YIe(t,e){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IN(){return IN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IN.apply(this,arguments)}var XIe=function(e){var n=e.yAxisId,r=D3(),i=L3(),s=KY(n);return s==null?null:X.createElement(Dg,IN({},s,{className:Qt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return wc(a,!0)}}))},zy=(function(t){function e(){return zIe(this,e),GIe(this,e,arguments)}return KIe(e,t),$Ie(e,[{key:"render",value:function(){return X.createElement(XIe,this.props)}}])})(X.Component);cX(zy,"displayName","YAxis");cX(zy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JF(t){return ePe(t)||JIe(t)||ZIe(t)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(t,e){if(t){if(typeof t=="string")return PN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PN(t,e)}}function JIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ePe(t){if(Array.isArray(t))return PN(t)}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var NN=function(e,n,r,i,s){var o=xa(e,j3),a=xa(e,sA),c=[].concat(JF(o),JF(a)),u=xa(e,aA),g="".concat(i,"Id"),m=i[0],w=n;if(c.length&&(w=c.reduce(function(T,C){if(C.props[g]===r&&Rl(C.props,"extendDomain")&&Je(C.props[m])){var R=C.props[m];return[Math.min(T[0],R),Math.max(T[1],R)]}return T},w)),u.length){var A="".concat(m,"1"),I="".concat(m,"2");w=u.reduce(function(T,C){if(C.props[g]===r&&Rl(C.props,"extendDomain")&&Je(C.props[A])&&Je(C.props[I])){var R=C.props[A],B=C.props[I];return[Math.min(T[0],R,B),Math.max(T[1],R,B)]}return T},w)}return s&&s.length&&(w=s.reduce(function(T,C){return Je(C)?[Math.min(T[0],C),Math.max(T[1],C)]:T},w)),w},wC={exports:{}},e7;function tPe(){return e7||(e7=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,g){this.fn=c,this.context=u,this.once=g||!1}function s(c,u,g,m,w){if(typeof g!="function")throw new TypeError("The listener must be a function");var A=new i(g,m||c,w),I=n?n+u:u;return c._events[I]?c._events[I].fn?c._events[I]=[c._events[I],A]:c._events[I].push(A):(c._events[I]=A,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],g,m;if(this._eventsCount===0)return u;for(m in g=this._events)e.call(g,m)&&u.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(g)):u},a.prototype.listeners=function(u){var g=n?n+u:u,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var w=0,A=m.length,I=new Array(A);w<A;w++)I[w]=m[w].fn;return I},a.prototype.listenerCount=function(u){var g=n?n+u:u,m=this._events[g];return m?m.fn?1:m.length:0},a.prototype.emit=function(u,g,m,w,A,I){var T=n?n+u:u;if(!this._events[T])return!1;var C=this._events[T],R=arguments.length,B,k;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,g),!0;case 3:return C.fn.call(C.context,g,m),!0;case 4:return C.fn.call(C.context,g,m,w),!0;case 5:return C.fn.call(C.context,g,m,w,A),!0;case 6:return C.fn.call(C.context,g,m,w,A,I),!0}for(k=1,B=new Array(R-1);k<R;k++)B[k-1]=arguments[k];C.fn.apply(C.context,B)}else{var V=C.length,D;for(k=0;k<V;k++)switch(C[k].once&&this.removeListener(u,C[k].fn,void 0,!0),R){case 1:C[k].fn.call(C[k].context);break;case 2:C[k].fn.call(C[k].context,g);break;case 3:C[k].fn.call(C[k].context,g,m);break;case 4:C[k].fn.call(C[k].context,g,m,w);break;default:if(!B)for(D=1,B=new Array(R-1);D<R;D++)B[D-1]=arguments[D];C[k].fn.apply(C[k].context,B)}}return!0},a.prototype.on=function(u,g,m){return s(this,u,g,m,!1)},a.prototype.once=function(u,g,m){return s(this,u,g,m,!0)},a.prototype.removeListener=function(u,g,m,w){var A=n?n+u:u;if(!this._events[A])return this;if(!g)return o(this,A),this;var I=this._events[A];if(I.fn)I.fn===g&&(!w||I.once)&&(!m||I.context===m)&&o(this,A);else{for(var T=0,C=[],R=I.length;T<R;T++)(I[T].fn!==g||w&&!I[T].once||m&&I[T].context!==m)&&C.push(I[T]);C.length?this._events[A]=C.length===1?C[0]:C:o(this,A)}return this},a.prototype.removeAllListeners=function(u){var g;return u?(g=n?n+u:u,this._events[g]&&o(this,g)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(wC)),wC.exports}var nPe=tPe();const rPe=On(nPe);var xC=new rPe,bC="recharts.syncMouseEvents";function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function iPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fX(r.key),r)}}function oPe(t,e,n){return e&&sPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AC(t,e,n){return e=fX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fX(t){var e=aPe(t,"string");return iy(e)=="symbol"?e:e+""}function aPe(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lPe=(function(){function t(){iPe(this,t),AC(this,"activeIndex",0),AC(this,"coordinateList",[]),AC(this,"layout","horizontal")}return oPe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,g=n.offset,m=g===void 0?null:g,w=n.mouseHandlerCallback,A=w===void 0?null:w;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,g=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=s+c+u,w=o+this.offset.top+a/2+g;this.mouseHandlerCallback({pageX:m,pageY:w})}}}])})();function cPe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&Je(r)&&Je(i))return!0}return!1}function uPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function hX(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=gr(e,n,r,i),a=gr(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function fPe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,c=e.cy,u=e.innerRadius,g=e.outerRadius,m=e.angle,w=gr(a,c,u,m),A=gr(a,c,g,m);r=w.x,i=w.y,s=A.x,o=A.y}else return hX(e);return[{x:r,y:i},{x:s,y:o}]}function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function t7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(n),!0).forEach(function(r){hPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hPe(t,e,n){return e=dPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dPe(t){var e=pPe(t,"string");return sy(e)=="symbol"?e:e+""}function pPe(t,e){if(sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gPe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,c=t.offset,u=t.activeTooltipIndex,g=t.tooltipAxisBandSize,m=t.layout,w=t.chartName,A=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!A||!s||!o||w!=="ScatterChart"&&i!=="axis")return null;var I,T=JP;if(w==="ScatterChart")I=o,T=XSe;else if(w==="BarChart")I=uPe(m,o,c,g),T=N3;else if(m==="radial"){var C=hX(o),R=C.cx,B=C.cy,k=C.radius,V=C.startAngle,D=C.endAngle;I={cx:R,cy:B,startAngle:V,endAngle:D,innerRadius:k,outerRadius:k},T=mY}else I={points:fPe(m,o,c)},T=JP;var j=yv(yv(yv(yv({stroke:"#ccc",pointerEvents:"none"},c),I),Lt(A,!1)),{},{payload:a,payloadIndex:u,className:Qt("recharts-tooltip-cursor",A.className)});return X.isValidElement(A)?X.cloneElement(A,j):X.createElement(T,j)}var mPe=["item"],yPe=["children","className","width","height","style","compact","title","desc"];function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function n7(t,e){return xPe(t)||wPe(t,e)||pX(t,e)||vPe()}function vPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(g){u=!0,i=g}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function xPe(t){if(Array.isArray(t))return t}function r7(t,e){if(t==null)return{};var n=bPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function APe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gX(r.key),r)}}function SPe(t,e,n){return e&&EPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TPe(t,e,n){return e=Nx(e),_Pe(t,dX()?Reflect.construct(e,n||[],Nx(t).constructor):e.apply(t,n))}function _Pe(t,e){if(e&&(ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CPe(t)}function CPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dX=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nx(t)}function IPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ON(t,e)}function ON(t,e){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ON(t,e)}function sg(t){return OPe(t)||NPe(t)||pX(t)||PPe()}function PPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pX(t,e){if(t){if(typeof t=="string")return RN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RN(t,e)}}function NPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OPe(t){if(Array.isArray(t))return RN(t)}function RN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i7(Object(n),!0).forEach(function(r){Nt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nt(t,e,n){return e=gX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gX(t){var e=RPe(t,"string");return ig(e)=="symbol"?e:e+""}function RPe(t,e){if(ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kPe={xAxis:["bottom","top"],yAxis:["left","right"]},MPe={width:"100%",height:"100%"},mX={x:0,y:0};function vv(t){return t}var DPe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},LPe=function(e,n,r,i){var s=n.find(function(g){return g&&g.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return Le(Le(Le({},i),gr(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var c=s.coordinate,u=i.angle;return Le(Le(Le({},i),gr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return mX},lA=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,c){var u=c.props.data;return u&&u.length?[].concat(sg(a),sg(u)):a},[]);return o.length>0?o:e&&e.length&&Je(i)&&Je(s)?e.slice(i,s+1):[]};function yX(t){return t==="number"?[0,"auto"]:void 0}var kN=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=lA(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(c,u){var g,m=(g=u.props.data)!==null&&g!==void 0?g:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var w;if(o.dataKey&&!o.allowDuplicatedCategory){var A=m===void 0?a:m;w=dP(A,o.dataKey,i)}else w=m&&m[r]||a[r];return w?[].concat(sg(c),[uY(u,w)]):c},[])},s7=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=DPe(s,r),a=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,g=bAe(o,a,u,c);if(g>=0&&u){var m=u[g]&&u[g].value,w=kN(e,n,g,m),A=LPe(r,a,g,s);return{activeTooltipIndex:g,activeLabel:m,activePayload:w,activeCoordinate:A}}return null},BPe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,g=e.layout,m=e.children,w=e.stackOffset,A=iY(g,s);return r.reduce(function(I,T){var C,R=T.type.defaultProps!==void 0?Le(Le({},T.type.defaultProps),T.props):T.props,B=R.type,k=R.dataKey,V=R.allowDataOverflow,D=R.allowDuplicatedCategory,j=R.scale,O=R.ticks,M=R.includeHidden,U=R[o];if(I[U])return I;var K=lA(e.data,{graphicalItems:i.filter(function(he){var xe,Re=o in he.props?he.props[o]:(xe=he.type.defaultProps)===null||xe===void 0?void 0:xe[o];return Re===U}),dataStartIndex:c,dataEndIndex:u}),q=K.length,G,$,ce;cPe(R.domain,V,B)&&(G=KP(R.domain,null,V),A&&(B==="number"||j!=="auto")&&(ce=Zm(K,k,"category")));var J=yX(B);if(!G||G.length===0){var oe,ae=(oe=R.domain)!==null&&oe!==void 0?oe:J;if(k){if(G=Zm(K,k,B),B==="category"&&A){var re=gme(G);D&&re?($=G,G=vx(0,q)):D||(G=a9(ae,G,T).reduce(function(he,xe){return he.indexOf(xe)>=0?he:[].concat(sg(he),[xe])},[]))}else if(B==="category")D?G=G.filter(function(he){return he!==""&&!an(he)}):G=a9(ae,G,T).reduce(function(he,xe){return he.indexOf(xe)>=0||xe===""||an(xe)?he:[].concat(sg(he),[xe])},[]);else if(B==="number"){var pe=_Ae(K,i.filter(function(he){var xe,Re,Ue=o in he.props?he.props[o]:(xe=he.type.defaultProps)===null||xe===void 0?void 0:xe[o],Me="hide"in he.props?he.props.hide:(Re=he.type.defaultProps)===null||Re===void 0?void 0:Re.hide;return Ue===U&&(M||!Me)}),k,s,g);pe&&(G=pe)}A&&(B==="number"||j!=="auto")&&(ce=Zm(K,k,"category"))}else A?G=vx(0,q):a&&a[U]&&a[U].hasStack&&B==="number"?G=w==="expand"?[0,1]:cY(a[U].stackGroups,c,u):G=rY(K,i.filter(function(he){var xe=o in he.props?he.props[o]:he.type.defaultProps[o],Re="hide"in he.props?he.props.hide:he.type.defaultProps.hide;return xe===U&&(M||!Re)}),B,g,!0);if(B==="number")G=NN(m,G,U,s,O),ae&&(G=KP(ae,G,V));else if(B==="category"&&ae){var we=ae,ue=G.every(function(he){return we.indexOf(he)>=0});ue&&(G=we)}}return Le(Le({},I),{},Nt({},U,Le(Le({},R),{},{axisType:s,domain:G,categoricalDomain:ce,duplicateDomain:$,originalDomain:(C=R.domain)!==null&&C!==void 0?C:J,isCategorical:A,layout:g})))},{})},jPe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,g=e.layout,m=e.children,w=lA(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),A=w.length,I=iY(g,s),T=-1;return r.reduce(function(C,R){var B=R.type.defaultProps!==void 0?Le(Le({},R.type.defaultProps),R.props):R.props,k=B[o],V=yX("number");if(!C[k]){T++;var D;return I?D=vx(0,A):a&&a[k]&&a[k].hasStack?(D=cY(a[k].stackGroups,c,u),D=NN(m,D,k,s)):(D=KP(V,rY(w,r.filter(function(j){var O,M,U=o in j.props?j.props[o]:(O=j.type.defaultProps)===null||O===void 0?void 0:O[o],K="hide"in j.props?j.props.hide:(M=j.type.defaultProps)===null||M===void 0?void 0:M.hide;return U===k&&!K}),"number",g),i.defaultProps.allowDataOverflow),D=NN(m,D,k,s)),Le(Le({},C),{},Nt({},k,Le(Le({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ko(kPe,"".concat(s,".").concat(T%2),null),domain:D,originalDomain:V,isCategorical:I,layout:g})))}return C},{})},FPe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,g=e.children,m="".concat(i,"Id"),w=xa(g,s),A={};return w&&w.length?A=BPe(e,{axes:w,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:a,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(A=jPe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:a,dataStartIndex:c,dataEndIndex:u})),A},UPe=function(e){var n=Bu(e),r=wc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:r3(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ox(n,r)}},o7=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vo(n,Xp),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},VPe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Tc(n&&n.type);return r&&r.indexOf("Bar")>=0})},a7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zPe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,c=a===void 0?{}:a,u=r.width,g=r.height,m=r.children,w=r.margin||{},A=Vo(m,Xp),I=Vo(m,yp),T=Object.keys(c).reduce(function(D,j){var O=c[j],M=O.orientation;return!O.mirror&&!O.hide?Le(Le({},D),{},Nt({},M,D[M]+O.width)):D},{left:w.left||0,right:w.right||0}),C=Object.keys(o).reduce(function(D,j){var O=o[j],M=O.orientation;return!O.mirror&&!O.hide?Le(Le({},D),{},Nt({},M,Ko(D,"".concat(M))+O.height)):D},{top:w.top||0,bottom:w.bottom||0}),R=Le(Le({},C),T),B=R.bottom;A&&(R.bottom+=A.props.height||Xp.defaultProps.height),I&&n&&(R=SAe(R,i,r,n));var k=u-R.left-R.right,V=g-R.top-R.bottom;return Le(Le({brushBottom:B},R),{},{width:Math.max(k,0),height:Math.max(V,0)})},HPe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},vX=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,g=e.formatAxisMap,m=e.defaultProps,w=function(R,B){var k=B.graphicalItems,V=B.stackGroups,D=B.offset,j=B.updateId,O=B.dataStartIndex,M=B.dataEndIndex,U=R.barSize,K=R.layout,q=R.barGap,G=R.barCategoryGap,$=R.maxBarSize,ce=a7(K),J=ce.numericAxisName,oe=ce.cateAxisName,ae=VPe(k),re=[];return k.forEach(function(pe,we){var ue=lA(R.data,{graphicalItems:[pe],dataStartIndex:O,dataEndIndex:M}),he=pe.type.defaultProps!==void 0?Le(Le({},pe.type.defaultProps),pe.props):pe.props,xe=he.dataKey,Re=he.maxBarSize,Ue=he["".concat(J,"Id")],Me=he["".concat(oe,"Id")],ke={},De=c.reduce(function(nt,Tn){var wi=B["".concat(Tn.axisType,"Map")],si=he["".concat(Tn.axisType,"Id")];wi&&wi[si]||Tn.axisType==="zAxis"||Fh();var so=wi[si];return Le(Le({},nt),{},Nt(Nt({},Tn.axisType,so),"".concat(Tn.axisType,"Ticks"),wc(so)))},ke),Pe=De[oe],je=De["".concat(oe,"Ticks")],$e=V&&V[Ue]&&V[Ue].hasStack&&DAe(pe,V[Ue].stackGroups),_e=Tc(pe.type).indexOf("Bar")>=0,et=ox(Pe,je),ht=[],jt=ae&&AAe({barSize:U,stackGroups:V,totalSize:HPe(De,oe)});if(_e){var Yt,kt,Kt=an(Re)?$:Re,wt=(Yt=(kt=ox(Pe,je,!0))!==null&&kt!==void 0?kt:Kt)!==null&&Yt!==void 0?Yt:0;ht=EAe({barGap:q,barCategoryGap:G,bandSize:wt!==et?wt:et,sizeList:jt[Me],maxBarSize:Kt}),wt!==et&&(ht=ht.map(function(nt){return Le(Le({},nt),{},{position:Le(Le({},nt.position),{},{offset:nt.position.offset-wt/2})})}))}var ii=pe&&pe.type&&pe.type.getComposedData;ii&&re.push({props:Le(Le({},ii(Le(Le({},De),{},{displayedData:ue,props:R,dataKey:xe,item:pe,bandSize:et,barPosition:ht,offset:D,stackedData:$e,layout:K,dataStartIndex:O,dataEndIndex:M}))),{},Nt(Nt(Nt({key:pe.key||"item-".concat(we)},J,De[J]),oe,De[oe]),"animationId",j)),childIndex:Cme(pe,R.children),item:pe})}),re},A=function(R,B){var k=R.props,V=R.dataStartIndex,D=R.dataEndIndex,j=R.updateId;if(!AL({props:k}))return null;var O=k.children,M=k.layout,U=k.stackOffset,K=k.data,q=k.reverseStackOrder,G=a7(M),$=G.numericAxisName,ce=G.cateAxisName,J=xa(O,r),oe=kAe(K,J,"".concat($,"Id"),"".concat(ce,"Id"),U,q),ae=c.reduce(function(he,xe){var Re="".concat(xe.axisType,"Map");return Le(Le({},he),{},Nt({},Re,FPe(k,Le(Le({},xe),{},{graphicalItems:J,stackGroups:xe.axisType===$&&oe,dataStartIndex:V,dataEndIndex:D}))))},{}),re=zPe(Le(Le({},ae),{},{props:k,graphicalItems:J}),B?.legendBBox);Object.keys(ae).forEach(function(he){ae[he]=g(k,ae[he],re,he.replace("Map",""),n)});var pe=ae["".concat(ce,"Map")],we=UPe(pe),ue=w(k,Le(Le({},ae),{},{dataStartIndex:V,dataEndIndex:D,updateId:j,graphicalItems:J,stackGroups:oe,offset:re}));return Le(Le({formattedGraphicalItems:ue,graphicalItems:J,offset:re,stackGroups:oe},we),ae)},I=(function(C){function R(B){var k,V,D;return APe(this,R),D=TPe(this,R,[B]),Nt(D,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Nt(D,"accessibilityManager",new lPe),Nt(D,"handleLegendBBoxUpdate",function(j){if(j){var O=D.state,M=O.dataStartIndex,U=O.dataEndIndex,K=O.updateId;D.setState(Le({legendBBox:j},A({props:D.props,dataStartIndex:M,dataEndIndex:U,updateId:K},Le(Le({},D.state),{},{legendBBox:j}))))}}),Nt(D,"handleReceiveSyncEvent",function(j,O,M){if(D.props.syncId===j){if(M===D.eventEmitterSymbol&&typeof D.props.syncMethod!="function")return;D.applySyncEvent(O)}}),Nt(D,"handleBrushChange",function(j){var O=j.startIndex,M=j.endIndex;if(O!==D.state.dataStartIndex||M!==D.state.dataEndIndex){var U=D.state.updateId;D.setState(function(){return Le({dataStartIndex:O,dataEndIndex:M},A({props:D.props,dataStartIndex:O,dataEndIndex:M,updateId:U},D.state))}),D.triggerSyncEvent({dataStartIndex:O,dataEndIndex:M})}}),Nt(D,"handleMouseEnter",function(j){var O=D.getMouseInfo(j);if(O){var M=Le(Le({},O),{},{isTooltipActive:!0});D.setState(M),D.triggerSyncEvent(M);var U=D.props.onMouseEnter;zt(U)&&U(M,j)}}),Nt(D,"triggeredAfterMouseMove",function(j){var O=D.getMouseInfo(j),M=O?Le(Le({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};D.setState(M),D.triggerSyncEvent(M);var U=D.props.onMouseMove;zt(U)&&U(M,j)}),Nt(D,"handleItemMouseEnter",function(j){D.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Nt(D,"handleItemMouseLeave",function(){D.setState(function(){return{isTooltipActive:!1}})}),Nt(D,"handleMouseMove",function(j){j.persist(),D.throttleTriggeredAfterMouseMove(j)}),Nt(D,"handleMouseLeave",function(j){D.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};D.setState(O),D.triggerSyncEvent(O);var M=D.props.onMouseLeave;zt(M)&&M(O,j)}),Nt(D,"handleOuterEvent",function(j){var O=_me(j),M=Ko(D.props,"".concat(O));if(O&&zt(M)){var U,K;/.*touch.*/i.test(O)?K=D.getMouseInfo(j.changedTouches[0]):K=D.getMouseInfo(j),M((U=K)!==null&&U!==void 0?U:{},j)}}),Nt(D,"handleClick",function(j){var O=D.getMouseInfo(j);if(O){var M=Le(Le({},O),{},{isTooltipActive:!0});D.setState(M),D.triggerSyncEvent(M);var U=D.props.onClick;zt(U)&&U(M,j)}}),Nt(D,"handleMouseDown",function(j){var O=D.props.onMouseDown;if(zt(O)){var M=D.getMouseInfo(j);O(M,j)}}),Nt(D,"handleMouseUp",function(j){var O=D.props.onMouseUp;if(zt(O)){var M=D.getMouseInfo(j);O(M,j)}}),Nt(D,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&D.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Nt(D,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&D.handleMouseDown(j.changedTouches[0])}),Nt(D,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&D.handleMouseUp(j.changedTouches[0])}),Nt(D,"handleDoubleClick",function(j){var O=D.props.onDoubleClick;if(zt(O)){var M=D.getMouseInfo(j);O(M,j)}}),Nt(D,"handleContextMenu",function(j){var O=D.props.onContextMenu;if(zt(O)){var M=D.getMouseInfo(j);O(M,j)}}),Nt(D,"triggerSyncEvent",function(j){D.props.syncId!==void 0&&xC.emit(bC,D.props.syncId,j,D.eventEmitterSymbol)}),Nt(D,"applySyncEvent",function(j){var O=D.props,M=O.layout,U=O.syncMethod,K=D.state.updateId,q=j.dataStartIndex,G=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)D.setState(Le({dataStartIndex:q,dataEndIndex:G},A({props:D.props,dataStartIndex:q,dataEndIndex:G,updateId:K},D.state)));else if(j.activeTooltipIndex!==void 0){var $=j.chartX,ce=j.chartY,J=j.activeTooltipIndex,oe=D.state,ae=oe.offset,re=oe.tooltipTicks;if(!ae)return;if(typeof U=="function")J=U(re,j);else if(U==="value"){J=-1;for(var pe=0;pe<re.length;pe++)if(re[pe].value===j.activeLabel){J=pe;break}}var we=Le(Le({},ae),{},{x:ae.left,y:ae.top}),ue=Math.min($,we.x+we.width),he=Math.min(ce,we.y+we.height),xe=re[J]&&re[J].value,Re=kN(D.state,D.props.data,J),Ue=re[J]?{x:M==="horizontal"?re[J].coordinate:ue,y:M==="horizontal"?he:re[J].coordinate}:mX;D.setState(Le(Le({},j),{},{activeLabel:xe,activeCoordinate:Ue,activePayload:Re,activeTooltipIndex:J}))}else D.setState(j)}),Nt(D,"renderCursor",function(j){var O,M=D.state,U=M.isTooltipActive,K=M.activeCoordinate,q=M.activePayload,G=M.offset,$=M.activeTooltipIndex,ce=M.tooltipAxisBandSize,J=D.getTooltipEventType(),oe=(O=j.props.active)!==null&&O!==void 0?O:U,ae=D.props.layout,re=j.key||"_recharts-cursor";return se.createElement(gPe,{key:re,activeCoordinate:K,activePayload:q,activeTooltipIndex:$,chartName:n,element:j,isActive:oe,layout:ae,offset:G,tooltipAxisBandSize:ce,tooltipEventType:J})}),Nt(D,"renderPolarAxis",function(j,O,M){var U=Ko(j,"type.axisType"),K=Ko(D.state,"".concat(U,"Map")),q=j.type.defaultProps,G=q!==void 0?Le(Le({},q),j.props):j.props,$=K&&K[G["".concat(U,"Id")]];return X.cloneElement(j,Le(Le({},$),{},{className:Qt(U,$.className),key:j.key||"".concat(O,"-").concat(M),ticks:wc($,!0)}))}),Nt(D,"renderPolarGrid",function(j){var O=j.props,M=O.radialLines,U=O.polarAngles,K=O.polarRadius,q=D.state,G=q.radiusAxisMap,$=q.angleAxisMap,ce=Bu(G),J=Bu($),oe=J.cx,ae=J.cy,re=J.innerRadius,pe=J.outerRadius;return X.cloneElement(j,{polarAngles:Array.isArray(U)?U:wc(J,!0).map(function(we){return we.coordinate}),polarRadius:Array.isArray(K)?K:wc(ce,!0).map(function(we){return we.coordinate}),cx:oe,cy:ae,innerRadius:re,outerRadius:pe,key:j.key||"polar-grid",radialLines:M})}),Nt(D,"renderLegend",function(){var j=D.state.formattedGraphicalItems,O=D.props,M=O.children,U=O.width,K=O.height,q=D.props.margin||{},G=U-(q.left||0)-(q.right||0),$=tY({children:M,formattedGraphicalItems:j,legendWidth:G,legendContent:u});if(!$)return null;var ce=$.item,J=r7($,mPe);return X.cloneElement(ce,Le(Le({},J),{},{chartWidth:U,chartHeight:K,margin:q,onBBoxUpdate:D.handleLegendBBoxUpdate}))}),Nt(D,"renderTooltip",function(){var j,O=D.props,M=O.children,U=O.accessibilityLayer,K=Vo(M,da);if(!K)return null;var q=D.state,G=q.isTooltipActive,$=q.activeCoordinate,ce=q.activePayload,J=q.activeLabel,oe=q.offset,ae=(j=K.props.active)!==null&&j!==void 0?j:G;return X.cloneElement(K,{viewBox:Le(Le({},oe),{},{x:oe.left,y:oe.top}),active:ae,label:J,payload:ae?ce:[],coordinate:$,accessibilityLayer:U})}),Nt(D,"renderBrush",function(j){var O=D.props,M=O.margin,U=O.data,K=D.state,q=K.offset,G=K.dataStartIndex,$=K.dataEndIndex,ce=K.updateId;return X.cloneElement(j,{key:j.key||"_recharts-brush",onChange:dv(D.handleBrushChange,j.props.onChange),data:U,x:Je(j.props.x)?j.props.x:q.left,y:Je(j.props.y)?j.props.y:q.top+q.height+q.brushBottom-(M.bottom||0),width:Je(j.props.width)?j.props.width:q.width,startIndex:G,endIndex:$,updateId:"brush-".concat(ce)})}),Nt(D,"renderReferenceElement",function(j,O,M){if(!j)return null;var U=D,K=U.clipPathId,q=D.state,G=q.xAxisMap,$=q.yAxisMap,ce=q.offset,J=j.type.defaultProps||{},oe=j.props,ae=oe.xAxisId,re=ae===void 0?J.xAxisId:ae,pe=oe.yAxisId,we=pe===void 0?J.yAxisId:pe;return X.cloneElement(j,{key:j.key||"".concat(O,"-").concat(M),xAxis:G[re],yAxis:$[we],viewBox:{x:ce.left,y:ce.top,width:ce.width,height:ce.height},clipPathId:K})}),Nt(D,"renderActivePoints",function(j){var O=j.item,M=j.activePoint,U=j.basePoint,K=j.childIndex,q=j.isRange,G=[],$=O.props.key,ce=O.item.type.defaultProps!==void 0?Le(Le({},O.item.type.defaultProps),O.item.props):O.item.props,J=ce.activeDot,oe=ce.dataKey,ae=Le(Le({index:K,dataKey:oe,cx:M.x,cy:M.y,r:4,fill:P3(O.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Lt(J,!1)),Lw(J));return G.push(R.renderActiveDot(J,ae,"".concat($,"-activePoint-").concat(K))),U?G.push(R.renderActiveDot(J,Le(Le({},ae),{},{cx:U.x,cy:U.y}),"".concat($,"-basePoint-").concat(K))):q&&G.push(null),G}),Nt(D,"renderGraphicChild",function(j,O,M){var U=D.filterFormatItem(j,O,M);if(!U)return null;var K=D.getTooltipEventType(),q=D.state,G=q.isTooltipActive,$=q.tooltipAxis,ce=q.activeTooltipIndex,J=q.activeLabel,oe=D.props.children,ae=Vo(oe,da),re=U.props,pe=re.points,we=re.isRange,ue=re.baseLine,he=U.item.type.defaultProps!==void 0?Le(Le({},U.item.type.defaultProps),U.item.props):U.item.props,xe=he.activeDot,Re=he.hide,Ue=he.activeBar,Me=he.activeShape,ke=!!(!Re&&G&&ae&&(xe||Ue||Me)),De={};K!=="axis"&&ae&&ae.props.trigger==="click"?De={onClick:dv(D.handleItemMouseEnter,j.props.onClick)}:K!=="axis"&&(De={onMouseLeave:dv(D.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:dv(D.handleItemMouseEnter,j.props.onMouseEnter)});var Pe=X.cloneElement(j,Le(Le({},U.props),De));function je(Tn){return typeof $.dataKey=="function"?$.dataKey(Tn.payload):null}if(ke)if(ce>=0){var $e,_e;if($.dataKey&&!$.allowDuplicatedCategory){var et=typeof $.dataKey=="function"?je:"payload.".concat($.dataKey.toString());$e=dP(pe,et,J),_e=we&&ue&&dP(ue,et,J)}else $e=pe?.[ce],_e=we&&ue&&ue[ce];if(Me||Ue){var ht=j.props.activeIndex!==void 0?j.props.activeIndex:ce;return[X.cloneElement(j,Le(Le(Le({},U.props),De),{},{activeIndex:ht})),null,null]}if(!an($e))return[Pe].concat(sg(D.renderActivePoints({item:U,activePoint:$e,basePoint:_e,childIndex:ce,isRange:we})))}else{var jt,Yt=(jt=D.getItemByXY(D.state.activeCoordinate))!==null&&jt!==void 0?jt:{graphicalItem:Pe},kt=Yt.graphicalItem,Kt=kt.item,wt=Kt===void 0?j:Kt,ii=kt.childIndex,nt=Le(Le(Le({},U.props),De),{},{activeIndex:ii});return[X.cloneElement(wt,nt),null,null]}return we?[Pe,null,null]:[Pe,null]}),Nt(D,"renderCustomized",function(j,O,M){return X.cloneElement(j,Le(Le({key:"recharts-customized-".concat(M)},D.props),D.state))}),Nt(D,"renderMap",{CartesianGrid:{handler:vv,once:!0},ReferenceArea:{handler:D.renderReferenceElement},ReferenceLine:{handler:vv},ReferenceDot:{handler:D.renderReferenceElement},XAxis:{handler:vv},YAxis:{handler:vv},Brush:{handler:D.renderBrush,once:!0},Bar:{handler:D.renderGraphicChild},Line:{handler:D.renderGraphicChild},Area:{handler:D.renderGraphicChild},Radar:{handler:D.renderGraphicChild},RadialBar:{handler:D.renderGraphicChild},Scatter:{handler:D.renderGraphicChild},Pie:{handler:D.renderGraphicChild},Funnel:{handler:D.renderGraphicChild},Tooltip:{handler:D.renderCursor,once:!0},PolarGrid:{handler:D.renderPolarGrid,once:!0},PolarAngleAxis:{handler:D.renderPolarAxis},PolarRadiusAxis:{handler:D.renderPolarAxis},Customized:{handler:D.renderCustomized}}),D.clipPathId="".concat((k=B.id)!==null&&k!==void 0?k:Dy("recharts"),"-clip"),D.throttleTriggeredAfterMouseMove=eK(D.triggeredAfterMouseMove,(V=B.throttleDelay)!==null&&V!==void 0?V:1e3/60),D.state={},D}return IPe(R,C),SPe(R,[{key:"componentDidMount",value:function(){var k,V;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,V=k.children,D=k.data,j=k.height,O=k.layout,M=Vo(V,da);if(M){var U=M.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,q=kN(this.state,D,U,K),G=this.state.tooltipTicks[U].coordinate,$=(this.state.offset.top+j)/2,ce=O==="horizontal",J=ce?{x:G,y:$}:{y:G,x:$},oe=this.state.formattedGraphicalItems.find(function(re){var pe=re.item;return pe.type.name==="Scatter"});oe&&(J=Le(Le({},J),oe.props.points[U].tooltipPosition),q=oe.props.points[U].tooltipPayload);var ae={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:K,activePayload:q,activeCoordinate:J};this.setState(ae),this.renderCursor(M),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,V){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==V.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var D,j;this.accessibilityManager.setDetails({offset:{left:(D=this.props.margin.left)!==null&&D!==void 0?D:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(k){gP([Vo(k.children,da)],[Vo(this.props.children,da)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=Vo(this.props.children,da);if(k&&typeof k.props.shared=="boolean"){var V=k.props.shared?"axis":"item";return a.indexOf(V)>=0?V:s}return s}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var V=this.container,D=V.getBoundingClientRect(),j=dve(D),O={chartX:Math.round(k.pageX-j.left),chartY:Math.round(k.pageY-j.top)},M=D.width/V.offsetWidth||1,U=this.inRange(O.chartX,O.chartY,M);if(!U)return null;var K=this.state,q=K.xAxisMap,G=K.yAxisMap,$=this.getTooltipEventType(),ce=s7(this.state,this.props.data,this.props.layout,U);if($!=="axis"&&q&&G){var J=Bu(q).scale,oe=Bu(G).scale,ae=J&&J.invert?J.invert(O.chartX):null,re=oe&&oe.invert?oe.invert(O.chartY):null;return Le(Le({},O),{},{xValue:ae,yValue:re},ce)}return ce?Le(Le({},O),ce):null}},{key:"inRange",value:function(k,V){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,O=k/D,M=V/D;if(j==="horizontal"||j==="vertical"){var U=this.state.offset,K=O>=U.left&&O<=U.left+U.width&&M>=U.top&&M<=U.top+U.height;return K?{x:O,y:M}:null}var q=this.state,G=q.angleAxisMap,$=q.radiusAxisMap;if(G&&$){var ce=Bu(G);return u9({x:O,y:M},ce)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,V=this.getTooltipEventType(),D=Vo(k,da),j={};D&&V==="axis"&&(D.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Lw(this.props,this.handleOuterEvent);return Le(Le({},O),j)}},{key:"addListener",value:function(){xC.on(bC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xC.removeListener(bC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,V,D){for(var j=this.state.formattedGraphicalItems,O=0,M=j.length;O<M;O++){var U=j[O];if(U.item===k||U.props.key===k.key||V===Tc(U.item.type)&&D===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,V=this.state.offset,D=V.left,j=V.top,O=V.height,M=V.width;return se.createElement("defs",null,se.createElement("clipPath",{id:k},se.createElement("rect",{x:D,y:j,height:O,width:M})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(V,D){var j=n7(D,2),O=j[0],M=j[1];return Le(Le({},V),{},Nt({},O,M.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(V,D){var j=n7(D,2),O=j[0],M=j[1];return Le(Le({},V),{},Nt({},O,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var V;return(V=this.state.xAxisMap)===null||V===void 0||(V=V[k])===null||V===void 0?void 0:V.scale}},{key:"getYScaleByAxisId",value:function(k){var V;return(V=this.state.yAxisMap)===null||V===void 0||(V=V[k])===null||V===void 0?void 0:V.scale}},{key:"getItemByXY",value:function(k){var V=this.state,D=V.formattedGraphicalItems,j=V.activeItem;if(D&&D.length)for(var O=0,M=D.length;O<M;O++){var U=D[O],K=U.props,q=U.item,G=q.type.defaultProps!==void 0?Le(Le({},q.type.defaultProps),q.props):q.props,$=Tc(q.type);if($==="Bar"){var ce=(K.data||[]).find(function(re){return NSe(k,re)});if(ce)return{graphicalItem:U,payload:ce}}else if($==="RadialBar"){var J=(K.data||[]).find(function(re){return u9(k,re)});if(J)return{graphicalItem:U,payload:J}}else if(tA(U,j)||nA(U,j)||J0(U,j)){var oe=JTe({graphicalItem:U,activeTooltipItem:j,itemData:G.data}),ae=G.activeIndex===void 0?oe:G.activeIndex;return{graphicalItem:Le(Le({},U),{},{childIndex:ae}),payload:J0(U,j)?G.data[oe]:U.props.data[oe]}}}return null}},{key:"render",value:function(){var k=this;if(!AL(this))return null;var V=this.props,D=V.children,j=V.className,O=V.width,M=V.height,U=V.style,K=V.compact,q=V.title,G=V.desc,$=r7(V,yPe),ce=Lt($,!1);if(K)return se.createElement(UF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(yP,Zd({},ce,{width:O,height:M,title:q,desc:G}),this.renderClipPath(),SL(D,this.renderMap)));if(this.props.accessibilityLayer){var J,oe;ce.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,ce.role=(oe=this.props.role)!==null&&oe!==void 0?oe:"application",ce.onKeyDown=function(re){k.accessibilityManager.keyboardEvent(re)},ce.onFocus=function(){k.accessibilityManager.focus()}}var ae=this.parseEventsOfWrapper();return se.createElement(UF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",Zd({className:Qt("recharts-wrapper",j),style:Le({position:"relative",cursor:"default",width:O,height:M},U)},ae,{ref:function(pe){k.container=pe}}),se.createElement(yP,Zd({},ce,{width:O,height:M,title:q,desc:G,style:MPe}),this.renderClipPath(),SL(D,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(X.Component);Nt(I,"displayName",n),Nt(I,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Nt(I,"getDerivedStateFromProps",function(C,R){var B=C.dataKey,k=C.data,V=C.children,D=C.width,j=C.height,O=C.layout,M=C.stackOffset,U=C.margin,K=R.dataStartIndex,q=R.dataEndIndex;if(R.updateId===void 0){var G=o7(C);return Le(Le(Le({},G),{},{updateId:0},A(Le(Le({props:C},G),{},{updateId:0}),R)),{},{prevDataKey:B,prevData:k,prevWidth:D,prevHeight:j,prevLayout:O,prevStackOffset:M,prevMargin:U,prevChildren:V})}if(B!==R.prevDataKey||k!==R.prevData||D!==R.prevWidth||j!==R.prevHeight||O!==R.prevLayout||M!==R.prevStackOffset||!mp(U,R.prevMargin)){var $=o7(C),ce={chartX:R.chartX,chartY:R.chartY,isTooltipActive:R.isTooltipActive},J=Le(Le({},s7(R,k,O)),{},{updateId:R.updateId+1}),oe=Le(Le(Le({},$),ce),J);return Le(Le(Le({},oe),A(Le({props:C},oe),R)),{},{prevDataKey:B,prevData:k,prevWidth:D,prevHeight:j,prevLayout:O,prevStackOffset:M,prevMargin:U,prevChildren:V})}if(!gP(V,R.prevChildren)){var ae,re,pe,we,ue=Vo(V,Xp),he=ue&&(ae=(re=ue.props)===null||re===void 0?void 0:re.startIndex)!==null&&ae!==void 0?ae:K,xe=ue&&(pe=(we=ue.props)===null||we===void 0?void 0:we.endIndex)!==null&&pe!==void 0?pe:q,Re=he!==K||xe!==q,Ue=!an(k),Me=Ue&&!Re?R.updateId:R.updateId+1;return Le(Le({updateId:Me},A(Le(Le({props:C},R),{},{updateId:Me,dataStartIndex:he,dataEndIndex:xe}),R)),{},{prevChildren:V,dataStartIndex:he,dataEndIndex:xe})}return null}),Nt(I,"renderActiveDot",function(C,R,B){var k;return X.isValidElement(C)?k=X.cloneElement(C,R):zt(C)?k=C(R):k=se.createElement(O3,R),se.createElement(Yn,{className:"recharts-active-dot",key:B},k)});var T=X.forwardRef(function(R,B){return se.createElement(I,Zd({},R,{ref:B}))});return T.displayName=I.displayName,T},wX=vX({chartName:"BarChart",GraphicalChild:Vl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vy},{axisType:"yAxis",AxisComp:zy}],formatAxisMap:nCe}),$Pe=vX({chartName:"PieChart",GraphicalChild:Kc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:eA},{axisType:"radiusAxis",AxisComp:Zb}],formatAxisMap:GAe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const uh={rice:{cropName:"Rice",recommendedPrice:2800,marketPrice:2650,priceRange:{min:2500,max:3e3},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["High demand in urban markets","Good quality expected","Seasonal price increase"]},wheat:{cropName:"Wheat",recommendedPrice:2200,marketPrice:2150,priceRange:{min:2e3,max:2400},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"stable",factors:["Stable demand","Average quality expected","Government procurement available"]},corn:{cropName:"Corn",recommendedPrice:1800,marketPrice:1750,priceRange:{min:1600,max:2e3},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["Feed industry demand","Export opportunities","Weather concerns in other regions"]},sugarcane:{cropName:"Sugarcane",recommendedPrice:350,marketPrice:320,priceRange:{min:300,max:380},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["Sugar mill procurement","Good sugar recovery rate","Festival season demand"]},tomato:{cropName:"Tomato",recommendedPrice:2500,marketPrice:2200,priceRange:{min:1800,max:3e3},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["Cold storage shortage","High restaurant demand","Transport cost increase"]},onion:{cropName:"Onion",recommendedPrice:1200,marketPrice:1100,priceRange:{min:900,max:1500},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"stable",factors:["Steady household demand","Storage availability","Government buffer stock"]},potato:{cropName:"Potato",recommendedPrice:800,marketPrice:750,priceRange:{min:600,max:1e3},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"down",factors:["Oversupply in market","Good storage conditions","Import competition"]},cotton:{cropName:"Cotton",recommendedPrice:6200,marketPrice:5800,priceRange:{min:5500,max:6500},unit:"per quintal",lastUpdated:"2024-01-22",marketTrend:"up",factors:["Textile industry recovery","Export demand rising","Quality premium available"]}};function l7(t){const e=t.toLowerCase().trim();if(uh[e])return uh[e];const n=Object.keys(uh).find(r=>r.includes(e)||e.includes(r));return n?uh[n]:null}function GPe(t){if(!t||t.length<2)return[];const e=t.toLowerCase();return Object.keys(uh).filter(n=>n.includes(e)||uh[n].cropName.toLowerCase().includes(e)).map(n=>uh[n].cropName).slice(0,5)}const WPe="6.15.0";function qPe(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Ys(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function It(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&qPe(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Jd(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Jd(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Jd(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Jd(r,e)}: ${Jd(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ys(t,e){return t&&t.code===e}function z3(t){return ys(t,"CALL_EXCEPTION")}function Mr(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Jd(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+Jd(a))}}s.push(`code=${e}`),s.push(`version=${WPe}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return It(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&It(i,{shortMessage:r}),i}function Ve(t,e,n,r){if(!t)throw Mr(e,n,r)}function ye(t,e,n,r){Ve(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function xX(t,e,n){n==null&&(n=""),n&&(n=": "+n),Ve(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Ve(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function Hy(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),Ve(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function bX(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}ye(!1,"invalid BytesLike value",e||"value",t)}function rn(t,e){return bX(t,e,!1)}function Xs(t,e){return bX(t,e,!0)}function mr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function H3(t){return mr(t,!0)||t instanceof Uint8Array}const c7="0123456789abcdef";function it(t){const e=rn(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=c7[(i&240)>>4]+c7[i&15]}return n}function ri(t){return"0x"+t.map(e=>it(e).substring(2)).join("")}function xp(t){return mr(t,!0)?(t.length-2)/2:rn(t).length}function Zr(t,e,n){const r=rn(t);return n!=null&&n>r.length&&Ve(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),it(r.slice(e??0,n??r.length))}function AX(t,e,n){const r=rn(t);Ve(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),it(i)}function Fc(t,e){return AX(t,e,!0)}function KPe(t,e){return AX(t,e,!1)}const cA=BigInt(0),$a=BigInt(1),ep=9007199254740991;function Ox(t,e){const n=uA(t,"value"),r=BigInt(Xt(e,"width"));if(Ve(n>>r===cA,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-$a){const i=($a<<r)-$a;return-((~n&i)+$a)}return n}function EX(t,e){let n=ut(t,"value");const r=BigInt(Xt(e,"width")),i=$a<<r-$a;if(n<cA){n=-n,Ve(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=($a<<r)-$a;return(~n&s)+$a}else Ve(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function fh(t,e){const n=uA(t,"value"),r=BigInt(Xt(e,"bits"));return n&($a<<r)-$a}function ut(t,e){switch(typeof t){case"bigint":return t;case"number":return ye(Number.isInteger(t),"underflow",e||"value",t),ye(t>=-ep&&t<=ep,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ye(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ye(!1,"invalid BigNumberish value",e||"value",t)}function uA(t,e){const n=ut(t,e);return Ve(n>=cA,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const u7="0123456789abcdef";function fA(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=u7[n>>4],e+=u7[n&15];return BigInt(e)}return ut(t)}function Xt(t,e){switch(typeof t){case"bigint":return ye(t>=-ep&&t<=ep,"overflow",e||"value",t),Number(t);case"number":return ye(Number.isInteger(t),"underflow",e||"value",t),ye(t>=-ep&&t<=ep,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Xt(BigInt(t),e)}catch(n){ye(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ye(!1,"invalid numeric value",e||"value",t)}function YPe(t){return Xt(fA(t))}function af(t,e){let r=uA(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Xt(e,"width");for(Ve(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Vi(t){const e=uA(t,"value");if(e===cA)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function za(t){let e=it(H3(t)?t:Vi(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const f7="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const h7=BigInt(58);function XPe(t){const e=rn(t);let n=fA(e),r="";for(;n;)r=f7[Number(n%h7)]+r,n/=h7;for(let i=0;i<e.length&&!e[i];i++)r=f7[0]+r;return r}function QPe(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return rn(e)}function ZPe(t){const e=rn(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}class SX{filter;emitter;#e;constructor(e,n,r){this.#e=n,It(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function JPe(t,e,n,r,i){ye(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function TX(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function eNe(t,e,n,r,i){return t==="OVERLONG"?(ye(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),TX(t,e,n))}const tNe=Object.freeze({error:JPe,ignore:TX,replace:eNe});function nNe(t,e){e==null&&(e=tNe.error);const n=rn(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(s>>7===0){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let c=s&(1<<8-o-1)-1;for(let u=0;u<o;u++){let g=n[i];if((g&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),c=null;break}c=c<<6|g&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,c);continue}if(c<=a){i+=e("OVERLONG",i-1-o,n,r,c);continue}r.push(c)}}return r}function Cc(t,e){ye(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);ye(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function rNe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Rx(t,e){return rNe(nNe(t,e))}function _X(t){async function e(n,r){Ve(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();Ve(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Ve(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Mr("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=Mr("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let u;try{u=await fetch(n.url,c)}catch(A){throw clearTimeout(a),s||A}clearTimeout(a);const g={};u.headers.forEach((A,I)=>{g[I.toLowerCase()]=A});const m=await u.arrayBuffer(),w=m==null?null:new Uint8Array(m);return{statusCode:u.status,statusMessage:u.statusText,headers:g,body:w}}return e}const iNe=12,sNe=250;let d7=_X();const oNe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),aNe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let EC=!1;async function CX(t,e){try{const n=t.match(oNe);if(!n)throw new Error("invalid data");return new Ku(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?QPe(n[3]):cNe(n[3]))}catch{return new Ku(599,"BAD REQUEST (invalid data: URI)",{},null,new Uc(t))}}function IX(t){async function e(n,r){try{const i=n.match(aNe);if(!i)throw new Error("invalid link");return new Uc(`${t}${i[2]}`)}catch{return new Ku(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Uc(n))}}return e}const wv={data:CX,ipfs:IX("https://gateway.ipfs.io/ipfs/")},PX=new WeakMap;class lNe{#e;#t;constructor(e){this.#e=[],this.#t=!1,PX.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){Ve(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){Ve(!this.cancelled,"cancelled","CANCELLED",{})}}function xv(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class Uc{#e;#t;#n;#r;#i;#o;#s;#a;#f;#c;#p;#g;#l;#u;#h;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}set body(e){if(e==null)this.#s=void 0,this.#a=void 0;else if(typeof e=="string")this.#s=Cc(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#s=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#s=Cc(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#s!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#f&&(e.authorization=`Basic ${ZPe(Cc(this.#f))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#f||null}setCredentials(e,n){ye(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#f=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){ye(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#c||null}set preflightFunc(e){this.#c=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#g||null}set retryFunc(e){this.#g=e}get getUrlFunc(){return this.#h||d7}set getUrlFunc(e){this.#h=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#u={slotInterval:sNe,maxAttempts:iNe},this.#h=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#s?it(this.#s):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#d(e,n,r,i,s){if(e>=this.#u.maxAttempts)return s.makeServerError("exceeded maximum retry limit");Ve(p7()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await uNe(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in wv){const g=await wv[a](o.url,xv(i.#l));if(g instanceof Ku){let m=g;if(this.processFunc){xv(i.#l);try{m=await this.processFunc(o,m)}catch(w){(w.throttle==null||typeof w.stall!="number")&&m.makeServerError("error in post-processing function",w).assertOk()}}return m}o=g}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,xv(i.#l));let u=new Ku(c.statusCode,c.statusMessage,c.headers,c.body,i);if(u.statusCode===301||u.statusCode===302){try{const g=u.headers.location||"";return o.redirect(g).#d(e+1,n,0,i,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const g=u.headers["retry-after"];let m=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof g=="string"&&g.match(/^[1-9][0-9]*$/)&&(m=parseInt(g)),o.clone().#d(e+1,n,m,i,u)}if(this.processFunc){xv(i.#l);try{u=await this.processFunc(o,u)}catch(g){(g.throttle==null||typeof g.stall!="number")&&u.makeServerError("error in post-processing function",g).assertOk();let m=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return g.stall>=0&&(m=g.stall),o.clone().#d(e+1,n,m,i,u)}}return u}send(){return Ve(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new lNe(this),this.#d(0,p7()+this.timeout,0,this,new Ku(0,"",{},null,this))}cancel(){Ve(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=PX.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Ve(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new Uc(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#s&&(i.#s=new Uint8Array(this.#s)),i.#a=this.#a,i}clone(){const e=new Uc(this.url);return e.#r=this.#r,this.#s&&(e.#s=this.#s),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#f=this.#f,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#c=this.#c,e.#p=this.#p,e.#g=this.#g,e.#u=Object.assign({},this.#u),e.#h=this.#h,e}static lockConfig(){EC=!0}static getGateway(e){return wv[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(EC)throw new Error("gateways locked");wv[e]=n}static registerGetUrl(e){if(EC)throw new Error("gateways locked");d7=e}static createGetUrlFunc(e){return _X(e)}static createDataGateway(){return CX}static createIpfsGatewayFunc(e){return IX(e)}}class Ku{#e;#t;#n;#r;#i;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?it(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":Rx(this.#r)}catch{Ve(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Ve(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,i,s){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=s||null,this.#o={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Ku(599,r,this.headers,this.body,this.#i||void 0);return i.#o={message:e,error:n},i}throwThrottleError(e,n){n==null?n=-1:ye(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw It(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=Rx(this.#r))}catch{}Ve(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function p7(){return new Date().getTime()}function cNe(t){return Cc(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function uNe(t){return new Promise(e=>setTimeout(e,t))}const fNe=BigInt(-1),La=BigInt(0),tp=BigInt(1),hNe=BigInt(5),jd={};let bp="0000";for(;bp.length<80;)bp+=bp;function $f(t){let e=bp;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Am(t,e,n){const r=BigInt(e.width);if(e.signed){const i=tp<<r-tp;Ve(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>La?t=Ox(fh(t,r),r):t=-Ox(fh(-t,r),r)}else{const i=tp<<r;Ve(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-tp}return t}function SC(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ye(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,o=(a,c,u)=>s[a]==null?u:(ye(typeof s[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}ye(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),ye(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function dNe(t,e){let n="";t<La&&(n="-",t*=fNe);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=bp+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}class uc{format;#e;#t;#n;_value;constructor(e,n,r){Hy(e,jd,"FixedNumber"),this.#t=n,this.#e=r;const i=dNe(n,r.decimals);It(this,{format:r.name,_value:i}),this.#n=$f(r.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#r(e){ye(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#i(e,n){return e=Am(e,this.#e,n),new uc(jd,e,this.#e)}#o(e,n){return this.#r(e),this.#i(this.#t+e.#t,n)}addUnsafe(e){return this.#o(e)}add(e){return this.#o(e,"add")}#s(e,n){return this.#r(e),this.#i(this.#t-e.#t,n)}subUnsafe(e){return this.#s(e)}sub(e){return this.#s(e,"sub")}#a(e,n){return this.#r(e),this.#i(this.#t*e.#t/this.#n,n)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#r(e);const n=this.#t*e.#t;return Ve(n%this.#n===La,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(n/this.#n,"mulSignal")}#f(e,n){return Ve(e.#t!==La,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e),this.#i(this.#t*this.#n/e.#t,n)}divUnsafe(e){return this.#f(e)}div(e){return this.#f(e,"div")}divSignal(e){Ve(e.#t!==La,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e);const n=this.#t*this.#n;return Ve(n%e.#t===La,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(n/e.#t,"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=$f(i):i<0&&(n*=$f(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<La&&(e-=this.#n-tp),e=this.#t/this.#n*this.#n,this.#i(e,"floor")}ceiling(){let e=this.#t;return this.#t>La&&(e+=this.#n-tp),e=this.#t/this.#n*this.#n,this.#i(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=hNe*$f(n-1);let i=this.value+r;const s=$f(n);return i=i/s*s,Am(i,this.#e,"round"),new uc(jd,i,this.#e)}isZero(){return this.#t===La}isNegative(){return this.#t<La}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return uc.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:Xt(n),s=SC(r);let o=ut(e,"value");const a=i-s.decimals;if(a>0){const c=$f(a);Ve(o%c===La,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=$f(-a));return Am(o,s,"fromValue"),new uc(jd,o,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);ye(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=SC(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=bp;Ve(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(r[1]+s+o);return Am(a,i,"fromString"),new uc(jd,a,i)}static fromBytes(e,n){let r=fA(rn(e,"value"));const i=SC(n);return i.signed&&(r=Ox(r,i.width)),Am(r,i,"fromBytes"),new uc(jd,r,i)}}function pNe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function g7(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function m7(t,e,n,r){const i=[];for(;n<e+1+r;){const s=NX(t,n);i.push(s.result),n+=s.consumed,Ve(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function NX(t,e){Ve(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{Ve(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=g7(t,e+1,r);return n(e+1+r+i),m7(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),m7(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=g7(t,e+1,r);n(e+1+r+i);const s=it(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=it(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:pNe(t[e])}}function $y(t){const e=rn(t,"data"),n=NX(e,0);return ye(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function y7(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function OX(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(OX(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=y7(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(rn(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=y7(e.length);return n.unshift(183+n.length),n.concat(e)}const v7="0123456789abcdef";function lf(t){let e="0x";for(const n of OX(t))e+=v7[n>>4],e+=v7[n&15];return e}const RX=["wei","kwei","mwei","gwei","szabo","finney","ether"];function w7(t,e){let n=18;if(typeof e=="string"){const r=RX.indexOf(e);ye(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Xt(e,"unit"));return uc.fromValue(t,n,{decimals:n,width:512}).toString()}function TC(t,e){ye(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=RX.indexOf(e);ye(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Xt(e,"unit"));return uc.fromString(t,{decimals:n,width:512}).value}const eo=32,MN=new Uint8Array(eo),gNe=["then"],bv={},kX=new WeakMap;function Jf(t){return kX.get(t)}function x7(t,e){kX.set(t,e)}function Em(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function DN(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof xc?DN(Jf(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof xc&&(o=DN(Jf(o),o,n)),r[i]=o),r},{})}class xc extends Array{#e;constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),s=!0;n!==bv&&(r=e,i=[],s=!1),super(r.length),r.forEach((c,u)=>{this[u]=c});const o=i.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(x7(this,Object.freeze(r.map((c,u)=>{const g=i[u];return g!=null&&o.get(g)===1?g:null}))),this.#e=[],this.#e==null&&this.#e,!s)return;Object.freeze(this);const a=new Proxy(this,{get:(c,u,g)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const w=Xt(u,"%index");if(w<0||w>=this.length)throw new RangeError("out of result range");const A=c[w];return A instanceof Error&&Em(`index ${w}`,A),A}if(gNe.indexOf(u)>=0)return Reflect.get(c,u,g);const m=c[u];if(m instanceof Function)return function(...w){return m.apply(this===g?c:this,w)};if(!(u in c))return c.getValue.apply(this===g?c:this,[u])}return Reflect.get(c,u,g)}});return x7(a,Jf(this)),a}toArray(e){const n=[];return this.forEach((r,i)=>{r instanceof Error&&Em(`index ${i}`,r),e&&r instanceof xc&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=Jf(this);return n.reduce((r,i,s)=>(Ve(i!=null,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),DN(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=Jf(this),i=[],s=[];for(let o=e;o<n;o++)i.push(this[o]),s.push(r[o]);return new xc(bv,i,s)}filter(e,n){const r=Jf(this),i=[],s=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&Em(`index ${o}`,a),e.call(n,a,o,this)&&(i.push(a),s.push(r[o]))}return new xc(bv,i,s)}map(e,n){const r=[];for(let i=0;i<this.length;i++){const s=this[i];s instanceof Error&&Em(`index ${i}`,s),r.push(e.call(n,s,i,this))}return r}getValue(e){const n=Jf(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&Em(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new xc(bv,e,n)}}function b7(t){let e=Vi(t);return Ve(e.length<=eo,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:eo,offset:e.length}),e.length!==eo&&(e=Xs(ri([MN.slice(e.length%eo),e]))),e}class Yc{name;type;localName;dynamic;constructor(e,n,r,i){It(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ye(!1,e,this.localName,n)}}class LN{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return ri(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(Xs(e.data))}writeBytes(e){let n=Xs(e);const r=n.length%eo;return r&&(n=Xs(ri([n,MN.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(b7(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(MN),this.#t+=eo,n=>{this.#e[e]=b7(n)}}}class $3{allowLoose;#e;#t;#n;#r;#i;constructor(e,n,r){It(this,{allowLoose:!!n}),this.#e=Xs(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return it(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#r)return this.#r.#o(e);this.#n+=e,Ve(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Xs(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#s(e,n,r){let i=Math.ceil(n/eo)*eo;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?i=n:Ve(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Xs(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){const n=new $3(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return n.#r=this,n}readBytes(e,n){let r=this.#s(0,e,!!n);return this.#o(e),this.#t+=r.length,r.slice(0,e)}readValue(){return fA(this.readBytes(eo))}readIndex(){return YPe(this.readBytes(eo))}}function kx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function G3(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function mNe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kx(t.outputLen),kx(t.blockLen)}function og(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function MX(t,e){G3(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const _C=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const DX=t=>t instanceof Uint8Array,yNe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),CC=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),pl=(t,e)=>t<<32-e|t>>>e,vNe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vNe)throw new Error("Non little-endian hardware is not supported");function wNe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function hA(t){if(typeof t=="string"&&(t=wNe(t)),!DX(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function xNe(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!DX(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class W3{clone(){return this._cloneInto()}}function q3(t){const e=r=>t().update(hA(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function bNe(t=32){if(_C&&typeof _C.getRandomValues=="function")return _C.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class LX extends W3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,mNe(e);const r=hA(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return og(this),this.iHash.update(e),this}digestInto(e){og(this),G3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const BX=(t,e,n)=>new LX(t,e).update(n).digest();BX.create=(t,e)=>new LX(t,e);function ANe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}class jX extends W3{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=CC(this.buffer)}update(e){og(this);const{view:n,buffer:r,blockLen:i}=this;e=hA(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=CC(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){og(this),MX(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let m=o;m<i;m++)n[m]=0;ANe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=CC(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,g=this.get();if(u>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<u;m++)a.setUint32(4*m,g[m],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const ENe=(t,e,n)=>t&e^~t&n,SNe=(t,e,n)=>t&e^t&n^e&n,TNe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Au=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eu=new Uint32Array(64);class _Ne extends jX{constructor(){super(64,32,8,!1),this.A=Au[0]|0,this.B=Au[1]|0,this.C=Au[2]|0,this.D=Au[3]|0,this.E=Au[4]|0,this.F=Au[5]|0,this.G=Au[6]|0,this.H=Au[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let m=0;m<16;m++,n+=4)Eu[m]=e.getUint32(n,!1);for(let m=16;m<64;m++){const w=Eu[m-15],A=Eu[m-2],I=pl(w,7)^pl(w,18)^w>>>3,T=pl(A,17)^pl(A,19)^A>>>10;Eu[m]=T+Eu[m-7]+I+Eu[m-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:g}=this;for(let m=0;m<64;m++){const w=pl(a,6)^pl(a,11)^pl(a,25),A=g+w+ENe(a,c,u)+TNe[m]+Eu[m]|0,T=(pl(r,2)^pl(r,13)^pl(r,22))+SNe(r,i,s)|0;g=u,u=c,c=a,a=o+A|0,o=s,s=i,i=r,r=A+T|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,g=g+this.H|0,this.set(r,i,s,o,a,c,u,g)}roundClean(){Eu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const FX=q3(()=>new _Ne),Av=BigInt(2**32-1),BN=BigInt(32);function UX(t,e=!1){return e?{h:Number(t&Av),l:Number(t>>BN&Av)}:{h:Number(t>>BN&Av)|0,l:Number(t&Av)|0}}function VX(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=UX(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const CNe=(t,e)=>BigInt(t>>>0)<<BN|BigInt(e>>>0),INe=(t,e,n)=>t>>>n,PNe=(t,e,n)=>t<<32-n|e>>>n,NNe=(t,e,n)=>t>>>n|e<<32-n,ONe=(t,e,n)=>t<<32-n|e>>>n,RNe=(t,e,n)=>t<<64-n|e>>>n-32,kNe=(t,e,n)=>t>>>n-32|e<<64-n,MNe=(t,e)=>e,DNe=(t,e)=>t,zX=(t,e,n)=>t<<n|e>>>32-n,HX=(t,e,n)=>e<<n|t>>>32-n,$X=(t,e,n)=>e<<n-32|t>>>64-n,GX=(t,e,n)=>t<<n-32|e>>>64-n;function LNe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const BNe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),jNe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,FNe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),UNe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,VNe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),zNe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,en={fromBig:UX,split:VX,toBig:CNe,shrSH:INe,shrSL:PNe,rotrSH:NNe,rotrSL:ONe,rotrBH:RNe,rotrBL:kNe,rotr32H:MNe,rotr32L:DNe,rotlSH:zX,rotlSL:HX,rotlBH:$X,rotlBL:GX,add:LNe,add3L:BNe,add3H:jNe,add4L:FNe,add4H:UNe,add5H:zNe,add5L:VNe},[HNe,$Ne]=en.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Su=new Uint32Array(80),Tu=new Uint32Array(80);class GNe extends jX{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:g,Fh:m,Fl:w,Gh:A,Gl:I,Hh:T,Hl:C}=this;return[e,n,r,i,s,o,a,c,u,g,m,w,A,I,T,C]}set(e,n,r,i,s,o,a,c,u,g,m,w,A,I,T,C){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=g|0,this.Fh=m|0,this.Fl=w|0,this.Gh=A|0,this.Gl=I|0,this.Hh=T|0,this.Hl=C|0}process(e,n){for(let k=0;k<16;k++,n+=4)Su[k]=e.getUint32(n),Tu[k]=e.getUint32(n+=4);for(let k=16;k<80;k++){const V=Su[k-15]|0,D=Tu[k-15]|0,j=en.rotrSH(V,D,1)^en.rotrSH(V,D,8)^en.shrSH(V,D,7),O=en.rotrSL(V,D,1)^en.rotrSL(V,D,8)^en.shrSL(V,D,7),M=Su[k-2]|0,U=Tu[k-2]|0,K=en.rotrSH(M,U,19)^en.rotrBH(M,U,61)^en.shrSH(M,U,6),q=en.rotrSL(M,U,19)^en.rotrBL(M,U,61)^en.shrSL(M,U,6),G=en.add4L(O,q,Tu[k-7],Tu[k-16]),$=en.add4H(G,j,K,Su[k-7],Su[k-16]);Su[k]=$|0,Tu[k]=G|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:g,Eh:m,El:w,Fh:A,Fl:I,Gh:T,Gl:C,Hh:R,Hl:B}=this;for(let k=0;k<80;k++){const V=en.rotrSH(m,w,14)^en.rotrSH(m,w,18)^en.rotrBH(m,w,41),D=en.rotrSL(m,w,14)^en.rotrSL(m,w,18)^en.rotrBL(m,w,41),j=m&A^~m&T,O=w&I^~w&C,M=en.add5L(B,D,O,$Ne[k],Tu[k]),U=en.add5H(M,R,V,j,HNe[k],Su[k]),K=M|0,q=en.rotrSH(r,i,28)^en.rotrBH(r,i,34)^en.rotrBH(r,i,39),G=en.rotrSL(r,i,28)^en.rotrBL(r,i,34)^en.rotrBL(r,i,39),$=r&s^r&a^s&a,ce=i&o^i&c^o&c;R=T|0,B=C|0,T=A|0,C=I|0,A=m|0,I=w|0,{h:m,l:w}=en.add(u|0,g|0,U|0,K|0),u=a|0,g=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const J=en.add3L(K,G,ce);r=en.add3H(J,U,q,$),i=J|0}({h:r,l:i}=en.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=en.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=en.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:g}=en.add(this.Dh|0,this.Dl|0,u|0,g|0),{h:m,l:w}=en.add(this.Eh|0,this.El|0,m|0,w|0),{h:A,l:I}=en.add(this.Fh|0,this.Fl|0,A|0,I|0),{h:T,l:C}=en.add(this.Gh|0,this.Gl|0,T|0,C|0),{h:R,l:B}=en.add(this.Hh|0,this.Hl|0,R|0,B|0),this.set(r,i,s,o,a,c,u,g,m,w,A,I,T,C,R,B)}roundClean(){Su.fill(0),Tu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const WNe=q3(()=>new GNe);function qNe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const A7=qNe();A7.crypto||A7.msCrypto;function KNe(t){switch(t){case"sha256":return FX.create();case"sha512":return WNe.create()}ye(!1,"invalid hashing algorithm name","algorithm",t)}const[WX,qX,KX]=[[],[],[]],YNe=BigInt(0),Sm=BigInt(1),XNe=BigInt(2),QNe=BigInt(7),ZNe=BigInt(256),JNe=BigInt(113);for(let t=0,e=Sm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],WX.push(2*(5*r+n)),qX.push((t+1)*(t+2)/2%64);let i=YNe;for(let s=0;s<7;s++)e=(e<<Sm^(e>>QNe)*JNe)%ZNe,e&XNe&&(i^=Sm<<(Sm<<BigInt(s))-Sm);KX.push(i)}const[eOe,tOe]=VX(KX,!0),E7=(t,e,n)=>n>32?$X(t,e,n):zX(t,e,n),S7=(t,e,n)=>n>32?GX(t,e,n):HX(t,e,n);function nOe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],g=n[c+1],m=E7(u,g,1)^n[a],w=S7(u,g,1)^n[a+1];for(let A=0;A<50;A+=10)t[o+A]^=m,t[o+A+1]^=w}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=qX[o],c=E7(i,s,a),u=S7(i,s,a),g=WX[o];i=t[g],s=t[g+1],t[g]=c,t[g+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=eOe[r],t[1]^=tOe[r]}n.fill(0)}class K3 extends W3{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,kx(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=yNe(this.state)}keccak(){nOe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){og(this);const{blockLen:n,state:r}=this;e=hA(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){og(this,!1),G3(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kx(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(MX(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new K3(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const rOe=(t,e,n)=>q3(()=>new K3(e,t,n)),iOe=rOe(1,136,256/8);let YX=!1;const XX=function(t){return iOe(t)};let QX=XX;function Si(t){const e=rn(t,"data");return it(QX(e))}Si._=XX;Si.lock=function(){YX=!0};Si.register=function(t){if(YX)throw new TypeError("keccak256 is locked");QX=t};Object.freeze(Si);const ZX=function(t){return KNe("sha256").update(t).digest()};let JX=ZX,eQ=!1;function Lg(t){const e=rn(t,"data");return it(JX(e))}Lg._=ZX;Lg.lock=function(){eQ=!0};Lg.register=function(t){if(eQ)throw new Error("sha256 is locked");JX=t};Object.freeze(Lg);Object.freeze(Lg);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tQ=BigInt(0),dA=BigInt(1),sOe=BigInt(2),pA=t=>t instanceof Uint8Array,oOe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ag(t){if(!pA(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=oOe[t[n]];return e}function nQ(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Y3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function lg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function bh(t){return Y3(ag(t))}function X3(t){if(!pA(t))throw new Error("Uint8Array expected");return Y3(ag(Uint8Array.from(t).reverse()))}function cg(t,e){return lg(t.toString(16).padStart(e*2,"0"))}function Q3(t,e){return cg(t,e).reverse()}function aOe(t){return lg(nQ(t))}function ja(t,e,n){let r;if(typeof e=="string")try{r=lg(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(pA(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function oy(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!pA(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function lOe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function cOe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function uOe(t){let e;for(e=0;t>tQ;t>>=dA,e+=1);return e}function fOe(t,e){return t>>BigInt(e)&dA}const hOe=(t,e,n)=>t|(n?dA:tQ)<<BigInt(e),Z3=t=>(sOe<<BigInt(t-1))-dA,IC=t=>new Uint8Array(t),T7=t=>Uint8Array.from(t);function rQ(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=IC(t),i=IC(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...m)=>n(i,r,...m),c=(m=IC())=>{i=a(T7([0]),m),r=a(),m.length!==0&&(i=a(T7([1]),m),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const w=[];for(;m<e;){r=a();const A=r.slice();w.push(A),m+=r.length}return oy(...w)};return(m,w)=>{o(),c(m);let A;for(;!(A=w(u()));)c();return o(),A}}const dOe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Gy(t,e,n={}){const r=(i,s,o)=>{const a=dOe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const pOe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:fOe,bitLen:uOe,bitMask:Z3,bitSet:hOe,bytesToHex:ag,bytesToNumberBE:bh,bytesToNumberLE:X3,concatBytes:oy,createHmacDrbg:rQ,ensureBytes:ja,equalBytes:lOe,hexToBytes:lg,hexToNumber:Y3,numberToBytesBE:cg,numberToBytesLE:Q3,numberToHexUnpadded:nQ,numberToVarBytesBE:aOe,utf8ToBytes:cOe,validateObject:Gy},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ns=BigInt(0),yi=BigInt(1),eh=BigInt(2),gOe=BigInt(3),jN=BigInt(4),_7=BigInt(5),C7=BigInt(8);BigInt(9);BigInt(16);function wo(t,e){const n=t%e;return n>=ns?n:e+n}function mOe(t,e,n){if(n<=ns||e<ns)throw new Error("Expected power/modulo > 0");if(n===yi)return ns;let r=yi;for(;e>ns;)e&yi&&(r=r*t%n),t=t*t%n,e>>=yi;return r}function ca(t,e,n){let r=t;for(;e-- >ns;)r*=r,r%=n;return r}function FN(t,e){if(t===ns||e<=ns)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=wo(t,e),r=e,i=ns,s=yi;for(;n!==ns;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==yi)throw new Error("invert: does not exist");return wo(i,e)}function yOe(t){const e=(t-yi)/eh;let n,r,i;for(n=t-yi,r=0;n%eh===ns;n/=eh,r++);for(i=eh;i<t&&mOe(i,e,t)!==t-yi;i++);if(r===1){const o=(t+yi)/jN;return function(c,u){const g=c.pow(u,o);if(!c.eql(c.sqr(g),u))throw new Error("Cannot find square root");return g}}const s=(n+yi)/eh;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,g=a.pow(a.mul(a.ONE,i),n),m=a.pow(c,s),w=a.pow(c,n);for(;!a.eql(w,a.ONE);){if(a.eql(w,a.ZERO))return a.ZERO;let A=1;for(let T=a.sqr(w);A<u&&!a.eql(T,a.ONE);A++)T=a.sqr(T);const I=a.pow(g,yi<<BigInt(u-A-1));g=a.sqr(I),m=a.mul(m,I),w=a.mul(w,g),u=A}return m}}function vOe(t){if(t%jN===gOe){const e=(t+yi)/jN;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%C7===_7){const e=(t-_7)/C7;return function(r,i){const s=r.mul(i,eh),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,eh),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return yOe(t)}const wOe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xOe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=wOe.reduce((r,i)=>(r[i]="function",r),e);return Gy(t,n)}function bOe(t,e,n){if(n<ns)throw new Error("Expected power > 0");if(n===ns)return t.ONE;if(n===yi)return e;let r=t.ONE,i=e;for(;n>ns;)n&yi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=yi;return r}function AOe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function iQ(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function EOe(t,e,n=!1,r={}){if(t<=ns)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=iQ(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=vOe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Z3(i),ZERO:ns,ONE:yi,create:c=>wo(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ns<=c&&c<t},is0:c=>c===ns,isOdd:c=>(c&yi)===yi,neg:c=>wo(-c,t),eql:(c,u)=>c===u,sqr:c=>wo(c*c,t),add:(c,u)=>wo(c+u,t),sub:(c,u)=>wo(c-u,t),mul:(c,u)=>wo(c*u,t),pow:(c,u)=>bOe(a,c,u),div:(c,u)=>wo(c*FN(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>FN(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>AOe(a,c),cmov:(c,u,g)=>g?u:c,toBytes:c=>n?Q3(c,s):cg(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?X3(c):bh(c)}});return Object.freeze(a)}function sQ(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function oQ(t){const e=sQ(t);return e+Math.ceil(e/2)}function SOe(t,e,n=!1){const r=t.length,i=sQ(e),s=oQ(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?bh(t):X3(t),a=wo(o,e-yi)+yi;return n?Q3(a,i):cg(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const TOe=BigInt(0),PC=BigInt(1);function _Oe(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>TOe;)s&PC&&(o=o.add(a)),a=a.double(),s>>=PC;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let u=i,g=u;for(let m=0;m<o;m++){g=u,c.push(g);for(let w=1;w<a;w++)g=g.add(u),c.push(g);u=g.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let u=t.ZERO,g=t.BASE;const m=BigInt(2**i-1),w=2**i,A=BigInt(i);for(let I=0;I<a;I++){const T=I*c;let C=Number(o&m);o>>=A,C>c&&(C-=w,o+=PC);const R=T,B=T+Math.abs(C)-1,k=I%2!==0,V=C<0;C===0?g=g.add(n(k,s[R])):u=u.add(n(V,s[B]))}return{p:u,f:g}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function aQ(t){return xOe(t.Fp),Gy(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...iQ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function COe(t){const e=aQ(t);Gy(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:IOe,hexToBytes:POe}=pOe,hh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=hh;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:IOe(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=hh,n=typeof t=="string"?POe(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=hh._parseInt(n.subarray(2)),{d:o,l:a}=hh._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const g=u.toString(16);return g.length&1?`0${g}`:g},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},hc=BigInt(0),ha=BigInt(1);BigInt(2);const I7=BigInt(3);BigInt(4);function NOe(t){const e=COe(t),{Fp:n}=e,r=e.toBytes||((I,T,C)=>{const R=T.toAffine();return oy(Uint8Array.from([4]),n.toBytes(R.x),n.toBytes(R.y))}),i=e.fromBytes||(I=>{const T=I.subarray(1),C=n.fromBytes(T.subarray(0,n.BYTES)),R=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:C,y:R}});function s(I){const{a:T,b:C}=e,R=n.sqr(I),B=n.mul(R,I);return n.add(n.add(B,n.mul(I,T)),C)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(I){return typeof I=="bigint"&&hc<I&&I<e.n}function a(I){if(!o(I))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(I){const{allowedPrivateKeyLengths:T,nByteLength:C,wrapPrivateKey:R,n:B}=e;if(T&&typeof I!="bigint"){if(I instanceof Uint8Array&&(I=ag(I)),typeof I!="string"||!T.includes(I.length))throw new Error("Invalid key");I=I.padStart(C*2,"0")}let k;try{k=typeof I=="bigint"?I:bh(ja("private key",I,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof I}`)}return R&&(k=wo(k,B)),a(k),k}const u=new Map;function g(I){if(!(I instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(T,C,R){if(this.px=T,this.py=C,this.pz=R,T==null||!n.isValid(T))throw new Error("x required");if(C==null||!n.isValid(C))throw new Error("y required");if(R==null||!n.isValid(R))throw new Error("z required")}static fromAffine(T){const{x:C,y:R}=T||{};if(!T||!n.isValid(C)||!n.isValid(R))throw new Error("invalid affine point");if(T instanceof m)throw new Error("projective point not allowed");const B=k=>n.eql(k,n.ZERO);return B(C)&&B(R)?m.ZERO:new m(C,R,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const C=n.invertBatch(T.map(R=>R.pz));return T.map((R,B)=>R.toAffine(C[B])).map(m.fromAffine)}static fromHex(T){const C=m.fromAffine(i(ja("pointHex",T)));return C.assertValidity(),C}static fromPrivateKey(T){return m.BASE.multiply(c(T))}_setWindowSize(T){this._WINDOW_SIZE=T,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:T,y:C}=this.toAffine();if(!n.isValid(T)||!n.isValid(C))throw new Error("bad point: x or y not FE");const R=n.sqr(C),B=s(T);if(!n.eql(R,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:T}=this.toAffine();if(n.isOdd)return!n.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){g(T);const{px:C,py:R,pz:B}=this,{px:k,py:V,pz:D}=T,j=n.eql(n.mul(C,D),n.mul(k,B)),O=n.eql(n.mul(R,D),n.mul(V,B));return j&&O}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:C}=e,R=n.mul(C,I7),{px:B,py:k,pz:V}=this;let D=n.ZERO,j=n.ZERO,O=n.ZERO,M=n.mul(B,B),U=n.mul(k,k),K=n.mul(V,V),q=n.mul(B,k);return q=n.add(q,q),O=n.mul(B,V),O=n.add(O,O),D=n.mul(T,O),j=n.mul(R,K),j=n.add(D,j),D=n.sub(U,j),j=n.add(U,j),j=n.mul(D,j),D=n.mul(q,D),O=n.mul(R,O),K=n.mul(T,K),q=n.sub(M,K),q=n.mul(T,q),q=n.add(q,O),O=n.add(M,M),M=n.add(O,M),M=n.add(M,K),M=n.mul(M,q),j=n.add(j,M),K=n.mul(k,V),K=n.add(K,K),M=n.mul(K,q),D=n.sub(D,M),O=n.mul(K,U),O=n.add(O,O),O=n.add(O,O),new m(D,j,O)}add(T){g(T);const{px:C,py:R,pz:B}=this,{px:k,py:V,pz:D}=T;let j=n.ZERO,O=n.ZERO,M=n.ZERO;const U=e.a,K=n.mul(e.b,I7);let q=n.mul(C,k),G=n.mul(R,V),$=n.mul(B,D),ce=n.add(C,R),J=n.add(k,V);ce=n.mul(ce,J),J=n.add(q,G),ce=n.sub(ce,J),J=n.add(C,B);let oe=n.add(k,D);return J=n.mul(J,oe),oe=n.add(q,$),J=n.sub(J,oe),oe=n.add(R,B),j=n.add(V,D),oe=n.mul(oe,j),j=n.add(G,$),oe=n.sub(oe,j),M=n.mul(U,J),j=n.mul(K,$),M=n.add(j,M),j=n.sub(G,M),M=n.add(G,M),O=n.mul(j,M),G=n.add(q,q),G=n.add(G,q),$=n.mul(U,$),J=n.mul(K,J),G=n.add(G,$),$=n.sub(q,$),$=n.mul(U,$),J=n.add(J,$),q=n.mul(G,J),O=n.add(O,q),q=n.mul(oe,J),j=n.mul(ce,j),j=n.sub(j,q),q=n.mul(ce,G),M=n.mul(oe,M),M=n.add(M,q),new m(j,O,M)}subtract(T){return this.add(T.negate())}is0(){return this.equals(m.ZERO)}wNAF(T){return A.wNAFCached(this,u,T,C=>{const R=n.invertBatch(C.map(B=>B.pz));return C.map((B,k)=>B.toAffine(R[k])).map(m.fromAffine)})}multiplyUnsafe(T){const C=m.ZERO;if(T===hc)return C;if(a(T),T===ha)return this;const{endo:R}=e;if(!R)return A.unsafeLadder(this,T);let{k1neg:B,k1:k,k2neg:V,k2:D}=R.splitScalar(T),j=C,O=C,M=this;for(;k>hc||D>hc;)k&ha&&(j=j.add(M)),D&ha&&(O=O.add(M)),M=M.double(),k>>=ha,D>>=ha;return B&&(j=j.negate()),V&&(O=O.negate()),O=new m(n.mul(O.px,R.beta),O.py,O.pz),j.add(O)}multiply(T){a(T);let C=T,R,B;const{endo:k}=e;if(k){const{k1neg:V,k1:D,k2neg:j,k2:O}=k.splitScalar(C);let{p:M,f:U}=this.wNAF(D),{p:K,f:q}=this.wNAF(O);M=A.constTimeNegate(V,M),K=A.constTimeNegate(j,K),K=new m(n.mul(K.px,k.beta),K.py,K.pz),R=M.add(K),B=U.add(q)}else{const{p:V,f:D}=this.wNAF(C);R=V,B=D}return m.normalizeZ([R,B])[0]}multiplyAndAddUnsafe(T,C,R){const B=m.BASE,k=(D,j)=>j===hc||j===ha||!D.equals(B)?D.multiplyUnsafe(j):D.multiply(j),V=k(this,C).add(k(T,R));return V.is0()?void 0:V}toAffine(T){const{px:C,py:R,pz:B}=this,k=this.is0();T==null&&(T=k?n.ONE:n.inv(B));const V=n.mul(C,T),D=n.mul(R,T),j=n.mul(B,T);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(j,n.ONE))throw new Error("invZ was invalid");return{x:V,y:D}}isTorsionFree(){const{h:T,isTorsionFree:C}=e;if(T===ha)return!0;if(C)return C(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:C}=e;return T===ha?this:C?C(m,this):this.multiplyUnsafe(e.h)}toRawBytes(T=!0){return this.assertValidity(),r(m,this,T)}toHex(T=!0){return ag(this.toRawBytes(T))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const w=e.nBitLength,A=_Oe(m,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function OOe(t){const e=aQ(t);return Gy(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ROe(t){const e=OOe(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(J){return hc<J&&J<n.ORDER}function a(J){return wo(J,r)}function c(J){return FN(J,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:w}=NOe({...e,toBytes(J,oe,ae){const re=oe.toAffine(),pe=n.toBytes(re.x),we=oy;return ae?we(Uint8Array.from([oe.hasEvenY()?2:3]),pe):we(Uint8Array.from([4]),pe,n.toBytes(re.y))},fromBytes(J){const oe=J.length,ae=J[0],re=J.subarray(1);if(oe===i&&(ae===2||ae===3)){const pe=bh(re);if(!o(pe))throw new Error("Point is not on curve");const we=m(pe);let ue=n.sqrt(we);const he=(ue&ha)===ha;return(ae&1)===1!==he&&(ue=n.neg(ue)),{x:pe,y:ue}}else if(oe===s&&ae===4){const pe=n.fromBytes(re.subarray(0,n.BYTES)),we=n.fromBytes(re.subarray(n.BYTES,2*n.BYTES));return{x:pe,y:we}}else throw new Error(`Point of length ${oe} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),A=J=>ag(cg(J,e.nByteLength));function I(J){const oe=r>>ha;return J>oe}function T(J){return I(J)?a(-J):J}const C=(J,oe,ae)=>bh(J.slice(oe,ae));class R{constructor(oe,ae,re){this.r=oe,this.s=ae,this.recovery=re,this.assertValidity()}static fromCompact(oe){const ae=e.nByteLength;return oe=ja("compactSignature",oe,ae*2),new R(C(oe,0,ae),C(oe,ae,2*ae))}static fromDER(oe){const{r:ae,s:re}=hh.toSig(ja("DER",oe));return new R(ae,re)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(oe){return new R(this.r,this.s,oe)}recoverPublicKey(oe){const{r:ae,s:re,recovery:pe}=this,we=O(ja("msgHash",oe));if(pe==null||![0,1,2,3].includes(pe))throw new Error("recovery id invalid");const ue=pe===2||pe===3?ae+e.n:ae;if(ue>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const he=(pe&1)===0?"02":"03",xe=u.fromHex(he+A(ue)),Re=c(ue),Ue=a(-we*Re),Me=a(re*Re),ke=u.BASE.multiplyAndAddUnsafe(xe,Ue,Me);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return lg(this.toDERHex())}toDERHex(){return hh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return lg(this.toCompactHex())}toCompactHex(){return A(this.r)+A(this.s)}}const B={isValidPrivateKey(J){try{return g(J),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const J=oQ(e.n);return SOe(e.randomBytes(J),e.n)},precompute(J=8,oe=u.BASE){return oe._setWindowSize(J),oe.multiply(BigInt(3)),oe}};function k(J,oe=!0){return u.fromPrivateKey(J).toRawBytes(oe)}function V(J){const oe=J instanceof Uint8Array,ae=typeof J=="string",re=(oe||ae)&&J.length;return oe?re===i||re===s:ae?re===2*i||re===2*s:J instanceof u}function D(J,oe,ae=!0){if(V(J))throw new Error("first arg must be private key");if(!V(oe))throw new Error("second arg must be public key");return u.fromHex(oe).multiply(g(J)).toRawBytes(ae)}const j=e.bits2int||function(J){const oe=bh(J),ae=J.length*8-e.nBitLength;return ae>0?oe>>BigInt(ae):oe},O=e.bits2int_modN||function(J){return a(j(J))},M=Z3(e.nBitLength);function U(J){if(typeof J!="bigint")throw new Error("bigint expected");if(!(hc<=J&&J<M))throw new Error(`bigint expected < 2^${e.nBitLength}`);return cg(J,e.nByteLength)}function K(J,oe,ae=q){if(["recovered","canonical"].some(Pe=>Pe in ae))throw new Error("sign() legacy options not supported");const{hash:re,randomBytes:pe}=e;let{lowS:we,prehash:ue,extraEntropy:he}=ae;we==null&&(we=!0),J=ja("msgHash",J),ue&&(J=ja("prehashed msgHash",re(J)));const xe=O(J),Re=g(oe),Ue=[U(Re),U(xe)];if(he!=null){const Pe=he===!0?pe(n.BYTES):he;Ue.push(ja("extraEntropy",Pe))}const Me=oy(...Ue),ke=xe;function De(Pe){const je=j(Pe);if(!w(je))return;const $e=c(je),_e=u.BASE.multiply(je).toAffine(),et=a(_e.x);if(et===hc)return;const ht=a($e*a(ke+et*Re));if(ht===hc)return;let jt=(_e.x===et?0:2)|Number(_e.y&ha),Yt=ht;return we&&I(ht)&&(Yt=T(ht),jt^=1),new R(et,Yt,jt)}return{seed:Me,k2sig:De}}const q={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function $(J,oe,ae=q){const{seed:re,k2sig:pe}=K(J,oe,ae),we=e;return rQ(we.hash.outputLen,we.nByteLength,we.hmac)(re,pe)}u.BASE._setWindowSize(8);function ce(J,oe,ae,re=G){const pe=J;if(oe=ja("msgHash",oe),ae=ja("publicKey",ae),"strict"in re)throw new Error("options.strict was renamed to lowS");const{lowS:we,prehash:ue}=re;let he,xe;try{if(typeof pe=="string"||pe instanceof Uint8Array)try{he=R.fromDER(pe)}catch(_e){if(!(_e instanceof hh.Err))throw _e;he=R.fromCompact(pe)}else if(typeof pe=="object"&&typeof pe.r=="bigint"&&typeof pe.s=="bigint"){const{r:_e,s:et}=pe;he=new R(_e,et)}else throw new Error("PARSE");xe=u.fromHex(ae)}catch(_e){if(_e.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(we&&he.hasHighS())return!1;ue&&(oe=e.hash(oe));const{r:Re,s:Ue}=he,Me=O(oe),ke=c(Ue),De=a(Me*ke),Pe=a(Re*ke),je=u.BASE.multiplyAndAddUnsafe(xe,De,Pe)?.toAffine();return je?a(je.x)===Re:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:D,sign:$,verify:ce,ProjectivePoint:u,Signature:R,utils:B}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kOe(t){return{hash:t,hmac:(e,...n)=>BX(t,e,xNe(...n)),randomBytes:bNe}}function MOe(t,e){const n=r=>ROe({...t,...kOe(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lQ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),P7=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),DOe=BigInt(1),UN=BigInt(2),N7=(t,e)=>(t+e/UN)/e;function LOe(t){const e=lQ,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,g=u*u*t%e,m=ca(g,n,e)*g%e,w=ca(m,n,e)*g%e,A=ca(w,UN,e)*u%e,I=ca(A,i,e)*A%e,T=ca(I,s,e)*I%e,C=ca(T,a,e)*T%e,R=ca(C,c,e)*C%e,B=ca(R,a,e)*T%e,k=ca(B,n,e)*g%e,V=ca(k,o,e)*I%e,D=ca(V,r,e)*u%e,j=ca(D,UN,e);if(!VN.eql(VN.sqr(j),t))throw new Error("Cannot find square root");return j}const VN=EOe(lQ,void 0,void 0,{sqrt:LOe}),Pu=MOe({a:BigInt(0),b:BigInt(7),Fp:VN,n:P7,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=P7,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-DOe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=N7(s*t,e),c=N7(-r*t,e);let u=wo(t-a*n-c*i,e),g=wo(-a*r-c*s,e);const m=u>o,w=g>o;if(m&&(u=e-u),w&&(g=e-g),u>o||g>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:m,k1:u,k2neg:w,k2:g}}}},FX);BigInt(0);Pu.ProjectivePoint;const ay="0x0000000000000000000000000000000000000000",O7="0x0000000000000000000000000000000000000000000000000000000000000000",R7=BigInt(0),k7=BigInt(1),M7=BigInt(2),D7=BigInt(27),L7=BigInt(28),Ev=BigInt(35),Fd={};function B7(t){return Fc(Vi(t),32)}class ei{#e;#t;#n;#r;get r(){return this.#e}set r(e){ye(xp(e)===32,"invalid r","value",e),this.#e=it(e)}get s(){return ye(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){ye(xp(e)===32,"invalid s","value",e),this.#t=it(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(e){const n=Xt(e,"value");ye(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:ei.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=rn(this.s);return this.yParity&&(e[0]|=128),it(e)}get compactSerialized(){return ri([this.r,this.yParityAndS])}get serialized(){return ri([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){Hy(e,Fd,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ei(Fd,this.r,this._s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=ut(e,"v");return n==D7||n==L7?R7:(ye(n>=Ev,"invalid EIP-155 v","v",e),(n-Ev)/M7)}static getChainIdV(e,n){return ut(e)*M7+BigInt(35+n-27)}static getNormalizedV(e){const n=ut(e);return n===R7||n===D7?27:n===k7||n===L7?28:(ye(n>=Ev,"invalid v","v",e),n&k7?27:28)}static from(e){function n(u,g){ye(u,g,"signature",e)}if(e==null)return new ei(Fd,O7,O7,27);if(typeof e=="string"){const u=rn(e,"signature");if(u.length===64){const g=it(u.slice(0,32)),m=u.slice(32,64),w=m[0]&128?28:27;return m[0]&=127,new ei(Fd,g,it(m),w)}if(u.length===65){const g=it(u.slice(0,32)),m=it(u.slice(32,64)),w=ei.getNormalizedV(u[64]);return new ei(Fd,g,m,w)}n(!1,"invalid raw signature length")}if(e instanceof ei)return e.clone();const r=e.r;n(r!=null,"missing r");const i=B7(r),s=(function(u,g){if(u!=null)return B7(u);if(g!=null){n(mr(g,32),"invalid yParityAndS");const m=rn(g);return m[0]&=127,it(m)}n(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(u,g,m){if(u!=null){const w=ut(u);return{networkV:w>=Ev?w:void 0,v:ei.getNormalizedV(w)}}if(g!=null)return n(mr(g,32),"invalid yParityAndS"),{v:rn(g)[0]&128?28:27};if(m!=null){switch(Xt(m,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new ei(Fd,i,s,a);return o&&(c.#r=o),n(e.yParity==null||Xt(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}class dc{#e;constructor(e){ye(xp(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=it(e)}get privateKey(){return this.#e}get publicKey(){return dc.computePublicKey(this.#e)}get compressedPublicKey(){return dc.computePublicKey(this.#e,!0)}sign(e){ye(xp(e)===32,"invalid digest length","digest",e);const n=Pu.sign(Xs(e),Xs(this.#e),{lowS:!0});return ei.from({r:af(n.r,32),s:af(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=dc.computePublicKey(e);return it(Pu.getSharedSecret(Xs(this.#e),rn(n),!1))}static computePublicKey(e,n){let r=rn(e,"key");if(r.length===32){const s=Pu.getPublicKey(r,!!n);return it(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=Pu.ProjectivePoint.fromHex(r);return it(i.toRawBytes(n))}static recoverPublicKey(e,n){ye(xp(e)===32,"invalid digest length","digest",e);const r=ei.from(n);let i=Pu.Signature.fromCompact(Xs(ri([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(Xs(e));return ye(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=Pu.ProjectivePoint.fromHex(dc.computePublicKey(e).substring(2)),s=Pu.ProjectivePoint.fromHex(dc.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}}const BOe=BigInt(0),jOe=BigInt(36);function j7(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=rn(Si(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const J3={};for(let t=0;t<10;t++)J3[String(t)]=String(t);for(let t=0;t<26;t++)J3[String.fromCharCode(65+t)]=String(10+t);const F7=15;function FOe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>J3[r]).join("");for(;e.length>=F7;){let r=e.substring(0,F7);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const UOe=(function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t})();function VOe(t){t=t.toLowerCase();let e=BOe;for(let n=0;n<t.length;n++)e=e*jOe+UOe[t[n]];return e}function zn(t){if(ye(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=j7(t);return ye(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ye(t.substring(2,4)===FOe(t),"bad icap checksum","address",t);let e=VOe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return j7("0x"+e)}ye(!1,"invalid address","address",t)}function zOe(t){const e=zn(t.from);let r=ut(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,zn(Zr(Si(lf([e,r])),12))}function cQ(t){return t&&typeof t.getAddress=="function"}async function NC(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Ve(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ye(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),zn(n)}function to(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?zn(t):(Ve(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),NC(t,e.resolveName(t)));if(cQ(t))return NC(t,t.getAddress());if(t&&typeof t.then=="function")return NC(t,t);ye(!1,"unsupported addressable value","target",t)}const cc={};function ct(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new ni(cc,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function In(t,e){return new ni(cc,`bytes${e||""}`,t,{size:e})}const U7=Symbol.for("_ethers_typed");class ni{type;value;#e;_typedSymbol;constructor(e,n,r,i){i==null&&(i=null),Hy(cc,e,"Typed"),It(this,{_typedSymbol:U7,type:n,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new ni(cc,e,n)}static uint8(e){return ct(e,8)}static uint16(e){return ct(e,16)}static uint24(e){return ct(e,24)}static uint32(e){return ct(e,32)}static uint40(e){return ct(e,40)}static uint48(e){return ct(e,48)}static uint56(e){return ct(e,56)}static uint64(e){return ct(e,64)}static uint72(e){return ct(e,72)}static uint80(e){return ct(e,80)}static uint88(e){return ct(e,88)}static uint96(e){return ct(e,96)}static uint104(e){return ct(e,104)}static uint112(e){return ct(e,112)}static uint120(e){return ct(e,120)}static uint128(e){return ct(e,128)}static uint136(e){return ct(e,136)}static uint144(e){return ct(e,144)}static uint152(e){return ct(e,152)}static uint160(e){return ct(e,160)}static uint168(e){return ct(e,168)}static uint176(e){return ct(e,176)}static uint184(e){return ct(e,184)}static uint192(e){return ct(e,192)}static uint200(e){return ct(e,200)}static uint208(e){return ct(e,208)}static uint216(e){return ct(e,216)}static uint224(e){return ct(e,224)}static uint232(e){return ct(e,232)}static uint240(e){return ct(e,240)}static uint248(e){return ct(e,248)}static uint256(e){return ct(e,256)}static uint(e){return ct(e,256)}static int8(e){return ct(e,-8)}static int16(e){return ct(e,-16)}static int24(e){return ct(e,-24)}static int32(e){return ct(e,-32)}static int40(e){return ct(e,-40)}static int48(e){return ct(e,-48)}static int56(e){return ct(e,-56)}static int64(e){return ct(e,-64)}static int72(e){return ct(e,-72)}static int80(e){return ct(e,-80)}static int88(e){return ct(e,-88)}static int96(e){return ct(e,-96)}static int104(e){return ct(e,-104)}static int112(e){return ct(e,-112)}static int120(e){return ct(e,-120)}static int128(e){return ct(e,-128)}static int136(e){return ct(e,-136)}static int144(e){return ct(e,-144)}static int152(e){return ct(e,-152)}static int160(e){return ct(e,-160)}static int168(e){return ct(e,-168)}static int176(e){return ct(e,-176)}static int184(e){return ct(e,-184)}static int192(e){return ct(e,-192)}static int200(e){return ct(e,-200)}static int208(e){return ct(e,-208)}static int216(e){return ct(e,-216)}static int224(e){return ct(e,-224)}static int232(e){return ct(e,-232)}static int240(e){return ct(e,-240)}static int248(e){return ct(e,-248)}static int256(e){return ct(e,-256)}static int(e){return ct(e,-256)}static bytes1(e){return In(e,1)}static bytes2(e){return In(e,2)}static bytes3(e){return In(e,3)}static bytes4(e){return In(e,4)}static bytes5(e){return In(e,5)}static bytes6(e){return In(e,6)}static bytes7(e){return In(e,7)}static bytes8(e){return In(e,8)}static bytes9(e){return In(e,9)}static bytes10(e){return In(e,10)}static bytes11(e){return In(e,11)}static bytes12(e){return In(e,12)}static bytes13(e){return In(e,13)}static bytes14(e){return In(e,14)}static bytes15(e){return In(e,15)}static bytes16(e){return In(e,16)}static bytes17(e){return In(e,17)}static bytes18(e){return In(e,18)}static bytes19(e){return In(e,19)}static bytes20(e){return In(e,20)}static bytes21(e){return In(e,21)}static bytes22(e){return In(e,22)}static bytes23(e){return In(e,23)}static bytes24(e){return In(e,24)}static bytes25(e){return In(e,25)}static bytes26(e){return In(e,26)}static bytes27(e){return In(e,27)}static bytes28(e){return In(e,28)}static bytes29(e){return In(e,29)}static bytes30(e){return In(e,30)}static bytes31(e){return In(e,31)}static bytes32(e){return In(e,32)}static address(e){return new ni(cc,"address",e)}static bool(e){return new ni(cc,"bool",!!e)}static bytes(e){return new ni(cc,"bytes",e)}static string(e){return new ni(cc,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new ni(cc,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===U7}static dereference(e,n){if(ni.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class HOe extends Yc{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=ni.dereference(n,"string");try{r=zn(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return zn(af(e.readValue(),20))}}class $Oe extends Yc{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function uQ(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(u=>{const g=u.localName;return Ve(g,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),Ve(!c[g],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),c[g]=!0,n[g]})}else ye(!1,"invalid tuple value","tuple",n);ye(e.length===r.length,"types/value length mismatch","tuple",n);let i=new LN,s=new LN,o=[];e.forEach((c,u)=>{let g=r[u];if(c.dynamic){let m=s.length;c.encode(s,g);let w=i.writeUpdatableValue();o.push(A=>{w(A+m)})}else c.encode(i,g)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function fQ(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),c=i.subReader(a);try{o=s.decode(c)}catch(u){if(ys(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(ys(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),xc.fromItems(n,r)}class GOe extends Yc{coder;length;constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",s=n===-1||e.dynamic;super("array",i,r,s),It(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=ni.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),xX(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let o=0;o<r.length;o++)s.push(this.coder);return uQ(e,s,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),Ve(n*eo<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*eo,length:e.dataLength}));let r=[];for(let i=0;i<n;i++)r.push(new $Oe(this.coder));return fQ(e,r)}}class WOe extends Yc{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=ni.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class hQ extends Yc{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Xs(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class qOe extends hQ{constructor(e){super("bytes",e)}decode(e){return it(super.decode(e))}}class KOe extends Yc{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),It(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=Xs(ni.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return it(e.readBytes(this.size))}}const YOe=new Uint8Array([]);class XOe extends Yc{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(YOe)}decode(e){return e.readBytes(0),null}}const QOe=BigInt(0),ZOe=BigInt(1),JOe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class eRe extends Yc{size;signed;constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),It(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=ut(ni.dereference(n,this.type)),i=fh(JOe,eo*8);if(this.signed){let s=fh(i,this.size*8-1);(r>s||r<-(s+ZOe))&&this._throwError("value out-of-bounds",n),r=EX(r,8*eo)}else(r<QOe||r>fh(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=fh(e.readValue(),this.size*8);return this.signed&&(n=Ox(n,this.size*8)),n}}class tRe extends hQ{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Cc(ni.dereference(n,"string")))}decode(e){return Rx(super.decode(e))}}class Sv extends Yc{coders;constructor(e,n){let r=!1;const i=[];e.forEach(o=>{o.dynamic&&(r=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,n,r),It(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const s=i.localName;return s&&(r[s]||(r[s]=0),r[s]++),r},{});return this.coders.forEach((r,i)=>{let s=r.localName;!s||n[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,n){const r=ni.dereference(n,"tuple");return uQ(e,this.coders,r)}decode(e){return fQ(e,this.coders)}}function OC(t,e){return{address:zn(t),storageKeys:e.map((n,r)=>(ye(mr(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function rd(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ye(n.length===2,"invalid slot set",`value[${r}]`,n),OC(n[0],n[1])):(ye(n!=null&&typeof n=="object","invalid address-slot set","value",t),OC(n.address,n.storageKeys)));ye(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return OC(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function dQ(t){return{address:zn(t.address),nonce:ut(t.nonce!=null?t.nonce:0),chainId:ut(t.chainId!=null?t.chainId:0),signature:ei.from(t.signature)}}function nRe(t){let e;return typeof t=="string"?e=dc.computePublicKey(t,!1):e=t.publicKey,zn(Si("0x"+e.substring(4)).substring(26))}function rRe(t,e){return nRe(dc.recoverPublicKey(t,e))}const Ji=BigInt(0),iRe=BigInt(2),sRe=BigInt(27),oRe=BigInt(28),aRe=BigInt(35),lRe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),RC=4096*32;function cRe(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return rn(t.blobToKzgCommitment(it(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return rn(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return rn(t.blobToKZGCommitment(it(r)));ye(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return rn(t.computeBlobProof(it(r),it(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return rn(t.computeBlobKZGProof(it(r),it(i)));ye(!1,"unsupported KZG library","kzg",t)}}}function V7(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Lg(e).substring(4),"0x"+n}function Bg(t){return t==="0x"?null:zn(t)}function gA(t,e){try{return rd(t)}catch(n){ye(!1,n.message,e,t)}}function uRe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Bg(i[1]),nonce:rr(i[2],"nonce"),chainId:rr(i[0],"chainId"),signature:ei.from({yParity:id(i[3],"yParity"),r:Fc(i[4],32),s:Fc(i[5],32)})})}return n}catch(n){ye(!1,n.message,e,t)}}function id(t,e){return t==="0x"?0:Xt(t,e)}function rr(t,e){if(t==="0x")return Ji;const n=ut(t,e);return ye(n<=lRe,"value exceeds uint size",e,n),n}function An(t,e){const n=ut(t,"value"),r=Vi(n);return ye(r.length<=32,"value too large",`tx.${e}`,n),r}function mA(t){return rd(t).map(e=>[e.address,e.storageKeys])}function fRe(t){return t.map(e=>[An(e.chainId,"chainId"),e.address,An(e.nonce,"nonce"),An(e.signature.yParity,"yParity"),Vi(e.signature.r),Vi(e.signature.s)])}function hRe(t,e){ye(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)ye(mr(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function dRe(t){const e=$y(t);ye(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:id(e[0],"nonce"),gasPrice:rr(e[1],"gasPrice"),gasLimit:rr(e[2],"gasLimit"),to:Bg(e[3]),value:rr(e[4],"value"),data:it(e[5]),chainId:Ji};if(e.length===6)return n;const r=rr(e[6],"v"),i=rr(e[7],"r"),s=rr(e[8],"s");if(i===Ji&&s===Ji)n.chainId=r;else{let o=(r-aRe)/iRe;o<Ji&&(o=Ji),n.chainId=o,ye(o!==Ji||r===sRe||r===oRe,"non-canonical legacy v","v",e[6]),n.signature=ei.from({r:Fc(e[7],32),s:Fc(e[8],32),v:r})}return n}function pRe(t,e){const n=[An(t.nonce,"nonce"),An(t.gasPrice||0,"gasPrice"),An(t.gasLimit,"gasLimit"),t.to||"0x",An(t.value,"value"),t.data];let r=Ji;if(t.chainId!=Ji)r=ut(t.chainId,"tx.chainId"),ye(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Ji&&(n.push(Vi(r)),n.push("0x"),n.push("0x")),lf(n);let i=BigInt(27+e.yParity);return r!==Ji?i=ei.getChainIdV(r,e.v):BigInt(e.v)!==i&&ye(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Vi(i)),n.push(Vi(e.r)),n.push(Vi(e.s)),lf(n)}function yA(t,e){let n;try{if(n=id(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ye(!1,"invalid yParity","yParity",e[0])}const r=Fc(e[1],32),i=Fc(e[2],32),s=ei.from({r,s:i,yParity:n});t.signature=s}function gRe(t){const e=$y(rn(t).slice(1));ye(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",it(t));const n={type:2,chainId:rr(e[0],"chainId"),nonce:id(e[1],"nonce"),maxPriorityFeePerGas:rr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:rr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:rr(e[4],"gasLimit"),to:Bg(e[5]),value:rr(e[6],"value"),data:it(e[7]),accessList:gA(e[8],"accessList")};return e.length===9||yA(n,e.slice(9)),n}function mRe(t,e){const n=[An(t.chainId,"chainId"),An(t.nonce,"nonce"),An(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),An(t.maxFeePerGas||0,"maxFeePerGas"),An(t.gasLimit,"gasLimit"),t.to||"0x",An(t.value,"value"),t.data,mA(t.accessList||[])];return e&&(n.push(An(e.yParity,"yParity")),n.push(Vi(e.r)),n.push(Vi(e.s))),ri(["0x02",lf(n)])}function yRe(t){const e=$y(rn(t).slice(1));ye(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",it(t));const n={type:1,chainId:rr(e[0],"chainId"),nonce:id(e[1],"nonce"),gasPrice:rr(e[2],"gasPrice"),gasLimit:rr(e[3],"gasLimit"),to:Bg(e[4]),value:rr(e[5],"value"),data:it(e[6]),accessList:gA(e[7],"accessList")};return e.length===8||yA(n,e.slice(8)),n}function vRe(t,e){const n=[An(t.chainId,"chainId"),An(t.nonce,"nonce"),An(t.gasPrice||0,"gasPrice"),An(t.gasLimit,"gasLimit"),t.to||"0x",An(t.value,"value"),t.data,mA(t.accessList||[])];return e&&(n.push(An(e.yParity,"recoveryParam")),n.push(Vi(e.r)),n.push(Vi(e.s))),ri(["0x01",lf(n)])}function wRe(t){let e=$y(rn(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const s=e[1],o=e[2],a=e[3];ye(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),ye(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),ye(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),ye(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),ye(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:s[c],commitment:o[c],proof:a[c]});e=e[0]}ye(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",it(t));const i={type:3,chainId:rr(e[0],"chainId"),nonce:id(e[1],"nonce"),maxPriorityFeePerGas:rr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:rr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:rr(e[4],"gasLimit"),to:Bg(e[5]),value:rr(e[6],"value"),data:it(e[7]),accessList:gA(e[8],"accessList"),maxFeePerBlobGas:rr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),ye(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),ye(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)ye(mr(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||yA(i,e.slice(11)),i}function xRe(t,e,n){const r=[An(t.chainId,"chainId"),An(t.nonce,"nonce"),An(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),An(t.maxFeePerGas||0,"maxFeePerGas"),An(t.gasLimit,"gasLimit"),t.to||ay,An(t.value,"value"),t.data,mA(t.accessList||[]),An(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),hRe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(An(e.yParity,"yParity")),r.push(Vi(e.r)),r.push(Vi(e.s)),n)?ri(["0x03",lf([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):ri(["0x03",lf(r)])}function bRe(t){const e=$y(rn(t).slice(1));ye(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",it(t));const n={type:4,chainId:rr(e[0],"chainId"),nonce:id(e[1],"nonce"),maxPriorityFeePerGas:rr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:rr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:rr(e[4],"gasLimit"),to:Bg(e[5]),value:rr(e[6],"value"),data:it(e[7]),accessList:gA(e[8],"accessList"),authorizationList:uRe(e[9],"authorizationList")};return e.length===10||yA(n,e.slice(10)),n}function ARe(t,e){const n=[An(t.chainId,"chainId"),An(t.nonce,"nonce"),An(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),An(t.maxFeePerGas||0,"maxFeePerGas"),An(t.gasLimit,"gasLimit"),t.to||"0x",An(t.value,"value"),t.data,mA(t.accessList||[]),fRe(t.authorizationList||[])];return e&&(n.push(An(e.yParity,"yParity")),n.push(Vi(e.r)),n.push(Vi(e.s))),ri(["0x04",lf(n)])}class Fa{#e;#t;#n;#r;#i;#o;#s;#a;#f;#c;#p;#g;#l;#u;#h;#d;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:ye(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?ay:e}set to(e){this.#t=e==null?null:zn(e)}get nonce(){return this.#r}set nonce(e){this.#r=Xt(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=ut(e)}get gasPrice(){const e=this.#o;return e==null&&(this.type===0||this.type===1)?Ji:e}set gasPrice(e){this.#o=e==null?null:ut(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#s;return e??(this.type===2||this.type===3?Ji:null)}set maxPriorityFeePerGas(e){this.#s=e==null?null:ut(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?Ji:null)}set maxFeePerGas(e){this.#a=e==null?null:ut(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=it(e)}get value(){return this.#f}set value(e){this.#f=ut(e,"value")}get chainId(){return this.#c}set chainId(e){this.#c=ut(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:ei.from(e)}get accessList(){const e=this.#g||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#g=e==null?null:rd(e)}get authorizationList(){const e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(n=>dQ(n))}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?Ji:e}set maxFeePerBlobGas(e){this.#l=e==null?null:ut(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ye(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)ye(mr(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#u=e}get blobs(){return this.#d==null?null:this.#d.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#d=null;return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(H3(s)){Ve(this.#h,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=rn(s);if(ye(o.length<=RC,"blob is too large",`blobs[${i}]`,s),o.length!==RC){const u=new Uint8Array(RC);u.set(o),o=u}const a=this.#h.blobToKzgCommitment(o),c=it(this.#h.computeBlobKzgProof(o,a));n.push({data:it(o),commitment:it(a),proof:c}),r.push(V7(1,a))}else{const o=it(s.commitment);n.push({data:it(s.data),commitment:o,proof:it(s.proof)}),r.push(V7(1,o))}}this.#d=n,this.#u=r}get kzg(){return this.#h}set kzg(e){e==null?this.#h=null:this.#h=cRe(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=Ji,this.#o=null,this.#s=null,this.#a=null,this.#n="0x",this.#f=Ji,this.#c=Ji,this.#p=null,this.#g=null,this.#l=null,this.#u=null,this.#h=null,this.#d=null,this.#y=null}get hash(){return this.signature==null?null:Si(this.#m(!0,!1))}get unsignedHash(){return Si(this.unsignedSerialized)}get from(){return this.signature==null?null:rRe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:dc.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#m(e,n){Ve(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return pRe(this,r);case 1:return vRe(this,r);case 2:return mRe(this,r);case 3:return xRe(this,r,n?this.blobs:null);case 4:return ARe(this,r)}Ve(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#m(!0,!0)}get unsignedSerialized(){return this.#m(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#l!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Ve(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ve(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ve(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Fa.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Fa;if(typeof e=="string"){const r=rn(e);if(r[0]>=127)return Fa.from(dRe(r));switch(r[0]){case 1:return Fa.from(yRe(r));case 2:return Fa.from(gRe(r));case 3:return Fa.from(wRe(r));case 4:return Fa.from(bRe(r))}Ve(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Fa;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=ei.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(ye(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ye(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ye(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ye(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function Vh(t){return Si(Cc(t))}var ERe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const z7=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),H7=4;function SRe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let D=1;D<r;D++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,u=0;function g(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const m=31,w=2**m,A=w>>>1,I=A>>1,T=w-1;let C=0;for(let D=0;D<m;D++)C=C<<1|g();let R=[],B=0,k=w;for(;;){let D=Math.floor(((C-B+1)*i-1)/k),j=0,O=r;for(;O-j>1;){let K=j+O>>>1;D<s[K]?O=K:j=K}if(j==0)break;R.push(j);let M=B+Math.floor(k*s[j]/i),U=B+Math.floor(k*s[j+1]/i)-1;for(;((M^U)&A)==0;)C=C<<1&T|g(),M=M<<1&T,U=U<<1&T|1;for(;M&~U&I;)C=C&A|C<<1&T>>>1|g(),M=M<<1^A,U=(U^A)<<1|A|1;B=M,k=1+U-M}let V=r-4;return R.map(D=>{switch(D-V){case 3:return V+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return V+256+(t[a++]<<8|t[a++]);case 1:return V+t[a++];default:return D-1}})}function TRe(t){let e=0;return()=>t[e++]}function pQ(t){return TRe(SRe(_Re(t)))}function _Re(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function CRe(t){return t&1?~t>>1:t>>1}function IRe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=CRe(e());return n}function ly(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function gQ(t){return cy(()=>{let e=ly(t);if(e.length)return e})}function mQ(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(PRe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(NRe(n,t))}return e.flat()}function cy(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function yQ(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)IRe(t,n).forEach((s,o)=>r[o].push(s));return r}function PRe(t,e){let n=1+e(),r=e(),i=cy(e);return yQ(i.length,1+t,e).flatMap((o,a)=>{let[c,...u]=o;return Array(i[a]).fill().map((g,m)=>{let w=m*r;return[c+m*n,u.map(A=>A+w)]})})}function NRe(t,e){let n=1+e();return yQ(n,1+t,e).map(i=>[i[0],i.slice(1)])}function ORe(t){let e=[],n=ly(t);return i(r([]),[]),e;function r(s){let o=t(),a=cy(()=>{let c=ly(t).map(u=>n[u]);if(c.length)return r(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let u of o)for(let g of u.Q)i(u,[...a,g],c)}}}function RRe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function vQ(t){return`{${RRe(t)}}`}function kRe(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function ug(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function MRe(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var DRe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const uy=44032,Mx=4352,Dx=4449,Lx=4519,wQ=19,xQ=21,fg=28,Bx=xQ*fg,LRe=wQ*Bx,BRe=uy+LRe,jRe=Mx+wQ,FRe=Dx+xQ,URe=Lx+fg;function Bm(t){return t>>24&255}function bQ(t){return t&16777215}let zN,$7,HN,Yv;function VRe(){let t=pQ(DRe);zN=new Map(gQ(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),$7=new Set(ly(t)),HN=new Map,Yv=new Map;for(let[e,n]of mQ(t)){if(!$7.has(e)&&n.length==2){let[r,i]=n,s=Yv.get(r);s||(s=new Map,Yv.set(r,s)),s.set(i,e)}HN.set(e,n.reverse())}}function AQ(t){return t>=uy&&t<BRe}function zRe(t,e){if(t>=Mx&&t<jRe&&e>=Dx&&e<FRe)return uy+(t-Mx)*Bx+(e-Dx)*fg;if(AQ(t)&&e>Lx&&e<URe&&(t-uy)%fg==0)return t+(e-Lx);{let n=Yv.get(t);return n&&(n=n.get(e),n)?n:-1}}function EQ(t){zN||VRe();let e=[],n=[],r=!1;function i(s){let o=zN.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(AQ(s)){let o=s-uy,a=o/Bx|0,c=o%Bx/fg|0,u=o%fg;i(Mx+a),i(Dx+c),u>0&&i(Lx+u)}else{let o=HN.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=Bm(e[0]);for(let o=1;o<e.length;o++){let a=Bm(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(s=Bm(e[--c]),s<=a))break}s=Bm(e[o])}}return e}function HRe(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=Bm(s),a=bQ(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let c=zRe(r,a);c>=0?r=c:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function SQ(t){return EQ(t).map(bQ)}function $Re(t){return HRe(EQ(t))}const G7=45,TQ=".",_Q=65039,CQ=1,jx=t=>Array.from(t);function fy(t,e){return t.P.has(e)||t.Q.has(e)}class GRe extends Array{get is_emoji(){return!0}}let $N,IQ,dh,GN,PQ,Ap,kC,Wd,Xf,W7,WN;function ek(){if($N)return;let t=pQ(ERe);const e=()=>ly(t),n=()=>new Set(e()),r=(g,m)=>m.forEach(w=>g.add(w));$N=new Map(mQ(t)),IQ=n(),dh=e(),GN=new Set(e().map(g=>dh[g])),dh=new Set(dh),PQ=n(),n();let i=gQ(t),s=t();const o=()=>{let g=new Set;return e().forEach(m=>r(g,i[m])),r(g,e()),g};Ap=cy(g=>{let m=cy(t).map(w=>w+96);if(m.length){let w=g>=s;m[0]-=32,m=ug(m),w&&(m=`Restricted[${m}]`);let A=o(),I=o(),T=!t();return{N:m,P:A,Q:I,M:T,R:w}}}),kC=n(),Wd=new Map;let a=e().concat(jx(kC)).sort((g,m)=>g-m);a.forEach((g,m)=>{let w=t(),A=a[m]=w?a[m-w]:{V:[],M:new Map};A.V.push(g),kC.has(g)||Wd.set(g,A)});for(let{V:g,M:m}of new Set(Wd.values())){let w=[];for(let I of g){let T=Ap.filter(R=>fy(R,I)),C=w.find(({G:R})=>T.some(B=>R.has(B)));C||(C={G:new Set,V:[]},w.push(C)),C.V.push(I),r(C.G,T)}let A=w.flatMap(I=>jx(I.G));for(let{G:I,V:T}of w){let C=new Set(A.filter(R=>!I.has(R)));for(let R of T)m.set(R,C)}}Xf=new Set;let c=new Set;const u=g=>Xf.has(g)?c.add(g):Xf.add(g);for(let g of Ap){for(let m of g.P)u(m);for(let m of g.Q)u(m)}for(let g of Xf)!Wd.has(g)&&!c.has(g)&&Wd.set(g,CQ);r(Xf,SQ(Xf)),W7=ORe(t).map(g=>GRe.from(g)).sort(MRe),WN=new Map;for(let g of W7){let m=[WN];for(let w of g){let A=m.map(I=>{let T=I.get(w);return T||(T=new Map,I.set(w,T)),T});w===_Q?m.push(...A):m=A}for(let w of m)w.V=g}}function tk(t){return(NQ(t)?"":`${nk(vA([t]))} `)+vQ(t)}function nk(t){return`"${t}"‎`}function WRe(t){if(t.length>=4&&t[2]==G7&&t[3]==G7)throw new Error(`invalid label extension: "${ug(t.slice(0,4))}"`)}function qRe(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function KRe(t){let e=t[0],n=z7.get(e);if(n)throw n0(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=z7.get(e);if(o){if(i==s)throw n0(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw n0(`trailing ${n}`)}function vA(t,e=1/0,n=vQ){let r=[];YRe(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];NQ(a)&&(r.push(ug(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(ug(t.slice(i,s))),r.join("")}function YRe(t){return ek(),dh.has(t)}function NQ(t){return ek(),PQ.has(t)}function XRe(t){return e3e(QRe(t,$Re,r3e))}function QRe(t,e,n){if(!t)return[];ek();let r=0;return t.split(TQ).map(i=>{let s=kRe(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=n3e(s,e,n),c=a.length,u;if(!c)throw new Error("empty label");let g=o.output=a.flat();if(qRe(g),!(o.emoji=c>1||a[0].is_emoji)&&g.every(w=>w<128))WRe(g),u="ASCII";else{let w=a.flatMap(A=>A.is_emoji?[]:A);if(!w.length)u="Emoji";else{if(dh.has(g[0]))throw n0("leading combining mark");for(let T=1;T<c;T++){let C=a[T];if(!C.is_emoji&&dh.has(C[0]))throw n0(`emoji + combining mark: "${ug(a[T-1])} + ${vA([C[0]])}"`)}KRe(g);let A=jx(new Set(w)),[I]=JRe(A);t3e(I,w),ZRe(I,A),u=I.N}}o.type=u}catch(a){o.error=a}return o})}function ZRe(t,e){let n,r=[];for(let i of e){let s=Wd.get(i);if(s===CQ)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):jx(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>fy(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function JRe(t){let e=Ap;for(let n of t){let r=e.filter(i=>fy(i,n));if(!r.length)throw Ap.some(i=>fy(i,n))?RQ(e[0],n):OQ(n);if(e=r,r.length==1)break}return e}function e3e(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${nk(vA(e,63))}: ${i}`)}return ug(r)}).join(TQ)}function OQ(t){return new Error(`disallowed character: ${tk(t)}`)}function RQ(t,e){let n=tk(e),r=Ap.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function n0(t){return new Error(`illegal placement: ${t}`)}function t3e(t,e){for(let n of e)if(!fy(t,n))throw RQ(t,n);if(t.M){let n=SQ(e);for(let r=1,i=n.length;r<i;r++)if(GN.has(n[r])){let s=r+1;for(let o;s<i&&GN.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${tk(o)}`);if(s-r>H7)throw new Error(`excessive non-spacing marks: ${nk(vA(n.slice(r-1,s)))} (${s-r}/${H7})`);r=s}}}function n3e(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=i3e(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(Xf.has(o))i.push(o);else{let a=$N.get(o);if(a)i.push(...a);else if(!IQ.has(o))throw OQ(o)}}}return i.length&&r.push(e(i)),r}function r3e(t){return t.filter(e=>e!=_Q)}function i3e(t,e){let n=WN,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const kQ=new Uint8Array(32);kQ.fill(0);function q7(t){return ye(t.length!==0,"invalid ENS name; empty component","comp",t),t}function MQ(t){const e=Cc(s3e(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(q7(e.slice(r,i))),r=i+1);return ye(r<e.length,"invalid ENS name; empty component","name",t),n.push(q7(e.slice(r))),n}function s3e(t){try{if(t.length===0)throw new Error("empty label");return XRe(t)}catch(e){ye(!1,`invalid ENS name (${e.message})`,"name",t)}}function qN(t){ye(typeof t=="string","invalid ENS name; not a string","name",t),ye(t.length,"invalid ENS name (empty label)","name",t);let e=kQ;const n=MQ(t);for(;n.length;)e=Si(ri([e,Si(n.pop())]));return it(e)}function o3e(t,e){const n=e;return ye(n<=255,"DNS encoded label cannot exceed 255","length",n),it(ri(MQ(t).map(r=>{ye(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const DQ=new Uint8Array(32);DQ.fill(0);const a3e=BigInt(-1),LQ=BigInt(0),BQ=BigInt(1),l3e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function c3e(t){const e=rn(t),n=e.length%32;return n?ri([e,DQ.slice(n)]):it(e)}const u3e=af(BQ,32),f3e=af(LQ,32),K7={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},MC=["name","version","chainId","verifyingContract","salt"];function Y7(t){return function(e){return ye(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const h3e={name:Y7("name"),version:Y7("version"),chainId:function(t){const e=ut(t,"domain.chainId");return ye(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):za(e)},verifyingContract:function(t){try{return zn(t).toLowerCase()}catch{}ye(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=rn(t,"domain.salt");return ye(e.length===32,'invalid domain value "salt"',"domain.salt",t),it(e)}};function DC(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);ye(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=fh(l3e,n?r-1:r),s=n?(i+BQ)*a3e:LQ;return function(o){const a=ut(o,"value");return ye(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),af(n?EX(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return ye(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=rn(r);return ye(i.length===n,`invalid length for ${t}`,"value",r),c3e(r)}}}switch(t){case"address":return function(e){return Fc(zn(e),32)};case"bool":return function(e){return e?u3e:f3e};case"bytes":return function(e){return Si(e)};case"string":return function(e){return Vh(e)}}return null}function X7(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Tv(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class Fo{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(c=>{s[c]=e[c].map(({name:u,type:g})=>{let{base:m,index:w}=Tv(g);return m==="int"&&!e.int&&(m="int256"),m==="uint"&&!e.uint&&(m="uint256"),{name:u,type:m+(w||"")}}),n.set(c,new Set),r.set(c,[]),i.set(c,new Set)}),this.#e=JSON.stringify(s);for(const c in s){const u=new Set;for(const g of s[c]){ye(!u.has(g.name),`duplicate variable name ${JSON.stringify(g.name)} in ${JSON.stringify(c)}`,"types",e),u.add(g.name);const m=Tv(g.type).base;ye(m!==c,`circular type reference to ${JSON.stringify(m)}`,"types",e),!DC(m)&&(ye(r.has(m),`unknown type ${JSON.stringify(m)}`,"types",e),r.get(m).push(c),n.get(c).add(m))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);ye(o.length!==0,"missing primary type","types",e),ye(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),It(this,{primaryType:o[0]});function a(c,u){ye(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const g of n.get(c))if(r.has(g)){a(g,u);for(const m of u)i.get(m).add(g)}u.delete(c)}a(this.primaryType,new Set);for(const[c,u]of i){const g=Array.from(u);g.sort(),this.#t.set(c,X7(c,s[c])+g.map(m=>X7(m,s[m])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const i=DC(e);if(i)return i}const n=Tv(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{ye(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return this.#t.has(i)&&(a=a.map(Si)),Si(ri(a))}}const r=this.types[e];if(r){const i=Vh(this.#t.get(e));return s=>{const o=r.map(({name:a,type:c})=>{const u=this.getEncoder(c)(s[a]);return this.#t.has(c)?Si(u):u});return o.unshift(i),ri(o)}}ye(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return ye(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Si(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(DC(e))return r(e,n);const i=Tv(e).array;if(i)return ye(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{});ye(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Fo(e)}static getPrimaryType(e){return Fo.from(e).primaryType}static hashStruct(e,n,r){return Fo.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=K7[r];ye(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>MC.indexOf(r.name)-MC.indexOf(i.name)),Fo.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return ri(["0x1901",Fo.hashDomain(e),Fo.from(n).hash(r)])}static hash(e,n,r){return Si(Fo.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!mr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Fo.from(n);o.visit(r,(a,c)=>(a==="address"&&!mr(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:r}}static getPayload(e,n,r){Fo.hashDomain(e);const i={},s=[];MC.forEach(c=>{const u=e[c];u!=null&&(i[c]=h3e[c](u),s.push({name:c,type:K7[c]}))});const o=Fo.from(n);n=o.types;const a=Object.assign({},n);return ye(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,u)=>{if(c.match(/^bytes(\d*)/))return it(rn(u));if(c.match(/^u?int/))return ut(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return ye(typeof u=="string","invalid string","value",u),u}ye(!1,"unsupported type","type",c)})}}}function no(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const d3e="external public payable override",p3e=no(d3e.split(" ")),jQ="constant external internal payable private public pure view override",g3e=no(jQ.split(" ")),FQ="constructor error event fallback function receive struct",UQ=no(FQ.split(" ")),VQ="calldata memory storage payable indexed",m3e=no(VQ.split(" ")),y3e="tuple returns",v3e=[FQ,VQ,y3e,jQ].join(" "),w3e=no(v3e.split(" ")),x3e={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},b3e=new RegExp("^(\\s*)"),A3e=new RegExp("^([0-9]+)"),E3e=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),zQ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),HQ=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Ea{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Ea(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new Ea(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function xf(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(b3e);a&&(s+=a[1].length,o=t.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let u=x3e[o[0]]||"";if(u){if(c.type=u,c.text=o[0],s++,u==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(u=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let g=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const m=e.pop().text;g=m+g,e[e.length-1].value=Xt(m)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=g}continue}if(a=o.match(E3e),a){if(c.text=a[1],s+=c.text.length,w3e.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(HQ)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(A3e),a){c.text=a[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new Ea(e.map(o=>Object.freeze(o)))}function Q7(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function wA(t,e){if(e.peekKeyword(UQ)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Vc(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function $Q(t){let e=Vc(t,g3e);return Q7(e,no("constant payable nonpayable".split(" "))),Q7(e,no("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ic(t,e){return t.popParams().map(n=>pr.from(n,e))}function GQ(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ut(t.pop().text);throw new Error("invalid gas")}return null}function zh(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const S3e=new RegExp(/^(.*)\[([0-9]*)\]$/);function Z7(t){const e=t.match(HQ);if(ye(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);ye(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);ye(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Hr={},So=Symbol.for("_ethers_internal"),J7="_ParamTypeInternal",eU="_ErrorInternal",tU="_EventInternal",nU="_ConstructorInternal",rU="_FallbackInternal",iU="_FunctionInternal",sU="_StructInternal";class pr{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,i,s,o,a,c){if(Hy(e,Hr,"ParamType"),Object.defineProperty(this,So,{value:J7}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");It(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}#e(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((c,u)=>{o.#e(e,c,r,g=>{a[u]=g})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{o[u].#e(e,c,r,g=>{a[u]=g})}),i(a);return}const s=r(this.type,n);s.then?e.push((async function(){i(await s)})()):i(s)}async walkAsync(e,n){const r=[],i=[e];return this.#e(r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(pr.isParamType(e))return e;if(typeof e=="string")try{return pr.from(xf(e),n)}catch{ye(!1,"invalid param type","obj",e)}else if(e instanceof Ea){let a="",c="",u=null;Vc(e,no(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(T=>pr.from(T)),a=`tuple(${u.map(T=>T.format()).join(",")})`):(a=Z7(e.popType("TYPE")),c=a);let g=null,m=null;for(;e.length&&e.peekType("BRACKET");){const T=e.pop();g=new pr(Hr,"",a,c,null,u,m,g),m=T.value,a+=T.text,c="array",u=null}let w=null;if(Vc(e,m3e).has("indexed")){if(!n)throw new Error("");w=!0}const I=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new pr(Hr,I,a,c,w,u,m,g)}const r=e.name;ye(!r||typeof r=="string"&&r.match(zQ),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ye(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(S3e);if(o){const a=parseInt(o[2]||"-1"),c=pr.from({type:o[1],components:e.components});return new pr(Hr,r||"",s,"array",i,null,a,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(u=>pr.from(u)):null;return new pr(Hr,r||"",s,"tuple",i,a,null,null)}return s=Z7(e.type),new pr(Hr,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[So]===J7}}class Hh{type;inputs;constructor(e,n,r){Hy(e,Hr,"Fragment"),r=Object.freeze(r.slice()),It(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Hh.from(JSON.parse(e))}catch{}return Hh.from(xf(e))}if(e instanceof Ea)switch(e.peekKeyword(UQ)){case"constructor":return bc.from(e);case"error":return xo.from(e);case"event":return xl.from(e);case"fallback":case"receive":return fc.from(e);case"function":return bl.from(e);case"struct":return Ah.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return bc.from(e);case"error":return xo.from(e);case"event":return xl.from(e);case"fallback":case"receive":return fc.from(e);case"function":return bl.from(e);case"struct":return Ah.from(e)}Ve(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ye(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return bc.isFragment(e)}static isError(e){return xo.isFragment(e)}static isEvent(e){return xl.isFragment(e)}static isFunction(e){return bl.isFragment(e)}static isStruct(e){return Ah.isFragment(e)}}class xA extends Hh{name;constructor(e,n,r,i){super(e,n,i),ye(typeof r=="string"&&r.match(zQ),"invalid identifier","name",r),i=Object.freeze(i.slice()),It(this,{name:r})}}function hy(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class xo extends xA{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,So,{value:eU})}get selector(){return Vh(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+hy(e,this.inputs)),n.join(" ")}static from(e){if(xo.isFragment(e))return e;if(typeof e=="string")return xo.from(xf(e));if(e instanceof Ea){const n=wA("error",e),r=Ic(e);return zh(e),new xo(Hr,n,r)}return new xo(Hr,e.name,e.inputs?e.inputs.map(pr.from):[])}static isFragment(e){return e&&e[So]===eU}}class xl extends xA{anonymous;constructor(e,n,r,i){super(e,"event",n,r),Object.defineProperty(this,So,{value:tU}),It(this,{anonymous:i})}get topicHash(){return Vh(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+hy(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>pr.from(i)),new xl(Hr,e,n,!1).topicHash}static from(e){if(xl.isFragment(e))return e;if(typeof e=="string")try{return xl.from(xf(e))}catch{ye(!1,"invalid event fragment","obj",e)}else if(e instanceof Ea){const n=wA("event",e),r=Ic(e,!0),i=!!Vc(e,no(["anonymous"])).has("anonymous");return zh(e),new xl(Hr,n,r,i)}return new xl(Hr,e.name,e.inputs?e.inputs.map(n=>pr.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[So]===tU}}class bc extends Hh{payable;gas;constructor(e,n,r,i,s){super(e,n,r),Object.defineProperty(this,So,{value:nU}),It(this,{payable:i,gas:s})}format(e){if(Ve(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${hy(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(bc.isFragment(e))return e;if(typeof e=="string")try{return bc.from(xf(e))}catch{ye(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Ea){Vc(e,no(["constructor"]));const n=Ic(e),r=!!Vc(e,p3e).has("payable"),i=GQ(e);return zh(e),new bc(Hr,"constructor",n,r,i)}return new bc(Hr,"constructor",e.inputs?e.inputs.map(pr.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[So]===nU}}class fc extends Hh{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,So,{value:rU}),It(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(fc.isFragment(e))return e;if(typeof e=="string")try{return fc.from(xf(e))}catch{ye(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Ea){const n=e.toString(),r=e.peekKeyword(no(["fallback","receive"]));if(ye(r,"type must be fallback or receive","obj",n),e.popKeyword(no(["fallback","receive"]))==="receive"){const a=Ic(e);return ye(a.length===0,"receive cannot have arguments","obj.inputs",a),Vc(e,no(["payable"])),zh(e),new fc(Hr,[],!0)}let s=Ic(e);s.length?ye(s.length===1&&s[0].type==="bytes","invalid fallback inputs","obj.inputs",s.map(a=>a.format("minimal")).join(", ")):s=[pr.from("bytes")];const o=$Q(e);if(ye(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Vc(e,no(["returns"])).has("returns")){const a=Ic(e);ye(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return zh(e),new fc(Hr,s,o==="payable")}if(e.type==="receive")return new fc(Hr,[],!0);if(e.type==="fallback"){const n=[pr.from("bytes")],r=e.stateMutability==="payable";return new fc(Hr,n,r)}ye(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[So]===rU}}class bl extends xA{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,i,s,o){super(e,"function",n,i),Object.defineProperty(this,So,{value:iU}),s=Object.freeze(s.slice()),It(this,{constant:r==="view"||r==="pure",gas:o,outputs:s,payable:r==="payable",stateMutability:r})}get selector(){return Vh(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+hy(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(hy(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>pr.from(i)),new bl(Hr,e,"view",n,[],null).selector}static from(e){if(bl.isFragment(e))return e;if(typeof e=="string")try{return bl.from(xf(e))}catch{ye(!1,"invalid function fragment","obj",e)}else if(e instanceof Ea){const r=wA("function",e),i=Ic(e),s=$Q(e);let o=[];Vc(e,no(["returns"])).has("returns")&&(o=Ic(e));const a=GQ(e);return zh(e),new bl(Hr,r,s,i,o,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new bl(Hr,e.name,n,e.inputs?e.inputs.map(pr.from):[],e.outputs?e.outputs.map(pr.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[So]===iU}}class Ah extends xA{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,So,{value:sU})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Ah.from(xf(e))}catch{ye(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ea){const n=wA("struct",e),r=Ic(e);return zh(e),new Ah(Hr,n,r)}return new Ah(Hr,e.name,e.inputs?e.inputs.map(pr.from):[])}static isFragment(e){return e&&e[So]===sU}}const el=new Map;el.set(0,"GENERIC_PANIC");el.set(1,"ASSERT_FALSE");el.set(17,"OVERFLOW");el.set(18,"DIVIDE_BY_ZERO");el.set(33,"ENUM_RANGE_ERROR");el.set(34,"BAD_STORAGE_DATA");el.set(49,"STACK_UNDERFLOW");el.set(50,"ARRAY_RANGE_ERROR");el.set(65,"OUT_OF_MEMORY");el.set(81,"UNINITIALIZED_FUNCTION_CALL");const T3e=new RegExp(/^bytes([0-9]*)$/),_3e=new RegExp(/^(u?int)([0-9]*)$/);let LC=null,oU=1024;function C3e(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const u=rn(n);if(n=it(n),u.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(it(u.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(it(u.slice(0,4))==="0x4e487b71")try{const g=Number(r.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[g]},s=`Panic due to ${el.get(g)||"UNKNOWN"}(${g})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?zn(e.to):null,data:e.data||"0x"};return e.from&&(c.from=zn(e.from)),Mr(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:c,invocation:o,revert:a})}class hg{#e(e){if(e.isArray())return new GOe(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Sv(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new HOe(e.name);case"bool":return new WOe(e.name);case"string":return new tRe(e.name);case"bytes":return new qOe(e.name);case"":return new XOe(e.name)}let n=e.type.match(_3e);if(n){let r=parseInt(n[2]||"256");return ye(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new eRe(r/8,n[1]==="int",e.name)}if(n=e.type.match(T3e),n){let r=parseInt(n[1]);return ye(r!==0&&r<=32,"invalid bytes length","param",e),new KOe(r,e.name)}ye(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(i=>this.#e(pr.from(i)));return new Sv(n,"_").defaultValue()}encode(e,n){xX(n.length,e.length,"types/values length mismatch");const r=e.map(o=>this.#e(pr.from(o))),i=new Sv(r,"_"),s=new LN;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>this.#e(pr.from(o)));return new Sv(i,"_").decode(new $3(n,r,oU))}static _setDefaultMaxInflation(e){ye(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),oU=e}static defaultAbiCoder(){return LC==null&&(LC=new hg),LC}static getBuiltinCallException(e,n,r){return C3e(e,n,r,hg.defaultAbiCoder())}}class I3e{fragment;name;signature;topic;args;constructor(e,n,r){const i=e.name,s=e.format();It(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class P3e{fragment;name;args;signature;selector;value;constructor(e,n,r,i){const s=e.name,o=e.format();It(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class N3e{fragment;name;args;signature;selector;constructor(e,n,r){const i=e.name,s=e.format();It(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class aU{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){It(this,{hash:e,_isIndexed:!0})}}const lU={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},cU={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&lU[t.toString()]&&(e=lU[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class th{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const o of n)try{r.push(Hh.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}It(this,{fragments:Object.freeze(r)});let i=null,s=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}It(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(ye(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":c=this.#n;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}const u=o.format();c.has(u)||c.set(u,o)}),this.deploy||It(this,{deploy:bc.from("constructor()")}),It(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return hg.defaultAbiCoder()}#i(e,n,r){if(mr(e)){const s=e.toLowerCase();for(const o of this.#n.values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of this.#n)o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,c=!0;ni.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let u=s.length-1;u>=0;u--){const g=s[u].inputs.length;g!==a&&(!c||g!==a-1)&&s.splice(u,1)}for(let u=s.length-1;u>=0;u--){const g=s[u].inputs;for(let m=0;m<n.length;m++)if(ni.isTyped(n[m])){if(m>=g.length){if(n[m].type==="overrides")continue;s.splice(u,1);break}if(n[m].type!==g[m].baseType){s.splice(u,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ye(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=this.#n.get(bl.from(e).format());return i||null}getFunctionName(e){const n=this.#i(e,null,!1);return ye(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,n){return this.#i(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#n.get(i),r)}}#o(e,n,r){if(mr(e)){const s=e.toLowerCase();for(const o of this.#t.values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of this.#t)o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let c=0;c<n.length;c++)if(ni.isTyped(n[c])&&n[c].type!==a[c].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ye(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=this.#t.get(xl.from(e).format());return i||null}getEventName(e){const n=this.#o(e,null,!1);return ye(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,n){return this.#o(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#t.get(i),r)}}getError(e,n){if(mr(e)){const i=e.toLowerCase();if(cU[i])return xo.from(cU[i].signature);for(const s of this.#e.values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of this.#e)s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?xo.from("error Error(string)"):e==="Panic"?xo.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");ye(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=xo.from(e).format(),e==="Error(string)")return xo.from("error Error(string)");if(e==="Panic(uint256)")return xo.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#e.get(i),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ye(r,"unknown error","fragment",e),e=r}return ye(Zr(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Zr(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ye(r,"unknown error","fragment",e),e=r}return ri([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return ye(Zr(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Zr(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return ri([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);ye(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=Xs(n);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}Ve(!1,r,"BAD_DATA",{value:it(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=rn(e,"data"),i=hg.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=it(r.slice(0,4)),c=this.getError(a);if(c)try{const u=this.#r.decode(c.inputs,r.slice(4));i.revert={name:c.name,signature:c.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return it(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);ye(s,"unknown event","eventFragment",e),e=s}Ve(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?Vh(o):s.type==="bytes"?Si(it(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=af(o):s.type.match(/^bytes/)?o=KPe(o,32):s.type==="address"&&this.#r.encode(["address"],[o]),Fc(it(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){ye(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?ye(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(c=>i(a,c))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);ye(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),ye(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(Vh(c));else if(o.type==="bytes")r.push(Si(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this.#r.encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const A=this.getEvent(e);ye(A,"unknown event","eventFragment",e),e=A}if(r!=null&&!e.anonymous){const A=e.topicHash;ye(mr(r[0],32)&&r[0].toLowerCase()===A,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((A,I)=>{A.indexed?A.type==="string"||A.type==="bytes"||A.baseType==="tuple"||A.baseType==="array"?(i.push(pr.from({type:"bytes32",name:A.name})),o.push(!0)):(i.push(A),o.push(!1)):(s.push(A),o.push(!1))});const a=r!=null?this.#r.decode(i,ri(r)):null,c=this.#r.decode(s,n,!0),u=[],g=[];let m=0,w=0;return e.inputs.forEach((A,I)=>{let T=null;if(A.indexed)if(a==null)T=new aU(null);else if(o[I])T=new aU(a[w++]);else try{T=a[w++]}catch(C){T=C}else try{T=c[m++]}catch(C){T=C}u.push(T),g.push(A.name||null)}),xc.fromItems(u,g)}parseTransaction(e){const n=rn(e.data,"tx.data"),r=ut(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(it(n.slice(0,4)));if(!i)return null;const s=this.#r.decode(i.inputs,n.slice(4));return new P3e(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new I3e(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=it(e),r=this.getError(Zr(n,0,4));if(!r)return null;const i=this.#r.decode(r.inputs,Zr(n,4));return new N3e(r,r.selector,i)}static from(e){return e instanceof th?e:typeof e=="string"?new th(JSON.parse(e)):typeof e.formatJson=="function"?new th(e.formatJson()):typeof e.format=="function"?new th(e.format("json")):new th(e)}}const WQ=BigInt(0);function Ep(t){return t??null}function mi(t){return t==null?null:t.toString()}class uU{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){It(this,{gasPrice:Ep(e),maxFeePerGas:Ep(n),maxPriorityFeePerGas:Ep(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:mi(e),maxFeePerGas:mi(n),maxPriorityFeePerGas:mi(r)}}}function Fx(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=it(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=ut(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Xt(t[i],`request.${i}`));return t.accessList&&(e.accessList=rd(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>H3(i)?it(i):Object.assign({},i))),e}class O3e{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new qy(r,n):r),It(this,{provider:n,hash:Ep(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Ep(e.prevRandao),extraData:e.extraData,baseFeePerGas:Ep(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(Ve(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:c,nonce:u,number:g,parentHash:m,parentBeaconBlockRoot:w,stateRoot:A,receiptsRoot:I,timestamp:T,transactions:C}=this;return{_type:"Block",baseFeePerGas:mi(e),difficulty:mi(n),extraData:r,gasLimit:mi(i),gasUsed:mi(s),blobGasUsed:mi(this.blobGasUsed),excessBlobGas:mi(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:u,number:g,parentHash:m,timestamp:T,parentBeaconBlockRoot:w,stateRoot:A,receiptsRoot:I,transactions:C}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const r=e.toLowerCase();for(const i of this.#e)if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;ye(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return R3e(this)}}class Wy{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const r=Object.freeze(e.topics.slice());It(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Ve(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Ve(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Ve(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return k3e(this)}}class qQ{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(i=>new Wy(i,n)));let r=WQ;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),It(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:c,logs:u,status:g,root:m}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:mi(this.cumulativeGasUsed),from:n,gasPrice:mi(this.gasPrice),blobGasUsed:mi(this.blobGasUsed),blobGasPrice:mi(this.blobGasPrice),gasUsed:mi(this.gasUsed),hash:i,index:s,logs:u,logsBloom:c,root:m,status:g,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return YQ(this)}reorderedEvent(e){return Ve(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),KQ(this,e)}}class qy{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:c,data:u,signature:g,accessList:m,blobVersionedHashes:w}=this;return{_type:"TransactionResponse",accessList:m,blockNumber:e,blockHash:n,blobVersionedHashes:w,chainId:mi(this.chainId),data:u,from:a,gasLimit:mi(this.gasLimit),gasPrice:mi(this.gasPrice),hash:i,maxFeePerGas:mi(this.maxFeePerGas),maxPriorityFeePerGas:mi(this.maxPriorityFeePerGas),maxFeePerBlobGas:mi(this.maxFeePerBlobGas),nonce:c,signature:g,to:o,index:r,type:s,value:mi(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Ys({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=this.#e,o=-1,a=s===-1;const c=async()=>{if(a)return null;const{blockNumber:w,nonce:A}=await Ys({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(A<this.nonce){s=w;return}if(a)return null;const I=await this.getTransaction();if(!(I&&I.blockNumber!=null))for(o===-1&&(o=s-3,o<this.#e&&(o=this.#e));o<=w;){if(a)return null;const T=await this.provider.getBlock(o,!0);if(T==null)return;for(const C of T)if(C===this.hash)return;for(let C=0;C<T.length;C++){const R=await T.getTransaction(C);if(R.from===this.from&&R.nonce===this.nonce){if(a)return null;const B=await this.provider.getTransactionReceipt(R.hash);if(B==null||w-B.blockNumber+1<r)return;let k="replaced";R.data===this.data&&R.to===this.to&&R.value===this.value?k="repriced":R.data==="0x"&&R.from===R.to&&R.value===WQ&&(k="cancelled"),Ve(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:k==="replaced"||k==="cancelled",reason:k,replacement:R.replaceableTransaction(s),hash:R.hash,receipt:B})}}o++}},u=w=>{if(w==null||w.status!==0)return w;Ve(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:w.to,from:w.from,data:""},receipt:w})},g=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(g);if(g){if(r===1||await g.confirmations()>=r)return u(g)}else if(await c(),r===0)return null;return await new Promise((w,A)=>{const I=[],T=()=>{I.forEach(R=>R())};if(I.push(()=>{a=!0}),i>0){const R=setTimeout(()=>{T(),A(Mr("wait for transaction timeout","TIMEOUT"))},i);I.push(()=>{clearTimeout(R)})}const C=async R=>{if(await R.confirmations()>=r){T();try{w(u(R))}catch(B){A(B)}}};if(I.push(()=>{this.provider.off(this.hash,C)}),this.provider.on(this.hash,C),s>=0){const R=async()=>{try{await c()}catch(B){if(ys(B,"TRANSACTION_REPLACED")){T(),A(B);return}}a||this.provider.once("block",R)};I.push(()=>{this.provider.off("block",R)}),this.provider.once("block",R)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Ve(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),YQ(this)}reorderedEvent(e){return Ve(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ve(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),KQ(this,e)}replaceableTransaction(e){ye(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new qy(this,this.provider);return n.#e=e,n}}function R3e(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function KQ(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function YQ(t){return{orphan:"drop-transaction",tx:t}}function k3e(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class rk extends Wy{interface;fragment;args;constructor(e,n,r){super(e,e.provider);const i=n.decodeEventLog(r,e.data,e.topics);It(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class XQ extends Wy{error;constructor(e,n){super(e,e.provider),It(this,{error:n})}}class M3e extends qQ{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new rk(e,this.#e,n)}catch(r){return new XQ(e,r)}return e})}}class ik extends qy{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new M3e(this.#e,this.provider,r)}}class QQ extends SX{log;constructor(e,n,r,i){super(e,n,r),It(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class D3e extends QQ{constructor(e,n,r,i,s){super(e,n,r,new rk(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);It(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const fU=BigInt(0);function ZQ(t){return t&&typeof t.call=="function"}function JQ(t){return t&&typeof t.estimateGas=="function"}function bA(t){return t&&typeof t.resolveName=="function"}function eZ(t){return t&&typeof t.sendTransaction=="function"}function tZ(t){if(t!=null){if(bA(t))return t;if(t.provider)return t.provider}}class L3e{#e;fragment;constructor(e,n,r){if(It(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=$h(e.runner,"resolveName"),s=bA(i)?i:null;this.#e=(async function(){const o=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(g,m)=>g==="address"?Array.isArray(m)?Promise.all(m.map(w=>to(w,s))):to(m,s):m)));return e.interface.encodeFilterTopics(n,o)})()}getTopicFilter(){return this.#e}}function $h(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ph(t){return t==null?null:t.provider||null}async function nZ(t,e){const n=ni.dereference(t,"overrides");ye(typeof n=="object","invalid overrides parameter","overrides",t);const r=Fx(n);return ye(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ye(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function B3e(t,e,n){const r=$h(t,"resolveName"),i=bA(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,c)=>(c=ni.dereference(c,a),a==="address"?to(c,i):c))))}function j3e(t){const e=async function(o){const a=await nZ(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await to(a.from,tZ(t.runner)));const c=t.interface,u=ut(a.value||fU,"overrides.value")===fU,g=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!g&&!u&&ye(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),ye(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data);const m=c.receive||c.fallback&&c.fallback.payable;return ye(m||u,"cannot send value to non-payable fallback","overrides.value",a.value),ye(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=$h(t.runner,"call");Ve(ZQ(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(u){throw z3(u)&&u.data?t.interface.makeError(u.data,c):u}},r=async function(o){const a=t.runner;Ve(eZ(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),u=ph(t.runner);return new ik(t.interface,u,c)},i=async function(o){const a=$h(t.runner,"estimateGas");return Ve(JQ(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return It(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function F3e(t,e){const n=function(...u){const g=t.interface.getFunction(e,u);return Ve(g,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),g},r=async function(...u){const g=n(...u);let m={};if(g.inputs.length+1===u.length&&(m=await nZ(u.pop()),m.from&&(m.from=await to(m.from,tZ(t.runner)))),g.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const w=await B3e(t.runner,g.inputs,u);return Object.assign({},m,await Ys({to:t.getAddress(),data:t.interface.encodeFunctionData(g,w)}))},i=async function(...u){const g=await a(...u);return g.length===1?g[0]:g},s=async function(...u){const g=t.runner;Ve(eZ(g),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const m=await g.sendTransaction(await r(...u)),w=ph(t.runner);return new ik(t.interface,w,m)},o=async function(...u){const g=$h(t.runner,"estimateGas");return Ve(JQ(g),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await g.estimateGas(await r(...u))},a=async function(...u){const g=$h(t.runner,"call");Ve(ZQ(g),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const m=await r(...u);let w="0x";try{w=await g.call(m)}catch(I){throw z3(I)&&I.data?t.interface.makeError(I.data,m):I}const A=n(...u);return t.interface.decodeFunctionResult(A,w)},c=async(...u)=>n(...u).constant?await i(...u):await s(...u);return It(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return Ve(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function U3e(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return Ve(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new L3e(t,n(...i),i)};return It(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return Ve(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Ux=Symbol.for("_ethersInternal_contract"),rZ=new WeakMap;function V3e(t,e){rZ.set(t[Ux],e)}function Uo(t){return rZ.get(t[Ux])}function z3e(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function sk(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(mr(o,32))return o;const a=t.interface.getEvent(o);return ye(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?mr(e,32)?n=[e]:(r=t.interface.getEvent(e),ye(r,"unknown fragment","event",e),n=[r.topicHash]):z3e(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ye(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function jm(t,e){const{subs:n}=Uo(t);return n.get((await sk(t,e)).tag)||null}async function hU(t,e,n){const r=ph(t.runner);Ve(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await sk(t,n),{addr:a,subs:c}=Uo(t);let u=c.get(s);if(!u){const m={address:a||t,topics:o},w=C=>{let R=i;if(R==null)try{R=t.interface.getEvent(C.topics[0])}catch{}if(R){const B=R,k=i?t.interface.decodeEventLog(i,C.data,C.topics):[];YN(t,n,k,V=>new D3e(t,V,n,B,C))}else YN(t,n,[],B=>new QQ(t,B,n,C))};let A=[];u={tag:s,listeners:[],start:()=>{A.length||A.push(r.on(m,w))},stop:async()=>{if(A.length==0)return;let C=A;A=[],await Promise.all(C),r.off(m,w)}},c.set(s,u)}return u}let KN=Promise.resolve();async function H3e(t,e,n,r){await KN;const i=await jm(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const c=Array.from(n);r&&c.push(r(a?null:o));try{o.call(t,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Uo(t).subs.delete(i.tag)),s>0}async function YN(t,e,n,r){try{await KN}catch{}const i=H3e(t,e,n,r);return KN=i,await i}const _v=["then"];class r0{target;interface;runner;filters;[Ux];fallback;constructor(e,n,r,i){ye(typeof e=="string"||cQ(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=th.from(n);It(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,Ux,{value:{}});let o,a=null,c=null;if(i){const m=ph(r);c=new ik(this.interface,m,i)}let u=new Map;if(typeof e=="string")if(mr(e))a=e,o=Promise.resolve(e);else{const m=$h(r,"resolveName");if(!bA(m))throw Mr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=m.resolveName(e).then(w=>{if(w==null)throw Mr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Uo(this).addr=w,w})}else o=e.getAddress().then(m=>{if(m==null)throw new Error("TODO");return Uo(this).addr=m,m});V3e(this,{addrPromise:o,addr:a,deployTx:c,subs:u});const g=new Proxy({},{get:(m,w,A)=>{if(typeof w=="symbol"||_v.indexOf(w)>=0)return Reflect.get(m,w,A);try{return this.getEvent(w)}catch(I){if(!ys(I,"INVALID_ARGUMENT")||I.argument!=="key")throw I}},has:(m,w)=>_v.indexOf(w)>=0?Reflect.has(m,w):Reflect.has(m,w)||this.interface.hasEvent(String(w))});return It(this,{filters:g}),It(this,{fallback:s.receive||s.fallback?j3e(this):null}),new Proxy(this,{get:(m,w,A)=>{if(typeof w=="symbol"||w in m||_v.indexOf(w)>=0)return Reflect.get(m,w,A);try{return m.getFunction(w)}catch(I){if(!ys(I,"INVALID_ARGUMENT")||I.argument!=="key")throw I}},has:(m,w)=>typeof w=="symbol"||w in m||_v.indexOf(w)>=0?Reflect.has(m,w):m.interface.hasFunction(w)})}connect(e){return new r0(this.target,this.interface,e)}attach(e){return new r0(e,this.interface,this.runner)}async getAddress(){return await Uo(this).addrPromise}async getDeployedCode(){const e=ph(this.runner);Ve(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ph(this.runner);return Ve(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return Uo(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),F3e(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),U3e(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=Uo(this),o=i||await s,{fragment:a,topics:c}=await sk(this,e),u={address:o,topics:c,fromBlock:n,toBlock:r},g=ph(this.runner);return Ve(g,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await g.getLogs(u)).map(m=>{let w=a;if(w==null)try{w=this.interface.getEvent(m.topics[0])}catch{}if(w)try{return new rk(m,this.interface,w)}catch(A){return new XQ(m,A)}return new Wy(m,g)})}async on(e,n){const r=await hU(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await hU(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await YN(this,e,n,null)}async listenerCount(e){if(e){const i=await jm(this,e);return i?i.listeners.length:0}const{subs:n}=Uo(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await jm(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=Uo(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await jm(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Uo(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await jm(this,e);if(!n)return this;n.stop(),Uo(this).subs.delete(n.tag)}else{const{subs:n}=Uo(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends r0{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}}function $3e(){return r0}class Sp extends $3e(){}function BC(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ye(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class G3e{name;constructor(e){It(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const iZ=new RegExp("^(ipfs)://(.*)$","i"),dU=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),iZ,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Tp{provider;address;name;#e;#t;constructor(e,n,r){It(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new Sp(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(ys(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const r=this.#t.interface;n.unshift(qN(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),Ve(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[o3e(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await this.#t[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!ys(s,"CALL_EXCEPTION"))throw s}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await this.#n("addr(bytes32)");return s==null||s===ay?null:s}catch(s){if(ys(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await this.#n("addr(bytes32,uint)",[s]);if(mr(o,20))return zn(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof G3e&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;Ve(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${XPe("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Ve(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<dU.length;r++){const i=n.match(dU[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=BC(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const u=c[1],g=new Sp(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const T=await g.ownerOf(u);if(a!==T)return e.push({type:"!owner",value:T}),{url:null,linkage:e};e.push({type:"owner",value:T})}else if(s==="erc1155"){const T=await g.balanceOf(a,u);if(!T)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:T.toString()})}let m=await g[o](u);if(m==null||m==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:m}),s==="erc1155"&&(m=m.replace("{id}",af(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:m})),m.match(/^ipfs:/i)&&(m=BC(m)),e.push({type:"metadata-url",value:m});let w={};const A=await new Uc(m).send();A.assertOk();try{w=A.bodyJson}catch{try{e.push({type:"!metadata",value:A.bodyText})}catch{const R=A.body;return R&&e.push({type:"!metadata",value:it(R)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!w)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(w)});let I=w.image;if(typeof I!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!I.match(/^(https:\/\/|data:)/i)){if(I.match(iZ)==null)return e.push({type:"!imageUrl-ipfs",value:I}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:I}),I=BC(I)}return e.push({type:"url",value:I}),{linkage:e,url:I}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return Ve(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){const r=await Tp.getEnsAddress(e);try{const s=await new Sp(r,["function resolver(bytes32) view returns (address)"],e).resolver(qN(n),{enableCcipRead:!0});return s===ay?null:s}catch(i){throw i}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await Tp.#r(e,r);if(i!=null){const s=new Tp(e,i,n);return r!==n&&!await s.supportsWildcard()?null:s}r=r.split(".").slice(1).join(".")}}}const pU=BigInt(0);function bn(t,e){return(function(n){return n==null?e:t(n)})}function dy(t,e){return(n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))})}function Ky(t,e){return(n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";Ve(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r})}function W3e(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ye(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function dg(t){return ye(mr(t,!0),"invalid data","value",t),t}function gs(t){return ye(mr(t,32),"invalid hash","value",t),t}const q3e=Ky({address:zn,blockHash:gs,blockNumber:Xt,data:dg,index:Xt,removed:bn(W3e,!1),topics:dy(gs),transactionHash:gs,transactionIndex:Xt},{index:["logIndex"]});function K3e(t){return q3e(t)}const Y3e=Ky({hash:bn(gs),parentHash:gs,parentBeaconBlockRoot:bn(gs,null),number:Xt,timestamp:Xt,nonce:bn(dg),difficulty:ut,gasLimit:ut,gasUsed:ut,stateRoot:bn(gs,null),receiptsRoot:bn(gs,null),blobGasUsed:bn(ut,null),excessBlobGas:bn(ut,null),miner:bn(zn),prevRandao:bn(gs,null),extraData:dg,baseFeePerGas:bn(ut)},{prevRandao:["mixHash"]});function X3e(t){const e=Y3e(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:sZ(n)),e}const Q3e=Ky({transactionIndex:Xt,blockNumber:Xt,transactionHash:gs,address:zn,topics:dy(gs),data:dg,index:Xt,blockHash:gs},{index:["logIndex"]});function Z3e(t){return Q3e(t)}const J3e=Ky({to:bn(zn,null),from:bn(zn,null),contractAddress:bn(zn,null),index:Xt,root:bn(it),gasUsed:ut,blobGasUsed:bn(ut,null),logsBloom:bn(dg),blockHash:gs,hash:gs,logs:dy(Z3e),blockNumber:Xt,cumulativeGasUsed:ut,effectiveGasPrice:bn(ut),blobGasPrice:bn(ut,null),status:bn(Xt),type:bn(Xt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function eke(t){return J3e(t)}function sZ(t){t.to&&ut(t.to)===pU&&(t.to="0x0000000000000000000000000000000000000000");const e=Ky({hash:gs,index:bn(Xt,void 0),type:n=>n==="0x"||n==null?0:Xt(n),accessList:bn(rd,null),blobVersionedHashes:bn(dy(gs,!0),null),authorizationList:bn(dy(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:zn(n.address),chainId:ut(n.chainId),nonce:ut(n.nonce),signature:ei.from(r)}},!1),null),blockHash:bn(gs,null),blockNumber:bn(Xt,null),transactionIndex:bn(Xt,null),from:zn,gasPrice:bn(ut),maxPriorityFeePerGas:bn(ut),maxFeePerGas:bn(ut),maxFeePerBlobGas:bn(ut,null),gasLimit:ut,to:bn(zn,null),value:ut,nonce:Xt,data:dg,creates:bn(zn,null),chainId:bn(ut,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=zOe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=ei.from(t.signature):e.signature=ei.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&ut(e.blockHash)===pU&&(e.blockHash=null),e}const tke="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Yy{name;constructor(e){It(this,{name:e})}clone(){return new Yy(this.name)}}class AA extends Yy{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(s,o){let a=(n||{})[s];a==null&&(a=o),ye(typeof a=="number",`invalud value for ${s}`,"costs",n),r[s]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),It(this,r)}clone(){return new AA(this.effectiveBlock,this)}}class EA extends Yy{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),It(this,{address:e||tke,targetNetwork:n??1})}clone(){return new EA(this.address,this.targetNetwork)}}class nke extends Yy{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const jC=new Map;class Go{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=ut(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=ut(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ut(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ut(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ut(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Go(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new AA;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=rd(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(rke(),e==null)return Go.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=jC.get(e);if(n)return n();if(typeof e=="bigint")return new Go("unknown",e);ye(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ye(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Go(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new EA(e.ensAddress,e.ensNetwork)),n}ye(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=jC.get(e);r&&ye(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),jC.set(e,n)}}function gU(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function mU(t){return new nke(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:gU(a.maxFee,9),maxPriorityFeePerGas:gU(a.maxPriorityFee,9)}}catch(s){Ve(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let yU=!1;function rke(){if(yU)return;yU=!0;function t(e,n,r){const i=function(){const s=new Go(e,n);return r.ensNetwork!=null&&s.attachPlugin(new EA(null,r.ensNetwork)),s.attachPlugin(new AA),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};Go.register(e,i),Go.register(n,i),r.altNames&&r.altNames.forEach(s=>{Go.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[mU("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[mU("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function XN(t){return JSON.parse(JSON.stringify(t))}class ike{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class ok{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class ske extends ok{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}}class oke extends ok{#e;constructor(e,n){super(e),this.#e=XN(n)}async _poll(e,n){throw new Error("@TODO")}}class ake extends ok{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}}class ak{#e;#t;#n;#r;#i;constructor(e,n){this.#e=e,this.#t=XN(n),this.#n=this.#o.bind(this),this.#r=!1,this.#i=-2}async#o(e){if(this.#i===-2)return;const n=XN(this.#t);n.fromBlock=this.#i+1,n.toBlock=e;const r=await this.#e.getLogs(n);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const lke=BigInt(2),cke=10;function Cv(t){return t&&typeof t.then=="function"}function Xv(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class oZ{name;constructor(e){It(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function uke(t){return JSON.parse(JSON.stringify(t))}function QN(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function FC(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(mr(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Xv("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Xv("orphan",n),filter:uke(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?QN(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{mr(a)?i.push(a):s.push((async()=>{i.push(await to(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=QN(i.map(a=>a.toLowerCase()))}return{filter:r,tag:Xv("event",r),type:"event"}}ye(!1,"unknown ProviderEvent","event",t)}function UC(){return new Date().getTime()}const fke={cacheTimeout:250,pollingInterval:4e3};class hke{#e;#t;#n;#r;#i;#o;#s;#a;#f;#c;#p;#g;constructor(e,n){if(this.#g=Object.assign({},fke,n||{}),e==="any")this.#o=!0,this.#i=null;else if(e){const r=Go.from(e);this.#o=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#o=!1,this.#i=null;this.#a=-1,this.#s=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#f=1,this.#c=new Map,this.#p=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}async#l(e){const n=this.#g.cacheTimeout;if(n<0)return await this._perform(e);const r=Xv(e.method,e);let i=this.#s.get(r);return i||(i=this._perform(e),this.#s.set(r,i),setTimeout(()=>{this.#s.get(r)===i&&this.#s.delete(r)},n)),await i}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],u=c.replace("{sender}",i).replace("{data}",s),g=new Uc(u);c.indexOf("{data}")===-1&&(g.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:g,index:a,urls:r});let m="unknown error",w;try{w=await g.send()}catch(A){o.push(A.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:{error:A}});continue}try{const A=w.bodyJson;if(A.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:g,result:A}),A.data;A.message&&(m=A.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:A})}catch{}Ve(w.statusCode<400||w.statusCode>=500,`response not found during CCIP fetch: ${m}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:m}}),o.push(m)}Ve(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new O3e(X3e(e),this)}_wrapLog(e,n){return new Wy(K3e(e),this)}_wrapTransactionReceipt(e,n){return new qQ(eke(e),this)}_wrapTransactionResponse(e,n){return new qy(sZ(e),this)}_detectNetwork(){Ve(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Ve(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Xt(await this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return to(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(mr(e))return mr(e,32)?e:za(e);if(typeof e=="bigint"&&(e=Xt(e,"blockTag")),typeof e=="number")return e>=0?za(e):this.#a>=0?za(this.#a+e):this.getBlockNumber().then(n=>za(n+e));ye(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?QN(c.map(u=>u.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(c,u,g)=>{let m;switch(c.length){case 0:break;case 1:m=c[0];break;default:c.sort(),m=c}if(r&&(u!=null||g!=null))throw new Error("invalid filter");const w={};return m&&(w.address=m),n.length&&(w.topics=n),u&&(w.fromBlock=u),g&&(w.toBlock=g),r&&(w.blockHash=r),w};let s=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(c=>i(c[0],c[1],c[2])):i(s,o,a)}_getTransactionRequest(e){const n=Fx(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=to(n[i],this);Cv(s)?r.push((async function(){n[i]=await s})()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);Cv(i)?r.push((async function(){n.blockTag=await i})()):n.blockTag=i}return r.length?(async function(){return await Promise.all(r),n})():n}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw this.#i===i&&(this.#i=null),s}})();return this.#i=i,(await i).clone()}const e=this.#i,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#o?(this.emit("network",r,n),this.#i===e&&(this.#i=Promise.resolve(r))):Ve(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await Ys({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const g=await this.#l({method:"getGasPrice"});return ut(g,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const g=await this.#l({method:"getPriorityFee"});return ut(g,"%response")}catch{}return null})()});let a=null,c=null;const u=this._wrapBlock(i,e);return u&&u.baseFeePerGas&&(c=o??BigInt("1000000000"),a=u.baseFeePerGas*lke+c),new uU(s,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new Uc(r.url),s=await r.processFunc(n,this,i);return new uU(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Cv(n)&&(n=await n),ut(await this.#l({method:"estimateGas",transaction:n}),"%response")}async#u(e,n,r){Ve(r<cke,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=Fx(e);try{return it(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&z3(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&Zr(s.data,0,4)==="0x556f1830"){const o=s.data,a=await to(i.to,this);let c;try{c=yke(Zr(s.data,4))}catch(m){Ve(!1,m.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}Ve(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(i,c.calldata,c.urls);Ve(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:c.errorArgs}});const g={to:a,data:ri([c.selector,mke([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:g});try{const m=await this.#u(g,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},g),result:m}),m}catch(m){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},g),error:m}),m}}throw s}}async#h(e){const{value:n}=await Ys({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:r}=await Ys({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#h(this.#u(n,r,e.enableCcipRead?0:-1))}async#d(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await this.#h(this.#l(Object.assign(e,{address:i,blockTag:s})))}async getBalance(e,n){return ut(await this.#d({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Xt(await this.#d({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return it(await this.#d({method:"getCode"},e,n))}async getStorage(e,n,r){const i=ut(n,"position");return it(await this.#d({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Ys({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Fa.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async#y(e,n){if(mr(e,32))return await this.#l({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#l({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){const{network:r,params:i}=await Ys({network:this.getNetwork(),params:this.#y(e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Ys({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Ys({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await this.#l({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Ys({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:e})});return n==null?null:it(n)}async getLogs(e){let n=this._getFilter(e);Cv(n)&&(n=await n);const{network:r,params:i}=await Ys({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){Ve(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Tp.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=zn(e);const n=qN(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Tp.getEnsAddress(this),s=await new Sp(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===ay)return null;const a=await new Sp(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(ys(r,"BAD_DATA")&&r.value==="0x"||ys(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const c=(async u=>{try{const g=await this.getTransactionReceipt(e);if(g!=null&&u-g.blockNumber+1>=i){s(g),a&&(clearTimeout(a),a=null);return}}catch(g){console.log("EEE",g)}this.once("block",c)});r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Mr("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){Ve(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#c.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#c.delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=this.#f++,i=()=>{this.#c.delete(r),e()};if(this.paused)this.#c.set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);this.#c.set(r,{timer:s,func:i,time:UC()})}return r}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new oZ(e.type);case"block":{const n=new ike(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new ske(this,e.type);case"event":return new ak(this,e.filter);case"transaction":return new ake(this,e.hash);case"orphan":return new oke(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#m(e,n){let r=await FC(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await FC({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#v(e){const n=await FC(e,this),r=n.tag;let i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i}async on(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){const r=await this.#m(e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new SX(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await this.#m(e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){const r=await this.#m(e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await this.#m(e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await this.#v(e);r&&i.stop(),this.#e.delete(n)}else for(const[n,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#c.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;Ve(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#c.values())n.timer&&clearTimeout(n.timer),n.time=UC()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#c.values()){let n=e.time;n<0&&(n=0),e.time=UC(),setTimeout(e.func,n)}}}}function dke(t,e){try{const n=ZN(t,e);if(n)return Rx(n)}catch{}return null}function ZN(t,e){if(t==="0x")return null;try{const n=Xt(Zr(t,e,e+32)),r=Xt(Zr(t,n,n+32));return Zr(t,n+32,n+32+r)}catch{}return null}function vU(t){const e=Vi(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function pke(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const gke=new Uint8Array([]);function mke(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(gke),n+=32;for(let r=0;r<t.length;r++){const i=rn(t[r]);e[r]=vU(n),e.push(vU(i.length)),e.push(pke(i)),n+=32+Math.ceil(i.length/32)*32}return ri(e)}const wU="0x0000000000000000000000000000000000000000000000000000000000000000";function yke(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Ve(xp(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Zr(t,0,32);Ve(Zr(n,0,12)===Zr(wU,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Zr(n,12);try{const r=[],i=Xt(Zr(t,32,64)),s=Xt(Zr(t,i,i+32)),o=Zr(t,i+32);for(let a=0;a<s;a++){const c=dke(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{Ve(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=ZN(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Ve(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Ve(Zr(t,100,128)===Zr(wU,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Zr(t,96,100);try{const r=ZN(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Ve(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Gf(t,e){if(t.provider)return t.provider;Ve(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function xU(t,e){let n=Fx(e);if(n.to!=null&&(n.to=to(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),to(r,t)]).then(([i,s])=>(ye(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await Ys(n)}class vke{provider;constructor(e){It(this,{provider:e||null})}async getNonce(e){return Gf(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await xU(this,e)}async populateTransaction(e){const n=Gf(this,"populateTransaction"),r=await xU(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=ut(r.chainId);ye(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?ye(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&ye(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();Ve(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Ve(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Ve(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Ys(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Gf(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Gf(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Gf(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Gf(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Gf(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Fa.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){Ve(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function wke(t){return JSON.parse(JSON.stringify(t))}class aZ{#e;#t;#n;#r;#i;#o;constructor(e){this.#e=e,this.#t=null,this.#n=this.#s.bind(this),this.#r=!1,this.#i=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#s(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(s){if(!ys(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#o)return;const i=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,i)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#s(-2))}stop(){this.#r&&(this.#r=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class xke extends aZ{#e;constructor(e,n){super(e),this.#e=wke(n)}_recover(e){return new ak(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const r of n)e.emit(this.#e,e._wrapLog(r,e._network))}}class bke extends aZ{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const Ake="bigint,boolean,function,number,string,symbol".split(/,/g);function Qv(t){if(t==null||Ake.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Qv);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Eke(t){return new Promise(e=>{setTimeout(e,t)})}function Ud(t){return t&&t.toLowerCase()}function bU(t){return t&&typeof t.pollingInterval=="number"}const lZ={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class VC extends vke{address;constructor(e,n){super(e),n=zn(n),It(this,{address:n})}connect(e){Ve(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=Qv(e),r=[];if(n.from){const s=n.from;r.push((async()=>{const o=await to(s,this.provider);ye(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const s=n.to;r.push((async()=>{n.to=await to(s,this.provider)})())}r.length&&await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,s)=>{const o=[1e3,100];let a=0;const c=async()=>{try{const u=await this.provider.getTransaction(r);if(u!=null){i(u.replaceableTransaction(n));return}}catch(u){if(ys(u,"CANCELLED")||ys(u,"BAD_DATA")||ys(u,"NETWORK_ERROR")||ys(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=r,s(u);return}if(ys(u,"INVALID_ARGUMENT")&&(a++,u.info==null&&(u.info={}),u.info.sendTransactionHash=r,a>10)){s(u);return}this.provider.emit("error",Mr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},o.pop()||4e3)};c()})}async signTransaction(e){const n=Qv(e);if(n.from){const i=await to(n.from,this.provider);ye(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?Cc(e):e;return await this.provider.send("personal_sign",[it(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=Qv(r),s=await Fo.resolveNames(e,n,i,async o=>{const a=await to(o);return ye(a!=null,"TypedData does not support null address","value",o),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Fo.getPayload(s.domain,n,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?Cc(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),it(n)])}}class Ske extends hke{#e;#t;#n;#r;#i;#o;#s;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const n=this.#n;for(this.#n=[];n.length;){const r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(s=>s.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{const i=r.length===1?r[0].payload:r.map(s=>s.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const s=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:s});for(const{resolve:o,reject:a,payload:c}of r){if(this.destroyed){a(Mr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=s.filter(g=>g.id===c.id)[0];if(u==null){const g=Mr("missing response for request","BAD_DATA",{value:s,info:{payload:c}});this.emit("error",g),a(g);continue}if("error"in u){a(this.getRpcError(c,u));continue}o(u.result)}}catch(s){this.emit("debug",{action:"receiveRpcError",error:s});for(const{reject:o}of r)o(s)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},lZ,n||{}),this.#n=[],this.#r=null,this.#o=null,this.#s=null;{let i=null;const s=new Promise(o=>{i=o});this.#i={promise:s,resolve:i}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(ye(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#o=Go.from(e))):r&&(ye(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#o=r)}_getOption(e){return this.#e[e]}get _network(){return Ve(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&ut(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#s?await this.#s:this.ready?(this.#s=(async()=>{try{const n=Go.from(ut(await this.send("eth_chainId",[])));return this.#s=null,n}catch(n){throw this.#s=null,n}})(),await this.#s):(this.#s=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#s=null}catch(i){throw this.#s=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Go.from(ut(r.result));throw this.getRpcError(n,r)})(),await this.#s)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Mr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Eke(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new bke(this):e.type==="event"?this._getOption("polling")?new ak(this,e.filter):new xke(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new oZ("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),n[i]=za(ut(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=it(e[r]))}),e.accessList&&(n.accessList=rd(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const i=dQ(r);return{address:i.address,nonce:za(i.nonce),chainId:za(i.chainId),yParity:za(i.signature.yParity),r:za(i.signature.r),s:za(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ud(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ud(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ud(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ud(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Ud):e.filter.address=Ud(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Mr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Mr("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=JN(i),c=hg.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:i,payload:e},c}const s=JSON.stringify(_ke(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Mr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return Mr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(s.match(/nonce/i)&&s.match(/too low/i))return Mr("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return Mr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(s.match(/only replay-protected/i))return Mr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:i}}})}let o=!!s.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?Mr("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Mr("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Mr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,i=new Promise((s,o)=>{this.#n.push({resolve:s,reject:o,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new VC(this,i[e])}const{accounts:r}=await Ys({network:this.getNetwork(),accounts:n});e=zn(e);for(const i of r)if(zn(i)===e)return new VC(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new VC(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:n}of this.#n)n(Mr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class Tke extends Ske{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=lZ.pollingInterval),this.#e=r}_getSubscriber(e){const n=super._getSubscriber(e);return bU(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{bU(n)&&(n.pollingInterval=this.#e)})}}function JN(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&mr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=JN(t[e]);if(n)return n}return null}if(typeof t=="string")try{return JN(JSON.parse(t))}catch{}return null}function eO(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)eO(t[n],e);if(typeof t=="string")try{return eO(JSON.parse(t),e)}catch{}}}function _ke(t){const e=[];return eO(t,e),e}class nh extends Tke{#e;#t;constructor(e,n,r){const i=Object.assign({},r??{},{batchMaxCount:1});ye(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(s,o)=>{const a={method:s,params:o};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const c=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){ye(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new nh(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new nh(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((s,o)=>{let a=[];const c=m=>{a.push(m.detail),r&&u()},u=()=>{if(clearTimeout(g),a.length)if(e&&e.filter){const m=e.filter(a.map(w=>Object.assign({},w.info)));if(m==null)s(null);else if(m instanceof nh)s(m);else{let w=null;if(m.uuid&&(w=a.filter(I=>m.uuid===I.info.uuid)[0]),w){const{provider:A,info:I}=w;s(new nh(A,void 0,{providerInfo:I}))}else o(Mr("filter returned unknown info","UNSUPPORTED_OPERATION",{value:m}))}}else{const{provider:m,info:w}=a[0];s(new nh(m,void 0,{providerInfo:w}))}else s(null);n.removeEventListener("eip6963:announceProvider",c)},g=setTimeout(()=>{u()},i);n.addEventListener("eip6963:announceProvider",c),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}const jg={},Cke=["function registerProduct(string memory _id, string memory _name, uint256 _quantity, uint256 _basePrice, string memory _harvestDate, string memory _quality, string memory _location) public","function updateAsDistributor(string memory _productId, uint256 _handlingCost, string memory _transportDetails) public","function updateAsRetailer(string memory _productId, uint256 _retailMargin, string memory _storeDetails) public","function getProduct(string memory _productId) public view returns (tuple(string id, string name, uint256 quantity, uint256 basePrice, uint256 currentPrice, string harvestDate, string quality, string status, address farmer, address distributor, address retailer, string location, uint256 timestamp, bool exists))","function getProductHistory(string memory _productId) public view returns (tuple(string productId, address actor, string action, uint256 newPrice, string details, uint256 timestamp, uint256 blockNumber)[])","function verifyProduct(string memory _productId) public view returns (bool verified, uint256 totalSteps, address[] memory actors, string[] memory actions, uint256[] memory timestamps)","function getAllProductIds() public view returns (string[] memory)","function getContractStats() public view returns (uint256 _totalProducts, uint256 _totalTransactions, uint256 _totalValue, uint256 _activeProducts)","event ProductRegistered(string indexed productId, address indexed farmer, string name, uint256 quantity, uint256 basePrice, string quality, string location)","event ProductUpdated(string indexed productId, address indexed actor, string action, uint256 newPrice, string status)","event SupplyChainStep(string indexed productId, address indexed from, address indexed to, string step, uint256 timestamp)"],Ike=jg?.VITE_AGRICHAIN_CONTRACT_ADDRESS,AU=jg?.VITE_CHAIN_ID,Pke=jg?.VITE_NETWORK_NAME,EU=jg?.VITE_INR_DECIMALS,Nke=jg?.VITE_PRICE_UNIT?.toUpperCase(),Oke=jg?.VITE_ETH_TO_INR_RATE,Rke=Ike||"0x2546BcD3c84621e976D8185a91A922aE77ECEc30",zC=(()=>{if(!AU)return 31337n;try{const t=AU.toString().trim().toLowerCase();return t.startsWith("0x")?BigInt(t):BigInt(parseInt(t,10))}catch{return 31337n}})(),Zv=(()=>{if(!EU)return 18;const e=Number(EU);return!Number.isFinite(e)||e<0||e>36?18:Math.floor(e)})(),kke=Nke==="ETH_WEI"?"ETH_WEI":"INR_UNITS",Mke=(()=>{const e=Number(Oke);return Number.isFinite(e)&&e>0?e:28e4})();class Dke{provider=null;contract=null;signer=null;isConnecting=!1;async connect(){if(this.isConnecting)return console.log("Connection already in progress..."),!1;this.isConnecting=!0;try{if(typeof window.ethereum<"u"){if(this.isConnected())return console.log("Already connected to blockchain"),this.isConnecting=!1,!0;const e=await Promise.race([window.ethereum.request({method:"eth_requestAccounts"}),new Promise((r,i)=>setTimeout(()=>i(new Error("Connection timeout")),1e4))]);if(!e||e.length===0)throw new Error("No accounts found");this.provider=new nh(window.ethereum),this.signer=await this.provider.getSigner();const n=await this.provider.getNetwork();if(zC!==null&&n.chainId!==zC){const r=Pke||"AgroChain Network";throw new Error(`Please connect to ${r} (Chain ID: ${zC.toString()})`)}return this.contract=new Sp(Rke,Cke,this.signer),console.log("Connected to blockchain successfully"),this.isConnecting=!1,!0}else return console.warn("MetaMask not detected"),alert("Please install MetaMask or another Web3 wallet!"),this.isConnecting=!1,!1}catch(e){return console.error("Failed to connect to blockchain:",e.message),this.isConnecting=!1,e.message.includes("User rejected")?alert("Connection cancelled by user"):e.message.includes("network")?alert("Please switch to AgroChain Local network in MetaMask"):e.message.includes("timeout")?alert("Connection timed out. Please try again."):alert(`Connection failed: ${e.message}`),!1}}isConnected(){return this.provider!==null&&this.contract!==null}async getAddress(){if(!this.signer)throw new Error("Wallet not connected");return await this.signer.getAddress()}async registerProduct(e,n,r,i,s,o,a){if(!this.contract)throw new Error("Contract not initialized");try{const c=TC(i.toString(),Zv),u=await this.contract.registerProduct(e,n,r,c,s,o,a);return await u.wait(),console.log("Product registered successfully:",u.hash),u.hash}catch(c){throw console.error("Failed to register product:",c),c}}async updateAsDistributor(e,n,r){if(!this.contract)throw new Error("Contract not initialized");try{const i=TC(n.toString(),Zv),s=await this.contract.updateAsDistributor(e,i,r);return await s.wait(),console.log("Product updated by distributor:",s.hash),s.hash}catch(i){throw console.error("Failed to update as distributor:",i),i}}async updateAsRetailer(e,n,r){if(!this.contract)throw new Error("Contract not initialized");try{const i=TC(n.toString(),Zv),s=await this.contract.updateAsRetailer(e,i,r);return await s.wait(),console.log("Product updated by retailer:",s.hash),s.hash}catch(i){throw console.error("Failed to update as retailer:",i),i}}async getProduct(e){if(!this.contract)throw new Error("Contract not initialized");try{const n=await this.contract.getProduct(e);return{id:n[0],name:n[1],quantity:n[2],basePrice:n[3],currentPrice:n[4],harvestDate:n[5],quality:n[6],status:n[7],farmer:n[8],distributor:n[9],retailer:n[10],location:n[11],timestamp:n[12],exists:n[13]}}catch(n){return console.error("Failed to get product:",n),null}}async getProductHistory(e){if(!this.contract)throw new Error("Contract not initialized");try{return(await this.contract.getProductHistory(e)).map(r=>({productId:r[0],actor:r[1],action:r[2],newPrice:r[3],details:r[4],timestamp:r[5],blockNumber:r[6]}))}catch(n){return console.error("Failed to get product history:",n),[]}}async verifyProduct(e){if(!this.contract)throw new Error("Contract not initialized");try{const n=await this.contract.verifyProduct(e);return{verified:n[0],totalSteps:Number(n[1]),actors:n[2],actions:n[3],timestamps:n[4]}}catch(n){return console.error("Failed to verify product:",n),{verified:!1,totalSteps:0,actors:[],actions:[],timestamps:[]}}}async getAllProductIds(){if(!this.contract)throw new Error("Contract not initialized");try{return await this.contract.getAllProductIds()}catch(e){return console.error("Failed to get all product IDs:",e),[]}}async getContractStats(){if(!this.contract)throw new Error("Contract not initialized");try{const e=await this.contract.getContractStats();return{totalProducts:Number(e[0]),totalTransactions:Number(e[1]),totalValue:e[2],activeProducts:Number(e[3])}}catch(e){return console.error("Failed to get contract stats:",e),{totalProducts:0,totalTransactions:0,totalValue:BigInt(0),activeProducts:0}}}onProductRegistered(e){this.contract&&this.contract.on("ProductRegistered",e)}onProductUpdated(e){this.contract&&this.contract.on("ProductUpdated",e)}onSupplyChainStep(e){this.contract&&this.contract.on("SupplyChainStep",e)}}const Bs=new Dke,i0=t=>{let e;return kke==="ETH_WEI"?e=Number(w7(t,18))*Mke:e=Number(w7(t,Zv)),e.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})},Lke=()=>`AGRI-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`;var Vd={},HC,SU;function Bke(){return SU||(SU=1,HC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),HC}var $C={},_u={},TU;function sd(){if(TU)return _u;TU=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return _u.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},_u.getSymbolTotalCodewords=function(r){return e[r]},_u.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},_u.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},_u.isKanjiModeEnabled=function(){return typeof t<"u"},_u.toSJIS=function(r){return t(r)},_u}var GC={},_U;function lk(){return _U||(_U=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(GC)),GC}var WC,CU;function jke(){if(CU)return WC;CU=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},WC=t,WC}var qC,IU;function Fke(){if(IU)return qC;IU=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},qC=t,qC}var KC={},PU;function Uke(){return PU||(PU=1,(function(t){const e=sd().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(KC)),KC}var YC={},NU;function Vke(){if(NU)return YC;NU=1;const t=sd().getSymbolSize,e=7;return YC.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},YC}var XC={},OU;function zke(){return OU||(OU=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,u=null,g=null;for(let m=0;m<s;m++){a=c=0,u=g=null;for(let w=0;w<s;w++){let A=i.get(m,w);A===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=A,a=1),A=i.get(w,m),A===g?c++:(c>=5&&(o+=e.N1+(c-5)),g=A,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const u=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let u=0;u<s;u++){a=c=0;for(let g=0;g<s;g++)a=a<<1&2047|i.get(u,g),g>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(g,u),g>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){s(u),t.applyMask(u,i);const g=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),g<c&&(c=g,a=u)}return a}})(XC)),XC}var Iv={},RU;function cZ(){if(RU)return Iv;RU=1;const t=lk(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Iv.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Iv.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},Iv}var QC={},Tm={},kU;function Hke(){if(kU)return Tm;kU=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Tm.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Tm.exp=function(r){return t[r]},Tm.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},Tm}var MU;function $ke(){return MU||(MU=1,(function(t){const e=Hke();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(QC)),QC}var ZC,DU;function Gke(){if(DU)return ZC;DU=1;const t=$ke();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},ZC=e,ZC}var JC={},eI={},tI={},LU;function uZ(){return LU||(LU=1,tI.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),tI}var gl={},BU;function fZ(){if(BU)return gl;BU=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;gl.KANJI=new RegExp(n,"g"),gl.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),gl.BYTE=new RegExp(r,"g"),gl.NUMERIC=new RegExp(t,"g"),gl.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return gl.testKanji=function(c){return i.test(c)},gl.testNumeric=function(c){return s.test(c)},gl.testAlphanumeric=function(c){return o.test(c)},gl}var jU;function od(){return jU||(jU=1,(function(t){const e=uZ(),n=fZ();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(eI)),eI}var FU;function Wke(){return FU||(FU=1,(function(t){const e=sd(),n=cZ(),r=lk(),i=od(),s=uZ(),o=7973,a=e.getBCHDigit(o);function c(w,A,I){for(let T=1;T<=40;T++)if(A<=t.getCapacity(T,I,w))return T}function u(w,A){return i.getCharCountIndicator(w,A)+4}function g(w,A){let I=0;return w.forEach(function(T){const C=u(T.mode,A);I+=C+T.getBitsLength()}),I}function m(w,A){for(let I=1;I<=40;I++)if(g(w,I)<=t.getCapacity(I,A,i.MIXED))return I}t.from=function(A,I){return s.isValid(A)?parseInt(A,10):I},t.getCapacity=function(A,I,T){if(!s.isValid(A))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=i.BYTE);const C=e.getSymbolTotalCodewords(A),R=n.getTotalCodewordsCount(A,I),B=(C-R)*8;if(T===i.MIXED)return B;const k=B-u(T,A);switch(T){case i.NUMERIC:return Math.floor(k/10*3);case i.ALPHANUMERIC:return Math.floor(k/11*2);case i.KANJI:return Math.floor(k/13);case i.BYTE:default:return Math.floor(k/8)}},t.getBestVersionForData=function(A,I){let T;const C=r.from(I,r.M);if(Array.isArray(A)){if(A.length>1)return m(A,C);if(A.length===0)return 1;T=A[0]}else T=A;return c(T.mode,T.getLength(),C)},t.getEncodedBits=function(A){if(!s.isValid(A)||A<7)throw new Error("Invalid QR Code version");let I=A<<12;for(;e.getBCHDigit(I)-a>=0;)I^=o<<e.getBCHDigit(I)-a;return A<<12|I}})(JC)),JC}var nI={},UU;function qke(){if(UU)return nI;UU=1;const t=sd(),e=1335,n=21522,r=t.getBCHDigit(e);return nI.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(a<<10|c)^n},nI}var rI={},iI,VU;function Kke(){if(VU)return iI;VU=1;const t=od();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},iI=e,iI}var sI,zU;function Yke(){if(zU)return sI;zU=1;const t=od(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},sI=n,sI}var oI,HU;function Xke(){if(HU)return oI;HU=1;const t=od();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},oI=e,oI}var aI,$U;function Qke(){if($U)return aI;$U=1;const t=od(),e=sd();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},aI=n,aI}var lI={exports:{}},GU;function Zke(){return GU||(GU=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,u,g,m,w,A,I,T,C;!a.empty();){c=a.pop(),u=c.value,m=c.cost,w=n[u]||{};for(g in w)w.hasOwnProperty(g)&&(A=w[g],I=m+A,T=o[g],C=typeof o[g]>"u",(C||T>I)&&(o[g]=I,a.push(g,I),s[g]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var R=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(R)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(lI)),lI.exports}var WU;function Jke(){return WU||(WU=1,(function(t){const e=od(),n=Kke(),r=Yke(),i=Xke(),s=Qke(),o=fZ(),a=sd(),c=Zke();function u(R){return unescape(encodeURIComponent(R)).length}function g(R,B,k){const V=[];let D;for(;(D=R.exec(k))!==null;)V.push({data:D[0],index:D.index,mode:B,length:D[0].length});return V}function m(R){const B=g(o.NUMERIC,e.NUMERIC,R),k=g(o.ALPHANUMERIC,e.ALPHANUMERIC,R);let V,D;return a.isKanjiModeEnabled()?(V=g(o.BYTE,e.BYTE,R),D=g(o.KANJI,e.KANJI,R)):(V=g(o.BYTE_KANJI,e.BYTE,R),D=[]),B.concat(k,V,D).sort(function(O,M){return O.index-M.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function w(R,B){switch(B){case e.NUMERIC:return n.getBitsLength(R);case e.ALPHANUMERIC:return r.getBitsLength(R);case e.KANJI:return s.getBitsLength(R);case e.BYTE:return i.getBitsLength(R)}}function A(R){return R.reduce(function(B,k){const V=B.length-1>=0?B[B.length-1]:null;return V&&V.mode===k.mode?(B[B.length-1].data+=k.data,B):(B.push(k),B)},[])}function I(R){const B=[];for(let k=0;k<R.length;k++){const V=R[k];switch(V.mode){case e.NUMERIC:B.push([V,{data:V.data,mode:e.ALPHANUMERIC,length:V.length},{data:V.data,mode:e.BYTE,length:V.length}]);break;case e.ALPHANUMERIC:B.push([V,{data:V.data,mode:e.BYTE,length:V.length}]);break;case e.KANJI:B.push([V,{data:V.data,mode:e.BYTE,length:u(V.data)}]);break;case e.BYTE:B.push([{data:V.data,mode:e.BYTE,length:u(V.data)}])}}return B}function T(R,B){const k={},V={start:{}};let D=["start"];for(let j=0;j<R.length;j++){const O=R[j],M=[];for(let U=0;U<O.length;U++){const K=O[U],q=""+j+U;M.push(q),k[q]={node:K,lastCount:0},V[q]={};for(let G=0;G<D.length;G++){const $=D[G];k[$]&&k[$].node.mode===K.mode?(V[$][q]=w(k[$].lastCount+K.length,K.mode)-w(k[$].lastCount,K.mode),k[$].lastCount+=K.length):(k[$]&&(k[$].lastCount=K.length),V[$][q]=w(K.length,K.mode)+4+e.getCharCountIndicator(K.mode,B))}}D=M}for(let j=0;j<D.length;j++)V[D[j]].end=0;return{map:V,table:k}}function C(R,B){let k;const V=e.getBestModeForData(R);if(k=e.from(B,V),k!==e.BYTE&&k.bit<V.bit)throw new Error('"'+R+'" cannot be encoded with mode '+e.toString(k)+`.
 Suggested mode is: `+e.toString(V));switch(k===e.KANJI&&!a.isKanjiModeEnabled()&&(k=e.BYTE),k){case e.NUMERIC:return new n(R);case e.ALPHANUMERIC:return new r(R);case e.KANJI:return new s(R);case e.BYTE:return new i(R)}}t.fromArray=function(B){return B.reduce(function(k,V){return typeof V=="string"?k.push(C(V,null)):V.data&&k.push(C(V.data,V.mode)),k},[])},t.fromString=function(B,k){const V=m(B,a.isKanjiModeEnabled()),D=I(V),j=T(D,k),O=c.find_path(j.map,"start","end"),M=[];for(let U=1;U<O.length-1;U++)M.push(j.table[O[U]].node);return t.fromArray(A(M))},t.rawSplit=function(B){return t.fromArray(m(B,a.isKanjiModeEnabled()))}})(rI)),rI}var qU;function eMe(){if(qU)return $C;qU=1;const t=sd(),e=lk(),n=jke(),r=Fke(),i=Uke(),s=Vke(),o=zke(),a=cZ(),c=Gke(),u=Wke(),g=qke(),m=od(),w=Jke();function A(j,O){const M=j.size,U=s.getPositions(O);for(let K=0;K<U.length;K++){const q=U[K][0],G=U[K][1];for(let $=-1;$<=7;$++)if(!(q+$<=-1||M<=q+$))for(let ce=-1;ce<=7;ce++)G+ce<=-1||M<=G+ce||($>=0&&$<=6&&(ce===0||ce===6)||ce>=0&&ce<=6&&($===0||$===6)||$>=2&&$<=4&&ce>=2&&ce<=4?j.set(q+$,G+ce,!0,!0):j.set(q+$,G+ce,!1,!0))}}function I(j){const O=j.size;for(let M=8;M<O-8;M++){const U=M%2===0;j.set(M,6,U,!0),j.set(6,M,U,!0)}}function T(j,O){const M=i.getPositions(O);for(let U=0;U<M.length;U++){const K=M[U][0],q=M[U][1];for(let G=-2;G<=2;G++)for(let $=-2;$<=2;$++)G===-2||G===2||$===-2||$===2||G===0&&$===0?j.set(K+G,q+$,!0,!0):j.set(K+G,q+$,!1,!0)}}function C(j,O){const M=j.size,U=u.getEncodedBits(O);let K,q,G;for(let $=0;$<18;$++)K=Math.floor($/3),q=$%3+M-8-3,G=(U>>$&1)===1,j.set(K,q,G,!0),j.set(q,K,G,!0)}function R(j,O,M){const U=j.size,K=g.getEncodedBits(O,M);let q,G;for(q=0;q<15;q++)G=(K>>q&1)===1,q<6?j.set(q,8,G,!0):q<8?j.set(q+1,8,G,!0):j.set(U-15+q,8,G,!0),q<8?j.set(8,U-q-1,G,!0):q<9?j.set(8,15-q-1+1,G,!0):j.set(8,15-q-1,G,!0);j.set(U-8,8,1,!0)}function B(j,O){const M=j.size;let U=-1,K=M-1,q=7,G=0;for(let $=M-1;$>0;$-=2)for($===6&&$--;;){for(let ce=0;ce<2;ce++)if(!j.isReserved(K,$-ce)){let J=!1;G<O.length&&(J=(O[G]>>>q&1)===1),j.set(K,$-ce,J),q--,q===-1&&(G++,q=7)}if(K+=U,K<0||M<=K){K-=U,U=-U;break}}}function k(j,O,M){const U=new n;M.forEach(function(ce){U.put(ce.mode.bit,4),U.put(ce.getLength(),m.getCharCountIndicator(ce.mode,j)),ce.write(U)});const K=t.getSymbolTotalCodewords(j),q=a.getTotalCodewordsCount(j,O),G=(K-q)*8;for(U.getLengthInBits()+4<=G&&U.put(0,4);U.getLengthInBits()%8!==0;)U.putBit(0);const $=(G-U.getLengthInBits())/8;for(let ce=0;ce<$;ce++)U.put(ce%2?17:236,8);return V(U,j,O)}function V(j,O,M){const U=t.getSymbolTotalCodewords(O),K=a.getTotalCodewordsCount(O,M),q=U-K,G=a.getBlocksCount(O,M),$=U%G,ce=G-$,J=Math.floor(U/G),oe=Math.floor(q/G),ae=oe+1,re=J-oe,pe=new c(re);let we=0;const ue=new Array(G),he=new Array(G);let xe=0;const Re=new Uint8Array(j.buffer);for(let Pe=0;Pe<G;Pe++){const je=Pe<ce?oe:ae;ue[Pe]=Re.slice(we,we+je),he[Pe]=pe.encode(ue[Pe]),we+=je,xe=Math.max(xe,je)}const Ue=new Uint8Array(U);let Me=0,ke,De;for(ke=0;ke<xe;ke++)for(De=0;De<G;De++)ke<ue[De].length&&(Ue[Me++]=ue[De][ke]);for(ke=0;ke<re;ke++)for(De=0;De<G;De++)Ue[Me++]=he[De][ke];return Ue}function D(j,O,M,U){let K;if(Array.isArray(j))K=w.fromArray(j);else if(typeof j=="string"){let J=O;if(!J){const oe=w.rawSplit(j);J=u.getBestVersionForData(oe,M)}K=w.fromString(j,J||40)}else throw new Error("Invalid data");const q=u.getBestVersionForData(K,M);if(!q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!O)O=q;else if(O<q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+q+`.
`);const G=k(O,M,K),$=t.getSymbolSize(O),ce=new r($);return A(ce,O),I(ce),T(ce,O),R(ce,M,0),O>=7&&C(ce,O),B(ce,G),isNaN(U)&&(U=o.getBestMask(ce,R.bind(null,ce,M))),o.applyMask(U,ce),R(ce,M,U),{modules:ce,version:O,errorCorrectionLevel:M,maskPattern:U,segments:K}}return $C.create=function(O,M){if(typeof O>"u"||O==="")throw new Error("No input text");let U=e.M,K,q;return typeof M<"u"&&(U=e.from(M.errorCorrectionLevel,e.M),K=u.from(M.version),q=o.from(M.maskPattern),M.toSJISFunc&&t.setToSJISFunction(M.toSJISFunc)),D(O,K,U,q)},$C}var cI={},uI={},KU;function hZ(){return KU||(KU=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),u=Math.floor((o+s.margin*2)*c),g=s.margin*c,m=[s.color.light,s.color.dark];for(let w=0;w<u;w++)for(let A=0;A<u;A++){let I=(w*u+A)*4,T=s.color.light;if(w>=g&&A>=g&&w<u-g&&A<u-g){const C=Math.floor((w-g)/c),R=Math.floor((A-g)/c);T=m[a[C*o+R]?1:0]}r[I++]=T.r,r[I++]=T.g,r[I++]=T.b,r[I]=T.a}}})(uI)),uI}var YU;function tMe(){return YU||(YU=1,(function(t){const e=hZ();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=e.getOptions(c);const g=e.getImageWidth(s.modules.size,c),m=u.getContext("2d"),w=m.createImageData(g,g);return e.qrToImageData(w.data,s,c),n(m,u,g),m.putImageData(w,0,0),u},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(s,o,c),g=c.type||"image/png",m=c.rendererOpts||{};return u.toDataURL(g,m.quality)}})(cI)),cI}var fI={},XU;function nMe(){if(XU)return fI;XU=1;const t=hZ();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function n(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function r(i,s,o){let a="",c=0,u=!1,g=0;for(let m=0;m<i.length;m++){const w=Math.floor(m%s),A=Math.floor(m/s);!w&&!u&&(u=!0),i[m]?(g++,m>0&&w>0&&i[m-1]||(a+=u?n("M",w+o,.5+A+o):n("m",c,0),c=0,u=!1),w+1<s&&i[m+1]||(a+=n("h",g),g=0)):c++}return a}return fI.render=function(s,o,a){const c=t.getOptions(o),u=s.modules.size,g=s.modules.data,m=u+c.margin*2,w=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",A="<path "+e(c.color.dark,"stroke")+' d="'+r(g,u,c.margin)+'"/>',I='viewBox="0 0 '+m+" "+m+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+I+' shape-rendering="crispEdges">'+w+A+`</svg>
`;return typeof a=="function"&&a(null,C),C},fI}var QU;function rMe(){if(QU)return Vd;QU=1;const t=Bke(),e=eMe(),n=tMe(),r=nMe();function i(s,o,a,c,u){const g=[].slice.call(arguments,1),m=g.length,w=typeof g[m-1]=="function";if(!w&&!t())throw new Error("Callback required as last argument");if(w){if(m<2)throw new Error("Too few arguments provided");m===2?(u=a,a=o,o=c=void 0):m===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=a,a=o,o=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(a=o,o=c=void 0):m===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(A,I){try{const T=e.create(a,c);A(s(T,o,c))}catch(T){I(T)}})}try{const A=e.create(a,c);u(null,s(A,o,c))}catch(A){u(A)}}return Vd.create=e.create,Vd.toCanvas=i.bind(null,n.render),Vd.toDataURL=i.bind(null,n.renderToDataURL),Vd.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),Vd}var iMe=rMe();const ZU=On(iMe);var at;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var JU=new Map([[at.QR_CODE,"QR_CODE"],[at.AZTEC,"AZTEC"],[at.CODABAR,"CODABAR"],[at.CODE_39,"CODE_39"],[at.CODE_93,"CODE_93"],[at.CODE_128,"CODE_128"],[at.DATA_MATRIX,"DATA_MATRIX"],[at.MAXICODE,"MAXICODE"],[at.ITF,"ITF"],[at.EAN_13,"EAN_13"],[at.EAN_8,"EAN_8"],[at.PDF_417,"PDF_417"],[at.RSS_14,"RSS_14"],[at.RSS_EXPANDED,"RSS_EXPANDED"],[at.UPC_A,"UPC_A"],[at.UPC_E,"UPC_E"],[at.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),eV;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(eV||(eV={}));function sMe(t){return Object.values(at).includes(t)}var cf;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cf||(cf={}));var Va=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[cf.SCAN_TYPE_CAMERA,cf.SCAN_TYPE_FILE],t})(),dZ=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!JU.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,JU.get(e))},t})(),tV=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),tO;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(tO||(tO={}));var pZ=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:tO.UNKWOWN_ERROR}},t})(),gZ=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function yl(t){return typeof t>"u"||t===null}function oMe(t,e,n){return t>n?n:t<e?e:t}var np=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),Kn=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),nV=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),mZ=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(e),a=0,c=o;a<c.length;a++){var u=c[a];if(s.has(u))return n.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},t})(),Fm={exports:{}},aMe=Fm.exports,rV;function lMe(){return rV||(rV=1,(function(t,e){(function(n,r){r(e)})(aMe,(function(n){function r(Q){return Q==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,l){Q.__proto__=l}||function(Q,l){for(var h in l)l.hasOwnProperty(h)&&(Q[h]=l[h])};function s(Q,l){i(Q,l);function h(){this.constructor=Q}Q.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}function o(Q,l){var h=Object.setPrototypeOf;h?h(Q,l):Q.__proto__=l}function a(Q,l){l===void 0&&(l=Q.constructor);var h=Error.captureStackTrace;h&&h(Q,l)}var c=(function(Q){s(l,Q);function l(h){var d=this.constructor,y=Q.call(this,h)||this;return Object.defineProperty(y,"name",{value:d.name,enumerable:!1}),o(y,d.prototype),a(y),y}return l})(Error);class u extends c{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}u.kind="Exception";class g extends u{}g.kind="ArgumentException";class m extends u{}m.kind="IllegalArgumentException";class w{constructor(l){if(this.binarizer=l,l===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,h){return this.binarizer.getBlackRow(l,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,h,d,y){const v=this.binarizer.getLuminanceSource().crop(l,h,d,y);return new w(this.binarizer.createBinarizer(v))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends u{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class I{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(l,h,d,y,v){for(;v--;)d[y++]=l[h++]}static currentTimeMillis(){return Date.now()}}class C extends u{}C.kind="IndexOutOfBoundsException";class R extends C{constructor(l=void 0,h=void 0){super(h),this.index=l,this.message=h}}R.kind="ArrayIndexOutOfBoundsException";class B{static fill(l,h){for(let d=0,y=l.length;d<y;d++)l[d]=h}static fillWithin(l,h,d,y){B.rangeCheck(l.length,h,d);for(let v=h;v<d;v++)l[v]=y}static rangeCheck(l,h,d){if(h>d)throw new m("fromIndex("+h+") > toIndex("+d+")");if(h<0)throw new R(h);if(d>l)throw new R(d)}static asList(...l){return l}static create(l,h,d){return Array.from({length:l}).map(v=>Array.from({length:h}).fill(d))}static createInt32Array(l,h,d){return Array.from({length:l}).map(v=>Int32Array.from({length:h}).fill(d))}static equals(l,h){if(!l||!h||!l.length||!h.length||l.length!==h.length)return!1;for(let d=0,y=l.length;d<y;d++)if(l[d]!==h[d])return!1;return!0}static hashCode(l){if(l===null)return 0;let h=1;for(const d of l)h=31*h+d;return h}static fillUint8Array(l,h){for(let d=0;d!==l.length;d++)l[d]=h}static copyOf(l,h){return l.slice(0,h)}static copyOfUint8Array(l,h){if(l.length<=h){const d=new Uint8Array(h);return d.set(l),d}return l.slice(0,h)}static copyOfRange(l,h,d){const y=d-h,v=new Int32Array(y);return T.arraycopy(l,h,v,0,y),v}static binarySearch(l,h,d){d===void 0&&(d=B.numberComparator);let y=0,v=l.length-1;for(;y<=v;){const x=v+y>>1,E=d(h,l[x]);if(E>0)y=x+1;else if(E<0)v=x-1;else return x}return-y-1}static numberComparator(l,h){return l-h}}class k{static numberOfTrailingZeros(l){let h;if(l===0)return 32;let d=31;return h=l<<16,h!==0&&(d-=16,l=h),h=l<<8,h!==0&&(d-=8,l=h),h=l<<4,h!==0&&(d-=4,l=h),h=l<<2,h!==0&&(d-=2,l=h),d-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let h=1;return l>>>16||(h+=16,l<<=16),l>>>24||(h+=8,l<<=8),l>>>28||(h+=4,l<<=4),l>>>30||(h+=2,l<<=2),h-=l>>>31,h}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,h){return Math.trunc(l/h)}static parseInt(l,h=void 0){return parseInt(l,h)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(l,h){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,h==null?this.bits=V.makeArray(l):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const h=V.makeArray(l);T.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const h=this.size;if(l>=h)return h;const d=this.bits;let y=Math.floor(l/32),v=d[y];v&=~((1<<(l&31))-1);const x=d.length;for(;v===0;){if(++y===x)return h;v=d[y]}const E=y*32+k.numberOfTrailingZeros(v);return E>h?h:E}getNextUnset(l){const h=this.size;if(l>=h)return h;const d=this.bits;let y=Math.floor(l/32),v=~d[y];v&=~((1<<(l&31))-1);const x=d.length;for(;v===0;){if(++y===x)return h;v=~d[y]}const E=y*32+k.numberOfTrailingZeros(v);return E>h?h:E}setBulk(l,h){this.bits[Math.floor(l/32)]=h}setRange(l,h){if(h<l||l<0||h>this.size)throw new m;if(h===l)return;h--;const d=Math.floor(l/32),y=Math.floor(h/32),v=this.bits;for(let x=d;x<=y;x++){const E=x>d?0:l&31,L=(2<<(x<y?31:h&31))-(1<<E);v[x]|=L}}clear(){const l=this.bits.length,h=this.bits;for(let d=0;d<l;d++)h[d]=0}isRange(l,h,d){if(h<l||l<0||h>this.size)throw new m;if(h===l)return!0;h--;const y=Math.floor(l/32),v=Math.floor(h/32),x=this.bits;for(let E=y;E<=v;E++){const N=E>y?0:l&31,W=(2<<(E<v?31:h&31))-(1<<N)&4294967295;if((x[E]&W)!==(d?W:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,h){if(h<0||h>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let d=h;d>0;d--)this.appendBit((l>>d-1&1)===1)}appendBitArray(l){const h=l.size;this.ensureCapacity(this.size+h);for(let d=0;d<h;d++)this.appendBit(l.get(d))}xor(l){if(this.size!==l.size)throw new m("Sizes don't match");const h=this.bits;for(let d=0,y=h.length;d<y;d++)h[d]^=l.bits[d]}toBytes(l,h,d,y){for(let v=0;v<y;v++){let x=0;for(let E=0;E<8;E++)this.get(l)&&(x|=1<<7-E),l++;h[d+v]=x}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),d=h+1,y=this.bits;for(let v=0;v<d;v++){let x=y[v];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,l[h-v]=x}if(this.size!==d*32){const v=d*32-this.size;let x=l[0]>>>v;for(let E=1;E<d;E++){const N=l[E];x|=N<<32-v,l[E-1]=x,x=N>>>v}l[d-1]=x}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof V))return!1;const h=l;return this.size===h.size&&B.equals(this.bits,h.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let l="";for(let h=0,d=this.size;h<d;h++)(h&7)===0&&(l+=" "),l+=this.get(h)?"X":".";return l}clone(){return new V(this.size,this.bits.slice())}}var D;(function(Q){Q[Q.OTHER=0]="OTHER",Q[Q.PURE_BARCODE=1]="PURE_BARCODE",Q[Q.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Q[Q.TRY_HARDER=3]="TRY_HARDER",Q[Q.CHARACTER_SET=4]="CHARACTER_SET",Q[Q.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Q[Q.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Q[Q.ASSUME_GS1=7]="ASSUME_GS1",Q[Q.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Q[Q.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Q[Q.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(D||(D={}));var j=D;class O extends u{static getFormatInstance(){return new O}}O.kind="FormatException";var M;(function(Q){Q[Q.Cp437=0]="Cp437",Q[Q.ISO8859_1=1]="ISO8859_1",Q[Q.ISO8859_2=2]="ISO8859_2",Q[Q.ISO8859_3=3]="ISO8859_3",Q[Q.ISO8859_4=4]="ISO8859_4",Q[Q.ISO8859_5=5]="ISO8859_5",Q[Q.ISO8859_6=6]="ISO8859_6",Q[Q.ISO8859_7=7]="ISO8859_7",Q[Q.ISO8859_8=8]="ISO8859_8",Q[Q.ISO8859_9=9]="ISO8859_9",Q[Q.ISO8859_10=10]="ISO8859_10",Q[Q.ISO8859_11=11]="ISO8859_11",Q[Q.ISO8859_13=12]="ISO8859_13",Q[Q.ISO8859_14=13]="ISO8859_14",Q[Q.ISO8859_15=14]="ISO8859_15",Q[Q.ISO8859_16=15]="ISO8859_16",Q[Q.SJIS=16]="SJIS",Q[Q.Cp1250=17]="Cp1250",Q[Q.Cp1251=18]="Cp1251",Q[Q.Cp1252=19]="Cp1252",Q[Q.Cp1256=20]="Cp1256",Q[Q.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Q[Q.UTF8=22]="UTF8",Q[Q.ASCII=23]="ASCII",Q[Q.Big5=24]="Big5",Q[Q.GB18030=25]="GB18030",Q[Q.EUC_KR=26]="EUC_KR"})(M||(M={}));class U{constructor(l,h,d,...y){this.valueIdentifier=l,this.name=d,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=y,U.VALUE_IDENTIFIER_TO_ECI.set(l,this),U.NAME_TO_ECI.set(d,this);const v=this.values;for(let x=0,E=v.length;x!==E;x++){const N=v[x];U.VALUES_TO_ECI.set(N,this)}for(const x of y)U.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new O("incorect value");const h=U.VALUES_TO_ECI.get(l);if(h===void 0)throw new O("incorect value");return h}static getCharacterSetECIByName(l){const h=U.NAME_TO_ECI.get(l);if(h===void 0)throw new O("incorect value");return h}equals(l){if(!(l instanceof U))return!1;const h=l;return this.getName()===h.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(M.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(M.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(M.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(M.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(M.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(M.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(M.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(M.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(M.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(M.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(M.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(M.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(M.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(M.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(M.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(M.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(M.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(M.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(M.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(M.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(M.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(M.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(M.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(M.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(M.Big5,28,"Big5"),U.GB18030=new U(M.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(M.EUC_KR,30,"EUC_KR","EUC-KR");class K extends u{}K.kind="UnsupportedOperationException";class q{static decode(l,h){const d=this.encodingName(h);return this.customDecoder?this.customDecoder(l,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(l,d):new TextDecoder(d).decode(l)}static shouldDecodeOnFallback(l){return!q.isBrowser()&&l==="ISO-8859-1"}static encode(l,h){const d=this.encodingName(h);return this.customEncoder?this.customEncoder(l,d):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof U?l:U.getCharacterSetECIByName(l)}static decodeFallback(l,h){const d=this.encodingCharacterSet(h);if(q.isDecodeFallbackSupported(d)){let y="";for(let v=0,x=l.length;v<x;v++){let E=l[v].toString(16);E.length<2&&(E="0"+E),y+="%"+E}return decodeURIComponent(y)}if(d.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new K(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(U.UTF8)||l.equals(U.ISO8859_1)||l.equals(U.ASCII)}static encodeFallback(l){const d=btoa(unescape(encodeURIComponent(l))).split(""),y=[];for(let v=0;v<d.length;v++)y.push(d[v].charCodeAt(0));return new Uint8Array(y)}}class G{static castAsNonUtf8Char(l,h=null){const d=h?h.getName():this.ISO88591;return q.decode(new Uint8Array([l]),d)}static guessEncoding(l,h){if(h!=null&&h.get(j.CHARACTER_SET)!==void 0)return h.get(j.CHARACTER_SET).toString();const d=l.length;let y=!0,v=!0,x=!0,E=0,N=0,L=0,W=0,Z=0,te=0,le=0,de=0,me=0,be=0,Ie=0;const Ke=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let Ye=0;Ye<d&&(y||v||x);Ye++){const He=l[Ye]&255;x&&(E>0?(He&128)===0?x=!1:E--:(He&128)!==0&&((He&64)===0?x=!1:(E++,(He&32)===0?N++:(E++,(He&16)===0?L++:(E++,(He&8)===0?W++:x=!1))))),y&&(He>127&&He<160?y=!1:He>159&&(He<192||He===215||He===247)&&Ie++),v&&(Z>0?He<64||He===127||He>252?v=!1:Z--:He===128||He===160||He>239?v=!1:He>160&&He<224?(te++,de=0,le++,le>me&&(me=le)):He>127?(Z++,le=0,de++,de>be&&(be=de)):(le=0,de=0))}return x&&E>0&&(x=!1),v&&Z>0&&(v=!1),x&&(Ke||N+L+W>0)?G.UTF8:v&&(G.ASSUME_SHIFT_JIS||me>=3||be>=3)?G.SHIFT_JIS:y&&v?me===2&&te===2||Ie*10>=d?G.SHIFT_JIS:G.ISO88591:y?G.ISO88591:v?G.SHIFT_JIS:x?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(l,...h){let d=-1;function y(x,E,N,L,W,Z){if(x==="%%")return"%";if(h[++d]===void 0)return;x=L?parseInt(L.substr(1)):void 0;let te=W?parseInt(W.substr(1)):void 0,le;switch(Z){case"s":le=h[d];break;case"c":le=h[d][0];break;case"f":le=parseFloat(h[d]).toFixed(x);break;case"p":le=parseFloat(h[d]).toPrecision(x);break;case"e":le=parseFloat(h[d]).toExponential(x);break;case"x":le=parseInt(h[d]).toString(te||16);break;case"d":le=parseFloat(parseInt(h[d],te||10).toPrecision(x)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(te);let de=parseInt(N),me=N&&N[0]+""=="0"?"0":" ";for(;le.length<de;)le=E!==void 0?le+me:me+le;return le}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(v,y)}static getBytes(l,h){return q.encode(l,h)}static getCharCode(l,h=0){return l.charCodeAt(h)}static getCharAt(l){return String.fromCharCode(l)}}G.SHIFT_JIS=U.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=U.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=U.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class ${constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=G.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,h,d){for(let y=h;h<h+d;y++)this.append(l[y]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+1)}substring(l,h){return this.value.substring(l,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+h.length)}}class ce{constructor(l,h,d,y){if(this.width=l,this.height=h,this.rowSize=d,this.bits=y,h==null&&(h=l),this.height=h,l<1||h<1)throw new m("Both dimensions must be greater than 0");d==null&&(d=Math.floor((l+31)/32)),this.rowSize=d,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const h=l.length,d=l[0].length,y=new ce(d,h);for(let v=0;v<h;v++){const x=l[v];for(let E=0;E<d;E++)x[E]&&y.set(E,v)}return y}static parseFromString(l,h,d){if(l===null)throw new m("stringRepresentation cannot be null");const y=new Array(l.length);let v=0,x=0,E=-1,N=0,L=0;for(;L<l.length;)if(l.charAt(L)===`
`||l.charAt(L)==="\r"){if(v>x){if(E===-1)E=v-x;else if(v-x!==E)throw new m("row lengths do not match");x=v,N++}L++}else if(l.substring(L,L+h.length)===h)L+=h.length,y[v]=!0,v++;else if(l.substring(L,L+d.length)===d)L+=d.length,y[v]=!1,v++;else throw new m("illegal character encountered: "+l.substring(L));if(v>x){if(E===-1)E=v-x;else if(v-x!==E)throw new m("row lengths do not match");N++}const W=new ce(E,N);for(let Z=0;Z<v;Z++)y[Z]&&W.set(Math.floor(Z%E),Math.floor(Z/E));return W}get(l,h){const d=h*this.rowSize+Math.floor(l/32);return(this.bits[d]>>>(l&31)&1)!==0}set(l,h){const d=h*this.rowSize+Math.floor(l/32);this.bits[d]|=1<<(l&31)&4294967295}unset(l,h){const d=h*this.rowSize+Math.floor(l/32);this.bits[d]&=~(1<<(l&31)&4294967295)}flip(l,h){const d=h*this.rowSize+Math.floor(l/32);this.bits[d]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new m("input matrix dimensions do not match");const h=new V(Math.floor(this.width/32)+1),d=this.rowSize,y=this.bits;for(let v=0,x=this.height;v<x;v++){const E=v*d,N=l.getRow(v,h).getBitArray();for(let L=0;L<d;L++)y[E+L]^=N[L]}}clear(){const l=this.bits,h=l.length;for(let d=0;d<h;d++)l[d]=0}setRegion(l,h,d,y){if(h<0||l<0)throw new m("Left and top must be nonnegative");if(y<1||d<1)throw new m("Height and width must be at least 1");const v=l+d,x=h+y;if(x>this.height||v>this.width)throw new m("The region must fit inside the matrix");const E=this.rowSize,N=this.bits;for(let L=h;L<x;L++){const W=L*E;for(let Z=l;Z<v;Z++)N[W+Math.floor(Z/32)]|=1<<(Z&31)&4294967295}}getRow(l,h){h==null||h.getSize()<this.width?h=new V(this.width):h.clear();const d=this.rowSize,y=this.bits,v=l*d;for(let x=0;x<d;x++)h.setBulk(x*32,y[v+x]);return h}setRow(l,h){T.arraycopy(h.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),h=this.getHeight();let d=new V(l),y=new V(l);for(let v=0,x=Math.floor((h+1)/2);v<x;v++)d=this.getRow(v,d),y=this.getRow(h-1-v,y),d.reverse(),y.reverse(),this.setRow(v,y),this.setRow(h-1-v,d)}getEnclosingRectangle(){const l=this.width,h=this.height,d=this.rowSize,y=this.bits;let v=l,x=h,E=-1,N=-1;for(let L=0;L<h;L++)for(let W=0;W<d;W++){const Z=y[L*d+W];if(Z!==0){if(L<x&&(x=L),L>N&&(N=L),W*32<v){let te=0;for(;(Z<<31-te&4294967295)===0;)te++;W*32+te<v&&(v=W*32+te)}if(W*32+31>E){let te=31;for(;!(Z>>>te);)te--;W*32+te>E&&(E=W*32+te)}}}return E<v||N<x?null:Int32Array.from([v,x,E-v+1,N-x+1])}getTopLeftOnBit(){const l=this.rowSize,h=this.bits;let d=0;for(;d<h.length&&h[d]===0;)d++;if(d===h.length)return null;const y=d/l;let v=d%l*32;const x=h[d];let E=0;for(;(x<<31-E&4294967295)===0;)E++;return v+=E,Int32Array.from([v,y])}getBottomRightOnBit(){const l=this.rowSize,h=this.bits;let d=h.length-1;for(;d>=0&&h[d]===0;)d--;if(d<0)return null;const y=Math.floor(d/l);let v=Math.floor(d%l)*32;const x=h[d];let E=31;for(;!(x>>>E);)E--;return v+=E,Int32Array.from([v,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ce))return!1;const h=l;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&B.equals(this.bits,h.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+B.hashCode(this.bits),l}toString(l="X ",h="  ",d=`
`){return this.buildToString(l,h,d)}buildToString(l,h,d){let y=new $;for(let v=0,x=this.height;v<x;v++){for(let E=0,N=this.width;E<N;E++)y.append(this.get(E,v)?l:h);y.append(d)}return y.toString()}clone(){return new ce(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends u{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class oe extends I{constructor(l){super(l),this.luminances=oe.EMPTY,this.buckets=new Int32Array(oe.LUMINANCE_BUCKETS)}getBlackRow(l,h){const d=this.getLuminanceSource(),y=d.getWidth();h==null||h.getSize()<y?h=new V(y):h.clear(),this.initArrays(y);const v=d.getRow(l,this.luminances),x=this.buckets;for(let N=0;N<y;N++)x[(v[N]&255)>>oe.LUMINANCE_SHIFT]++;const E=oe.estimateBlackPoint(x);if(y<3)for(let N=0;N<y;N++)(v[N]&255)<E&&h.set(N);else{let N=v[0]&255,L=v[1]&255;for(let W=1;W<y-1;W++){const Z=v[W+1]&255;(L*4-N-Z)/2<E&&h.set(W),N=L,L=Z}}return h}getBlackMatrix(){const l=this.getLuminanceSource(),h=l.getWidth(),d=l.getHeight(),y=new ce(h,d);this.initArrays(h);const v=this.buckets;for(let N=1;N<5;N++){const L=Math.floor(d*N/5),W=l.getRow(L,this.luminances),Z=Math.floor(h*4/5);for(let te=Math.floor(h/5);te<Z;te++){const le=W[te]&255;v[le>>oe.LUMINANCE_SHIFT]++}}const x=oe.estimateBlackPoint(v),E=l.getMatrix();for(let N=0;N<d;N++){const L=N*h;for(let W=0;W<h;W++)(E[L+W]&255)<x&&y.set(W,N)}return y}createBinarizer(l){return new oe(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const h=this.buckets;for(let d=0;d<oe.LUMINANCE_BUCKETS;d++)h[d]=0}static estimateBlackPoint(l){const h=l.length;let d=0,y=0,v=0;for(let W=0;W<h;W++)l[W]>v&&(y=W,v=l[W]),l[W]>d&&(d=l[W]);let x=0,E=0;for(let W=0;W<h;W++){const Z=W-y,te=l[W]*Z*Z;te>E&&(x=W,E=te)}if(y>x){const W=y;y=x,x=W}if(x-y<=h/16)throw new J;let N=x-1,L=-1;for(let W=x-1;W>y;W--){const Z=W-y,te=Z*Z*(x-W)*(d-l[W]);te>L&&(N=W,L=te)}return N<<oe.LUMINANCE_SHIFT}}oe.LUMINANCE_BITS=5,oe.LUMINANCE_SHIFT=8-oe.LUMINANCE_BITS,oe.LUMINANCE_BUCKETS=1<<oe.LUMINANCE_BITS,oe.EMPTY=Uint8ClampedArray.from([0]);class ae extends oe{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),h=l.getWidth(),d=l.getHeight();if(h>=ae.MINIMUM_DIMENSION&&d>=ae.MINIMUM_DIMENSION){const y=l.getMatrix();let v=h>>ae.BLOCK_SIZE_POWER;(h&ae.BLOCK_SIZE_MASK)!==0&&v++;let x=d>>ae.BLOCK_SIZE_POWER;(d&ae.BLOCK_SIZE_MASK)!==0&&x++;const E=ae.calculateBlackPoints(y,v,x,h,d),N=new ce(h,d);ae.calculateThresholdForBlock(y,v,x,h,d,E,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new ae(l)}static calculateThresholdForBlock(l,h,d,y,v,x,E){const N=v-ae.BLOCK_SIZE,L=y-ae.BLOCK_SIZE;for(let W=0;W<d;W++){let Z=W<<ae.BLOCK_SIZE_POWER;Z>N&&(Z=N);const te=ae.cap(W,2,d-3);for(let le=0;le<h;le++){let de=le<<ae.BLOCK_SIZE_POWER;de>L&&(de=L);const me=ae.cap(le,2,h-3);let be=0;for(let Ke=-2;Ke<=2;Ke++){const Ye=x[te+Ke];be+=Ye[me-2]+Ye[me-1]+Ye[me]+Ye[me+1]+Ye[me+2]}const Ie=be/25;ae.thresholdBlock(l,de,Z,Ie,y,E)}}}static cap(l,h,d){return l<h?h:l>d?d:l}static thresholdBlock(l,h,d,y,v,x){for(let E=0,N=d*v+h;E<ae.BLOCK_SIZE;E++,N+=v)for(let L=0;L<ae.BLOCK_SIZE;L++)(l[N+L]&255)<=y&&x.set(h+L,d+E)}static calculateBlackPoints(l,h,d,y,v){const x=v-ae.BLOCK_SIZE,E=y-ae.BLOCK_SIZE,N=new Array(d);for(let L=0;L<d;L++){N[L]=new Int32Array(h);let W=L<<ae.BLOCK_SIZE_POWER;W>x&&(W=x);for(let Z=0;Z<h;Z++){let te=Z<<ae.BLOCK_SIZE_POWER;te>E&&(te=E);let le=0,de=255,me=0;for(let Ie=0,Ke=W*y+te;Ie<ae.BLOCK_SIZE;Ie++,Ke+=y){for(let Ye=0;Ye<ae.BLOCK_SIZE;Ye++){const He=l[Ke+Ye]&255;le+=He,He<de&&(de=He),He>me&&(me=He)}if(me-de>ae.MIN_DYNAMIC_RANGE)for(Ie++,Ke+=y;Ie<ae.BLOCK_SIZE;Ie++,Ke+=y)for(let Ye=0;Ye<ae.BLOCK_SIZE;Ye++)le+=l[Ke+Ye]&255}let be=le>>ae.BLOCK_SIZE_POWER*2;if(me-de<=ae.MIN_DYNAMIC_RANGE&&(be=de/2,L>0&&Z>0)){const Ie=(N[L-1][Z]+2*N[L][Z-1]+N[L-1][Z-1])/4;de<Ie&&(be=Ie)}N[L][Z]=be}}return N}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class re{constructor(l,h){this.width=l,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,h,d,y){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let h=new $;for(let d=0;d<this.height;d++){const y=this.getRow(d,l);for(let v=0;v<this.width;v++){const x=y[v]&255;let E;x<64?E="#":x<128?E="+":x<192?E=".":E=" ",h.append(E)}h.append(`
`)}return h.toString()}}class pe extends re{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,h){const d=this.delegate.getRow(l,h),y=this.getWidth();for(let v=0;v<y;v++)d[v]=255-(d[v]&255);return d}getMatrix(){const l=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(h);for(let y=0;y<h;y++)d[y]=255-(l[y]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(l,h,d,y){return new pe(this.delegate.crop(l,h,d,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new pe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new pe(this.delegate.rotateCounterClockwise45())}}class we extends re{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const h=l.getContext("2d").getImageData(0,0,l.width,l.height);return we.toGrayscaleBuffer(h.data,l.width,l.height)}static toGrayscaleBuffer(l,h,d){const y=new Uint8ClampedArray(h*d);for(let v=0,x=0,E=l.length;v<E;v+=4,x++){let N;if(l[v+3]===0)N=255;else{const W=l[v],Z=l[v+1],te=l[v+2];N=306*W+601*Z+117*te+512>>10}y[x]=N}return y}getRow(l,h){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const d=this.getWidth(),y=l*d;return h===null?h=this.buffer.slice(y,y+d):(h.length<d&&(h=new Uint8ClampedArray(d)),h.set(this.buffer.slice(y,y+d))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,h,d,y){return super.crop(l,h,d,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const h=this.getTempCanvasElement(),d=h.getContext("2d"),y=l*we.DEGREE_TO_RADIANS,v=this.canvas.width,x=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(y))*v+Math.abs(Math.sin(y))*x),N=Math.ceil(Math.abs(Math.sin(y))*v+Math.abs(Math.cos(y))*x);return h.width=E,h.height=N,d.translate(E/2,N/2),d.rotate(y),d.drawImage(this.canvas,v/-2,x/-2),this.buffer=we.makeBufferFromCanvasImageData(h),this}invert(){return new pe(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(l,h,d){this.deviceId=l,this.label=h,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var he=(globalThis||ju||self||window||void 0)&&(globalThis||ju||self||window||void 0).__awaiter||function(Q,l,h,d){function y(v){return v instanceof h?v:new h(function(x){x(v)})}return new(h||(h=Promise))(function(v,x){function E(W){try{L(d.next(W))}catch(Z){x(Z)}}function N(W){try{L(d.throw(W))}catch(Z){x(Z)}}function L(W){W.done?v(W.value):y(W.value).then(E,N)}L((d=d.apply(Q,l||[])).next())})};class xe{constructor(l,h=500,d){this.reader=l,this.timeBetweenScansMillis=h,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return he(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const d of l){const y=d.kind==="video"?"videoinput":d.kind;if(y!=="videoinput")continue;const v=d.deviceId||d.id,x=d.label||`Video device ${h.length+1}`,E=d.groupId,N={deviceId:v,label:x,kind:y,groupId:E};h.push(N)}return h})}getVideoInputDevices(){return he(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new ue(h.deviceId,h.label))})}findDeviceById(l){return he(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(d=>d.deviceId===l):null})}decodeFromInputVideoDevice(l,h){return he(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,h)})}decodeOnceFromVideoDevice(l,h){return he(this,void 0,void 0,function*(){this.reset();let d;l?d={deviceId:{exact:l}}:d={facingMode:"environment"};const y={video:d};return yield this.decodeOnceFromConstraints(y,h)})}decodeOnceFromConstraints(l,h){return he(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(d,h)})}decodeOnceFromStream(l,h){return he(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(l,h);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(l,h,d){return he(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,h,d)})}decodeFromVideoDevice(l,h,d){return he(this,void 0,void 0,function*(){let y;l?y={deviceId:{exact:l}}:y={facingMode:"environment"};const v={video:y};return yield this.decodeFromConstraints(v,h,d)})}decodeFromConstraints(l,h,d){return he(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(y,h,d)})}decodeFromStream(l,h,d){return he(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(l,h);return yield this.decodeContinuously(y,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,h){return he(this,void 0,void 0,function*(){const d=this.prepareVideoElement(h);return this.addVideoSource(d,l),this.videoElement=d,this.stream=l,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(l){return new Promise((h,d)=>this.playVideoOnLoad(l,()=>h()))}playVideoOnLoad(l,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",h),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return he(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,h){const d=document.getElementById(l);if(!d)throw new g(`element with id '${l}' not found`);if(d.nodeName.toLowerCase()!==h.toLowerCase())throw new g(`element with id '${l}' must be an ${h} element`);return d}decodeFromImage(l,h){if(!l&&!h)throw new g("either imageElement with a src set or an url must be provided");return h&&!l?this.decodeFromImageUrl(h):this.decodeFromImageElement(l)}decodeFromVideo(l,h){if(!l&&!h)throw new g("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,h,d){if(l===void 0&&h===void 0)throw new g("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrlContinuously(h,d):this.decodeFromVideoElementContinuously(l,d)}decodeFromImageElement(l){if(!l)throw new g("An image element must be provided.");this.reset();const h=this.prepareImageElement(l);this.imageElement=h;let d;return this.isImageLoaded(h)?d=this.decodeOnce(h,!1,!0):d=this._decodeOnLoadImage(h),d}decodeFromVideoElement(l){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(l,h){const d=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(d,h)}_decodeFromVideoElementSetup(l){if(!l)throw new g("A video element must be provided.");this.reset();const h=this.prepareVideoElement(l);return this.videoElement=h,h}decodeFromImageUrl(l){if(!l)throw new g("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const d=this._decodeOnLoadImage(h);return h.src=l,d}decodeFromVideoUrl(l){if(!l)throw new g("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),d=this.decodeFromVideoElement(h);return h.src=l,d}decodeFromVideoUrlContinuously(l,h){if(!l)throw new g("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(d,h);return d.src=l,y}_decodeOnLoadImage(l){return new Promise((h,d)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(h,d),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return he(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,h){return he(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,h)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let h;return typeof l>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(h=l),h}prepareVideoElement(l){let h;return!l&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(h=l),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(l,h=!0,d=!0){this._stopAsyncDecode=!1;const y=(v,x)=>{if(this._stopAsyncDecode){x(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(l);v(E)}catch(E){const N=h&&E instanceof J,W=(E instanceof A||E instanceof O)&&d;if(N||W)return setTimeout(y,this._timeBetweenDecodingAttempts,v,x);x(E)}};return new Promise((v,x)=>y(v,x))}decodeContinuously(l,h){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(l);h(y,null),setTimeout(d,this.timeBetweenScansMillis)}catch(y){h(null,y);const v=y instanceof A||y instanceof O,x=y instanceof J;(v||x)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(l){const h=this.createBinaryBitmap(l);return this.decodeBitmap(h)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,h,d){h||(h={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(l,h,d=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const h=this.getCaptureCanvas(l),d=new we(h),y=new ae(d);return new w(y)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const h=this.createCaptureCanvas(l);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let d,y;return typeof l<"u"&&(l instanceof HTMLVideoElement?(d=l.videoWidth,y=l.videoHeight):l instanceof HTMLImageElement&&(d=l.naturalWidth||l.width,y=l.naturalHeight||l.height)),h.style.width=d+"px",h.style.height=y+"px",h.width=d,h.height=y,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,h){try{l.srcObject=h}catch{l.src=URL.createObjectURL(h)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(l,h,d=h==null?0:8*h.length,y,v,x=T.currentTimeMillis()){this.text=l,this.rawBytes=h,this.numBits=d,this.resultPoints=y,this.format=v,this.timestamp=x,this.text=l,this.rawBytes=h,d==null?this.numBits=h==null?0:8*h.length:this.numBits=d,this.resultPoints=y,this.format=v,this.resultMetadata=null,x==null?this.timestamp=T.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,h)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const h=this.resultPoints;if(h===null)this.resultPoints=l;else if(l!==null&&l.length>0){const d=new Array(h.length+l.length);T.arraycopy(h,0,d,0,h.length),T.arraycopy(l,0,d,h.length,l.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ue;(function(Q){Q[Q.AZTEC=0]="AZTEC",Q[Q.CODABAR=1]="CODABAR",Q[Q.CODE_39=2]="CODE_39",Q[Q.CODE_93=3]="CODE_93",Q[Q.CODE_128=4]="CODE_128",Q[Q.DATA_MATRIX=5]="DATA_MATRIX",Q[Q.EAN_8=6]="EAN_8",Q[Q.EAN_13=7]="EAN_13",Q[Q.ITF=8]="ITF",Q[Q.MAXICODE=9]="MAXICODE",Q[Q.PDF_417=10]="PDF_417",Q[Q.QR_CODE=11]="QR_CODE",Q[Q.RSS_14=12]="RSS_14",Q[Q.RSS_EXPANDED=13]="RSS_EXPANDED",Q[Q.UPC_A=14]="UPC_A",Q[Q.UPC_E=15]="UPC_E",Q[Q.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ue||(Ue={}));var Me=Ue,ke;(function(Q){Q[Q.OTHER=0]="OTHER",Q[Q.ORIENTATION=1]="ORIENTATION",Q[Q.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Q[Q.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Q[Q.ISSUE_NUMBER=4]="ISSUE_NUMBER",Q[Q.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Q[Q.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Q[Q.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Q[Q.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Q[Q.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Q[Q.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ke||(ke={}));var De=ke;class Pe{constructor(l,h,d,y,v=-1,x=-1){this.rawBytes=l,this.text=h,this.byteSegments=d,this.ecLevel=y,this.structuredAppendSequenceNumber=v,this.structuredAppendParity=x,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class je{exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}static addOrSubtract(l,h){return l^h}}class $e{constructor(l,h){if(h.length===0)throw new m;this.field=l;const d=h.length;if(d>1&&h[0]===0){let y=1;for(;y<d&&h[y]===0;)y++;y===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-y),T.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const h=this.coefficients;let d;if(l===1){d=0;for(let x=0,E=h.length;x!==E;x++){const N=h[x];d=je.addOrSubtract(d,N)}return d}d=h[0];const y=h.length,v=this.field;for(let x=1;x<y;x++)d=je.addOrSubtract(v.multiply(l,d),h[x]);return d}addOrSubtract(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,d=l.coefficients;if(h.length>d.length){const x=h;h=d,d=x}let y=new Int32Array(d.length);const v=d.length-h.length;T.arraycopy(d,0,y,0,v);for(let x=v;x<d.length;x++)y[x]=je.addOrSubtract(h[x-v],d[x]);return new $e(this.field,y)}multiply(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const h=this.coefficients,d=h.length,y=l.coefficients,v=y.length,x=new Int32Array(d+v-1),E=this.field;for(let N=0;N<d;N++){const L=h[N];for(let W=0;W<v;W++)x[N+W]=je.addOrSubtract(x[N+W],E.multiply(L,y[W]))}return new $e(E,x)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const h=this.coefficients.length,d=this.field,y=new Int32Array(h),v=this.coefficients;for(let x=0;x<h;x++)y[x]=d.multiply(v[x],l);return new $e(d,y)}multiplyByMonomial(l,h){if(l<0)throw new m;if(h===0)return this.field.getZero();const d=this.coefficients,y=d.length,v=new Int32Array(y+l),x=this.field;for(let E=0;E<y;E++)v[E]=x.multiply(d[E],h);return new $e(x,v)}divide(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new m("Divide by 0");const h=this.field;let d=h.getZero(),y=this;const v=l.getCoefficient(l.getDegree()),x=h.inverse(v);for(;y.getDegree()>=l.getDegree()&&!y.isZero();){const E=y.getDegree()-l.getDegree(),N=h.multiply(y.getCoefficient(y.getDegree()),x),L=l.multiplyByMonomial(E,N),W=h.buildMonomial(E,N);d=d.addOrSubtract(W),y=y.addOrSubtract(L)}return[d,y]}toString(){let l="";for(let h=this.getDegree();h>=0;h--){let d=this.getCoefficient(h);if(d!==0){if(d<0?(l+=" - ",d=-d):l.length>0&&(l+=" + "),h===0||d!==1){const y=this.field.log(d);y===0?l+="1":y===1?l+="a":(l+="a^",l+=y)}h!==0&&(h===1?l+="x":(l+="x^",l+=h))}}return l}}class _e extends u{}_e.kind="ArithmeticException";class et extends je{constructor(l,h,d){super(),this.primitive=l,this.size=h,this.generatorBase=d;const y=new Int32Array(h);let v=1;for(let E=0;E<h;E++)y[E]=v,v*=2,v>=h&&(v^=l,v&=h-1);this.expTable=y;const x=new Int32Array(h);for(let E=0;E<h-1;E++)x[y[E]]=E;this.logTable=x,this.zero=new $e(this,Int32Array.from([0])),this.one=new $e(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new m;if(h===0)return this.zero;const d=new Int32Array(l+1);return d[0]=h,new $e(this,d)}inverse(l){if(l===0)throw new _e;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;class ht extends u{}ht.kind="ReedSolomonException";class jt extends u{}jt.kind="IllegalStateException";class Yt{constructor(l){this.field=l}decode(l,h){const d=this.field,y=new $e(d,l),v=new Int32Array(h);let x=!0;for(let le=0;le<h;le++){const de=y.evaluateAt(d.exp(le+d.getGeneratorBase()));v[v.length-1-le]=de,de!==0&&(x=!1)}if(x)return;const E=new $e(d,v),N=this.runEuclideanAlgorithm(d.buildMonomial(h,1),E,h),L=N[0],W=N[1],Z=this.findErrorLocations(L),te=this.findErrorMagnitudes(W,Z);for(let le=0;le<Z.length;le++){const de=l.length-1-d.log(Z[le]);if(de<0)throw new ht("Bad error location");l[de]=et.addOrSubtract(l[de],te[le])}}runEuclideanAlgorithm(l,h,d){if(l.getDegree()<h.getDegree()){const le=l;l=h,h=le}const y=this.field;let v=l,x=h,E=y.getZero(),N=y.getOne();for(;x.getDegree()>=(d/2|0);){let le=v,de=E;if(v=x,E=N,v.isZero())throw new ht("r_{i-1} was zero");x=le;let me=y.getZero();const be=v.getCoefficient(v.getDegree()),Ie=y.inverse(be);for(;x.getDegree()>=v.getDegree()&&!x.isZero();){const Ke=x.getDegree()-v.getDegree(),Ye=y.multiply(x.getCoefficient(x.getDegree()),Ie);me=me.addOrSubtract(y.buildMonomial(Ke,Ye)),x=x.addOrSubtract(v.multiplyByMonomial(Ke,Ye))}if(N=me.multiply(E).addOrSubtract(de),x.getDegree()>=v.getDegree())throw new jt("Division algorithm failed to reduce polynomial?")}const L=N.getCoefficient(0);if(L===0)throw new ht("sigmaTilde(0) was zero");const W=y.inverse(L),Z=N.multiplyScalar(W),te=x.multiplyScalar(W);return[Z,te]}findErrorLocations(l){const h=l.getDegree();if(h===1)return Int32Array.from([l.getCoefficient(1)]);const d=new Int32Array(h);let y=0;const v=this.field;for(let x=1;x<v.getSize()&&y<h;x++)l.evaluateAt(x)===0&&(d[y]=v.inverse(x),y++);if(y!==h)throw new ht("Error locator degree does not match number of roots");return d}findErrorMagnitudes(l,h){const d=h.length,y=new Int32Array(d),v=this.field;for(let x=0;x<d;x++){const E=v.inverse(h[x]);let N=1;for(let L=0;L<d;L++)if(x!==L){const W=v.multiply(h[L],E),Z=(W&1)===0?W|1:W&-2;N=v.multiply(N,Z)}y[x]=v.multiply(l.evaluateAt(E),v.inverse(N)),v.getGeneratorBase()!==0&&(y[x]=v.multiply(y[x],E))}return y}}var kt;(function(Q){Q[Q.UPPER=0]="UPPER",Q[Q.LOWER=1]="LOWER",Q[Q.MIXED=2]="MIXED",Q[Q.DIGIT=3]="DIGIT",Q[Q.PUNCT=4]="PUNCT",Q[Q.BINARY=5]="BINARY"})(kt||(kt={}));class Kt{decode(l){this.ddata=l;let h=l.getBits(),d=this.extractBits(h),y=this.correctBits(d),v=Kt.convertBoolArrayToByteArray(y),x=Kt.getEncodedData(y),E=new Pe(v,x,null,null);return E.setNumBits(y.length),E}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let h=l.length,d=kt.UPPER,y=kt.UPPER,v="",x=0;for(;x<h;)if(y===kt.BINARY){if(h-x<5)break;let E=Kt.readCode(l,x,5);if(x+=5,E===0){if(h-x<11)break;E=Kt.readCode(l,x,11)+31,x+=11}for(let N=0;N<E;N++){if(h-x<8){x=h;break}const L=Kt.readCode(l,x,8);v+=G.castAsNonUtf8Char(L),x+=8}y=d}else{let E=y===kt.DIGIT?4:5;if(h-x<E)break;let N=Kt.readCode(l,x,E);x+=E;let L=Kt.getCharacter(y,N);L.startsWith("CTRL_")?(d=y,y=Kt.getTable(L.charAt(5)),L.charAt(6)==="L"&&(d=y)):(v+=L,y=d)}return v}static getTable(l){switch(l){case"L":return kt.LOWER;case"P":return kt.PUNCT;case"M":return kt.MIXED;case"D":return kt.DIGIT;case"B":return kt.BINARY;case"U":default:return kt.UPPER}}static getCharacter(l,h){switch(l){case kt.UPPER:return Kt.UPPER_TABLE[h];case kt.LOWER:return Kt.LOWER_TABLE[h];case kt.MIXED:return Kt.MIXED_TABLE[h];case kt.PUNCT:return Kt.PUNCT_TABLE[h];case kt.DIGIT:return Kt.DIGIT_TABLE[h];default:throw new jt("Bad table")}}correctBits(l){let h,d;this.ddata.getNbLayers()<=2?(d=6,h=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,h=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,h=et.AZTEC_DATA_10):(d=12,h=et.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),v=l.length/d;if(v<y)throw new O;let x=l.length%d,E=new Int32Array(v);for(let te=0;te<v;te++,x+=d)E[te]=Kt.readCode(l,x,d);try{new Yt(h).decode(E,v-y)}catch(te){throw new O(te)}let N=(1<<d)-1,L=0;for(let te=0;te<y;te++){let le=E[te];if(le===0||le===N)throw new O;(le===1||le===N-1)&&L++}let W=new Array(y*d-L),Z=0;for(let te=0;te<y;te++){let le=E[te];if(le===1||le===N-1)W.fill(le>1,Z,Z+d-1),Z+=d-1;else for(let de=d-1;de>=0;--de)W[Z++]=(le&1<<de)!==0}return W}extractBits(l){let h=this.ddata.isCompact(),d=this.ddata.getNbLayers(),y=(h?11:14)+d*4,v=new Int32Array(y),x=new Array(this.totalBitsInLayer(d,h));if(h)for(let E=0;E<v.length;E++)v[E]=E;else{let E=y+1+2*k.truncDivision(k.truncDivision(y,2)-1,15),N=y/2,L=k.truncDivision(E,2);for(let W=0;W<N;W++){let Z=W+k.truncDivision(W,15);v[N-W-1]=L-Z-1,v[N+W]=L+Z+1}}for(let E=0,N=0;E<d;E++){let L=(d-E)*4+(h?9:12),W=E*2,Z=y-1-W;for(let te=0;te<L;te++){let le=te*2;for(let de=0;de<2;de++)x[N+le+de]=l.get(v[W+de],v[W+te]),x[N+2*L+le+de]=l.get(v[W+te],v[Z-de]),x[N+4*L+le+de]=l.get(v[Z-de],v[Z-te]),x[N+6*L+le+de]=l.get(v[Z-te],v[W+de])}N+=L*8}return x}static readCode(l,h,d){let y=0;for(let v=h;v<h+d;v++)y<<=1,l[v]&&(y|=1);return y}static readByte(l,h){let d=l.length-h;return d>=8?Kt.readCode(l,h,8):Kt.readCode(l,h,d)<<8-d}static convertBoolArrayToByteArray(l){let h=new Uint8Array((l.length+7)/8);for(let d=0;d<h.length;d++)h[d]=Kt.readByte(l,8*d);return h}totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}Kt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Kt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Kt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Kt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Kt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class wt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,h,d,y){const v=l-d,x=h-y;return Math.sqrt(v*v+x*x)}static sum(l){let h=0;for(let d=0,y=l.length;d!==y;d++){const v=l[d];h+=v}return h}}class ii{static floatToIntBits(l){return l}}ii.MAX_VALUE=Number.MAX_SAFE_INTEGER;class nt{constructor(l,h){this.x=l,this.y=h}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof nt){const h=l;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*ii.floatToIntBits(this.x)+ii.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const h=this.distance(l[0],l[1]),d=this.distance(l[1],l[2]),y=this.distance(l[0],l[2]);let v,x,E;if(d>=h&&d>=y?(x=l[0],v=l[1],E=l[2]):y>=d&&y>=h?(x=l[1],v=l[0],E=l[2]):(x=l[2],v=l[0],E=l[1]),this.crossProductZ(v,x,E)<0){const N=v;v=E,E=N}l[0]=v,l[1]=x,l[2]=E}static distance(l,h){return wt.distance(l.x,l.y,h.x,h.y)}static crossProductZ(l,h,d){const y=h.x,v=h.y;return(d.x-y)*(l.y-v)-(d.y-v)*(l.x-y)}}class Tn{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class wi extends Tn{constructor(l,h,d,y,v){super(l,h),this.compact=d,this.nbDatablocks=y,this.nbLayers=v}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class si{constructor(l,h,d,y){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),h==null&&(h=si.INIT_SIZE),d==null&&(d=l.getWidth()/2|0),y==null&&(y=l.getHeight()/2|0);const v=h/2|0;if(this.leftInit=d-v,this.rightInit=d+v,this.upInit=y-v,this.downInit=y+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let l=this.leftInit,h=this.rightInit,d=this.upInit,y=this.downInit,v=!1,x=!0,E=!1,N=!1,L=!1,W=!1,Z=!1;const te=this.width,le=this.height;for(;x;){x=!1;let de=!0;for(;(de||!N)&&h<te;)de=this.containsBlackPoint(d,y,h,!1),de?(h++,x=!0,N=!0):N||h++;if(h>=te){v=!0;break}let me=!0;for(;(me||!L)&&y<le;)me=this.containsBlackPoint(l,h,y,!0),me?(y++,x=!0,L=!0):L||y++;if(y>=le){v=!0;break}let be=!0;for(;(be||!W)&&l>=0;)be=this.containsBlackPoint(d,y,l,!1),be?(l--,x=!0,W=!0):W||l--;if(l<0){v=!0;break}let Ie=!0;for(;(Ie||!Z)&&d>=0;)Ie=this.containsBlackPoint(l,h,d,!0),Ie?(d--,x=!0,Z=!0):Z||d--;if(d<0){v=!0;break}x&&(E=!0)}if(!v&&E){const de=h-l;let me=null;for(let Ye=1;me===null&&Ye<de;Ye++)me=this.getBlackPointOnSegment(l,y-Ye,l+Ye,y);if(me==null)throw new J;let be=null;for(let Ye=1;be===null&&Ye<de;Ye++)be=this.getBlackPointOnSegment(l,d+Ye,l+Ye,d);if(be==null)throw new J;let Ie=null;for(let Ye=1;Ie===null&&Ye<de;Ye++)Ie=this.getBlackPointOnSegment(h,d+Ye,h-Ye,d);if(Ie==null)throw new J;let Ke=null;for(let Ye=1;Ke===null&&Ye<de;Ye++)Ke=this.getBlackPointOnSegment(h,y-Ye,h-Ye,y);if(Ke==null)throw new J;return this.centerEdges(Ke,me,Ie,be)}else throw new J}getBlackPointOnSegment(l,h,d,y){const v=wt.round(wt.distance(l,h,d,y)),x=(d-l)/v,E=(y-h)/v,N=this.image;for(let L=0;L<v;L++){const W=wt.round(l+L*x),Z=wt.round(h+L*E);if(N.get(W,Z))return new nt(W,Z)}return null}centerEdges(l,h,d,y){const v=l.getX(),x=l.getY(),E=h.getX(),N=h.getY(),L=d.getX(),W=d.getY(),Z=y.getX(),te=y.getY(),le=si.CORR;return v<this.width/2?[new nt(Z-le,te+le),new nt(E+le,N+le),new nt(L-le,W-le),new nt(v+le,x-le)]:[new nt(Z+le,te+le),new nt(E+le,N-le),new nt(L-le,W+le),new nt(v-le,x-le)]}containsBlackPoint(l,h,d,y){const v=this.image;if(y){for(let x=l;x<=h;x++)if(v.get(x,d))return!0}else for(let x=l;x<=h;x++)if(v.get(d,x))return!0;return!1}}si.INIT_SIZE=10,si.CORR=1;class so{static checkAndNudgePoints(l,h){const d=l.getWidth(),y=l.getHeight();let v=!0;for(let x=0;x<h.length&&v;x+=2){const E=Math.floor(h[x]),N=Math.floor(h[x+1]);if(E<-1||E>d||N<-1||N>y)throw new J;v=!1,E===-1?(h[x]=0,v=!0):E===d&&(h[x]=d-1,v=!0),N===-1?(h[x+1]=0,v=!0):N===y&&(h[x+1]=y-1,v=!0)}v=!0;for(let x=h.length-2;x>=0&&v;x-=2){const E=Math.floor(h[x]),N=Math.floor(h[x+1]);if(E<-1||E>d||N<-1||N>y)throw new J;v=!1,E===-1?(h[x]=0,v=!0):E===d&&(h[x]=d-1,v=!0),N===-1?(h[x+1]=0,v=!0):N===y&&(h[x+1]=y-1,v=!0)}}}class cn{constructor(l,h,d,y,v,x,E,N,L){this.a11=l,this.a21=h,this.a31=d,this.a12=y,this.a22=v,this.a32=x,this.a13=E,this.a23=N,this.a33=L}static quadrilateralToQuadrilateral(l,h,d,y,v,x,E,N,L,W,Z,te,le,de,me,be){const Ie=cn.quadrilateralToSquare(l,h,d,y,v,x,E,N);return cn.squareToQuadrilateral(L,W,Z,te,le,de,me,be).times(Ie)}transformPoints(l){const h=l.length,d=this.a11,y=this.a12,v=this.a13,x=this.a21,E=this.a22,N=this.a23,L=this.a31,W=this.a32,Z=this.a33;for(let te=0;te<h;te+=2){const le=l[te],de=l[te+1],me=v*le+N*de+Z;l[te]=(d*le+x*de+L)/me,l[te+1]=(y*le+E*de+W)/me}}transformPointsWithValues(l,h){const d=this.a11,y=this.a12,v=this.a13,x=this.a21,E=this.a22,N=this.a23,L=this.a31,W=this.a32,Z=this.a33,te=l.length;for(let le=0;le<te;le++){const de=l[le],me=h[le],be=v*de+N*me+Z;l[le]=(d*de+x*me+L)/be,h[le]=(y*de+E*me+W)/be}}static squareToQuadrilateral(l,h,d,y,v,x,E,N){const L=l-d+v-E,W=h-y+x-N;if(L===0&&W===0)return new cn(d-l,v-d,l,y-h,x-y,h,0,0,1);{const Z=d-v,te=E-v,le=y-x,de=N-x,me=Z*de-te*le,be=(L*de-te*W)/me,Ie=(Z*W-L*le)/me;return new cn(d-l+be*d,E-l+Ie*E,l,y-h+be*y,N-h+Ie*N,h,be,Ie,1)}}static quadrilateralToSquare(l,h,d,y,v,x,E,N){return cn.squareToQuadrilateral(l,h,d,y,v,x,E,N).buildAdjoint()}buildAdjoint(){return new cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new cn(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Pr extends so{sampleGrid(l,h,d,y,v,x,E,N,L,W,Z,te,le,de,me,be,Ie,Ke,Ye){const He=cn.quadrilateralToQuadrilateral(y,v,x,E,N,L,W,Z,te,le,de,me,be,Ie,Ke,Ye);return this.sampleGridWithTransform(l,h,d,He)}sampleGridWithTransform(l,h,d,y){if(h<=0||d<=0)throw new J;const v=new ce(h,d),x=new Float32Array(2*h);for(let E=0;E<d;E++){const N=x.length,L=E+.5;for(let W=0;W<N;W+=2)x[W]=W/2+.5,x[W+1]=L;y.transformPoints(x),so.checkAndNudgePoints(l,x);try{for(let W=0;W<N;W+=2)l.get(Math.floor(x[W]),Math.floor(x[W+1]))&&v.set(W/2,E)}catch{throw new J}}return v}}class oi{static setGridSampler(l){oi.gridSampler=l}static getInstance(){return oi.gridSampler}}oi.gridSampler=new Pr;class yr{constructor(l,h){this.x=l,this.y=h}toResultPoint(){return new nt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class $i{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let h=this.getMatrixCenter(),d=this.getBullsEyeCorners(h);if(l){let x=d[0];d[0]=d[2],d[2]=x}this.extractParameters(d);let y=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),v=this.getMatrixCornerPoints(d);return new wi(y,v,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new J;let h=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(l[0],l[1],h),this.sampleLine(l[1],l[2],h),this.sampleLine(l[2],l[3],h),this.sampleLine(l[3],l[0],h)]);this.shift=this.getRotation(d,h);let y=0;for(let x=0;x<4;x++){let E=d[(this.shift+x)%4];this.compact?(y<<=7,y+=E>>1&127):(y<<=10,y+=(E>>2&992)+(E>>1&31))}let v=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)}getRotation(l,h){let d=0;l.forEach((y,v,x)=>{let E=(y>>h-2<<1)+(y&1);d=(d<<3)+E}),d=((d&1)<<11)+(d>>1);for(let y=0;y<4;y++)if(k.bitCount(d^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new J}getCorrectedParameterData(l,h){let d,y;h?(d=7,y=2):(d=10,y=4);let v=d-y,x=new Int32Array(d);for(let N=d-1;N>=0;--N)x[N]=l&15,l>>=4;try{new Yt(et.AZTEC_PARAM).decode(x,v)}catch{throw new J}let E=0;for(let N=0;N<y;N++)E=(E<<4)+x[N];return E}getBullsEyeCorners(l){let h=l,d=l,y=l,v=l,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Z=this.getFirstDifferent(h,x,1,-1),te=this.getFirstDifferent(d,x,1,1),le=this.getFirstDifferent(y,x,-1,1),de=this.getFirstDifferent(v,x,-1,-1);if(this.nbCenterLayers>2){let me=this.distancePoint(de,Z)*this.nbCenterLayers/(this.distancePoint(v,h)*(this.nbCenterLayers+2));if(me<.75||me>1.25||!this.isWhiteOrBlackRectangle(Z,te,le,de))break}h=Z,d=te,y=le,v=de,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let E=new nt(h.getX()+.5,h.getY()-.5),N=new nt(d.getX()+.5,d.getY()+.5),L=new nt(y.getX()-.5,y.getY()+.5),W=new nt(v.getX()-.5,v.getY()-.5);return this.expandSquare([E,N,L,W],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,h,d,y;try{let E=new si(this.image).detect();l=E[0],h=E[1],d=E[2],y=E[3]}catch{let N=this.image.getWidth()/2,L=this.image.getHeight()/2;l=this.getFirstDifferent(new yr(N+7,L-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new yr(N+7,L+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new yr(N-7,L+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new yr(N-7,L-7),!1,-1,-1).toResultPoint()}let v=wt.round((l.getX()+y.getX()+h.getX()+d.getX())/4),x=wt.round((l.getY()+y.getY()+h.getY()+d.getY())/4);try{let E=new si(this.image,15,v,x).detect();l=E[0],h=E[1],d=E[2],y=E[3]}catch{l=this.getFirstDifferent(new yr(v+7,x-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new yr(v+7,x+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new yr(v-7,x+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new yr(v-7,x-7),!1,-1,-1).toResultPoint()}return v=wt.round((l.getX()+y.getX()+h.getX()+d.getX())/4),x=wt.round((l.getY()+y.getY()+h.getY()+d.getY())/4),new yr(v,x)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,h,d,y,v){let x=oi.getInstance(),E=this.getDimension(),N=E/2-this.nbCenterLayers,L=E/2+this.nbCenterLayers;return x.sampleGrid(l,E,E,N,N,L,N,L,L,N,L,h.getX(),h.getY(),d.getX(),d.getY(),y.getX(),y.getY(),v.getX(),v.getY())}sampleLine(l,h,d){let y=0,v=this.distanceResultPoint(l,h),x=v/d,E=l.getX(),N=l.getY(),L=x*(h.getX()-l.getX())/v,W=x*(h.getY()-l.getY())/v;for(let Z=0;Z<d;Z++)this.image.get(wt.round(E+Z*L),wt.round(N+Z*W))&&(y|=1<<d-Z-1);return y}isWhiteOrBlackRectangle(l,h,d,y){let v=3;l=new yr(l.getX()-v,l.getY()+v),h=new yr(h.getX()-v,h.getY()-v),d=new yr(d.getX()+v,d.getY()-v),y=new yr(y.getX()+v,y.getY()+v);let x=this.getColor(y,l);if(x===0)return!1;let E=this.getColor(l,h);return E!==x||(E=this.getColor(h,d),E!==x)?!1:(E=this.getColor(d,y),E===x)}getColor(l,h){let d=this.distancePoint(l,h),y=(h.getX()-l.getX())/d,v=(h.getY()-l.getY())/d,x=0,E=l.getX(),N=l.getY(),L=this.image.get(l.getX(),l.getY()),W=Math.ceil(d);for(let te=0;te<W;te++)E+=y,N+=v,this.image.get(wt.round(E),wt.round(N))!==L&&x++;let Z=x/d;return Z>.1&&Z<.9?0:Z<=.1===L?1:-1}getFirstDifferent(l,h,d,y){let v=l.getX()+d,x=l.getY()+y;for(;this.isValid(v,x)&&this.image.get(v,x)===h;)v+=d,x+=y;for(v-=d,x-=y;this.isValid(v,x)&&this.image.get(v,x)===h;)v+=d;for(v-=d;this.isValid(v,x)&&this.image.get(v,x)===h;)x+=y;return x-=y,new yr(v,x)}expandSquare(l,h,d){let y=d/(2*h),v=l[0].getX()-l[2].getX(),x=l[0].getY()-l[2].getY(),E=(l[0].getX()+l[2].getX())/2,N=(l[0].getY()+l[2].getY())/2,L=new nt(E+y*v,N+y*x),W=new nt(E-y*v,N-y*x);v=l[1].getX()-l[3].getX(),x=l[1].getY()-l[3].getY(),E=(l[1].getX()+l[3].getX())/2,N=(l[1].getY()+l[3].getY())/2;let Z=new nt(E+y*v,N+y*x),te=new nt(E-y*v,N-y*x);return[L,Z,W,te]}isValid(l,h){return l>=0&&l<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(l){let h=wt.round(l.getX()),d=wt.round(l.getY());return this.isValid(h,d)}distancePoint(l,h){return wt.distance(l.getX(),l.getY(),h.getX(),h.getY())}distanceResultPoint(l,h){return wt.distance(l.getX(),l.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class Vs{decode(l,h=null){let d=null,y=new $i(l.getBlackMatrix()),v=null,x=null;try{let W=y.detectMirror(!1);v=W.getPoints(),this.reportFoundResultPoints(h,v),x=new Kt().decode(W)}catch(W){d=W}if(x==null)try{let W=y.detectMirror(!0);v=W.getPoints(),this.reportFoundResultPoints(h,v),x=new Kt().decode(W)}catch(W){throw d??W}let E=new Re(x.getText(),x.getRawBytes(),x.getNumBits(),v,Me.AZTEC,T.currentTimeMillis()),N=x.getByteSegments();N!=null&&E.putMetadata(De.BYTE_SEGMENTS,N);let L=x.getECLevel();return L!=null&&E.putMetadata(De.ERROR_CORRECTION_LEVEL,L),E}reportFoundResultPoints(l,h){if(l!=null){let d=l.get(j.NEED_RESULT_POINT_CALLBACK);d!=null&&h.forEach((y,v,x)=>{d.foundPossibleResultPoint(y)})}}reset(){}}class ws extends xe{constructor(l=500){super(new Vs,l)}}class Xn{decode(l,h){try{return this.doDecode(l,h)}catch{if(h&&h.get(j.TRY_HARDER)===!0&&l.isRotateSupported()){const v=l.rotateCounterClockwise(),x=this.doDecode(v,h),E=x.getResultMetadata();let N=270;E!==null&&E.get(De.ORIENTATION)===!0&&(N=N+E.get(De.ORIENTATION)%360),x.putMetadata(De.ORIENTATION,N);const L=x.getResultPoints();if(L!==null){const W=v.getHeight();for(let Z=0;Z<L.length;Z++)L[Z]=new nt(W-L[Z].getY()-1,L[Z].getX())}return x}else throw new J}}reset(){}doDecode(l,h){const d=l.getWidth(),y=l.getHeight();let v=new V(d);const x=h&&h.get(j.TRY_HARDER)===!0,E=Math.max(1,y>>(x?8:5));let N;x?N=y:N=15;const L=Math.trunc(y/2);for(let W=0;W<N;W++){const Z=Math.trunc((W+1)/2),te=(W&1)===0,le=L+E*(te?Z:-Z);if(le<0||le>=y)break;try{v=l.getBlackRow(le,v)}catch{continue}for(let de=0;de<2;de++){if(de===1&&(v.reverse(),h&&h.get(j.NEED_RESULT_POINT_CALLBACK)===!0)){const me=new Map;h.forEach((be,Ie)=>me.set(Ie,be)),me.delete(j.NEED_RESULT_POINT_CALLBACK),h=me}try{const me=this.decodeRow(le,v,h);if(de===1){me.putMetadata(De.ORIENTATION,180);const be=me.getResultPoints();be!==null&&(be[0]=new nt(d-be[0].getX()-1,be[0].getY()),be[1]=new nt(d-be[1].getX()-1,be[1].getY()))}return me}catch{}}}throw new J}static recordPattern(l,h,d){const y=d.length;for(let L=0;L<y;L++)d[L]=0;const v=l.getSize();if(h>=v)throw new J;let x=!l.get(h),E=0,N=h;for(;N<v;){if(l.get(N)!==x)d[E]++;else{if(++E===y)break;d[E]=1,x=!x}N++}if(!(E===y||E===y-1&&N===v))throw new J}static recordPatternInReverse(l,h,d){let y=d.length,v=l.get(h);for(;h>0&&y>=0;)l.get(--h)!==v&&(y--,v=!v);if(y>=0)throw new J;Xn.recordPattern(l,h+1,d)}static patternMatchVariance(l,h,d){const y=l.length;let v=0,x=0;for(let L=0;L<y;L++)v+=l[L],x+=h[L];if(v<x)return Number.POSITIVE_INFINITY;const E=v/x;d*=E;let N=0;for(let L=0;L<y;L++){const W=l[L],Z=h[L]*E,te=W>Z?W-Z:Z-W;if(te>d)return Number.POSITIVE_INFINITY;N+=te}return N/v}}class Qe extends Xn{static findStartPattern(l){const h=l.getSize(),d=l.getNextSet(0);let y=0,v=Int32Array.from([0,0,0,0,0,0]),x=d,E=!1;const N=6;for(let L=d;L<h;L++)if(l.get(L)!==E)v[y]++;else{if(y===N-1){let W=Qe.MAX_AVG_VARIANCE,Z=-1;for(let te=Qe.CODE_START_A;te<=Qe.CODE_START_C;te++){const le=Xn.patternMatchVariance(v,Qe.CODE_PATTERNS[te],Qe.MAX_INDIVIDUAL_VARIANCE);le<W&&(W=le,Z=te)}if(Z>=0&&l.isRange(Math.max(0,x-(L-x)/2),x,!1))return Int32Array.from([x,L,Z]);x+=v[0]+v[1],v=v.slice(2,v.length-1),v[y-1]=0,v[y]=0,y--}else y++;v[y]=1,E=!E}throw new J}static decodeCode(l,h,d){Xn.recordPattern(l,d,h);let y=Qe.MAX_AVG_VARIANCE,v=-1;for(let x=0;x<Qe.CODE_PATTERNS.length;x++){const E=Qe.CODE_PATTERNS[x],N=this.patternMatchVariance(h,E,Qe.MAX_INDIVIDUAL_VARIANCE);N<y&&(y=N,v=x)}if(v>=0)return v;throw new J}decodeRow(l,h,d){const y=d&&d.get(j.ASSUME_GS1)===!0,v=Qe.findStartPattern(h),x=v[2];let E=0;const N=new Uint8Array(20);N[E++]=x;let L;switch(x){case Qe.CODE_START_A:L=Qe.CODE_CODE_A;break;case Qe.CODE_START_B:L=Qe.CODE_CODE_B;break;case Qe.CODE_START_C:L=Qe.CODE_CODE_C;break;default:throw new O}let W=!1,Z=!1,te="",le=v[0],de=v[1];const me=Int32Array.from([0,0,0,0,0,0]);let be=0,Ie=0,Ke=x,Ye=0,He=!0,tn=!1,Ut=!1;for(;!W;){const Ia=Z;switch(Z=!1,be=Ie,Ie=Qe.decodeCode(h,me,de),N[E++]=Ie,Ie!==Qe.CODE_STOP&&(He=!0),Ie!==Qe.CODE_STOP&&(Ye++,Ke+=Ye*Ie),le=de,de+=me.reduce((su,Gg)=>su+Gg,0),Ie){case Qe.CODE_START_A:case Qe.CODE_START_B:case Qe.CODE_START_C:throw new O}switch(L){case Qe.CODE_CODE_A:if(Ie<64)Ut===tn?te+=String.fromCharCode(32+Ie):te+=String.fromCharCode(32+Ie+128),Ut=!1;else if(Ie<96)Ut===tn?te+=String.fromCharCode(Ie-64):te+=String.fromCharCode(Ie+64),Ut=!1;else switch(Ie!==Qe.CODE_STOP&&(He=!1),Ie){case Qe.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case Qe.CODE_FNC_2:case Qe.CODE_FNC_3:break;case Qe.CODE_FNC_4_A:!tn&&Ut?(tn=!0,Ut=!1):tn&&Ut?(tn=!1,Ut=!1):Ut=!0;break;case Qe.CODE_SHIFT:Z=!0,L=Qe.CODE_CODE_B;break;case Qe.CODE_CODE_B:L=Qe.CODE_CODE_B;break;case Qe.CODE_CODE_C:L=Qe.CODE_CODE_C;break;case Qe.CODE_STOP:W=!0;break}break;case Qe.CODE_CODE_B:if(Ie<96)Ut===tn?te+=String.fromCharCode(32+Ie):te+=String.fromCharCode(32+Ie+128),Ut=!1;else switch(Ie!==Qe.CODE_STOP&&(He=!1),Ie){case Qe.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case Qe.CODE_FNC_2:case Qe.CODE_FNC_3:break;case Qe.CODE_FNC_4_B:!tn&&Ut?(tn=!0,Ut=!1):tn&&Ut?(tn=!1,Ut=!1):Ut=!0;break;case Qe.CODE_SHIFT:Z=!0,L=Qe.CODE_CODE_A;break;case Qe.CODE_CODE_A:L=Qe.CODE_CODE_A;break;case Qe.CODE_CODE_C:L=Qe.CODE_CODE_C;break;case Qe.CODE_STOP:W=!0;break}break;case Qe.CODE_CODE_C:if(Ie<100)Ie<10&&(te+="0"),te+=Ie;else switch(Ie!==Qe.CODE_STOP&&(He=!1),Ie){case Qe.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case Qe.CODE_CODE_A:L=Qe.CODE_CODE_A;break;case Qe.CODE_CODE_B:L=Qe.CODE_CODE_B;break;case Qe.CODE_STOP:W=!0;break}break}Ia&&(L=L===Qe.CODE_CODE_A?Qe.CODE_CODE_B:Qe.CODE_CODE_A)}const _s=de-le;if(de=h.getNextUnset(de),!h.isRange(de,Math.min(h.getSize(),de+(de-le)/2),!1))throw new J;if(Ke-=Ye*be,Ke%103!==be)throw new A;const Ro=te.length;if(Ro===0)throw new J;Ro>0&&He&&(L===Qe.CODE_CODE_C?te=te.substring(0,Ro-2):te=te.substring(0,Ro-1));const hi=(v[1]+v[0])/2,Dn=le+_s/2,Fr=N.length,cs=new Uint8Array(Fr);for(let Ia=0;Ia<Fr;Ia++)cs[Ia]=N[Ia];const Ql=[new nt(hi,l),new nt(Dn,l)];return new Re(te,cs,0,Ql,Me.CODE_128,new Date().getTime())}}Qe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Qe.MAX_AVG_VARIANCE=.25,Qe.MAX_INDIVIDUAL_VARIANCE=.7,Qe.CODE_SHIFT=98,Qe.CODE_CODE_C=99,Qe.CODE_CODE_B=100,Qe.CODE_CODE_A=101,Qe.CODE_FNC_1=102,Qe.CODE_FNC_2=97,Qe.CODE_FNC_3=96,Qe.CODE_FNC_4_A=101,Qe.CODE_FNC_4_B=100,Qe.CODE_START_A=103,Qe.CODE_START_B=104,Qe.CODE_START_C=105,Qe.CODE_STOP=106;class Qn extends Xn{constructor(l=!1,h=!1){super(),this.usingCheckDigit=l,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,h,d){let y=this.counters;y.fill(0),this.decodeRowResult="";let v=Qn.findAsteriskPattern(h,y),x=h.getNextSet(v[1]),E=h.getSize(),N,L;do{Qn.recordPattern(h,x,y);let me=Qn.toNarrowWidePattern(y);if(me<0)throw new J;N=Qn.patternToChar(me),this.decodeRowResult+=N,L=x;for(let be of y)x+=be;x=h.getNextSet(x)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let W=0;for(let me of y)W+=me;let Z=x-L-W;if(x!==E&&Z*2<W)throw new J;if(this.usingCheckDigit){let me=this.decodeRowResult.length-1,be=0;for(let Ie=0;Ie<me;Ie++)be+=Qn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ie));if(this.decodeRowResult.charAt(me)!==Qn.ALPHABET_STRING.charAt(be%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,me)}if(this.decodeRowResult.length===0)throw new J;let te;this.extendedMode?te=Qn.decodeExtended(this.decodeRowResult):te=this.decodeRowResult;let le=(v[1]+v[0])/2,de=L+W/2;return new Re(te,null,0,[new nt(le,l),new nt(de,l)],Me.CODE_39,new Date().getTime())}static findAsteriskPattern(l,h){let d=l.getSize(),y=l.getNextSet(0),v=0,x=y,E=!1,N=h.length;for(let L=y;L<d;L++)if(l.get(L)!==E)h[v]++;else{if(v===N-1){if(this.toNarrowWidePattern(h)===Qn.ASTERISK_ENCODING&&l.isRange(Math.max(0,x-Math.floor((L-x)/2)),x,!1))return[x,L];x+=h[0]+h[1],h.copyWithin(0,2,2+v-1),h[v-1]=0,h[v]=0,v--}else v++;h[v]=1,E=!E}throw new J}static toNarrowWidePattern(l){let h=l.length,d=0,y;do{let v=2147483647;for(let N of l)N<v&&N>d&&(v=N);d=v,y=0;let x=0,E=0;for(let N=0;N<h;N++){let L=l[N];L>d&&(E|=1<<h-1-N,y++,x+=L)}if(y===3){for(let N=0;N<h&&y>0;N++){let L=l[N];if(L>d&&(y--,L*2>=x))return-1}return E}}while(y>3);return-1}static patternToChar(l){for(let h=0;h<Qn.CHARACTER_ENCODINGS.length;h++)if(Qn.CHARACTER_ENCODINGS[h]===l)return Qn.ALPHABET_STRING.charAt(h);if(l===Qn.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(l){let h=l.length,d="";for(let y=0;y<h;y++){let v=l.charAt(y);if(v==="+"||v==="$"||v==="%"||v==="/"){let x=l.charAt(y+1),E="\0";switch(v){case"+":if(x>="A"&&x<="Z")E=String.fromCharCode(x.charCodeAt(0)+32);else throw new O;break;case"$":if(x>="A"&&x<="Z")E=String.fromCharCode(x.charCodeAt(0)-64);else throw new O;break;case"%":if(x>="A"&&x<="E")E=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")E=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")E=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")E=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")E="\0";else if(x==="V")E="@";else if(x==="W")E="`";else if(x==="X"||x==="Y"||x==="Z")E="";else throw new O;break;case"/":if(x>="A"&&x<="O")E=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")E=":";else throw new O;break}d+=E,y++}else d+=v}return d}}Qn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Qn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Qn.ASTERISK_ENCODING=148;class un extends Xn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,h,d){let y=this.decodeStart(h),v=this.decodeEnd(h),x=new $;un.decodeMiddle(h,y[1],v[0],x);let E=x.toString(),N=null;d!=null&&(N=d.get(j.ALLOWED_LENGTHS)),N==null&&(N=un.DEFAULT_ALLOWED_LENGTHS);let L=E.length,W=!1,Z=0;for(let de of N){if(L===de){W=!0;break}de>Z&&(Z=de)}if(!W&&L>Z&&(W=!0),!W)throw new O;const te=[new nt(y[1],l),new nt(v[0],l)];return new Re(E,null,0,te,Me.ITF,new Date().getTime())}static decodeMiddle(l,h,d,y){let v=new Int32Array(10),x=new Int32Array(5),E=new Int32Array(5);for(v.fill(0),x.fill(0),E.fill(0);h<d;){Xn.recordPattern(l,h,v);for(let L=0;L<5;L++){let W=2*L;x[L]=v[W],E[L]=v[W+1]}let N=un.decodeDigit(x);y.append(N.toString()),N=this.decodeDigit(E),y.append(N.toString()),v.forEach(function(L){h+=L})}}decodeStart(l){let h=un.skipWhiteSpace(l),d=un.findGuardPattern(l,h,un.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(l,d[0]),d}validateQuietZone(l,h){let d=this.narrowLineWidth*10;d=d<h?d:h;for(let y=h-1;d>0&&y>=0&&!l.get(y);y--)d--;if(d!==0)throw new J}static skipWhiteSpace(l){const h=l.getSize(),d=l.getNextSet(0);if(d===h)throw new J;return d}decodeEnd(l){l.reverse();try{let h=un.skipWhiteSpace(l),d;try{d=un.findGuardPattern(l,h,un.END_PATTERN_REVERSED[0])}catch(v){v instanceof J&&(d=un.findGuardPattern(l,h,un.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,d[0]);let y=d[0];return d[0]=l.getSize()-d[1],d[1]=l.getSize()-y,d}finally{l.reverse()}}static findGuardPattern(l,h,d){let y=d.length,v=new Int32Array(y),x=l.getSize(),E=!1,N=0,L=h;v.fill(0);for(let W=h;W<x;W++)if(l.get(W)!==E)v[N]++;else{if(N===y-1){if(Xn.patternMatchVariance(v,d,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return[L,W];L+=v[0]+v[1],T.arraycopy(v,2,v,0,N-1),v[N-1]=0,v[N]=0,N--}else N++;v[N]=1,E=!E}throw new J}static decodeDigit(l){let h=un.MAX_AVG_VARIANCE,d=-1,y=un.PATTERNS.length;for(let v=0;v<y;v++){let x=un.PATTERNS[v],E=Xn.patternMatchVariance(l,x,un.MAX_INDIVIDUAL_VARIANCE);E<h?(h=E,d=v):E===h&&(d=-1)}if(d>=0)return d%10;throw new J}}un.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],un.MAX_AVG_VARIANCE=.38,un.MAX_INDIVIDUAL_VARIANCE=.5,un.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],un.START_PATTERN=Int32Array.from([1,1,1,1]),un.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Bn extends Xn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let h=!1,d,y=0,v=Int32Array.from([0,0,0]);for(;!h;){v=Int32Array.from([0,0,0]),d=Bn.findGuardPattern(l,y,!1,this.START_END_PATTERN,v);let x=d[0];y=d[1];let E=x-(y-x);E>=0&&(h=l.isRange(E,x,!1))}return d}static checkChecksum(l){return Bn.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let d=parseInt(l.charAt(h-1),10);return Bn.getStandardUPCEANChecksum(l.substring(0,h-1))===d}static getStandardUPCEANChecksum(l){let h=l.length,d=0;for(let y=h-1;y>=0;y-=2){let v=l.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new O;d+=v}d*=3;for(let y=h-2;y>=0;y-=2){let v=l.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new O;d+=v}return(1e3-d)%10}static decodeEnd(l,h){return Bn.findGuardPattern(l,h,!1,Bn.START_END_PATTERN,new Int32Array(Bn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,h,d,y){return this.findGuardPattern(l,h,d,y,new Int32Array(y.length))}static findGuardPattern(l,h,d,y,v){let x=l.getSize();h=d?l.getNextUnset(h):l.getNextSet(h);let E=0,N=h,L=y.length,W=d;for(let Z=h;Z<x;Z++)if(l.get(Z)!==W)v[E]++;else{if(E===L-1){if(Xn.patternMatchVariance(v,y,Bn.MAX_INDIVIDUAL_VARIANCE)<Bn.MAX_AVG_VARIANCE)return Int32Array.from([N,Z]);N+=v[0]+v[1];let te=v.slice(2,v.length-1);for(let le=0;le<E-1;le++)v[le]=te[le];v[E-1]=0,v[E]=0,E--}else E++;v[E]=1,W=!W}throw new J}static decodeDigit(l,h,d,y){this.recordPattern(l,d,h);let v=this.MAX_AVG_VARIANCE,x=-1,E=y.length;for(let N=0;N<E;N++){let L=y[N],W=Xn.patternMatchVariance(h,L,Bn.MAX_INDIVIDUAL_VARIANCE);W<v&&(v=W,x=N)}if(x>=0)return x;throw new J}}Bn.MAX_AVG_VARIANCE=.48,Bn.MAX_INDIVIDUAL_VARIANCE=.7,Bn.START_END_PATTERN=Int32Array.from([1,1,1]),Bn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Bn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class is{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,d){let y=this.decodeRowStringBuffer,v=this.decodeMiddle(h,d,y),x=y.toString(),E=is.parseExtensionString(x),N=[new nt((d[0]+d[1])/2,l),new nt(v,l)],L=new Re(x,null,0,N,Me.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&L.putAllMetadata(E),L}decodeMiddle(l,h,d){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x=h[1],E=0;for(let L=0;L<5&&x<v;L++){let W=Bn.decodeDigit(l,y,x,Bn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+W%10);for(let Z of y)x+=Z;W>=10&&(E|=1<<4-L),L!==4&&(x=l.getNextSet(x),x=l.getNextUnset(x))}if(d.length!==5)throw new J;let N=this.determineCheckDigit(E);if(is.extensionChecksum(d.toString())!==N)throw new J;return x}static extensionChecksum(l){let h=l.length,d=0;for(let y=h-2;y>=0;y-=2)d+=l.charAt(y).charCodeAt(0)-48;d*=3;for(let y=h-1;y>=0;y-=2)d+=l.charAt(y).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(l){for(let h=0;h<10;h++)if(l===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new J}static parseExtensionString(l){if(l.length!==5)return null;let h=is.parseExtension5String(l);return h==null?null:new Map([[De.SUGGESTED_PRICE,h]])}static parseExtension5String(l){let h;switch(l.charAt(0)){case"0":h="£";break;case"5":h="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let d=parseInt(l.substring(1)),y=(d/100).toString(),v=d%100,x=v<10?"0"+v:v.toString();return h+y+"."+x}}class Ci{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,d){let y=this.decodeRowStringBuffer,v=this.decodeMiddle(h,d,y),x=y.toString(),E=Ci.parseExtensionString(x),N=[new nt((d[0]+d[1])/2,l),new nt(v,l)],L=new Re(x,null,0,N,Me.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&L.putAllMetadata(E),L}decodeMiddle(l,h,d){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x=h[1],E=0;for(let N=0;N<2&&x<v;N++){let L=Bn.decodeDigit(l,y,x,Bn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+L%10);for(let W of y)x+=W;L>=10&&(E|=1<<1-N),N!==1&&(x=l.getNextSet(x),x=l.getNextUnset(x))}if(d.length!==2)throw new J;if(parseInt(d.toString())%4!==E)throw new J;return x}static parseExtensionString(l){return l.length!==2?null:new Map([[De.ISSUE_NUMBER,parseInt(l)]])}}class Ta{static decodeRow(l,h,d){let y=Bn.findGuardPattern(h,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new is().decodeRow(l,h,y)}catch{return new Ci().decodeRow(l,h,y)}}}Ta.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ft extends Bn{constructor(){super(),this.decodeRowStringBuffer="",Ft.L_AND_G_PATTERNS=Ft.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let h=Ft.L_PATTERNS[l-10],d=new Int32Array(h.length);for(let y=0;y<h.length;y++)d[y]=h[h.length-y-1];Ft.L_AND_G_PATTERNS[l]=d}}decodeRow(l,h,d){let y=Ft.findStartGuardPattern(h),v=d==null?null:d.get(j.NEED_RESULT_POINT_CALLBACK);if(v!=null){const He=new nt((y[0]+y[1])/2,l);v.foundPossibleResultPoint(He)}let x=this.decodeMiddle(h,y,this.decodeRowStringBuffer),E=x.rowOffset,N=x.resultString;if(v!=null){const He=new nt(E,l);v.foundPossibleResultPoint(He)}let L=this.decodeEnd(h,E);if(v!=null){const He=new nt((L[0]+L[1])/2,l);v.foundPossibleResultPoint(He)}let W=L[1],Z=W+(W-L[0]);if(Z>=h.getSize()||!h.isRange(W,Z,!1))throw new J;let te=N.toString();if(te.length<8)throw new O;if(!Ft.checkChecksum(te))throw new A;let le=(y[1]+y[0])/2,de=(L[1]+L[0])/2,me=this.getBarcodeFormat(),be=[new nt(le,l),new nt(de,l)],Ie=new Re(te,null,0,be,me,new Date().getTime()),Ke=0;try{let He=Ta.decodeRow(l,h,L[1]);Ie.putMetadata(De.UPC_EAN_EXTENSION,He.getText()),Ie.putAllMetadata(He.getResultMetadata()),Ie.addResultPoints(He.getResultPoints()),Ke=He.getText().length}catch{}let Ye=d==null?null:d.get(j.ALLOWED_EAN_EXTENSIONS);if(Ye!=null){let He=!1;for(let tn in Ye)if(Ke.toString()===tn){He=!0;break}if(!He)throw new J}return Ie}decodeEnd(l,h){return Ft.findGuardPattern(l,h,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Ft.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let d=parseInt(l.charAt(h-1),10);return Ft.getStandardUPCEANChecksum(l.substring(0,h-1))===d}static getStandardUPCEANChecksum(l){let h=l.length,d=0;for(let y=h-1;y>=0;y-=2){let v=l.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new O;d+=v}d*=3;for(let y=h-2;y>=0;y-=2){let v=l.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new O;d+=v}return(1e3-d)%10}}class ai extends Ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,d){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x=h[1],E=0;for(let L=0;L<6&&x<v;L++){let W=Ft.decodeDigit(l,y,x,Ft.L_AND_G_PATTERNS);d+=String.fromCharCode(48+W%10);for(let Z of y)x+=Z;W>=10&&(E|=1<<5-L)}d=ai.determineFirstDigit(d,E),x=Ft.findGuardPattern(l,x,!0,Ft.MIDDLE_PATTERN,new Int32Array(Ft.MIDDLE_PATTERN.length).fill(0))[1];for(let L=0;L<6&&x<v;L++){let W=Ft.decodeDigit(l,y,x,Ft.L_PATTERNS);d+=String.fromCharCode(48+W);for(let Z of y)x+=Z}return{rowOffset:x,resultString:d}}getBarcodeFormat(){return Me.EAN_13}static determineFirstDigit(l,h){for(let d=0;d<10;d++)if(h===this.FIRST_DIGIT_ENCODINGS[d])return l=String.fromCharCode(48+d)+l,l;throw new J}}ai.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Yo extends Ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,d){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x=h[1];for(let N=0;N<4&&x<v;N++){let L=Ft.decodeDigit(l,y,x,Ft.L_PATTERNS);d+=String.fromCharCode(48+L);for(let W of y)x+=W}x=Ft.findGuardPattern(l,x,!0,Ft.MIDDLE_PATTERN,new Int32Array(Ft.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&x<v;N++){let L=Ft.decodeDigit(l,y,x,Ft.L_PATTERNS);d+=String.fromCharCode(48+L);for(let W of y)x+=W}return{rowOffset:x,resultString:d}}getBarcodeFormat(){return Me.EAN_8}}class At extends Ft{constructor(){super(...arguments),this.ean13Reader=new ai}getBarcodeFormat(){return Me.UPC_A}decode(l,h){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,h,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,h,d))}decodeMiddle(l,h,d){return this.ean13Reader.decodeMiddle(l,h,d)}maybeReturnResult(l){let h=l.getText();if(h.charAt(0)==="0"){let d=new Re(h.substring(1),null,null,l.getResultPoints(),Me.UPC_A);return l.getResultMetadata()!=null&&d.putAllMetadata(l.getResultMetadata()),d}else throw new J}reset(){this.ean13Reader.reset()}}class fn extends Ft{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,h,d){const y=this.decodeMiddleCounters.map(L=>L);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const v=l.getSize();let x=h[1],E=0;for(let L=0;L<6&&x<v;L++){const W=fn.decodeDigit(l,y,x,fn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+W%10);for(let Z of y)x+=Z;W>=10&&(E|=1<<5-L)}let N=fn.determineNumSysAndCheckDigit(d,E);return{rowOffset:x,resultString:N}}decodeEnd(l,h){return fn.findGuardPatternWithoutCounters(l,h,!0,fn.MIDDLE_END_PATTERN)}checkChecksum(l){return Ft.checkChecksum(fn.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,h){for(let d=0;d<=1;d++)for(let y=0;y<10;y++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][y]){let v=String.fromCharCode(48+d),x=String.fromCharCode(48+y);return v+l+x}throw J.getNotFoundInstance()}getBarcodeFormat(){return Me.UPC_E}static convertUPCEtoUPCA(l){const h=l.slice(1,7).split("").map(v=>v.charCodeAt(0)),d=new $;d.append(l.charAt(0));let y=h[5];switch(y){case 0:case 1:case 2:d.appendChars(h,0,2),d.append(y),d.append("0000"),d.appendChars(h,2,3);break;case 3:d.appendChars(h,0,3),d.append("00000"),d.appendChars(h,3,2);break;case 4:d.appendChars(h,0,4),d.append("00000"),d.append(h[4]);break;default:d.appendChars(h,0,5),d.append("0000"),d.append(y);break}return l.length>=8&&d.append(l.charAt(7)),d.toString()}}fn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),fn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Zn extends Xn{constructor(l){super();let h=l==null?null:l.get(j.POSSIBLE_FORMATS),d=[];r(h)?(d.push(new ai),d.push(new At),d.push(new Yo),d.push(new fn)):(h.indexOf(Me.EAN_13)>-1&&d.push(new ai),h.indexOf(Me.UPC_A)>-1&&d.push(new At),h.indexOf(Me.EAN_8)>-1&&d.push(new Yo),h.indexOf(Me.UPC_E)>-1&&d.push(new fn)),this.readers=d}decodeRow(l,h,d){for(let y of this.readers)try{const v=y.decodeRow(l,h,d),x=v.getBarcodeFormat()===Me.EAN_13&&v.getText().charAt(0)==="0",E=d==null?null:d.get(j.POSSIBLE_FORMATS),N=E==null||E.includes(Me.UPC_A);if(x&&N){const L=v.getRawBytes(),W=new Re(v.getText().substring(1),L,L?L.length:null,v.getResultPoints(),Me.UPC_A);return W.putAllMetadata(v.getResultMetadata()),W}return v}catch{}throw new J}reset(){for(let l of this.readers)l.reset()}}class hn extends Xn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,h){for(let d=0;d<h.length;d++)if(Xn.patternMatchVariance(l,h[d],hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE)return d;throw new J}static count(l){return wt.sum(new Int32Array(l))}static increment(l,h){let d=0,y=h[0];for(let v=1;v<l.length;v++)h[v]>y&&(y=h[v],d=v);l[d]++}static decrement(l,h){let d=0,y=h[0];for(let v=1;v<l.length;v++)h[v]<y&&(y=h[v],d=v);l[d]--}static isFinderPattern(l){let h=l[0]+l[1],d=h+l[2]+l[3],y=h/d;if(y>=hn.MIN_FINDER_PATTERN_RATIO&&y<=hn.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let E of l)E>x&&(x=E),E<v&&(v=E);return x<10*v}return!1}}hn.MAX_AVG_VARIANCE=.2,hn.MAX_INDIVIDUAL_VARIANCE=.45,hn.MIN_FINDER_PATTERN_RATIO=9.5/12,hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class li{constructor(l,h){this.value=l,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof li))return!1;const h=l;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Jn{constructor(l,h,d,y,v){this.value=l,this.startEnd=h,this.value=l,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new nt(d,v)),this.resultPoints.push(new nt(y,v))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Jn))return!1;const h=l;return this.value===h.value}hashCode(){return this.value}}class Ht{constructor(){}static getRSSvalue(l,h,d){let y=0;for(let N of l)y+=N;let v=0,x=0,E=l.length;for(let N=0;N<E-1;N++){let L;for(L=1,x|=1<<N;L<l[N];L++,x&=~(1<<N)){let W=Ht.combins(y-L-1,E-N-2);if(d&&x===0&&y-L-(E-N-1)>=E-N-1&&(W-=Ht.combins(y-L-(E-N),E-N-2)),E-N-1>1){let Z=0;for(let te=y-L-(E-N-2);te>h;te--)Z+=Ht.combins(y-L-te-1,E-N-3);W-=Z*(E-1-N)}else y-L>h&&W--;v+=W}y-=L}return v}static combins(l,h){let d,y;l-h>h?(y=h,d=l-h):(y=l-h,d=h);let v=1,x=1;for(let E=l;E>d;E--)v*=E,x<=y&&(v/=x,x++);for(;x<=y;)v/=x,x++;return v}}class _o{static buildBitArray(l){let h=l.length*2-1;l[l.length-1].getRightChar()==null&&(h-=1);let d=12*h,y=new V(d),v=0,E=l[0].getRightChar().getValue();for(let N=11;N>=0;--N)(E&1<<N)!=0&&y.set(v),v++;for(let N=1;N<l.length;++N){let L=l[N],W=L.getLeftChar().getValue();for(let Z=11;Z>=0;--Z)(W&1<<Z)!=0&&y.set(v),v++;if(L.getRightChar()!=null){let Z=L.getRightChar().getValue();for(let te=11;te>=0;--te)(Z&1<<te)!=0&&y.set(v),v++}}return y}}class Rn{constructor(l,h){h?this.decodedInformation=null:(this.finished=l,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class jr{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class vr extends jr{constructor(l,h){super(l),this.value=h}getValue(){return this.value}isFNC1(){return this.value===vr.FNC1}}vr.FNC1="$";class Wr extends jr{constructor(l,h,d){super(l),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class wr extends jr{constructor(l,h,d){if(super(l),h<0||h>10||d<0||d>10)throw new O;this.firstDigit=h,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===wr.FNC1}isSecondDigitFNC1(){return this.secondDigit===wr.FNC1}isAnyFNC1(){return this.firstDigit===wr.FNC1||this.secondDigit===wr.FNC1}}wr.FNC1=10;class rt{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new J;let h=l.substring(0,2);for(let v of rt.TWO_DIGIT_DATA_LENGTH)if(v[0]===h)return v[1]===rt.VARIABLE_LENGTH?rt.processVariableAI(2,v[2],l):rt.processFixedAI(2,v[1],l);if(l.length<3)throw new J;let d=l.substring(0,3);for(let v of rt.THREE_DIGIT_DATA_LENGTH)if(v[0]===d)return v[1]===rt.VARIABLE_LENGTH?rt.processVariableAI(3,v[2],l):rt.processFixedAI(3,v[1],l);for(let v of rt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(v[0]===d)return v[1]===rt.VARIABLE_LENGTH?rt.processVariableAI(4,v[2],l):rt.processFixedAI(4,v[1],l);if(l.length<4)throw new J;let y=l.substring(0,4);for(let v of rt.FOUR_DIGIT_DATA_LENGTH)if(v[0]===y)return v[1]===rt.VARIABLE_LENGTH?rt.processVariableAI(4,v[2],l):rt.processFixedAI(4,v[1],l);throw new J}static processFixedAI(l,h,d){if(d.length<l)throw new J;let y=d.substring(0,l);if(d.length<l+h)throw new J;let v=d.substring(l,l+h),x=d.substring(l+h),E="("+y+")"+v,N=rt.parseFieldsInGeneralPurpose(x);return N==null?E:E+N}static processVariableAI(l,h,d){let y=d.substring(0,l),v;d.length<l+h?v=d.length:v=l+h;let x=d.substring(l,v),E=d.substring(v),N="("+y+")"+x,L=rt.parseFieldsInGeneralPurpose(E);return L==null?N:N+L}}rt.VARIABLE_LENGTH=[],rt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",rt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",rt.VARIABLE_LENGTH,20],["22",rt.VARIABLE_LENGTH,29],["30",rt.VARIABLE_LENGTH,8],["37",rt.VARIABLE_LENGTH,8],["90",rt.VARIABLE_LENGTH,30],["91",rt.VARIABLE_LENGTH,30],["92",rt.VARIABLE_LENGTH,30],["93",rt.VARIABLE_LENGTH,30],["94",rt.VARIABLE_LENGTH,30],["95",rt.VARIABLE_LENGTH,30],["96",rt.VARIABLE_LENGTH,30],["97",rt.VARIABLE_LENGTH,3],["98",rt.VARIABLE_LENGTH,30],["99",rt.VARIABLE_LENGTH,30]],rt.THREE_DIGIT_DATA_LENGTH=[["240",rt.VARIABLE_LENGTH,30],["241",rt.VARIABLE_LENGTH,30],["242",rt.VARIABLE_LENGTH,6],["250",rt.VARIABLE_LENGTH,30],["251",rt.VARIABLE_LENGTH,30],["253",rt.VARIABLE_LENGTH,17],["254",rt.VARIABLE_LENGTH,20],["400",rt.VARIABLE_LENGTH,30],["401",rt.VARIABLE_LENGTH,30],["402",17],["403",rt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",rt.VARIABLE_LENGTH,20],["421",rt.VARIABLE_LENGTH,15],["422",3],["423",rt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],rt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",rt.VARIABLE_LENGTH,15],["391",rt.VARIABLE_LENGTH,18],["392",rt.VARIABLE_LENGTH,15],["393",rt.VARIABLE_LENGTH,18],["703",rt.VARIABLE_LENGTH,30]],rt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",rt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",rt.VARIABLE_LENGTH,20],["8003",rt.VARIABLE_LENGTH,30],["8004",rt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",rt.VARIABLE_LENGTH,30],["8008",rt.VARIABLE_LENGTH,12],["8018",18],["8020",rt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",rt.VARIABLE_LENGTH,70],["8200",rt.VARIABLE_LENGTH,70]];class nl{constructor(l){this.buffer=new $,this.information=l}decodeAllCodes(l,h){let d=h,y=null;do{let v=this.decodeGeneralPurposeField(d,y),x=rt.parseFieldsInGeneralPurpose(v.getNewString());if(x!=null&&l.append(x),v.isRemaining()?y=""+v.getRemainingValue():y=null,d===v.getNewPosition())break;d=v.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let h=l;h<l+3;++h)if(this.information.get(h))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let v=this.extractNumericValueFromBitArray(l,4);return v===0?new wr(this.information.getSize(),wr.FNC1,wr.FNC1):new wr(this.information.getSize(),v-1,wr.FNC1)}let h=this.extractNumericValueFromBitArray(l,7),d=(h-8)/11,y=(h-8)%11;return new wr(l+7,d,y)}extractNumericValueFromBitArray(l,h){return nl.extractNumericValueFromBitArray(this.information,l,h)}static extractNumericValueFromBitArray(l,h,d){let y=0;for(let v=0;v<d;++v)l.get(h+v)&&(y|=1<<d-v-1);return y}decodeGeneralPurposeField(l,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(l);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new Wr(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new Wr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,h;do{let d=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),l=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),l=h.isFinished()):(h=this.parseNumericBlock(),l=h.isFinished()),!(d!==this.current.getPosition())&&!l)break}while(!l);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let h;return l.isSecondDigitFNC1()?h=new Wr(this.current.getPosition(),this.buffer.toString()):h=new Wr(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Rn(!0,h)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let h=new Wr(this.current.getPosition(),this.buffer.toString());return new Rn(!0,h)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Rn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new Wr(this.current.getPosition(),this.buffer.toString());return new Rn(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Rn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new Wr(this.current.getPosition(),this.buffer.toString());return new Rn(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Rn(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,7);if(d>=64&&d<116)return!0;if(l+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(l,8);return y>=232&&y<253}decodeIsoIec646(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new vr(l+5,vr.FNC1);if(h>=5&&h<15)return new vr(l+5,"0"+(h-5));let d=this.extractNumericValueFromBitArray(l,7);if(d>=64&&d<90)return new vr(l+7,""+(d+1));if(d>=90&&d<116)return new vr(l+7,""+(d+7));let y=this.extractNumericValueFromBitArray(l,8),v;switch(y){case 232:v="!";break;case 233:v='"';break;case 234:v="%";break;case 235:v="&";break;case 236:v="'";break;case 237:v="(";break;case 238:v=")";break;case 239:v="*";break;case 240:v="+";break;case 241:v=",";break;case 242:v="-";break;case 243:v=".";break;case 244:v="/";break;case 245:v=":";break;case 246:v=";";break;case 247:v="<";break;case 248:v="=";break;case 249:v=">";break;case 250:v="?";break;case 251:v="_";break;case 252:v=" ";break;default:throw new O}return new vr(l+8,v)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,6);return d>=16&&d<63}decodeAlphanumeric(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new vr(l+5,vr.FNC1);if(h>=5&&h<15)return new vr(l+5,"0"+(h-5));let d=this.extractNumericValueFromBitArray(l,6);if(d>=32&&d<58)return new vr(l+6,""+(d+33));let y;switch(d){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new jt("Decoding invalid alphanumeric value: "+d)}return new vr(l+6,y)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<5&&h+l<this.information.getSize();++h)if(h===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+h))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let h=l;h<l+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<4&&h+l<this.information.getSize();++h)if(this.information.get(l+h))return!1;return!0}}class rl{constructor(l){this.information=l,this.generalDecoder=new nl(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ii extends rl{constructor(l){super(l)}encodeCompressedGtin(l,h){l.append("(01)");let d=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,h,d)}encodeCompressedGtinWithoutAI(l,h,d){for(let y=0;y<4;++y){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*y,10);v/100===0&&l.append("0"),v/10===0&&l.append("0"),l.append(v)}Ii.appendCheckDigit(l,d)}static appendCheckDigit(l,h){let d=0;for(let y=0;y<13;y++){let v=l.charAt(y+h).charCodeAt(0)-48;d+=(y&1)===0?3*v:v}d=10-d%10,d===10&&(d=0),l.append(d)}}Ii.GTIN_SIZE=40;class Gi extends Ii{constructor(l){super(l)}parseInformation(){let l=new $;l.append("(01)");let h=l.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(Gi.HEADER_SIZE,4);return l.append(d),this.encodeCompressedGtinWithoutAI(l,Gi.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(l,Gi.HEADER_SIZE+44)}}Gi.HEADER_SIZE=4;class Xo extends rl{constructor(l){super(l)}parseInformation(){let l=new $;return this.getGeneralDecoder().decodeAllCodes(l,Xo.HEADER_SIZE)}}Xo.HEADER_SIZE=5;class xs extends Ii{constructor(l){super(l)}encodeCompressedWeight(l,h,d){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(h,d);this.addWeightCode(l,y);let v=this.checkWeight(y),x=1e5;for(let E=0;E<5;++E)v/x===0&&l.append("0"),x/=10;l.append(v)}}class zs extends xs{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=zs.HEADER_SIZE+xs.GTIN_SIZE+zs.WEIGHT_SIZE)throw new J;let l=new $;return this.encodeCompressedGtin(l,zs.HEADER_SIZE),this.encodeCompressedWeight(l,zs.HEADER_SIZE+xs.GTIN_SIZE,zs.WEIGHT_SIZE),l.toString()}}zs.HEADER_SIZE=5,zs.WEIGHT_SIZE=15;class Af extends zs{constructor(l){super(l)}addWeightCode(l,h){l.append("(3103)")}checkWeight(l){return l}}class Xc extends zs{constructor(l){super(l)}addWeightCode(l,h){h<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class ss extends Ii{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ss.HEADER_SIZE+Ii.GTIN_SIZE)throw new J;let l=new $;this.encodeCompressedGtin(l,ss.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(ss.HEADER_SIZE+Ii.GTIN_SIZE,ss.LAST_DIGIT_SIZE);l.append("(392"),l.append(h),l.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(ss.HEADER_SIZE+Ii.GTIN_SIZE+ss.LAST_DIGIT_SIZE,null);return l.append(d.getNewString()),l.toString()}}ss.HEADER_SIZE=8,ss.LAST_DIGIT_SIZE=2;class ci extends Ii{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ci.HEADER_SIZE+Ii.GTIN_SIZE)throw new J;let l=new $;this.encodeCompressedGtin(l,ci.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(ci.HEADER_SIZE+Ii.GTIN_SIZE,ci.LAST_DIGIT_SIZE);l.append("(393"),l.append(h),l.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(ci.HEADER_SIZE+Ii.GTIN_SIZE+ci.LAST_DIGIT_SIZE,ci.FIRST_THREE_DIGITS_SIZE);d/100==0&&l.append("0"),d/10==0&&l.append("0"),l.append(d);let y=this.getGeneralDecoder().decodeGeneralPurposeField(ci.HEADER_SIZE+Ii.GTIN_SIZE+ci.LAST_DIGIT_SIZE+ci.FIRST_THREE_DIGITS_SIZE,null);return l.append(y.getNewString()),l.toString()}}ci.HEADER_SIZE=8,ci.LAST_DIGIT_SIZE=2,ci.FIRST_THREE_DIGITS_SIZE=10;class $n extends xs{constructor(l,h,d){super(l),this.dateCode=d,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=$n.HEADER_SIZE+$n.GTIN_SIZE+$n.WEIGHT_SIZE+$n.DATE_SIZE)throw new J;let l=new $;return this.encodeCompressedGtin(l,$n.HEADER_SIZE),this.encodeCompressedWeight(l,$n.HEADER_SIZE+$n.GTIN_SIZE,$n.WEIGHT_SIZE),this.encodeCompressedDate(l,$n.HEADER_SIZE+$n.GTIN_SIZE+$n.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,h){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(h,$n.DATE_SIZE);if(d==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let y=d%32;d/=32;let v=d%12+1;d/=12;let x=d;x/10==0&&l.append("0"),l.append(x),v/10==0&&l.append("0"),l.append(v),y/10==0&&l.append("0"),l.append(y)}addWeightCode(l,h){l.append("("),l.append(this.firstAIdigits),l.append(h/1e5),l.append(")")}checkWeight(l){return l%1e5}}$n.HEADER_SIZE=8,$n.WEIGHT_SIZE=20,$n.DATE_SIZE=16;function ad(Q){try{if(Q.get(1))return new Gi(Q);if(!Q.get(2))return new Xo(Q);switch(nl.extractNumericValueFromBitArray(Q,1,4)){case 4:return new Af(Q);case 5:return new Xc(Q)}switch(nl.extractNumericValueFromBitArray(Q,1,5)){case 12:return new ss(Q);case 13:return new ci(Q)}switch(nl.extractNumericValueFromBitArray(Q,1,7)){case 56:return new $n(Q,"310","11");case 57:return new $n(Q,"320","11");case 58:return new $n(Q,"310","13");case 59:return new $n(Q,"320","13");case 60:return new $n(Q,"310","15");case 61:return new $n(Q,"320","15");case 62:return new $n(Q,"310","17");case 63:return new $n(Q,"320","17")}}catch(l){throw console.log(l),new jt("unknown decoder: "+Q)}}class vn{constructor(l,h,d,y){this.leftchar=l,this.rightchar=h,this.finderpattern=d,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,h){return l instanceof vn?vn.equalsOrNull(l.leftchar,h.leftchar)&&vn.equalsOrNull(l.rightchar,h.rightchar)&&vn.equalsOrNull(l.finderpattern,h.finderpattern):!1}static equalsOrNull(l,h){return l===null?h===null:vn.equals(l,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Qc{constructor(l,h,d){this.pairs=l,this.rowNumber=h,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,h){return l instanceof Qc?this.checkEqualitity(l,h)&&l.wasReversed===h.wasReversed:!1}checkEqualitity(l,h){if(!l||!h)return;let d;return l.forEach((y,v)=>{h.forEach(x=>{y.getLeftChar().getValue()===x.getLeftChar().getValue()&&y.getRightChar().getValue()===x.getRightChar().getValue()&&y.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(d=!0)})}),d}}class Be extends hn{constructor(l){super(...arguments),this.pairs=new Array(Be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,h,d){this.pairs.length=0,this.startFromEven=!1;try{return Be.constructResult(this.decodeRow2pairs(l,h))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,Be.constructResult(this.decodeRow2pairs(l,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,h){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,l))}catch(v){if(v instanceof J){if(!this.pairs.length)throw new J;d=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(l,!1),y){let v=this.checkRowsBoolean(!1);if(v!=null||(v=this.checkRowsBoolean(!0),v!=null))return v}throw new J}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return l&&(this.rows=this.rows.reverse()),h}checkRows(l,h){for(let d=h;d<this.rows.length;d++){let y=this.rows[d];this.pairs.length=0;for(let x of l)this.pairs.push(x.getPairs());if(this.pairs.push(y.getPairs()),!Be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let v=new Array(l);v.push(y);try{return this.checkRows(v,d+1)}catch(x){this.verbose&&console.log(x)}}throw new J}static isValidSequence(l){for(let h of Be.FINDER_PATTERN_SEQUENCES){if(l.length>h.length)continue;let d=!0;for(let y=0;y<l.length;y++)if(l[y].getFinderPattern().getValue()!=h[y]){d=!1;break}if(d)return!0}return!1}storeRow(l,h){let d=0,y=!1,v=!1;for(;d<this.rows.length;){let x=this.rows[d];if(x.getRowNumber()>l){v=x.isEquivalent(this.pairs);break}y=x.isEquivalent(this.pairs),d++}v||y||Be.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new Qc(this.pairs,l,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,h){for(let d of h)if(d.getPairs().length!==l.length){for(let y of d.getPairs())for(let v of l)if(vn.equals(y,v))break}}static isPartialRow(l,h){for(let d of h){let y=!0;for(let v of l){let x=!1;for(let E of d.getPairs())if(v.equals(E)){x=!0;break}if(!x){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(l){let h=_o.buildBitArray(l),y=ad(h).parseInformation(),v=l[0].getFinderPattern().getResultPoints(),x=l[l.length-1].getFinderPattern().getResultPoints(),E=[v[0],v[1],x[0],x[1]];return new Re(y,null,null,E,Me.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),h=l.getLeftChar(),d=l.getRightChar();if(d==null)return!1;let y=d.getChecksumPortion(),v=2;for(let E=1;E<this.pairs.size();++E){let N=this.pairs.get(E);y+=N.getLeftChar().getChecksumPortion(),v++;let L=N.getRightChar();L!=null&&(y+=L.getChecksumPortion(),v++)}return y%=211,211*(v-4)+y==h.getValue()}static getNextSecondBar(l,h){let d;return l.get(h)?(d=l.getNextUnset(h),d=l.getNextSet(d)):(d=l.getNextSet(h),d=l.getNextUnset(d)),d}retrieveNextPair(l,h,d){let y=h.length%2==0;this.startFromEven&&(y=!y);let v,x=!0,E=-1;do this.findNextPair(l,h,E),v=this.parseFoundFinderPattern(l,d,y),v==null?E=Be.getNextSecondBar(l,this.startEnd[0]):x=!1;while(x);let N=this.decodeDataCharacter(l,v,y,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new J;let L;try{L=this.decodeDataCharacter(l,v,y,!1)}catch(W){L=null,this.verbose&&console.log(W)}return new vn(N,L,v,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,h,d){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=l.getSize(),x;d>=0?x=d:this.isEmptyPair(h)?x=0:x=h[h.length-1].getFinderPattern().getStartEnd()[1];let E=h.length%2!=0;this.startFromEven&&(E=!E);let N=!1;for(;x<v&&(N=!l.get(x),!!N);)x++;let L=0,W=x;for(let Z=x;Z<v;Z++)if(l.get(Z)!=N)y[L]++;else{if(L==3){if(E&&Be.reverseCounters(y),Be.isFinderPattern(y)){this.startEnd[0]=W,this.startEnd[1]=Z;return}E&&Be.reverseCounters(y),W+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,L--}else L++;y[L]=1,N=!N}throw new J}static reverseCounters(l){let h=l.length;for(let d=0;d<h/2;++d){let y=l[d];l[d]=l[h-d-1],l[h-d-1]=y}}parseFoundFinderPattern(l,h,d){let y,v,x;if(d){let L=this.startEnd[0]-1;for(;L>=0&&!l.get(L);)L--;L++,y=this.startEnd[0]-L,v=L,x=this.startEnd[1]}else v=this.startEnd[0],x=l.getNextUnset(this.startEnd[1]+1),y=x-this.startEnd[1];let E=this.getDecodeFinderCounters();T.arraycopy(E,0,E,1,E.length-1),E[0]=y;let N;try{N=this.parseFinderValue(E,Be.FINDER_PATTERNS)}catch{return null}return new Jn(N,[v,x],v,x,h)}decodeDataCharacter(l,h,d,y){let v=this.getDataCharacterCounters();for(let Dn=0;Dn<v.length;Dn++)v[Dn]=0;if(y)Be.recordPatternInReverse(l,h.getStartEnd()[0],v);else{Be.recordPattern(l,h.getStartEnd()[1],v);for(let Dn=0,Fr=v.length-1;Dn<Fr;Dn++,Fr--){let cs=v[Dn];v[Dn]=v[Fr],v[Fr]=cs}}let x=17,E=wt.sum(new Int32Array(v))/x,N=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(E-N)/N>.3)throw new J;let L=this.getOddCounts(),W=this.getEvenCounts(),Z=this.getOddRoundingErrors(),te=this.getEvenRoundingErrors();for(let Dn=0;Dn<v.length;Dn++){let Fr=1*v[Dn]/E,cs=Fr+.5;if(cs<1){if(Fr<.3)throw new J;cs=1}else if(cs>8){if(Fr>8.7)throw new J;cs=8}let Ql=Dn/2;(Dn&1)==0?(L[Ql]=cs,Z[Ql]=Fr-cs):(W[Ql]=cs,te[Ql]=Fr-cs)}this.adjustOddEvenCounts(x);let le=4*h.getValue()+(d?0:2)+(y?0:1)-1,de=0,me=0;for(let Dn=L.length-1;Dn>=0;Dn--){if(Be.isNotA1left(h,d,y)){let Fr=Be.WEIGHTS[le][2*Dn];me+=L[Dn]*Fr}de+=L[Dn]}let be=0;for(let Dn=W.length-1;Dn>=0;Dn--)if(Be.isNotA1left(h,d,y)){let Fr=Be.WEIGHTS[le][2*Dn+1];be+=W[Dn]*Fr}let Ie=me+be;if((de&1)!=0||de>13||de<4)throw new J;let Ke=(13-de)/2,Ye=Be.SYMBOL_WIDEST[Ke],He=9-Ye,tn=Ht.getRSSvalue(L,Ye,!0),Ut=Ht.getRSSvalue(W,He,!1),_s=Be.EVEN_TOTAL_SUBSET[Ke],Ro=Be.GSUM[Ke],hi=tn*_s+Ut+Ro;return new li(hi,Ie)}static isNotA1left(l,h,d){return!(l.getValue()==0&&h&&d)}adjustOddEvenCounts(l){let h=wt.sum(new Int32Array(this.getOddCounts())),d=wt.sum(new Int32Array(this.getEvenCounts())),y=!1,v=!1;h>13?v=!0:h<4&&(y=!0);let x=!1,E=!1;d>13?E=!0:d<4&&(x=!0);let N=h+d-l,L=(h&1)==1,W=(d&1)==0;if(N==1)if(L){if(W)throw new J;v=!0}else{if(!W)throw new J;E=!0}else if(N==-1)if(L){if(W)throw new J;y=!0}else{if(!W)throw new J;x=!0}else if(N==0){if(L){if(!W)throw new J;h<d?(y=!0,E=!0):(v=!0,x=!0)}else if(W)throw new J}else throw new J;if(y){if(v)throw new J;Be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(E)throw new J;Be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Be.SYMBOL_WIDEST=[7,5,4,3,1],Be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Be.GSUM=[0,348,1388,2948,3988],Be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Be.FINDER_PAT_A=0,Be.FINDER_PAT_B=1,Be.FINDER_PAT_C=2,Be.FINDER_PAT_D=3,Be.FINDER_PAT_E=4,Be.FINDER_PAT_F=5,Be.FINDER_PATTERN_SEQUENCES=[[Be.FINDER_PAT_A,Be.FINDER_PAT_A],[Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B],[Be.FINDER_PAT_A,Be.FINDER_PAT_C,Be.FINDER_PAT_B,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_C],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F]],Be.MAX_PAIRS=11;class il extends li{constructor(l,h,d){super(l,h),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class wn extends hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,h,d){const y=this.decodePair(h,!1,l,d);wn.addOrTally(this.possibleLeftPairs,y),h.reverse();let v=this.decodePair(h,!0,l,d);wn.addOrTally(this.possibleRightPairs,v),h.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&wn.checkChecksum(x,E))return wn.constructResult(x,E)}throw new J}static addOrTally(l,h){if(h==null)return;let d=!1;for(let y of l)if(y.getValue()===h.getValue()){y.incrementCount(),d=!0;break}d||l.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,h){let d=4537077*l.getValue()+h.getValue(),y=new String(d).toString(),v=new $;for(let L=13-y.length;L>0;L--)v.append("0");v.append(y);let x=0;for(let L=0;L<13;L++){let W=v.charAt(L).charCodeAt(0)-48;x+=(L&1)===0?3*W:W}x=10-x%10,x===10&&(x=0),v.append(x.toString());let E=l.getFinderPattern().getResultPoints(),N=h.getFinderPattern().getResultPoints();return new Re(v.toString(),null,0,[E[0],E[1],N[0],N[1]],Me.RSS_14,new Date().getTime())}static checkChecksum(l,h){let d=(l.getChecksumPortion()+16*h.getChecksumPortion())%79,y=9*l.getFinderPattern().getValue()+h.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,d===y}decodePair(l,h,d,y){try{let v=this.findFinderPattern(l,h),x=this.parseFoundFinderPattern(l,d,h,v),E=y==null?null:y.get(j.NEED_RESULT_POINT_CALLBACK);if(E!=null){let W=(v[0]+v[1])/2;h&&(W=l.getSize()-1-W),E.foundPossibleResultPoint(new nt(W,d))}let N=this.decodeDataCharacter(l,x,!0),L=this.decodeDataCharacter(l,x,!1);return new il(1597*N.getValue()+L.getValue(),N.getChecksumPortion()+4*L.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(l,h,d){let y=this.getDataCharacterCounters();for(let be=0;be<y.length;be++)y[be]=0;if(d)Xn.recordPatternInReverse(l,h.getStartEnd()[0],y);else{Xn.recordPattern(l,h.getStartEnd()[1]+1,y);for(let be=0,Ie=y.length-1;be<Ie;be++,Ie--){let Ke=y[be];y[be]=y[Ie],y[Ie]=Ke}}let v=d?16:15,x=wt.sum(new Int32Array(y))/v,E=this.getOddCounts(),N=this.getEvenCounts(),L=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let be=0;be<y.length;be++){let Ie=y[be]/x,Ke=Math.floor(Ie+.5);Ke<1?Ke=1:Ke>8&&(Ke=8);let Ye=Math.floor(be/2);(be&1)===0?(E[Ye]=Ke,L[Ye]=Ie-Ke):(N[Ye]=Ke,W[Ye]=Ie-Ke)}this.adjustOddEvenCounts(d,v);let Z=0,te=0;for(let be=E.length-1;be>=0;be--)te*=9,te+=E[be],Z+=E[be];let le=0,de=0;for(let be=N.length-1;be>=0;be--)le*=9,le+=N[be],de+=N[be];let me=te+3*le;if(d){if((Z&1)!==0||Z>12||Z<4)throw new J;let be=(12-Z)/2,Ie=wn.OUTSIDE_ODD_WIDEST[be],Ke=9-Ie,Ye=Ht.getRSSvalue(E,Ie,!1),He=Ht.getRSSvalue(N,Ke,!0),tn=wn.OUTSIDE_EVEN_TOTAL_SUBSET[be],Ut=wn.OUTSIDE_GSUM[be];return new li(Ye*tn+He+Ut,me)}else{if((de&1)!==0||de>10||de<4)throw new J;let be=(10-de)/2,Ie=wn.INSIDE_ODD_WIDEST[be],Ke=9-Ie,Ye=Ht.getRSSvalue(E,Ie,!0),He=Ht.getRSSvalue(N,Ke,!1),tn=wn.INSIDE_ODD_TOTAL_SUBSET[be],Ut=wn.INSIDE_GSUM[be];return new li(He*tn+Ye+Ut,me)}}findFinderPattern(l,h){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let y=l.getSize(),v=!1,x=0;for(;x<y&&(v=!l.get(x),h!==v);)x++;let E=0,N=x;for(let L=x;L<y;L++)if(l.get(L)!==v)d[E]++;else{if(E===3){if(hn.isFinderPattern(d))return[N,L];N+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,E--}else E++;d[E]=1,v=!v}throw new J}parseFoundFinderPattern(l,h,d,y){let v=l.get(y[0]),x=y[0]-1;for(;x>=0&&v!==l.get(x);)x--;x++;const E=y[0]-x,N=this.getDecodeFinderCounters(),L=new Int32Array(N.length);T.arraycopy(N,0,L,1,N.length-1),L[0]=E;const W=this.parseFinderValue(L,wn.FINDER_PATTERNS);let Z=x,te=y[1];return d&&(Z=l.getSize()-1-Z,te=l.getSize()-1-te),new Jn(W,[x,y[1]],Z,te,h)}adjustOddEvenCounts(l,h){let d=wt.sum(new Int32Array(this.getOddCounts())),y=wt.sum(new Int32Array(this.getEvenCounts())),v=!1,x=!1,E=!1,N=!1;l?(d>12?x=!0:d<4&&(v=!0),y>12?N=!0:y<4&&(E=!0)):(d>11?x=!0:d<5&&(v=!0),y>10?N=!0:y<4&&(E=!0));let L=d+y-h,W=(d&1)===(l?1:0),Z=(y&1)===1;if(L===1)if(W){if(Z)throw new J;x=!0}else{if(!Z)throw new J;N=!0}else if(L===-1)if(W){if(Z)throw new J;v=!0}else{if(!Z)throw new J;E=!0}else if(L===0){if(W){if(!Z)throw new J;d<y?(v=!0,N=!0):(x=!0,E=!0)}else if(Z)throw new J}else throw new J;if(v){if(x)throw new J;hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(N)throw new J;hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}wn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],wn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],wn.OUTSIDE_GSUM=[0,161,961,2015,2715],wn.INSIDE_GSUM=[0,336,1036,1516],wn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],wn.INSIDE_ODD_WIDEST=[2,4,6,8],wn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Qo extends Xn{constructor(l,h){super(),this.readers=[],this.verbose=h===!0;const d=l?l.get(j.POSSIBLE_FORMATS):null,y=l&&l.get(j.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(Me.EAN_13)||d.includes(Me.UPC_A)||d.includes(Me.EAN_8)||d.includes(Me.UPC_E))&&this.readers.push(new Zn(l)),d.includes(Me.CODE_39)&&this.readers.push(new Qn(y)),d.includes(Me.CODE_128)&&this.readers.push(new Qe),d.includes(Me.ITF)&&this.readers.push(new un),d.includes(Me.RSS_14)&&this.readers.push(new wn),d.includes(Me.RSS_EXPANDED)&&this.readers.push(new Be(this.verbose))):(this.readers.push(new Zn(l)),this.readers.push(new Qn),this.readers.push(new Zn(l)),this.readers.push(new Qe),this.readers.push(new un),this.readers.push(new wn),this.readers.push(new Be(this.verbose)))}decodeRow(l,h,d){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(l,h,d)}catch{}throw new J}reset(){this.readers.forEach(l=>l.reset())}}class ld extends xe{constructor(l=500,h){super(new Qo(h),l,h)}}class sn{constructor(l,h,d){this.ecCodewords=l,this.ecBlocks=[h],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class $t{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Zt{constructor(l,h,d,y,v,x){this.versionNumber=l,this.symbolSizeRows=h,this.symbolSizeColumns=d,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=v,this.ecBlocks=x;let E=0;const N=x.getECCodewords(),L=x.getECBlocks();for(let W of L)E+=W.getCount()*(W.getDataCodewords()+N);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,h){if((l&1)!==0||(h&1)!==0)throw new O;for(let d of Zt.VERSIONS)if(d.symbolSizeRows===l&&d.symbolSizeColumns===h)return d;throw new O}toString(){return""+this.versionNumber}static buildVersions(){return[new Zt(1,10,10,8,8,new sn(5,new $t(1,3))),new Zt(2,12,12,10,10,new sn(7,new $t(1,5))),new Zt(3,14,14,12,12,new sn(10,new $t(1,8))),new Zt(4,16,16,14,14,new sn(12,new $t(1,12))),new Zt(5,18,18,16,16,new sn(14,new $t(1,18))),new Zt(6,20,20,18,18,new sn(18,new $t(1,22))),new Zt(7,22,22,20,20,new sn(20,new $t(1,30))),new Zt(8,24,24,22,22,new sn(24,new $t(1,36))),new Zt(9,26,26,24,24,new sn(28,new $t(1,44))),new Zt(10,32,32,14,14,new sn(36,new $t(1,62))),new Zt(11,36,36,16,16,new sn(42,new $t(1,86))),new Zt(12,40,40,18,18,new sn(48,new $t(1,114))),new Zt(13,44,44,20,20,new sn(56,new $t(1,144))),new Zt(14,48,48,22,22,new sn(68,new $t(1,174))),new Zt(15,52,52,24,24,new sn(42,new $t(2,102))),new Zt(16,64,64,14,14,new sn(56,new $t(2,140))),new Zt(17,72,72,16,16,new sn(36,new $t(4,92))),new Zt(18,80,80,18,18,new sn(48,new $t(4,114))),new Zt(19,88,88,20,20,new sn(56,new $t(4,144))),new Zt(20,96,96,22,22,new sn(68,new $t(4,174))),new Zt(21,104,104,24,24,new sn(56,new $t(6,136))),new Zt(22,120,120,18,18,new sn(68,new $t(6,175))),new Zt(23,132,132,20,20,new sn(62,new $t(8,163))),new Zt(24,144,144,22,22,new sn(62,new $t(8,156),new $t(2,155))),new Zt(25,8,18,6,16,new sn(7,new $t(1,5))),new Zt(26,8,32,6,14,new sn(11,new $t(1,10))),new Zt(27,12,26,10,24,new sn(14,new $t(1,16))),new Zt(28,12,36,10,16,new sn(18,new $t(1,22))),new Zt(29,16,36,14,16,new sn(24,new $t(1,32))),new Zt(30,16,48,14,22,new sn(28,new $t(1,49)))]}}Zt.VERSIONS=Zt.buildVersions();class Pi{constructor(l){const h=l.getHeight();if(h<8||h>144||(h&1)!==0)throw new O;this.version=Pi.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const h=l.getHeight(),d=l.getWidth();return Zt.getVersionForDimensions(h,d)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let h=0,d=4,y=0;const v=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let E=!1,N=!1,L=!1,W=!1;do if(d===v&&y===0&&!E)l[h++]=this.readCorner1(v,x)&255,d-=2,y+=2,E=!0;else if(d===v-2&&y===0&&(x&3)!==0&&!N)l[h++]=this.readCorner2(v,x)&255,d-=2,y+=2,N=!0;else if(d===v+4&&y===2&&(x&7)===0&&!L)l[h++]=this.readCorner3(v,x)&255,d-=2,y+=2,L=!0;else if(d===v-2&&y===0&&(x&7)===4&&!W)l[h++]=this.readCorner4(v,x)&255,d-=2,y+=2,W=!0;else{do d<v&&y>=0&&!this.readMappingMatrix.get(y,d)&&(l[h++]=this.readUtah(d,y,v,x)&255),d-=2,y+=2;while(d>=0&&y<x);d+=1,y+=3;do d>=0&&y<x&&!this.readMappingMatrix.get(y,d)&&(l[h++]=this.readUtah(d,y,v,x)&255),d+=2,y-=2;while(d<v&&y>=0);d+=3,y+=1}while(d<v||y<x);if(h!==this.version.getTotalCodewords())throw new O;return l}readModule(l,h,d,y){return l<0&&(l+=d,h+=4-(d+4&7)),h<0&&(h+=y,l+=4-(y+4&7)),this.readMappingMatrix.set(h,l),this.mappingBitMatrix.get(h,l)}readUtah(l,h,d,y){let v=0;return this.readModule(l-2,h-2,d,y)&&(v|=1),v<<=1,this.readModule(l-2,h-1,d,y)&&(v|=1),v<<=1,this.readModule(l-1,h-2,d,y)&&(v|=1),v<<=1,this.readModule(l-1,h-1,d,y)&&(v|=1),v<<=1,this.readModule(l-1,h,d,y)&&(v|=1),v<<=1,this.readModule(l,h-2,d,y)&&(v|=1),v<<=1,this.readModule(l,h-1,d,y)&&(v|=1),v<<=1,this.readModule(l,h,d,y)&&(v|=1),v}readCorner1(l,h){let d=0;return this.readModule(l-1,0,l,h)&&(d|=1),d<<=1,this.readModule(l-1,1,l,h)&&(d|=1),d<<=1,this.readModule(l-1,2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-1,l,h)&&(d|=1),d<<=1,this.readModule(1,h-1,l,h)&&(d|=1),d<<=1,this.readModule(2,h-1,l,h)&&(d|=1),d<<=1,this.readModule(3,h-1,l,h)&&(d|=1),d}readCorner2(l,h){let d=0;return this.readModule(l-3,0,l,h)&&(d|=1),d<<=1,this.readModule(l-2,0,l,h)&&(d|=1),d<<=1,this.readModule(l-1,0,l,h)&&(d|=1),d<<=1,this.readModule(0,h-4,l,h)&&(d|=1),d<<=1,this.readModule(0,h-3,l,h)&&(d|=1),d<<=1,this.readModule(0,h-2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-1,l,h)&&(d|=1),d<<=1,this.readModule(1,h-1,l,h)&&(d|=1),d}readCorner3(l,h){let d=0;return this.readModule(l-1,0,l,h)&&(d|=1),d<<=1,this.readModule(l-1,h-1,l,h)&&(d|=1),d<<=1,this.readModule(0,h-3,l,h)&&(d|=1),d<<=1,this.readModule(0,h-2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-1,l,h)&&(d|=1),d<<=1,this.readModule(1,h-3,l,h)&&(d|=1),d<<=1,this.readModule(1,h-2,l,h)&&(d|=1),d<<=1,this.readModule(1,h-1,l,h)&&(d|=1),d}readCorner4(l,h){let d=0;return this.readModule(l-3,0,l,h)&&(d|=1),d<<=1,this.readModule(l-2,0,l,h)&&(d|=1),d<<=1,this.readModule(l-1,0,l,h)&&(d|=1),d<<=1,this.readModule(0,h-2,l,h)&&(d|=1),d<<=1,this.readModule(0,h-1,l,h)&&(d|=1),d<<=1,this.readModule(1,h-1,l,h)&&(d|=1),d<<=1,this.readModule(2,h-1,l,h)&&(d|=1),d<<=1,this.readModule(3,h-1,l,h)&&(d|=1),d}extractDataRegion(l){const h=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(l.getHeight()!==h)throw new m("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),v=this.version.getDataRegionSizeColumns(),x=h/y|0,E=d/v|0,N=x*y,L=E*v,W=new ce(L,N);for(let Z=0;Z<x;++Z){const te=Z*y;for(let le=0;le<E;++le){const de=le*v;for(let me=0;me<y;++me){const be=Z*(y+2)+1+me,Ie=te+me;for(let Ke=0;Ke<v;++Ke){const Ye=le*(v+2)+1+Ke;if(l.get(Ye,be)){const He=de+Ke;W.set(He,Ie)}}}}}return W}}class Gl{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h){const d=h.getECBlocks();let y=0;const v=d.getECBlocks();for(let me of v)y+=me.getCount();const x=new Array(y);let E=0;for(let me of v)for(let be=0;be<me.getCount();be++){const Ie=me.getDataCodewords(),Ke=d.getECCodewords()+Ie;x[E++]=new Gl(Ie,new Uint8Array(Ke))}const L=x[0].codewords.length-d.getECCodewords(),W=L-1;let Z=0;for(let me=0;me<W;me++)for(let be=0;be<E;be++)x[be].codewords[me]=l[Z++];const te=h.getVersionNumber()===24,le=te?8:E;for(let me=0;me<le;me++)x[me].codewords[L-1]=l[Z++];const de=x[0].codewords.length;for(let me=L;me<de;me++)for(let be=0;be<E;be++){const Ie=te?(be+8)%E:be,Ke=te&&Ie>7?me-1:me;x[Ie].codewords[Ke]=l[Z++]}if(Z!==l.length)throw new m;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Zc{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new m(""+l);let h=0,d=this.bitOffset,y=this.byteOffset;const v=this.bytes;if(d>0){const x=8-d,E=l<x?l:x,N=x-E,L=255>>8-E<<N;h=(v[y]&L)>>N,l-=E,d+=E,d===8&&(d=0,y++)}if(l>0){for(;l>=8;)h=h<<8|v[y]&255,y++,l-=8;if(l>0){const x=8-l,E=255>>x<<x;h=h<<l|(v[y]&E)>>x,d+=l}}return this.bitOffset=d,this.byteOffset=y,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nr;(function(Q){Q[Q.PAD_ENCODE=0]="PAD_ENCODE",Q[Q.ASCII_ENCODE=1]="ASCII_ENCODE",Q[Q.C40_ENCODE=2]="C40_ENCODE",Q[Q.TEXT_ENCODE=3]="TEXT_ENCODE",Q[Q.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Q[Q.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Q[Q.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nr||(Nr={}));class Hs{static decode(l){const h=new Zc(l),d=new $,y=new $,v=new Array;let x=Nr.ASCII_ENCODE;do if(x===Nr.ASCII_ENCODE)x=this.decodeAsciiSegment(h,d,y);else{switch(x){case Nr.C40_ENCODE:this.decodeC40Segment(h,d);break;case Nr.TEXT_ENCODE:this.decodeTextSegment(h,d);break;case Nr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,d);break;case Nr.EDIFACT_ENCODE:this.decodeEdifactSegment(h,d);break;case Nr.BASE256_ENCODE:this.decodeBase256Segment(h,d,v);break;default:throw new O}x=Nr.ASCII_ENCODE}while(x!==Nr.PAD_ENCODE&&h.available()>0);return y.length()>0&&d.append(y.toString()),new Pe(l,d.toString(),v.length===0?null:v,null)}static decodeAsciiSegment(l,h,d){let y=!1;do{let v=l.readBits(8);if(v===0)throw new O;if(v<=128)return y&&(v+=128),h.append(String.fromCharCode(v-1)),Nr.ASCII_ENCODE;if(v===129)return Nr.PAD_ENCODE;if(v<=229){const x=v-130;x<10&&h.append("0"),h.append(""+x)}else switch(v){case 230:return Nr.C40_ENCODE;case 231:return Nr.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:h.append("[)>05"),d.insert(0,"");break;case 237:h.append("[)>06"),d.insert(0,"");break;case 238:return Nr.ANSIX12_ENCODE;case 239:return Nr.TEXT_ENCODE;case 240:return Nr.EDIFACT_ENCODE;case 241:break;default:if(v!==254||l.available()!==0)throw new O;break}}while(l.available()>0);return Nr.ASCII_ENCODE}static decodeC40Segment(l,h){let d=!1;const y=[];let v=0;do{if(l.available()===8)return;const x=l.readBits(8);if(x===254)return;this.parseTwoBytes(x,l.readBits(8),y);for(let E=0;E<3;E++){const N=y[E];switch(v){case 0:if(N<3)v=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const L=this.C40_BASIC_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L)}else throw new O;break;case 1:d?(h.append(String.fromCharCode(N+128)),d=!1):h.append(String.fromCharCode(N)),v=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const L=this.C40_SHIFT2_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L)}else switch(N){case 27:h.append("");break;case 30:d=!0;break;default:throw new O}v=0;break;case 3:d?(h.append(String.fromCharCode(N+224)),d=!1):h.append(String.fromCharCode(N+96)),v=0;break;default:throw new O}}}while(l.available()>0)}static decodeTextSegment(l,h){let d=!1,y=[],v=0;do{if(l.available()===8)return;const x=l.readBits(8);if(x===254)return;this.parseTwoBytes(x,l.readBits(8),y);for(let E=0;E<3;E++){const N=y[E];switch(v){case 0:if(N<3)v=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const L=this.TEXT_BASIC_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L)}else throw new O;break;case 1:d?(h.append(String.fromCharCode(N+128)),d=!1):h.append(String.fromCharCode(N)),v=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const L=this.TEXT_SHIFT2_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L)}else switch(N){case 27:h.append("");break;case 30:d=!0;break;default:throw new O}v=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const L=this.TEXT_SHIFT3_SET_CHARS[N];d?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),d=!1):h.append(L),v=0}else throw new O;break;default:throw new O}}}while(l.available()>0)}static decodeAnsiX12Segment(l,h){const d=[];do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),d);for(let v=0;v<3;v++){const x=d[v];switch(x){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(x<14)h.append(String.fromCharCode(x+44));else if(x<40)h.append(String.fromCharCode(x+51));else throw new O;break}}}while(l.available()>0)}static parseTwoBytes(l,h,d){let y=(l<<8)+h-1,v=Math.floor(y/1600);d[0]=v,y-=v*1600,v=Math.floor(y/40),d[1]=v,d[2]=y-v*40}static decodeEdifactSegment(l,h){do{if(l.available()<=16)return;for(let d=0;d<4;d++){let y=l.readBits(6);if(y===31){const v=8-l.getBitOffset();v!==8&&l.readBits(v);return}(y&32)===0&&(y|=64),h.append(String.fromCharCode(y))}}while(l.available()>0)}static decodeBase256Segment(l,h,d){let y=1+l.getByteOffset();const v=this.unrandomize255State(l.readBits(8),y++);let x;if(v===0?x=l.available()/8|0:v<250?x=v:x=250*(v-249)+this.unrandomize255State(l.readBits(8),y++),x<0)throw new O;const E=new Uint8Array(x);for(let N=0;N<x;N++){if(l.available()<8)throw new O;E[N]=this.unrandomize255State(l.readBits(8),y++)}d.push(E);try{h.append(q.decode(E,G.ISO88591))}catch(N){throw new jt("Platform does not support required encoding: "+N.message)}}static unrandomize255State(l,h){const d=149*h%255+1,y=l-d;return y>=0?y:y+256}}Hs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Hs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Hs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Hs.TEXT_SHIFT2_SET_CHARS=Hs.C40_SHIFT2_SET_CHARS,Hs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Jc{constructor(){this.rsDecoder=new Yt(et.DATA_MATRIX_FIELD_256)}decode(l){const h=new Pi(l),d=h.getVersion(),y=h.readCodewords(),v=Gl.getDataBlocks(y,d);let x=0;for(let L of v)x+=L.getNumDataCodewords();const E=new Uint8Array(x),N=v.length;for(let L=0;L<N;L++){const W=v[L],Z=W.getCodewords(),te=W.getNumDataCodewords();this.correctErrors(Z,te);for(let le=0;le<te;le++)E[le*N+L]=Z[le]}return Hs.decode(E)}correctErrors(l,h){const d=new Int32Array(l);try{this.rsDecoder.decode(d,l.length-h)}catch{throw new A}for(let y=0;y<h;y++)l[y]=d[y]}}class jn{constructor(l){this.image=l,this.rectangleDetector=new si(this.image)}detect(){const l=this.rectangleDetector.detect();let h=this.detectSolid1(l);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new J;h=this.shiftToModuleCenter(h);const d=h[0],y=h[1],v=h[2],x=h[3];let E=this.transitionsBetween(d,x)+1,N=this.transitionsBetween(v,x)+1;(E&1)===1&&(E+=1),(N&1)===1&&(N+=1),4*E<7*N&&4*N<7*E&&(E=N=Math.max(E,N));let L=jn.sampleGrid(this.image,d,y,v,x,E,N);return new Tn(L,[d,y,v,x])}static shiftPoint(l,h,d){let y=(h.getX()-l.getX())/(d+1),v=(h.getY()-l.getY())/(d+1);return new nt(l.getX()+y,l.getY()+v)}static moveAway(l,h,d){let y=l.getX(),v=l.getY();return y<h?y-=1:y+=1,v<d?v-=1:v+=1,new nt(y,v)}detectSolid1(l){let h=l[0],d=l[1],y=l[3],v=l[2],x=this.transitionsBetween(h,d),E=this.transitionsBetween(d,y),N=this.transitionsBetween(y,v),L=this.transitionsBetween(v,h),W=x,Z=[v,h,d,y];return W>E&&(W=E,Z[0]=h,Z[1]=d,Z[2]=y,Z[3]=v),W>N&&(W=N,Z[0]=d,Z[1]=y,Z[2]=v,Z[3]=h),W>L&&(Z[0]=y,Z[1]=v,Z[2]=h,Z[3]=d),Z}detectSolid2(l){let h=l[0],d=l[1],y=l[2],v=l[3],x=this.transitionsBetween(h,v),E=jn.shiftPoint(d,y,(x+1)*4),N=jn.shiftPoint(y,d,(x+1)*4),L=this.transitionsBetween(E,h),W=this.transitionsBetween(N,v);return L<W?(l[0]=h,l[1]=d,l[2]=y,l[3]=v):(l[0]=d,l[1]=y,l[2]=v,l[3]=h),l}correctTopRight(l){let h=l[0],d=l[1],y=l[2],v=l[3],x=this.transitionsBetween(h,v),E=this.transitionsBetween(d,v),N=jn.shiftPoint(h,d,(E+1)*4),L=jn.shiftPoint(y,d,(x+1)*4);x=this.transitionsBetween(N,v),E=this.transitionsBetween(L,v);let W=new nt(v.getX()+(y.getX()-d.getX())/(x+1),v.getY()+(y.getY()-d.getY())/(x+1)),Z=new nt(v.getX()+(h.getX()-d.getX())/(E+1),v.getY()+(h.getY()-d.getY())/(E+1));if(!this.isValid(W))return this.isValid(Z)?Z:null;if(!this.isValid(Z))return W;let te=this.transitionsBetween(N,W)+this.transitionsBetween(L,W),le=this.transitionsBetween(N,Z)+this.transitionsBetween(L,Z);return te>le?W:Z}shiftToModuleCenter(l){let h=l[0],d=l[1],y=l[2],v=l[3],x=this.transitionsBetween(h,v)+1,E=this.transitionsBetween(y,v)+1,N=jn.shiftPoint(h,d,E*4),L=jn.shiftPoint(y,d,x*4);x=this.transitionsBetween(N,v)+1,E=this.transitionsBetween(L,v)+1,(x&1)===1&&(x+=1),(E&1)===1&&(E+=1);let W=(h.getX()+d.getX()+y.getX()+v.getX())/4,Z=(h.getY()+d.getY()+y.getY()+v.getY())/4;h=jn.moveAway(h,W,Z),d=jn.moveAway(d,W,Z),y=jn.moveAway(y,W,Z),v=jn.moveAway(v,W,Z);let te,le;return N=jn.shiftPoint(h,d,E*4),N=jn.shiftPoint(N,v,x*4),te=jn.shiftPoint(d,h,E*4),te=jn.shiftPoint(te,y,x*4),L=jn.shiftPoint(y,v,E*4),L=jn.shiftPoint(L,d,x*4),le=jn.shiftPoint(v,y,E*4),le=jn.shiftPoint(le,h,x*4),[N,te,L,le]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,h,d,y,v,x,E){return oi.getInstance().sampleGrid(l,x,E,.5,.5,x-.5,.5,x-.5,E-.5,.5,E-.5,h.getX(),h.getY(),v.getX(),v.getY(),y.getX(),y.getY(),d.getX(),d.getY())}transitionsBetween(l,h){let d=Math.trunc(l.getX()),y=Math.trunc(l.getY()),v=Math.trunc(h.getX()),x=Math.trunc(h.getY()),E=Math.abs(x-y)>Math.abs(v-d);if(E){let me=d;d=y,y=me,me=v,v=x,x=me}let N=Math.abs(v-d),L=Math.abs(x-y),W=-N/2,Z=y<x?1:-1,te=d<v?1:-1,le=0,de=this.image.get(E?y:d,E?d:y);for(let me=d,be=y;me!==v;me+=te){let Ie=this.image.get(E?be:me,E?me:be);if(Ie!==de&&(le++,de=Ie),W+=L,W>0){if(be===x)break;be+=Z,W-=N}}return le}}class bs{constructor(){this.decoder=new Jc}decode(l,h=null){let d,y;if(h!=null&&h.has(j.PURE_BARCODE)){const L=bs.extractPureBits(l.getBlackMatrix());d=this.decoder.decode(L),y=bs.NO_POINTS}else{const L=new jn(l.getBlackMatrix()).detect();d=this.decoder.decode(L.getBits()),y=L.getPoints()}const v=d.getRawBytes(),x=new Re(d.getText(),v,8*v.length,y,Me.DATA_MATRIX,T.currentTimeMillis()),E=d.getByteSegments();E!=null&&x.putMetadata(De.BYTE_SEGMENTS,E);const N=d.getECLevel();return N!=null&&x.putMetadata(De.ERROR_CORRECTION_LEVEL,N),x}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),d=l.getBottomRightOnBit();if(h==null||d==null)throw new J;const y=this.moduleSize(h,l);let v=h[1];const x=d[1];let E=h[0];const L=(d[0]-E+1)/y,W=(x-v+1)/y;if(L<=0||W<=0)throw new J;const Z=y/2;v+=Z,E+=Z;const te=new ce(L,W);for(let le=0;le<W;le++){const de=v+le*y;for(let me=0;me<L;me++)l.get(E+me*y,de)&&te.set(me,le)}return te}static moduleSize(l,h){const d=h.getWidth();let y=l[0];const v=l[1];for(;y<d&&h.get(y,v);)y++;if(y===d)throw new J;const x=y-l[0];if(x===0)throw new J;return x}}bs.NO_POINTS=[];class zg extends xe{constructor(l=500){super(new bs,l)}}var As;(function(Q){Q[Q.L=0]="L",Q[Q.M=1]="M",Q[Q.Q=2]="Q",Q[Q.H=3]="H"})(As||(As={}));class Jt{constructor(l,h,d){this.value=l,this.stringValue=h,this.bits=d,Jt.FOR_BITS.set(d,this),Jt.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Jt.L;case"M":return Jt.M;case"Q":return Jt.Q;case"H":return Jt.H;default:throw new g(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Jt))return!1;const h=l;return this.value===h.value}static forBits(l){if(l<0||l>=Jt.FOR_BITS.size)throw new m;return Jt.FOR_BITS.get(l)}}Jt.FOR_BITS=new Map,Jt.FOR_VALUE=new Map,Jt.L=new Jt(As.L,"L",1),Jt.M=new Jt(As.M,"M",0),Jt.Q=new Jt(As.Q,"Q",3),Jt.H=new Jt(As.H,"H",2);class Or{constructor(l){this.errorCorrectionLevel=Jt.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,h){return k.bitCount(l^h)}static decodeFormatInformation(l,h){const d=Or.doDecodeFormatInformation(l,h);return d!==null?d:Or.doDecodeFormatInformation(l^Or.FORMAT_INFO_MASK_QR,h^Or.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,h){let d=Number.MAX_SAFE_INTEGER,y=0;for(const v of Or.FORMAT_INFO_DECODE_LOOKUP){const x=v[0];if(x===l||x===h)return new Or(v[1]);let E=Or.numBitsDiffering(l,x);E<d&&(y=v[1],d=E),l!==h&&(E=Or.numBitsDiffering(h,x),E<d&&(y=v[1],d=E))}return d<=3?new Or(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Or))return!1;const h=l;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}Or.FORMAT_INFO_MASK_QR=21522,Or.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ae{constructor(l,...h){this.ecCodewordsPerBlock=l,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const h=this.ecBlocks;for(const d of h)l+=d.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ie{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tt{constructor(l,h,...d){this.versionNumber=l,this.alignmentPatternCenters=h,this.ecBlocks=d;let y=0;const v=d[0].getECCodewordsPerBlock(),x=d[0].getECBlocks();for(const E of x)y+=E.getCount()*(E.getDataCodewords()+v);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new O;try{return this.getVersionForNumber((l-17)/4)}catch{throw new O}}static getVersionForNumber(l){if(l<1||l>40)throw new m;return tt.VERSIONS[l-1]}static decodeVersionInformation(l){let h=Number.MAX_SAFE_INTEGER,d=0;for(let y=0;y<tt.VERSION_DECODE_INFO.length;y++){const v=tt.VERSION_DECODE_INFO[y];if(v===l)return tt.getVersionForNumber(y+7);const x=Or.numBitsDiffering(l,v);x<h&&(d=y+7,h=x)}return h<=3?tt.getVersionForNumber(d):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),h=new ce(l);h.setRegion(0,0,9,9),h.setRegion(l-8,0,8,9),h.setRegion(0,l-8,9,8);const d=this.alignmentPatternCenters.length;for(let y=0;y<d;y++){const v=this.alignmentPatternCenters[y]-2;for(let x=0;x<d;x++)y===0&&(x===0||x===d-1)||y===d-1&&x===0||h.setRegion(this.alignmentPatternCenters[x]-2,v,5,5)}return h.setRegion(6,9,1,l-17),h.setRegion(9,6,l-17,1),this.versionNumber>6&&(h.setRegion(l-11,0,3,6),h.setRegion(0,l-11,6,3)),h}toString(){return""+this.versionNumber}}tt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),tt.VERSIONS=[new tt(1,new Int32Array(0),new Ae(7,new ie(1,19)),new Ae(10,new ie(1,16)),new Ae(13,new ie(1,13)),new Ae(17,new ie(1,9))),new tt(2,Int32Array.from([6,18]),new Ae(10,new ie(1,34)),new Ae(16,new ie(1,28)),new Ae(22,new ie(1,22)),new Ae(28,new ie(1,16))),new tt(3,Int32Array.from([6,22]),new Ae(15,new ie(1,55)),new Ae(26,new ie(1,44)),new Ae(18,new ie(2,17)),new Ae(22,new ie(2,13))),new tt(4,Int32Array.from([6,26]),new Ae(20,new ie(1,80)),new Ae(18,new ie(2,32)),new Ae(26,new ie(2,24)),new Ae(16,new ie(4,9))),new tt(5,Int32Array.from([6,30]),new Ae(26,new ie(1,108)),new Ae(24,new ie(2,43)),new Ae(18,new ie(2,15),new ie(2,16)),new Ae(22,new ie(2,11),new ie(2,12))),new tt(6,Int32Array.from([6,34]),new Ae(18,new ie(2,68)),new Ae(16,new ie(4,27)),new Ae(24,new ie(4,19)),new Ae(28,new ie(4,15))),new tt(7,Int32Array.from([6,22,38]),new Ae(20,new ie(2,78)),new Ae(18,new ie(4,31)),new Ae(18,new ie(2,14),new ie(4,15)),new Ae(26,new ie(4,13),new ie(1,14))),new tt(8,Int32Array.from([6,24,42]),new Ae(24,new ie(2,97)),new Ae(22,new ie(2,38),new ie(2,39)),new Ae(22,new ie(4,18),new ie(2,19)),new Ae(26,new ie(4,14),new ie(2,15))),new tt(9,Int32Array.from([6,26,46]),new Ae(30,new ie(2,116)),new Ae(22,new ie(3,36),new ie(2,37)),new Ae(20,new ie(4,16),new ie(4,17)),new Ae(24,new ie(4,12),new ie(4,13))),new tt(10,Int32Array.from([6,28,50]),new Ae(18,new ie(2,68),new ie(2,69)),new Ae(26,new ie(4,43),new ie(1,44)),new Ae(24,new ie(6,19),new ie(2,20)),new Ae(28,new ie(6,15),new ie(2,16))),new tt(11,Int32Array.from([6,30,54]),new Ae(20,new ie(4,81)),new Ae(30,new ie(1,50),new ie(4,51)),new Ae(28,new ie(4,22),new ie(4,23)),new Ae(24,new ie(3,12),new ie(8,13))),new tt(12,Int32Array.from([6,32,58]),new Ae(24,new ie(2,92),new ie(2,93)),new Ae(22,new ie(6,36),new ie(2,37)),new Ae(26,new ie(4,20),new ie(6,21)),new Ae(28,new ie(7,14),new ie(4,15))),new tt(13,Int32Array.from([6,34,62]),new Ae(26,new ie(4,107)),new Ae(22,new ie(8,37),new ie(1,38)),new Ae(24,new ie(8,20),new ie(4,21)),new Ae(22,new ie(12,11),new ie(4,12))),new tt(14,Int32Array.from([6,26,46,66]),new Ae(30,new ie(3,115),new ie(1,116)),new Ae(24,new ie(4,40),new ie(5,41)),new Ae(20,new ie(11,16),new ie(5,17)),new Ae(24,new ie(11,12),new ie(5,13))),new tt(15,Int32Array.from([6,26,48,70]),new Ae(22,new ie(5,87),new ie(1,88)),new Ae(24,new ie(5,41),new ie(5,42)),new Ae(30,new ie(5,24),new ie(7,25)),new Ae(24,new ie(11,12),new ie(7,13))),new tt(16,Int32Array.from([6,26,50,74]),new Ae(24,new ie(5,98),new ie(1,99)),new Ae(28,new ie(7,45),new ie(3,46)),new Ae(24,new ie(15,19),new ie(2,20)),new Ae(30,new ie(3,15),new ie(13,16))),new tt(17,Int32Array.from([6,30,54,78]),new Ae(28,new ie(1,107),new ie(5,108)),new Ae(28,new ie(10,46),new ie(1,47)),new Ae(28,new ie(1,22),new ie(15,23)),new Ae(28,new ie(2,14),new ie(17,15))),new tt(18,Int32Array.from([6,30,56,82]),new Ae(30,new ie(5,120),new ie(1,121)),new Ae(26,new ie(9,43),new ie(4,44)),new Ae(28,new ie(17,22),new ie(1,23)),new Ae(28,new ie(2,14),new ie(19,15))),new tt(19,Int32Array.from([6,30,58,86]),new Ae(28,new ie(3,113),new ie(4,114)),new Ae(26,new ie(3,44),new ie(11,45)),new Ae(26,new ie(17,21),new ie(4,22)),new Ae(26,new ie(9,13),new ie(16,14))),new tt(20,Int32Array.from([6,34,62,90]),new Ae(28,new ie(3,107),new ie(5,108)),new Ae(26,new ie(3,41),new ie(13,42)),new Ae(30,new ie(15,24),new ie(5,25)),new Ae(28,new ie(15,15),new ie(10,16))),new tt(21,Int32Array.from([6,28,50,72,94]),new Ae(28,new ie(4,116),new ie(4,117)),new Ae(26,new ie(17,42)),new Ae(28,new ie(17,22),new ie(6,23)),new Ae(30,new ie(19,16),new ie(6,17))),new tt(22,Int32Array.from([6,26,50,74,98]),new Ae(28,new ie(2,111),new ie(7,112)),new Ae(28,new ie(17,46)),new Ae(30,new ie(7,24),new ie(16,25)),new Ae(24,new ie(34,13))),new tt(23,Int32Array.from([6,30,54,78,102]),new Ae(30,new ie(4,121),new ie(5,122)),new Ae(28,new ie(4,47),new ie(14,48)),new Ae(30,new ie(11,24),new ie(14,25)),new Ae(30,new ie(16,15),new ie(14,16))),new tt(24,Int32Array.from([6,28,54,80,106]),new Ae(30,new ie(6,117),new ie(4,118)),new Ae(28,new ie(6,45),new ie(14,46)),new Ae(30,new ie(11,24),new ie(16,25)),new Ae(30,new ie(30,16),new ie(2,17))),new tt(25,Int32Array.from([6,32,58,84,110]),new Ae(26,new ie(8,106),new ie(4,107)),new Ae(28,new ie(8,47),new ie(13,48)),new Ae(30,new ie(7,24),new ie(22,25)),new Ae(30,new ie(22,15),new ie(13,16))),new tt(26,Int32Array.from([6,30,58,86,114]),new Ae(28,new ie(10,114),new ie(2,115)),new Ae(28,new ie(19,46),new ie(4,47)),new Ae(28,new ie(28,22),new ie(6,23)),new Ae(30,new ie(33,16),new ie(4,17))),new tt(27,Int32Array.from([6,34,62,90,118]),new Ae(30,new ie(8,122),new ie(4,123)),new Ae(28,new ie(22,45),new ie(3,46)),new Ae(30,new ie(8,23),new ie(26,24)),new Ae(30,new ie(12,15),new ie(28,16))),new tt(28,Int32Array.from([6,26,50,74,98,122]),new Ae(30,new ie(3,117),new ie(10,118)),new Ae(28,new ie(3,45),new ie(23,46)),new Ae(30,new ie(4,24),new ie(31,25)),new Ae(30,new ie(11,15),new ie(31,16))),new tt(29,Int32Array.from([6,30,54,78,102,126]),new Ae(30,new ie(7,116),new ie(7,117)),new Ae(28,new ie(21,45),new ie(7,46)),new Ae(30,new ie(1,23),new ie(37,24)),new Ae(30,new ie(19,15),new ie(26,16))),new tt(30,Int32Array.from([6,26,52,78,104,130]),new Ae(30,new ie(5,115),new ie(10,116)),new Ae(28,new ie(19,47),new ie(10,48)),new Ae(30,new ie(15,24),new ie(25,25)),new Ae(30,new ie(23,15),new ie(25,16))),new tt(31,Int32Array.from([6,30,56,82,108,134]),new Ae(30,new ie(13,115),new ie(3,116)),new Ae(28,new ie(2,46),new ie(29,47)),new Ae(30,new ie(42,24),new ie(1,25)),new Ae(30,new ie(23,15),new ie(28,16))),new tt(32,Int32Array.from([6,34,60,86,112,138]),new Ae(30,new ie(17,115)),new Ae(28,new ie(10,46),new ie(23,47)),new Ae(30,new ie(10,24),new ie(35,25)),new Ae(30,new ie(19,15),new ie(35,16))),new tt(33,Int32Array.from([6,30,58,86,114,142]),new Ae(30,new ie(17,115),new ie(1,116)),new Ae(28,new ie(14,46),new ie(21,47)),new Ae(30,new ie(29,24),new ie(19,25)),new Ae(30,new ie(11,15),new ie(46,16))),new tt(34,Int32Array.from([6,34,62,90,118,146]),new Ae(30,new ie(13,115),new ie(6,116)),new Ae(28,new ie(14,46),new ie(23,47)),new Ae(30,new ie(44,24),new ie(7,25)),new Ae(30,new ie(59,16),new ie(1,17))),new tt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ae(30,new ie(12,121),new ie(7,122)),new Ae(28,new ie(12,47),new ie(26,48)),new Ae(30,new ie(39,24),new ie(14,25)),new Ae(30,new ie(22,15),new ie(41,16))),new tt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ae(30,new ie(6,121),new ie(14,122)),new Ae(28,new ie(6,47),new ie(34,48)),new Ae(30,new ie(46,24),new ie(10,25)),new Ae(30,new ie(2,15),new ie(64,16))),new tt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ae(30,new ie(17,122),new ie(4,123)),new Ae(28,new ie(29,46),new ie(14,47)),new Ae(30,new ie(49,24),new ie(10,25)),new Ae(30,new ie(24,15),new ie(46,16))),new tt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ae(30,new ie(4,122),new ie(18,123)),new Ae(28,new ie(13,46),new ie(32,47)),new Ae(30,new ie(48,24),new ie(14,25)),new Ae(30,new ie(42,15),new ie(32,16))),new tt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ae(30,new ie(20,117),new ie(4,118)),new Ae(28,new ie(40,47),new ie(7,48)),new Ae(30,new ie(43,24),new ie(22,25)),new Ae(30,new ie(10,15),new ie(67,16))),new tt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ae(30,new ie(19,118),new ie(6,119)),new Ae(28,new ie(18,47),new ie(31,48)),new Ae(30,new ie(34,24),new ie(34,25)),new Ae(30,new ie(20,15),new ie(61,16)))];var ir;(function(Q){Q[Q.DATA_MASK_000=0]="DATA_MASK_000",Q[Q.DATA_MASK_001=1]="DATA_MASK_001",Q[Q.DATA_MASK_010=2]="DATA_MASK_010",Q[Q.DATA_MASK_011=3]="DATA_MASK_011",Q[Q.DATA_MASK_100=4]="DATA_MASK_100",Q[Q.DATA_MASK_101=5]="DATA_MASK_101",Q[Q.DATA_MASK_110=6]="DATA_MASK_110",Q[Q.DATA_MASK_111=7]="DATA_MASK_111"})(ir||(ir={}));class Mt{constructor(l,h){this.value=l,this.isMasked=h}unmaskBitMatrix(l,h){for(let d=0;d<h;d++)for(let y=0;y<h;y++)this.isMasked(d,y)&&l.flip(y,d)}}Mt.values=new Map([[ir.DATA_MASK_000,new Mt(ir.DATA_MASK_000,(Q,l)=>(Q+l&1)===0)],[ir.DATA_MASK_001,new Mt(ir.DATA_MASK_001,(Q,l)=>(Q&1)===0)],[ir.DATA_MASK_010,new Mt(ir.DATA_MASK_010,(Q,l)=>l%3===0)],[ir.DATA_MASK_011,new Mt(ir.DATA_MASK_011,(Q,l)=>(Q+l)%3===0)],[ir.DATA_MASK_100,new Mt(ir.DATA_MASK_100,(Q,l)=>(Math.floor(Q/2)+Math.floor(l/3)&1)===0)],[ir.DATA_MASK_101,new Mt(ir.DATA_MASK_101,(Q,l)=>Q*l%6===0)],[ir.DATA_MASK_110,new Mt(ir.DATA_MASK_110,(Q,l)=>Q*l%6<3)],[ir.DATA_MASK_111,new Mt(ir.DATA_MASK_111,(Q,l)=>(Q+l+Q*l%3&1)===0)]]);class sl{constructor(l){const h=l.getHeight();if(h<21||(h&3)!==1)throw new O;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let v=0;v<6;v++)l=this.copyBit(v,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let v=5;v>=0;v--)l=this.copyBit(8,v,l);const h=this.bitMatrix.getHeight();let d=0;const y=h-7;for(let v=h-1;v>=y;v--)d=this.copyBit(8,v,d);for(let v=h-8;v<h;v++)d=this.copyBit(v,8,d);if(this.parsedFormatInfo=Or.decodeFormatInformation(l,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new O}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),h=Math.floor((l-17)/4);if(h<=6)return tt.getVersionForNumber(h);let d=0;const y=l-11;for(let x=5;x>=0;x--)for(let E=l-9;E>=y;E--)d=this.copyBit(E,x,d);let v=tt.decodeVersionInformation(d);if(v!==null&&v.getDimensionForVersion()===l)return this.parsedVersion=v,v;d=0;for(let x=5;x>=0;x--)for(let E=l-9;E>=y;E--)d=this.copyBit(x,E,d);if(v=tt.decodeVersionInformation(d),v!==null&&v.getDimensionForVersion()===l)return this.parsedVersion=v,v;throw new O}copyBit(l,h,d){return(this.isMirror?this.bitMatrix.get(h,l):this.bitMatrix.get(l,h))?d<<1|1:d<<1}readCodewords(){const l=this.readFormatInformation(),h=this.readVersion(),d=Mt.values.get(l.getDataMask()),y=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,y);const v=h.buildFunctionPattern();let x=!0;const E=new Uint8Array(h.getTotalCodewords());let N=0,L=0,W=0;for(let Z=y-1;Z>0;Z-=2){Z===6&&Z--;for(let te=0;te<y;te++){const le=x?y-1-te:te;for(let de=0;de<2;de++)v.get(Z-de,le)||(W++,L<<=1,this.bitMatrix.get(Z-de,le)&&(L|=1),W===8&&(E[N++]=L,W=0,L=0))}x=!x}if(N!==h.getTotalCodewords())throw new O;return E}remask(){if(this.parsedFormatInfo===null)return;const l=Mt.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,h)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let h=0,d=l.getWidth();h<d;h++)for(let y=h+1,v=l.getHeight();y<v;y++)l.get(h,y)!==l.get(y,h)&&(l.flip(y,h),l.flip(h,y))}}class eu{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h,d){if(l.length!==h.getTotalCodewords())throw new m;const y=h.getECBlocksForLevel(d);let v=0;const x=y.getECBlocks();for(const de of x)v+=de.getCount();const E=new Array(v);let N=0;for(const de of x)for(let me=0;me<de.getCount();me++){const be=de.getDataCodewords(),Ie=y.getECCodewordsPerBlock()+be;E[N++]=new eu(be,new Uint8Array(Ie))}const L=E[0].codewords.length;let W=E.length-1;for(;W>=0&&E[W].codewords.length!==L;)W--;W++;const Z=L-y.getECCodewordsPerBlock();let te=0;for(let de=0;de<Z;de++)for(let me=0;me<N;me++)E[me].codewords[de]=l[te++];for(let de=W;de<N;de++)E[de].codewords[Z]=l[te++];const le=E[0].codewords.length;for(let de=Z;de<le;de++)for(let me=0;me<N;me++){const be=me<W?de:de+1;E[me].codewords[be]=l[te++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ni;(function(Q){Q[Q.TERMINATOR=0]="TERMINATOR",Q[Q.NUMERIC=1]="NUMERIC",Q[Q.ALPHANUMERIC=2]="ALPHANUMERIC",Q[Q.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Q[Q.BYTE=4]="BYTE",Q[Q.ECI=5]="ECI",Q[Q.KANJI=6]="KANJI",Q[Q.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Q[Q.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Q[Q.HANZI=9]="HANZI"})(Ni||(Ni={}));class vt{constructor(l,h,d,y){this.value=l,this.stringValue=h,this.characterCountBitsForVersions=d,this.bits=y,vt.FOR_BITS.set(y,this),vt.FOR_VALUE.set(l,this)}static forBits(l){const h=vt.FOR_BITS.get(l);if(h===void 0)throw new m;return h}getCharacterCountBits(l){const h=l.getVersionNumber();let d;return h<=9?d=0:h<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof vt))return!1;const h=l;return this.value===h.value}toString(){return this.stringValue}}vt.FOR_BITS=new Map,vt.FOR_VALUE=new Map,vt.TERMINATOR=new vt(Ni.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),vt.NUMERIC=new vt(Ni.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),vt.ALPHANUMERIC=new vt(Ni.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),vt.STRUCTURED_APPEND=new vt(Ni.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),vt.BYTE=new vt(Ni.BYTE,"BYTE",Int32Array.from([8,16,16]),4),vt.ECI=new vt(Ni.ECI,"ECI",Int32Array.from([0,0,0]),7),vt.KANJI=new vt(Ni.KANJI,"KANJI",Int32Array.from([8,10,12]),8),vt.FNC1_FIRST_POSITION=new vt(Ni.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),vt.FNC1_SECOND_POSITION=new vt(Ni.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),vt.HANZI=new vt(Ni.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class er{static decode(l,h,d,y){const v=new Zc(l);let x=new $;const E=new Array;let N=-1,L=-1;try{let W=null,Z=!1,te;do{if(v.available()<4)te=vt.TERMINATOR;else{const le=v.readBits(4);te=vt.forBits(le)}switch(te){case vt.TERMINATOR:break;case vt.FNC1_FIRST_POSITION:case vt.FNC1_SECOND_POSITION:Z=!0;break;case vt.STRUCTURED_APPEND:if(v.available()<16)throw new O;N=v.readBits(8),L=v.readBits(8);break;case vt.ECI:const le=er.parseECIValue(v);if(W=U.getCharacterSetECIByValue(le),W===null)throw new O;break;case vt.HANZI:const de=v.readBits(4),me=v.readBits(te.getCharacterCountBits(h));de===er.GB2312_SUBSET&&er.decodeHanziSegment(v,x,me);break;default:const be=v.readBits(te.getCharacterCountBits(h));switch(te){case vt.NUMERIC:er.decodeNumericSegment(v,x,be);break;case vt.ALPHANUMERIC:er.decodeAlphanumericSegment(v,x,be,Z);break;case vt.BYTE:er.decodeByteSegment(v,x,be,W,E,y);break;case vt.KANJI:er.decodeKanjiSegment(v,x,be);break;default:throw new O}break}}while(te!==vt.TERMINATOR)}catch{throw new O}return new Pe(l,x.toString(),E.length===0?null:E,d===null?null:d.toString(),N,L)}static decodeHanziSegment(l,h,d){if(d*13>l.available())throw new O;const y=new Uint8Array(2*d);let v=0;for(;d>0;){const x=l.readBits(13);let E=x/96<<8&4294967295|x%96;E<959?E+=41377:E+=42657,y[v]=E>>8&255,y[v+1]=E&255,v+=2,d--}try{h.append(q.decode(y,G.GB2312))}catch(x){throw new O(x)}}static decodeKanjiSegment(l,h,d){if(d*13>l.available())throw new O;const y=new Uint8Array(2*d);let v=0;for(;d>0;){const x=l.readBits(13);let E=x/192<<8&4294967295|x%192;E<7936?E+=33088:E+=49472,y[v]=E>>8,y[v+1]=E,v+=2,d--}try{h.append(q.decode(y,G.SHIFT_JIS))}catch(x){throw new O(x)}}static decodeByteSegment(l,h,d,y,v,x){if(8*d>l.available())throw new O;const E=new Uint8Array(d);for(let L=0;L<d;L++)E[L]=l.readBits(8);let N;y===null?N=G.guessEncoding(E,x):N=y.getName();try{h.append(q.decode(E,N))}catch(L){throw new O(L)}v.push(E)}static toAlphaNumericChar(l){if(l>=er.ALPHANUMERIC_CHARS.length)throw new O;return er.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,h,d,y){const v=h.length();for(;d>1;){if(l.available()<11)throw new O;const x=l.readBits(11);h.append(er.toAlphaNumericChar(Math.floor(x/45))),h.append(er.toAlphaNumericChar(x%45)),d-=2}if(d===1){if(l.available()<6)throw new O;h.append(er.toAlphaNumericChar(l.readBits(6)))}if(y)for(let x=v;x<h.length();x++)h.charAt(x)==="%"&&(x<h.length()-1&&h.charAt(x+1)==="%"?h.deleteCharAt(x+1):h.setCharAt(x,""))}static decodeNumericSegment(l,h,d){for(;d>=3;){if(l.available()<10)throw new O;const y=l.readBits(10);if(y>=1e3)throw new O;h.append(er.toAlphaNumericChar(Math.floor(y/100))),h.append(er.toAlphaNumericChar(Math.floor(y/10)%10)),h.append(er.toAlphaNumericChar(y%10)),d-=3}if(d===2){if(l.available()<7)throw new O;const y=l.readBits(7);if(y>=100)throw new O;h.append(er.toAlphaNumericChar(Math.floor(y/10))),h.append(er.toAlphaNumericChar(y%10))}else if(d===1){if(l.available()<4)throw new O;const y=l.readBits(4);if(y>=10)throw new O;h.append(er.toAlphaNumericChar(y))}}static parseECIValue(l){const h=l.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const d=l.readBits(8);return(h&63)<<8&4294967295|d}if((h&224)===192){const d=l.readBits(16);return(h&31)<<16&4294967295|d}throw new O}}er.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",er.GB2312_SUBSET=1;class Ef{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const h=l[0];l[0]=l[2],l[2]=h}}class Sf{constructor(){this.rsDecoder=new Yt(et.QR_CODE_FIELD_256)}decodeBooleanArray(l,h){return this.decodeBitMatrix(ce.parseFromBooleanArray(l),h)}decodeBitMatrix(l,h){const d=new sl(l);let y=null;try{return this.decodeBitMatrixParser(d,h)}catch(v){y=v}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const v=this.decodeBitMatrixParser(d,h);return v.setOther(new Ef(!0)),v}catch(v){throw y!==null?y:v}}decodeBitMatrixParser(l,h){const d=l.readVersion(),y=l.readFormatInformation().getErrorCorrectionLevel(),v=l.readCodewords(),x=eu.getDataBlocks(v,d,y);let E=0;for(const W of x)E+=W.getNumDataCodewords();const N=new Uint8Array(E);let L=0;for(const W of x){const Z=W.getCodewords(),te=W.getNumDataCodewords();this.correctErrors(Z,te);for(let le=0;le<te;le++)N[L++]=Z[le]}return er.decode(N,d,y,h)}correctErrors(l,h){const d=new Int32Array(l);try{this.rsDecoder.decode(d,l.length-h)}catch{throw new A}for(let y=0;y<h;y++)l[y]=d[y]}}class oo extends nt{constructor(l,h,d){super(l,h),this.estimatedModuleSize=d}aboutEquals(l,h,d){if(Math.abs(h-this.getY())<=l&&Math.abs(d-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,h,d){const y=(this.getX()+h)/2,v=(this.getY()+l)/2,x=(this.estimatedModuleSize+d)/2;return new oo(y,v,x)}}class qr{constructor(l,h,d,y,v,x,E){this.image=l,this.startX=h,this.startY=d,this.width=y,this.height=v,this.moduleSize=x,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,h=this.height,d=this.width,y=l+d,v=this.startY+h/2,x=new Int32Array(3),E=this.image;for(let N=0;N<h;N++){const L=v+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));x[0]=0,x[1]=0,x[2]=0;let W=l;for(;W<y&&!E.get(W,L);)W++;let Z=0;for(;W<y;){if(E.get(W,L))if(Z===1)x[1]++;else if(Z===2){if(this.foundPatternCross(x)){const te=this.handlePossibleCenter(x,L,W);if(te!==null)return te}x[0]=x[2],x[1]=1,x[2]=0,Z=1}else x[++Z]++;else Z===1&&Z++,x[Z]++;W++}if(this.foundPatternCross(x)){const te=this.handlePossibleCenter(x,L,y);if(te!==null)return te}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(l,h){return h-l[2]-l[1]/2}foundPatternCross(l){const h=this.moduleSize,d=h/2;for(let y=0;y<3;y++)if(Math.abs(h-l[y])>=d)return!1;return!0}crossCheckVertical(l,h,d,y){const v=this.image,x=v.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let N=l;for(;N>=0&&v.get(h,N)&&E[1]<=d;)E[1]++,N--;if(N<0||E[1]>d)return NaN;for(;N>=0&&!v.get(h,N)&&E[0]<=d;)E[0]++,N--;if(E[0]>d)return NaN;for(N=l+1;N<x&&v.get(h,N)&&E[1]<=d;)E[1]++,N++;if(N===x||E[1]>d)return NaN;for(;N<x&&!v.get(h,N)&&E[2]<=d;)E[2]++,N++;if(E[2]>d)return NaN;const L=E[0]+E[1]+E[2];return 5*Math.abs(L-y)>=2*y?NaN:this.foundPatternCross(E)?qr.centerFromEnd(E,N):NaN}handlePossibleCenter(l,h,d){const y=l[0]+l[1]+l[2],v=qr.centerFromEnd(l,d),x=this.crossCheckVertical(h,v,2*l[1],y);if(!isNaN(x)){const E=(l[0]+l[1]+l[2])/3;for(const L of this.possibleCenters)if(L.aboutEquals(E,x,v))return L.combineEstimate(x,v,E);const N=new oo(v,x,E);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class $s extends nt{constructor(l,h,d,y){super(l,h),this.estimatedModuleSize=d,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,h,d){if(Math.abs(h-this.getY())<=l&&Math.abs(d-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,h,d){const y=this.count+1,v=(this.count*this.getX()+h)/y,x=(this.count*this.getY()+l)/y,E=(this.count*this.estimatedModuleSize+d)/y;return new $s(v,x,E,y)}}class Co{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class sr{constructor(l,h){this.image=l,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const h=l!=null&&l.get(j.TRY_HARDER)!==void 0,d=l!=null&&l.get(j.PURE_BARCODE)!==void 0,y=this.image,v=y.getHeight(),x=y.getWidth();let E=Math.floor(3*v/(4*sr.MAX_MODULES));(E<sr.MIN_SKIP||h)&&(E=sr.MIN_SKIP);let N=!1;const L=new Int32Array(5);for(let Z=E-1;Z<v&&!N;Z+=E){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;let te=0;for(let le=0;le<x;le++)if(y.get(le,Z))(te&1)===1&&te++,L[te]++;else if((te&1)===0)if(te===4)if(sr.foundPatternCross(L)){if(this.handlePossibleCenter(L,Z,le,d)===!0)if(E=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const me=this.findRowSkip();me>L[2]&&(Z+=me-L[2]-E,le=x-1)}else{L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,te=3;continue}te=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,te=3;else L[++te]++;else L[te]++;sr.foundPatternCross(L)&&this.handlePossibleCenter(L,Z,x,d)===!0&&(E=L[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const W=this.selectBestPatterns();return nt.orderBestPatterns(W),new Co(W)}static centerFromEnd(l,h){return h-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let h=0;for(let v=0;v<5;v++){const x=l[v];if(x===0)return!1;h+=x}if(h<7)return!1;const d=h/7,y=d/2;return Math.abs(d-l[0])<y&&Math.abs(d-l[1])<y&&Math.abs(3*d-l[2])<3*y&&Math.abs(d-l[3])<y&&Math.abs(d-l[4])<y}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,h,d,y){const v=this.getCrossCheckStateCount();let x=0;const E=this.image;for(;l>=x&&h>=x&&E.get(h-x,l-x);)v[2]++,x++;if(l<x||h<x)return!1;for(;l>=x&&h>=x&&!E.get(h-x,l-x)&&v[1]<=d;)v[1]++,x++;if(l<x||h<x||v[1]>d)return!1;for(;l>=x&&h>=x&&E.get(h-x,l-x)&&v[0]<=d;)v[0]++,x++;if(v[0]>d)return!1;const N=E.getHeight(),L=E.getWidth();for(x=1;l+x<N&&h+x<L&&E.get(h+x,l+x);)v[2]++,x++;if(l+x>=N||h+x>=L)return!1;for(;l+x<N&&h+x<L&&!E.get(h+x,l+x)&&v[3]<d;)v[3]++,x++;if(l+x>=N||h+x>=L||v[3]>=d)return!1;for(;l+x<N&&h+x<L&&E.get(h+x,l+x)&&v[4]<d;)v[4]++,x++;if(v[4]>=d)return!1;const W=v[0]+v[1]+v[2]+v[3]+v[4];return Math.abs(W-y)<2*y&&sr.foundPatternCross(v)}crossCheckVertical(l,h,d,y){const v=this.image,x=v.getHeight(),E=this.getCrossCheckStateCount();let N=l;for(;N>=0&&v.get(h,N);)E[2]++,N--;if(N<0)return NaN;for(;N>=0&&!v.get(h,N)&&E[1]<=d;)E[1]++,N--;if(N<0||E[1]>d)return NaN;for(;N>=0&&v.get(h,N)&&E[0]<=d;)E[0]++,N--;if(E[0]>d)return NaN;for(N=l+1;N<x&&v.get(h,N);)E[2]++,N++;if(N===x)return NaN;for(;N<x&&!v.get(h,N)&&E[3]<d;)E[3]++,N++;if(N===x||E[3]>=d)return NaN;for(;N<x&&v.get(h,N)&&E[4]<d;)E[4]++,N++;if(E[4]>=d)return NaN;const L=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(L-y)>=2*y?NaN:sr.foundPatternCross(E)?sr.centerFromEnd(E,N):NaN}crossCheckHorizontal(l,h,d,y){const v=this.image,x=v.getWidth(),E=this.getCrossCheckStateCount();let N=l;for(;N>=0&&v.get(N,h);)E[2]++,N--;if(N<0)return NaN;for(;N>=0&&!v.get(N,h)&&E[1]<=d;)E[1]++,N--;if(N<0||E[1]>d)return NaN;for(;N>=0&&v.get(N,h)&&E[0]<=d;)E[0]++,N--;if(E[0]>d)return NaN;for(N=l+1;N<x&&v.get(N,h);)E[2]++,N++;if(N===x)return NaN;for(;N<x&&!v.get(N,h)&&E[3]<d;)E[3]++,N++;if(N===x||E[3]>=d)return NaN;for(;N<x&&v.get(N,h)&&E[4]<d;)E[4]++,N++;if(E[4]>=d)return NaN;const L=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(L-y)>=y?NaN:sr.foundPatternCross(E)?sr.centerFromEnd(E,N):NaN}handlePossibleCenter(l,h,d,y){const v=l[0]+l[1]+l[2]+l[3]+l[4];let x=sr.centerFromEnd(l,d),E=this.crossCheckVertical(h,Math.floor(x),l[2],v);if(!isNaN(E)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(E),l[2],v),!isNaN(x)&&(!y||this.crossCheckDiagonal(Math.floor(E),Math.floor(x),l[2],v)))){const N=v/7;let L=!1;const W=this.possibleCenters;for(let Z=0,te=W.length;Z<te;Z++){const le=W[Z];if(le.aboutEquals(N,E,x)){W[Z]=le.combineEstimate(E,x,N),L=!0;break}}if(!L){const Z=new $s(x,E,N);W.push(Z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const d of this.possibleCenters)if(d.getCount()>=sr.CENTER_QUORUM)if(h==null)h=d;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-d.getX())-Math.abs(h.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,h=0;const d=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=sr.CENTER_QUORUM&&(l++,h+=x.getEstimatedModuleSize());if(l<3)return!1;const y=h/d;let v=0;for(const x of this.possibleCenters)v+=Math.abs(x.getEstimatedModuleSize()-y);return v<=.05*h}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new J;const h=this.possibleCenters;let d;if(l>3){let y=0,v=0;for(const N of this.possibleCenters){const L=N.getEstimatedModuleSize();y+=L,v+=L*L}d=y/l;let x=Math.sqrt(v/l-d*d);h.sort((N,L)=>{const W=Math.abs(L.getEstimatedModuleSize()-d),Z=Math.abs(N.getEstimatedModuleSize()-d);return W<Z?-1:W>Z?1:0});const E=Math.max(.2*d,x);for(let N=0;N<h.length&&h.length>3;N++){const L=h[N];Math.abs(L.getEstimatedModuleSize()-d)>E&&(h.splice(N,1),N--)}}if(h.length>3){let y=0;for(const v of h)y+=v.getEstimatedModuleSize();d=y/h.length,h.sort((v,x)=>{if(x.getCount()===v.getCount()){const E=Math.abs(x.getEstimatedModuleSize()-d),N=Math.abs(v.getEstimatedModuleSize()-d);return E<N?1:E>N?-1:0}else return x.getCount()-v.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}sr.CENTER_QUORUM=2,sr.MIN_SKIP=3,sr.MAX_MODULES=57;class Wi{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(j.NEED_RESULT_POINT_CALLBACK);const d=new sr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(d)}processFinderPatternInfo(l){const h=l.getTopLeft(),d=l.getTopRight(),y=l.getBottomLeft(),v=this.calculateModuleSize(h,d,y);if(v<1)throw new J("No pattern found in proccess finder.");const x=Wi.computeDimension(h,d,y,v),E=tt.getProvisionalVersionForDimension(x),N=E.getDimensionForVersion()-7;let L=null;if(E.getAlignmentPatternCenters().length>0){const le=d.getX()-h.getX()+y.getX(),de=d.getY()-h.getY()+y.getY(),me=1-3/N,be=Math.floor(h.getX()+me*(le-h.getX())),Ie=Math.floor(h.getY()+me*(de-h.getY()));for(let Ke=4;Ke<=16;Ke<<=1)try{L=this.findAlignmentInRegion(v,be,Ie,Ke);break}catch(Ye){if(!(Ye instanceof J))throw Ye}}const W=Wi.createTransform(h,d,y,L,x),Z=Wi.sampleGrid(this.image,W,x);let te;return L===null?te=[y,h,d]:te=[y,h,d,L],new Tn(Z,te)}static createTransform(l,h,d,y,v){const x=v-3.5;let E,N,L,W;return y!==null?(E=y.getX(),N=y.getY(),L=x-3,W=L):(E=h.getX()-l.getX()+d.getX(),N=h.getY()-l.getY()+d.getY(),L=x,W=x),cn.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,L,W,3.5,x,l.getX(),l.getY(),h.getX(),h.getY(),E,N,d.getX(),d.getY())}static sampleGrid(l,h,d){return oi.getInstance().sampleGridWithTransform(l,d,d,h)}static computeDimension(l,h,d,y){const v=wt.round(nt.distance(l,h)/y),x=wt.round(nt.distance(l,d)/y);let E=Math.floor((v+x)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new J("Dimensions could be not found.")}return E}calculateModuleSize(l,h,d){return(this.calculateModuleSizeOneWay(l,h)+this.calculateModuleSizeOneWay(l,d))/2}calculateModuleSizeOneWay(l,h){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(h.getX()),Math.floor(h.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(d)?y/7:isNaN(y)?d/7:(d+y)/14}sizeOfBlackWhiteBlackRunBothWays(l,h,d,y){let v=this.sizeOfBlackWhiteBlackRun(l,h,d,y),x=1,E=l-(d-l);E<0?(x=l/(l-E),E=0):E>=this.image.getWidth()&&(x=(this.image.getWidth()-1-l)/(E-l),E=this.image.getWidth()-1);let N=Math.floor(h-(y-h)*x);return x=1,N<0?(x=h/(h-N),N=0):N>=this.image.getHeight()&&(x=(this.image.getHeight()-1-h)/(N-h),N=this.image.getHeight()-1),E=Math.floor(l+(E-l)*x),v+=this.sizeOfBlackWhiteBlackRun(l,h,E,N),v-1}sizeOfBlackWhiteBlackRun(l,h,d,y){const v=Math.abs(y-h)>Math.abs(d-l);if(v){let le=l;l=h,h=le,le=d,d=y,y=le}const x=Math.abs(d-l),E=Math.abs(y-h);let N=-x/2;const L=l<d?1:-1,W=h<y?1:-1;let Z=0;const te=d+L;for(let le=l,de=h;le!==te;le+=L){const me=v?de:le,be=v?le:de;if(Z===1===this.image.get(me,be)){if(Z===2)return wt.distance(le,de,l,h);Z++}if(N+=E,N>0){if(de===y)break;de+=W,N-=x}}return Z===2?wt.distance(d+L,y,l,h):NaN}findAlignmentInRegion(l,h,d,y){const v=Math.floor(y*l),x=Math.max(0,h-v),E=Math.min(this.image.getWidth()-1,h+v);if(E-x<l*3)throw new J("Alignment top exceeds estimated module size.");const N=Math.max(0,d-v),L=Math.min(this.image.getHeight()-1,d+v);if(L-N<l*3)throw new J("Alignment bottom exceeds estimated module size.");return new qr(this.image,x,N,E-x,L-N,l,this.resultPointCallback).find()}}class Oi{constructor(){this.decoder=new Sf}getDecoder(){return this.decoder}decode(l,h){let d,y;if(h!=null&&h.get(j.PURE_BARCODE)!==void 0){const N=Oi.extractPureBits(l.getBlackMatrix());d=this.decoder.decodeBitMatrix(N,h),y=Oi.NO_POINTS}else{const N=new Wi(l.getBlackMatrix()).detect(h);d=this.decoder.decodeBitMatrix(N.getBits(),h),y=N.getPoints()}d.getOther()instanceof Ef&&d.getOther().applyMirroredCorrection(y);const v=new Re(d.getText(),d.getRawBytes(),void 0,y,Me.QR_CODE,void 0),x=d.getByteSegments();x!==null&&v.putMetadata(De.BYTE_SEGMENTS,x);const E=d.getECLevel();return E!==null&&v.putMetadata(De.ERROR_CORRECTION_LEVEL,E),d.hasStructuredAppend()&&(v.putMetadata(De.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),v.putMetadata(De.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),v}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),d=l.getBottomRightOnBit();if(h===null||d===null)throw new J;const y=this.moduleSize(h,l);let v=h[1],x=d[1],E=h[0],N=d[0];if(E>=N||v>=x)throw new J;if(x-v!==N-E&&(N=E+(x-v),N>=l.getWidth()))throw new J;const L=Math.round((N-E+1)/y),W=Math.round((x-v+1)/y);if(L<=0||W<=0)throw new J;if(W!==L)throw new J;const Z=Math.floor(y/2);v+=Z,E+=Z;const te=E+Math.floor((L-1)*y)-N;if(te>0){if(te>Z)throw new J;E-=te}const le=v+Math.floor((W-1)*y)-x;if(le>0){if(le>Z)throw new J;v-=le}const de=new ce(L,W);for(let me=0;me<W;me++){const be=v+Math.floor(me*y);for(let Ie=0;Ie<L;Ie++)l.get(E+Math.floor(Ie*y),be)&&de.set(Ie,me)}return de}static moduleSize(l,h){const d=h.getHeight(),y=h.getWidth();let v=l[0],x=l[1],E=!0,N=0;for(;v<y&&x<d;){if(E!==h.get(v,x)){if(++N===5)break;E=!E}v++,x++}if(v===y||x===d)throw new J;return(v-l[0])/7}}Oi.NO_POINTS=new Array;class St{PDF417Common(){}static getBitCountSum(l){return wt.sum(l)}static toIntArray(l){if(l==null||!l.length)return St.EMPTY_INT_ARRAY;const h=new Int32Array(l.length);let d=0;for(const y of l)h[d++]=y;return h}static getCodeword(l){const h=B.binarySearch(St.SYMBOL_TABLE,l&262143);return h<0?-1:(St.CODEWORD_TABLE[h]-1)%St.NUMBER_OF_CODEWORDS}}St.NUMBER_OF_CODEWORDS=929,St.MAX_CODEWORDS_IN_BARCODE=St.NUMBER_OF_CODEWORDS-1,St.MIN_ROWS_IN_BARCODE=3,St.MAX_ROWS_IN_BARCODE=90,St.MODULES_IN_CODEWORD=17,St.MODULES_IN_STOP_PATTERN=18,St.BARS_IN_MODULE=8,St.EMPTY_INT_ARRAY=new Int32Array([]),St.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),St.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class cd{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Et{static detectMultiple(l,h,d){let y=l.getBlackMatrix(),v=Et.detect(d,y);return v.length||(y=y.clone(),y.rotate180(),v=Et.detect(d,y)),new cd(y,v)}static detect(l,h){const d=new Array;let y=0,v=0,x=!1;for(;y<h.getHeight();){const E=Et.findVertices(h,y,v);if(E[0]==null&&E[3]==null){if(!x)break;x=!1,v=0;for(const N of d)N[1]!=null&&(y=Math.trunc(Math.max(y,N[1].getY()))),N[3]!=null&&(y=Math.max(y,Math.trunc(N[3].getY())));y+=Et.ROW_STEP;continue}if(x=!0,d.push(E),!l)break;E[2]!=null?(v=Math.trunc(E[2].getX()),y=Math.trunc(E[2].getY())):(v=Math.trunc(E[4].getX()),y=Math.trunc(E[4].getY()))}return d}static findVertices(l,h,d){const y=l.getHeight(),v=l.getWidth(),x=new Array(8);return Et.copyToResult(x,Et.findRowsWithPattern(l,y,v,h,d,Et.START_PATTERN),Et.INDEXES_START_PATTERN),x[4]!=null&&(d=Math.trunc(x[4].getX()),h=Math.trunc(x[4].getY())),Et.copyToResult(x,Et.findRowsWithPattern(l,y,v,h,d,Et.STOP_PATTERN),Et.INDEXES_STOP_PATTERN),x}static copyToResult(l,h,d){for(let y=0;y<d.length;y++)l[d[y]]=h[y]}static findRowsWithPattern(l,h,d,y,v,x){const E=new Array(4);let N=!1;const L=new Int32Array(x.length);for(;y<h;y+=Et.ROW_STEP){let Z=Et.findGuardPattern(l,v,y,d,!1,x,L);if(Z!=null){for(;y>0;){const te=Et.findGuardPattern(l,v,--y,d,!1,x,L);if(te!=null)Z=te;else{y++;break}}E[0]=new nt(Z[0],y),E[1]=new nt(Z[1],y),N=!0;break}}let W=y+1;if(N){let Z=0,te=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;W<h;W++){const le=Et.findGuardPattern(l,te[0],W,d,!1,x,L);if(le!=null&&Math.abs(te[0]-le[0])<Et.MAX_PATTERN_DRIFT&&Math.abs(te[1]-le[1])<Et.MAX_PATTERN_DRIFT)te=le,Z=0;else{if(Z>Et.SKIPPED_ROW_COUNT_MAX)break;Z++}}W-=Z+1,E[2]=new nt(te[0],W),E[3]=new nt(te[1],W)}return W-y<Et.BARCODE_MIN_HEIGHT&&B.fill(E,null),E}static findGuardPattern(l,h,d,y,v,x,E){B.fillWithin(E,0,E.length,0);let N=h,L=0;for(;l.get(N,d)&&N>0&&L++<Et.MAX_PIXEL_DRIFT;)N--;let W=N,Z=0,te=x.length;for(let le=v;W<y;W++)if(l.get(W,d)!==le)E[Z]++;else{if(Z===te-1){if(Et.patternMatchVariance(E,x,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return new Int32Array([N,W]);N+=E[0]+E[1],T.arraycopy(E,2,E,0,Z-1),E[Z-1]=0,E[Z]=0,Z--}else Z++;E[Z]=1,le=!le}return Z===te-1&&Et.patternMatchVariance(E,x,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE?new Int32Array([N,W-1]):null}static patternMatchVariance(l,h,d){let y=l.length,v=0,x=0;for(let L=0;L<y;L++)v+=l[L],x+=h[L];if(v<x)return 1/0;let E=v/x;d*=E;let N=0;for(let L=0;L<y;L++){let W=l[L],Z=h[L]*E,te=W>Z?W-Z:Z-W;if(te>d)return 1/0;N+=te}return N/v}}Et.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Et.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Et.MAX_AVG_VARIANCE=.42,Et.MAX_INDIVIDUAL_VARIANCE=.8,Et.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Et.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Et.MAX_PIXEL_DRIFT=3,Et.MAX_PATTERN_DRIFT=5,Et.SKIPPED_ROW_COUNT_MAX=25,Et.ROW_STEP=5,Et.BARCODE_MIN_HEIGHT=10;class ui{constructor(l,h){if(h.length===0)throw new m;this.field=l;let d=h.length;if(d>1&&h[0]===0){let y=1;for(;y<d&&h[y]===0;)y++;y===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-y),T.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let y=0;for(let v of this.coefficients)y=this.field.add(y,v);return y}let h=this.coefficients[0],d=this.coefficients.length;for(let y=1;y<d;y++)h=this.field.add(this.field.multiply(l,h),this.coefficients[y]);return h}add(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,d=l.coefficients;if(h.length>d.length){let x=h;h=d,d=x}let y=new Int32Array(d.length),v=d.length-h.length;T.arraycopy(d,0,y,0,v);for(let x=v;x<d.length;x++)y[x]=this.field.add(h[x-v],d[x]);return new ui(this.field,y)}subtract(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof ui?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new ui(this.field,new Int32Array([0]));let h=this.coefficients,d=h.length,y=l.coefficients,v=y.length,x=new Int32Array(d+v-1);for(let E=0;E<d;E++){let N=h[E];for(let L=0;L<v;L++)x[E+L]=this.field.add(x[E+L],this.field.multiply(N,y[L]))}return new ui(this.field,x)}negative(){let l=this.coefficients.length,h=new Int32Array(l);for(let d=0;d<l;d++)h[d]=this.field.subtract(0,this.coefficients[d]);return new ui(this.field,h)}multiplyScalar(l){if(l===0)return new ui(this.field,new Int32Array([0]));if(l===1)return this;let h=this.coefficients.length,d=new Int32Array(h);for(let y=0;y<h;y++)d[y]=this.field.multiply(this.coefficients[y],l);return new ui(this.field,d)}multiplyByMonomial(l,h){if(l<0)throw new m;if(h===0)return new ui(this.field,new Int32Array([0]));let d=this.coefficients.length,y=new Int32Array(d+l);for(let v=0;v<d;v++)y[v]=this.field.multiply(this.coefficients[v],h);return new ui(this.field,y)}toString(){let l=new $;for(let h=this.getDegree();h>=0;h--){let d=this.getCoefficient(h);d!==0&&(d<0?(l.append(" - "),d=-d):l.length()>0&&l.append(" + "),(h===0||d!==1)&&l.append(d),h!==0&&(h===1?l.append("x"):(l.append("x^"),l.append(h))))}return l.toString()}}class ud{add(l,h){return(l+h)%this.modulus}subtract(l,h){return(this.modulus+l-h)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}inverse(l){if(l===0)throw new _e;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Io extends ud{constructor(l,h){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let d=1;for(let y=0;y<l;y++)this.expTable[y]=d,d=d*h%l;for(let y=0;y<l-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new ui(this,new Int32Array([0])),this.one=new ui(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new m;if(h===0)return this.zero;let d=new Int32Array(l+1);return d[0]=h,new ui(this,d)}}Io.PDF417_GF=new Io(St.NUMBER_OF_CODEWORDS,3);class ol{constructor(){this.field=Io.PDF417_GF}decode(l,h,d){let y=new ui(this.field,l),v=new Int32Array(h),x=!1;for(let de=h;de>0;de--){let me=y.evaluateAt(this.field.exp(de));v[h-de]=me,me!==0&&(x=!0)}if(!x)return 0;let E=this.field.getOne();if(d!=null)for(const de of d){let me=this.field.exp(l.length-1-de),be=new ui(this.field,new Int32Array([this.field.subtract(0,me),1]));E=E.multiply(be)}let N=new ui(this.field,v),L=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),N,h),W=L[0],Z=L[1],te=this.findErrorLocations(W),le=this.findErrorMagnitudes(Z,W,te);for(let de=0;de<te.length;de++){let me=l.length-1-this.field.log(te[de]);if(me<0)throw A.getChecksumInstance();l[me]=this.field.subtract(l[me],le[de])}return te.length}runEuclideanAlgorithm(l,h,d){if(l.getDegree()<h.getDegree()){let te=l;l=h,h=te}let y=l,v=h,x=this.field.getZero(),E=this.field.getOne();for(;v.getDegree()>=Math.round(d/2);){let te=y,le=x;if(y=v,x=E,y.isZero())throw A.getChecksumInstance();v=te;let de=this.field.getZero(),me=y.getCoefficient(y.getDegree()),be=this.field.inverse(me);for(;v.getDegree()>=y.getDegree()&&!v.isZero();){let Ie=v.getDegree()-y.getDegree(),Ke=this.field.multiply(v.getCoefficient(v.getDegree()),be);de=de.add(this.field.buildMonomial(Ie,Ke)),v=v.subtract(y.multiplyByMonomial(Ie,Ke))}E=de.multiply(x).subtract(le).negative()}let N=E.getCoefficient(0);if(N===0)throw A.getChecksumInstance();let L=this.field.inverse(N),W=E.multiply(L),Z=v.multiply(L);return[W,Z]}findErrorLocations(l){let h=l.getDegree(),d=new Int32Array(h),y=0;for(let v=1;v<this.field.getSize()&&y<h;v++)l.evaluateAt(v)===0&&(d[y]=this.field.inverse(v),y++);if(y!==h)throw A.getChecksumInstance();return d}findErrorMagnitudes(l,h,d){let y=h.getDegree(),v=new Int32Array(y);for(let L=1;L<=y;L++)v[y-L]=this.field.multiply(L,h.getCoefficient(L));let x=new ui(this.field,v),E=d.length,N=new Int32Array(E);for(let L=0;L<E;L++){let W=this.field.inverse(d[L]),Z=this.field.subtract(0,l.evaluateAt(W)),te=this.field.inverse(x.evaluateAt(W));N[L]=this.field.multiply(Z,te)}return N}}class Zo{constructor(l,h,d,y,v){l instanceof Zo?this.constructor_2(l):this.constructor_1(l,h,d,y,v)}constructor_1(l,h,d,y,v){const x=h==null||d==null,E=y==null||v==null;if(x&&E)throw new J;x?(h=new nt(0,y.getY()),d=new nt(0,v.getY())):E&&(y=new nt(l.getWidth()-1,h.getY()),v=new nt(l.getWidth()-1,d.getY())),this.image=l,this.topLeft=h,this.bottomLeft=d,this.topRight=y,this.bottomRight=v,this.minX=Math.trunc(Math.min(h.getX(),d.getX())),this.maxX=Math.trunc(Math.max(y.getX(),v.getX())),this.minY=Math.trunc(Math.min(h.getY(),y.getY())),this.maxY=Math.trunc(Math.max(d.getY(),v.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,h){return l==null?h:h==null?l:new Zo(l.image,l.topLeft,l.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(l,h,d){let y=this.topLeft,v=this.bottomLeft,x=this.topRight,E=this.bottomRight;if(l>0){let N=d?this.topLeft:this.topRight,L=Math.trunc(N.getY()-l);L<0&&(L=0);let W=new nt(N.getX(),L);d?y=W:x=W}if(h>0){let N=d?this.bottomLeft:this.bottomRight,L=Math.trunc(N.getY()+h);L>=this.image.getHeight()&&(L=this.image.getHeight()-1);let W=new nt(N.getX(),L);d?v=W:E=W}return new Zo(this.image,y,v,x,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Po{constructor(l,h,d,y){this.columnCount=l,this.errorCorrectionLevel=y,this.rowCountUpperPart=h,this.rowCountLowerPart=d,this.rowCount=h+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class os{constructor(){this.buffer=""}static form(l,h){let d=-1;function y(x,E,N,L,W,Z){if(x==="%%")return"%";if(h[++d]===void 0)return;x=L?parseInt(L.substr(1)):void 0;let te=W?parseInt(W.substr(1)):void 0,le;switch(Z){case"s":le=h[d];break;case"c":le=h[d][0];break;case"f":le=parseFloat(h[d]).toFixed(x);break;case"p":le=parseFloat(h[d]).toPrecision(x);break;case"e":le=parseFloat(h[d]).toExponential(x);break;case"x":le=parseInt(h[d]).toString(te||16);break;case"d":le=parseFloat(parseInt(h[d],te||10).toPrecision(x)).toFixed(0);break}le=typeof le=="object"?JSON.stringify(le):(+le).toString(te);let de=parseInt(N),me=N&&N[0]+""=="0"?"0":" ";for(;le.length<de;)le=E!==void 0?le+me:me+le;return le}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(v,y)}format(l,...h){this.buffer+=os.form(l,h)}toString(){return this.buffer}}class Gs{constructor(l){this.boundingBox=new Zo(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let h=this.getCodeword(l);if(h!=null)return h;for(let d=1;d<Gs.MAX_NEARBY_DISTANCE;d++){let y=this.imageRowToCodewordIndex(l)-d;if(y>=0&&(h=this.codewords[y],h!=null)||(y=this.imageRowToCodewordIndex(l)+d,y<this.codewords.length&&(h=this.codewords[y],h!=null)))return h}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,h){this.codewords[this.imageRowToCodewordIndex(l)]=h}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new os;let h=0;for(const d of this.codewords){if(d==null){l.format("%3d:    |   %n",h++);continue}l.format("%3d: %3d|%3d%n",h++,d.getRowNumber(),d.getValue())}return l.toString()}}Gs.MAX_NEARBY_DISTANCE=5;class ao{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let h=this.values.get(l);h==null&&(h=0),h++,this.values.set(l,h)}getValue(){let l=-1,h=new Array;for(const[d,y]of this.values.entries()){const v={getKey:()=>d,getValue:()=>y};v.getValue()>l?(l=v.getValue(),h=[],h.push(v.getKey())):v.getValue()===l&&h.push(v.getKey())}return St.toIntArray(h)}getConfidence(l){return this.values.get(l)}}class or extends Gs{constructor(l,h){super(l),this._isLeft=h}setRowNumbers(){for(let l of this.getCodewords())l?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,l);let d=this.getBoundingBox(),y=this._isLeft?d.getTopLeft():d.getTopRight(),v=this._isLeft?d.getBottomLeft():d.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(y.getY())),E=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=-1,L=1,W=0;for(let Z=x;Z<E;Z++){if(h[Z]==null)continue;let te=h[Z],le=te.getRowNumber()-N;if(le===0)W++;else if(le===1)L=Math.max(L,W),W=1,N=te.getRowNumber();else if(le<0||te.getRowNumber()>=l.getRowCount()||le>Z)h[Z]=null;else{let de;L>2?de=(L-2)*le:de=le;let me=de>=Z;for(let be=1;be<=de&&!me;be++)me=h[Z-be]!=null;me?h[Z]=null:(N=te.getRowNumber(),W=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let h=new Int32Array(l.getRowCount());for(let d of this.getCodewords())if(d!=null){let y=d.getRowNumber();if(y>=h.length)continue;h[y]++}return h}adjustIncompleteIndicatorColumnRowNumbers(l){let h=this.getBoundingBox(),d=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(d.getY())),x=this.imageRowToCodewordIndex(Math.trunc(y.getY())),E=this.getCodewords(),N=-1;for(let L=v;L<x;L++){if(E[L]==null)continue;let W=E[L];W.setRowNumberAsRowIndicatorColumn();let Z=W.getRowNumber()-N;Z===0||(Z===1?N=W.getRowNumber():W.getRowNumber()>=l.getRowCount()?E[L]=null:N=W.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),h=new ao,d=new ao,y=new ao,v=new ao;for(let E of l){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let N=E.getValue()%30,L=E.getRowNumber();switch(this._isLeft||(L+=2),L%3){case 0:d.setValue(N*3+1);break;case 1:v.setValue(N/3),y.setValue(N%3);break;case 2:h.setValue(N+1);break}}if(h.getValue().length===0||d.getValue().length===0||y.getValue().length===0||v.getValue().length===0||h.getValue()[0]<1||d.getValue()[0]+y.getValue()[0]<St.MIN_ROWS_IN_BARCODE||d.getValue()[0]+y.getValue()[0]>St.MAX_ROWS_IN_BARCODE)return null;let x=new Po(h.getValue()[0],d.getValue()[0],y.getValue()[0],v.getValue()[0]);return this.removeIncorrectCodewords(l,x),x}removeIncorrectCodewords(l,h){for(let d=0;d<l.length;d++){let y=l[d];if(l[d]==null)continue;let v=y.getValue()%30,x=y.getRowNumber();if(x>h.getRowCount()){l[d]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:v*3+1!==h.getRowCountUpperPart()&&(l[d]=null);break;case 1:(Math.trunc(v/3)!==h.getErrorCorrectionLevel()||v%3!==h.getRowCountLowerPart())&&(l[d]=null);break;case 2:v+1!==h.getColumnCount()&&(l[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Wl{constructor(l,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=St.MAX_CODEWORDS_IN_BARCODE,h;do h=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let d=this.detectionResultColumns[h].getCodewords();for(let y=0;y<d.length;y++)d[y]!=null&&(d[y].hasValidRowNumber()||this.adjustRowNumbers(h,y,d))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<l.length;d++)if(l[d]!=null&&h[d]!=null&&l[d].getRowNumber()===h[d].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let v=this.detectionResultColumns[y].getCodewords()[d];v!=null&&(v.setRowNumber(l[d].getRowNumber()),v.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<h.length;d++){if(h[d]==null)continue;let y=h[d].getRowNumber(),v=0;for(let x=this.barcodeColumnCount+1;x>0&&v<this.ADJUST_ROW_NUMBER_SKIP;x--){let E=this.detectionResultColumns[x].getCodewords()[d];E!=null&&(v=Wl.adjustRowNumberIfValid(y,v,E),E.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,h=this.detectionResultColumns[0].getCodewords();for(let d=0;d<h.length;d++){if(h[d]==null)continue;let y=h[d].getRowNumber(),v=0;for(let x=1;x<this.barcodeColumnCount+1&&v<this.ADJUST_ROW_NUMBER_SKIP;x++){let E=this.detectionResultColumns[x].getCodewords()[d];E!=null&&(v=Wl.adjustRowNumberIfValid(y,v,E),E.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,h,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(l)?(d.setRowNumber(l),h=0):++h),h}adjustRowNumbers(l,h,d){if(!this.detectionResultColumns[l-1])return;let y=d[h],v=this.detectionResultColumns[l-1].getCodewords(),x=v;this.detectionResultColumns[l+1]!=null&&(x=this.detectionResultColumns[l+1].getCodewords());let E=new Array(14);E[2]=v[h],E[3]=x[h],h>0&&(E[0]=d[h-1],E[4]=v[h-1],E[5]=x[h-1]),h>1&&(E[8]=d[h-2],E[10]=v[h-2],E[11]=x[h-2]),h<d.length-1&&(E[1]=d[h+1],E[6]=v[h+1],E[7]=x[h+1]),h<d.length-2&&(E[9]=d[h+2],E[12]=v[h+2],E[13]=x[h+2]);for(let N of E)if(Wl.adjustRowNumber(y,N))return}static adjustRowNumber(l,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===l.getBucket()?(l.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,h){this.detectionResultColumns[l]=h}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new os;for(let d=0;d<l.getCodewords().length;d++){h.format("CW %3d:",d);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){h.format("    |   ");continue}let v=this.detectionResultColumns[y].getCodewords()[d];if(v==null){h.format("    |   ");continue}h.format(" %3d|%3d",v.getRowNumber(),v.getValue())}h.format("%n")}return h.toString()}}class _a{constructor(l,h,d,y){this.rowNumber=_a.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(h),this.bucket=Math.trunc(d),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==_a.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}_a.BARCODE_ROW_UNKNOWN=-1;class Kr{static initialize(){for(let l=0;l<St.SYMBOL_TABLE.length;l++){let h=St.SYMBOL_TABLE[l],d=h&1;for(let y=0;y<St.BARS_IN_MODULE;y++){let v=0;for(;(h&1)===d;)v+=1,h>>=1;d=h&1,Kr.RATIOS_TABLE[l]||(Kr.RATIOS_TABLE[l]=new Array(St.BARS_IN_MODULE)),Kr.RATIOS_TABLE[l][St.BARS_IN_MODULE-y-1]=Math.fround(v/St.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let h=Kr.getDecodedCodewordValue(Kr.sampleBitCounts(l));return h!==-1?h:Kr.getClosestDecodedValue(l)}static sampleBitCounts(l){let h=wt.sum(l),d=new Int32Array(St.BARS_IN_MODULE),y=0,v=0;for(let x=0;x<St.MODULES_IN_CODEWORD;x++){let E=h/(2*St.MODULES_IN_CODEWORD)+x*h/St.MODULES_IN_CODEWORD;v+l[y]<=E&&(v+=l[y],y++),d[y]++}return d}static getDecodedCodewordValue(l){let h=Kr.getBitValue(l);return St.getCodeword(h)===-1?-1:h}static getBitValue(l){let h=0;for(let d=0;d<l.length;d++)for(let y=0;y<l[d];y++)h=h<<1|(d%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(l){let h=wt.sum(l),d=new Array(St.BARS_IN_MODULE);if(h>1)for(let x=0;x<d.length;x++)d[x]=Math.fround(l[x]/h);let y=ii.MAX_VALUE,v=-1;this.bSymbolTableReady||Kr.initialize();for(let x=0;x<Kr.RATIOS_TABLE.length;x++){let E=0,N=Kr.RATIOS_TABLE[x];for(let L=0;L<St.BARS_IN_MODULE;L++){let W=Math.fround(N[L]-d[L]);if(E+=Math.fround(W*W),E>=y)break}E<y&&(y=E,v=St.SYMBOL_TABLE[x])}return v}}Kr.bSymbolTableReady=!1,Kr.RATIOS_TABLE=new Array(St.SYMBOL_TABLE.length).map(Q=>new Array(St.BARS_IN_MODULE));class ql{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class tu{static parseLong(l,h=void 0){return parseInt(l,h)}}class Es extends u{}Es.kind="NullPointerException";class nu{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,h,d){if(l==null)throw new Es;if(h<0||h>l.length||d<0||h+d>l.length||h+d<0)throw new C;if(d===0)return;for(let y=0;y<d;y++)this.write(l[h+y])}flush(){}close(){}}class Ss extends u{}class Tf extends nu{constructor(l=32){if(super(),this.count=0,l<0)throw new m("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let d=this.buf.length<<1;if(d-l<0&&(d=l),d<0){if(l<0)throw new Ss;d=k.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,d)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,h,d){if(h<0||h>l.length||d<0||h+d-l.length>0)throw new C;this.ensureCapacity(this.count+d),T.arraycopy(l,h,this.buf,this.count,d),this.count+=d}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var xn;(function(Q){Q[Q.ALPHA=0]="ALPHA",Q[Q.LOWER=1]="LOWER",Q[Q.MIXED=2]="MIXED",Q[Q.PUNCT=3]="PUNCT",Q[Q.ALPHA_SHIFT=4]="ALPHA_SHIFT",Q[Q.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(xn||(xn={}));function No(){if(typeof window<"u")return window.BigInt||null;if(typeof ju<"u")return ju.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let al;function ur(Q){if(typeof al>"u"&&(al=No()),al===null)throw new Error("BigInt is not supported!");return al(Q)}function Oo(){let Q=[];Q[0]=ur(1);let l=ur(900);Q[1]=l;for(let h=2;h<16;h++)Q[h]=Q[h-1]*l;return Q}class Ce{static decode(l,h){let d=new $(""),y=U.ISO8859_1;d.enableDecoding(y);let v=1,x=l[v++],E=new ql;for(;v<l[0];){switch(x){case Ce.TEXT_COMPACTION_MODE_LATCH:v=Ce.textCompaction(l,v,d);break;case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:v=Ce.byteCompaction(x,l,y,v,d);break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(l[v++]);break;case Ce.NUMERIC_COMPACTION_MODE_LATCH:v=Ce.numericCompaction(l,v,d);break;case Ce.ECI_CHARSET:U.getCharacterSetECIByValue(l[v++]);break;case Ce.ECI_GENERAL_PURPOSE:v+=2;break;case Ce.ECI_USER_DEFINED:v++;break;case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:v=Ce.decodeMacroBlock(l,v,E);break;case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:throw new O;default:v--,v=Ce.textCompaction(l,v,d);break}if(v<l.length)x=l[v++];else throw O.getFormatInstance()}if(d.length()===0)throw O.getFormatInstance();let N=new Pe(null,d.toString(),null,h);return N.setOther(E),N}static decodeMacroBlock(l,h,d){if(h+Ce.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw O.getFormatInstance();let y=new Int32Array(Ce.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Ce.NUMBER_OF_SEQUENCE_CODEWORDS;E++,h++)y[E]=l[h];d.setSegmentIndex(k.parseInt(Ce.decodeBase900toBase10(y,Ce.NUMBER_OF_SEQUENCE_CODEWORDS)));let v=new $;h=Ce.textCompaction(l,h,v),d.setFileId(v.toString());let x=-1;for(l[h]===Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=h+1);h<l[0];)switch(l[h]){case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,l[h]){case Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new $;h=Ce.textCompaction(l,h+1,E),d.setFileName(E.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new $;h=Ce.textCompaction(l,h+1,N),d.setSender(N.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let L=new $;h=Ce.textCompaction(l,h+1,L),d.setAddressee(L.toString());break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let W=new $;h=Ce.numericCompaction(l,h+1,W),d.setSegmentCount(k.parseInt(W.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Z=new $;h=Ce.numericCompaction(l,h+1,Z),d.setTimestamp(tu.parseLong(Z.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let te=new $;h=Ce.numericCompaction(l,h+1,te),d.setChecksum(k.parseInt(te.toString()));break;case Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let le=new $;h=Ce.numericCompaction(l,h+1,le),d.setFileSize(tu.parseLong(le.toString()));break;default:throw O.getFormatInstance()}break;case Ce.MACRO_PDF417_TERMINATOR:h++,d.setLastSegment(!0);break;default:throw O.getFormatInstance()}if(x!==-1){let E=h-x;d.isLastSegment()&&E--,d.setOptionalData(B.copyOfRange(l,x,x+E))}return h}static textCompaction(l,h,d){let y=new Int32Array((l[0]-h)*2),v=new Int32Array((l[0]-h)*2),x=0,E=!1;for(;h<l[0]&&!E;){let N=l[h++];if(N<Ce.TEXT_COMPACTION_MODE_LATCH)y[x]=N/30,y[x+1]=N%30,x+=2;else switch(N){case Ce.TEXT_COMPACTION_MODE_LATCH:y[x++]=Ce.TEXT_COMPACTION_MODE_LATCH;break;case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:h--,E=!0;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[x]=Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=l[h++],v[x]=N,x++;break}}return Ce.decodeTextCompaction(y,v,x,d),h}static decodeTextCompaction(l,h,d,y){let v=xn.ALPHA,x=xn.ALPHA,E=0;for(;E<d;){let N=l[E],L="";switch(v){case xn.ALPHA:if(N<26)L=String.fromCharCode(65+N);else switch(N){case 26:L=" ";break;case Ce.LL:v=xn.LOWER;break;case Ce.ML:v=xn.MIXED;break;case Ce.PS:x=v,v=xn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.LOWER:if(N<26)L=String.fromCharCode(97+N);else switch(N){case 26:L=" ";break;case Ce.AS:x=v,v=xn.ALPHA_SHIFT;break;case Ce.ML:v=xn.MIXED;break;case Ce.PS:x=v,v=xn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.MIXED:if(N<Ce.PL)L=Ce.MIXED_CHARS[N];else switch(N){case Ce.PL:v=xn.PUNCT;break;case 26:L=" ";break;case Ce.LL:v=xn.LOWER;break;case Ce.AL:v=xn.ALPHA;break;case Ce.PS:x=v,v=xn.PUNCT_SHIFT;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.PUNCT:if(N<Ce.PAL)L=Ce.PUNCT_CHARS[N];else switch(N){case Ce.PAL:v=xn.ALPHA;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.ALPHA_SHIFT:if(v=x,N<26)L=String.fromCharCode(65+N);else switch(N){case 26:L=" ";break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break;case xn.PUNCT_SHIFT:if(v=x,N<Ce.PAL)L=Ce.PUNCT_CHARS[N];else switch(N){case Ce.PAL:v=xn.ALPHA;break;case Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Ce.TEXT_COMPACTION_MODE_LATCH:v=xn.ALPHA;break}break}L!==""&&y.append(L),E++}}static byteCompaction(l,h,d,y,v){let x=new Tf,E=0,N=0,L=!1;switch(l){case Ce.BYTE_COMPACTION_MODE_LATCH:let W=new Int32Array(6),Z=h[y++];for(;y<h[0]&&!L;)switch(W[E++]=Z,N=900*N+Z,Z=h[y++],Z){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:y--,L=!0;break;default:if(E%5===0&&E>0){for(let te=0;te<6;++te)x.write(Number(ur(N)>>ur(8*(5-te))));N=0,E=0}break}y===h[0]&&Z<Ce.TEXT_COMPACTION_MODE_LATCH&&(W[E++]=Z);for(let te=0;te<E;te++)x.write(W[te]);break;case Ce.BYTE_COMPACTION_MODE_LATCH_6:for(;y<h[0]&&!L;){let te=h[y++];if(te<Ce.TEXT_COMPACTION_MODE_LATCH)E++,N=900*N+te;else switch(te){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.NUMERIC_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:y--,L=!0;break}if(E%5===0&&E>0){for(let le=0;le<6;++le)x.write(Number(ur(N)>>ur(8*(5-le))));N=0,E=0}}break}return v.append(q.decode(x.toByteArray(),d)),y}static numericCompaction(l,h,d){let y=0,v=!1,x=new Int32Array(Ce.MAX_NUMERIC_CODEWORDS);for(;h<l[0]&&!v;){let E=l[h++];if(h===l[0]&&(v=!0),E<Ce.TEXT_COMPACTION_MODE_LATCH)x[y]=E,y++;else switch(E){case Ce.TEXT_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH:case Ce.BYTE_COMPACTION_MODE_LATCH_6:case Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ce.MACRO_PDF417_TERMINATOR:h--,v=!0;break}(y%Ce.MAX_NUMERIC_CODEWORDS===0||E===Ce.NUMERIC_COMPACTION_MODE_LATCH||v)&&y>0&&(d.append(Ce.decodeBase900toBase10(x,y)),y=0)}return h}static decodeBase900toBase10(l,h){let d=ur(0);for(let v=0;v<h;v++)d+=Ce.EXP900[h-v-1]*ur(l[v]);let y=d.toString();if(y.charAt(0)!=="1")throw new O;return y.substring(1)}}Ce.TEXT_COMPACTION_MODE_LATCH=900,Ce.BYTE_COMPACTION_MODE_LATCH=901,Ce.NUMERIC_COMPACTION_MODE_LATCH=902,Ce.BYTE_COMPACTION_MODE_LATCH_6=924,Ce.ECI_USER_DEFINED=925,Ce.ECI_GENERAL_PURPOSE=926,Ce.ECI_CHARSET=927,Ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ce.MACRO_PDF417_TERMINATOR=922,Ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ce.MAX_NUMERIC_CODEWORDS=15,Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ce.PL=25,Ce.LL=27,Ce.AS=27,Ce.ML=28,Ce.AL=28,Ce.PS=29,Ce.PAL=29,Ce.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ce.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ce.EXP900=No()?Oo():[],Ce.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Pt{constructor(){}static decode(l,h,d,y,v,x,E){let N=new Zo(l,h,d,y,v),L=null,W=null,Z;for(let de=!0;;de=!1){if(h!=null&&(L=Pt.getRowIndicatorColumn(l,N,h,!0,x,E)),y!=null&&(W=Pt.getRowIndicatorColumn(l,N,y,!1,x,E)),Z=Pt.merge(L,W),Z==null)throw J.getNotFoundInstance();let me=Z.getBoundingBox();if(de&&me!=null&&(me.getMinY()<N.getMinY()||me.getMaxY()>N.getMaxY()))N=me;else break}Z.setBoundingBox(N);let te=Z.getBarcodeColumnCount()+1;Z.setDetectionResultColumn(0,L),Z.setDetectionResultColumn(te,W);let le=L!=null;for(let de=1;de<=te;de++){let me=le?de:te-de;if(Z.getDetectionResultColumn(me)!==void 0)continue;let be;me===0||me===te?be=new or(N,me===0):be=new Gs(N),Z.setDetectionResultColumn(me,be);let Ie=-1,Ke=Ie;for(let Ye=N.getMinY();Ye<=N.getMaxY();Ye++){if(Ie=Pt.getStartColumn(Z,me,Ye,le),Ie<0||Ie>N.getMaxX()){if(Ke===-1)continue;Ie=Ke}let He=Pt.detectCodeword(l,N.getMinX(),N.getMaxX(),le,Ie,Ye,x,E);He!=null&&(be.setCodeword(Ye,He),Ke=Ie,x=Math.min(x,He.getWidth()),E=Math.max(E,He.getWidth()))}}return Pt.createDecoderResult(Z)}static merge(l,h){if(l==null&&h==null)return null;let d=Pt.getBarcodeMetadata(l,h);if(d==null)return null;let y=Zo.merge(Pt.adjustBoundingBox(l),Pt.adjustBoundingBox(h));return new Wl(d,y)}static adjustBoundingBox(l){if(l==null)return null;let h=l.getRowHeights();if(h==null)return null;let d=Pt.getMax(h),y=0;for(let E of h)if(y+=d-E,E>0)break;let v=l.getCodewords();for(let E=0;y>0&&v[E]==null;E++)y--;let x=0;for(let E=h.length-1;E>=0&&(x+=d-h[E],!(h[E]>0));E--);for(let E=v.length-1;x>0&&v[E]==null;E--)x--;return l.getBoundingBox().addMissingRows(y,x,l.isLeft())}static getMax(l){let h=-1;for(let d of l)h=Math.max(h,d);return h}static getBarcodeMetadata(l,h){let d;if(l==null||(d=l.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let y;return h==null||(y=h.getBarcodeMetadata())==null?d:d.getColumnCount()!==y.getColumnCount()&&d.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&d.getRowCount()!==y.getRowCount()?null:d}static getRowIndicatorColumn(l,h,d,y,v,x){let E=new or(h,y);for(let N=0;N<2;N++){let L=N===0?1:-1,W=Math.trunc(Math.trunc(d.getX()));for(let Z=Math.trunc(Math.trunc(d.getY()));Z<=h.getMaxY()&&Z>=h.getMinY();Z+=L){let te=Pt.detectCodeword(l,0,l.getWidth(),y,W,Z,v,x);te!=null&&(E.setCodeword(Z,te),y?W=te.getStartX():W=te.getEndX())}}return E}static adjustCodewordCount(l,h){let d=h[0][1],y=d.getValue(),v=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Pt.getNumberOfECCodeWords(l.getBarcodeECLevel());if(y.length===0){if(v<1||v>St.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();d.setValue(v)}else y[0]!==v&&d.setValue(v)}static createDecoderResult(l){let h=Pt.createBarcodeMatrix(l);Pt.adjustCodewordCount(l,h);let d=new Array,y=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),v=[],x=new Array;for(let N=0;N<l.getBarcodeRowCount();N++)for(let L=0;L<l.getBarcodeColumnCount();L++){let W=h[N][L+1].getValue(),Z=N*l.getBarcodeColumnCount()+L;W.length===0?d.push(Z):W.length===1?y[Z]=W[0]:(x.push(Z),v.push(W))}let E=new Array(v.length);for(let N=0;N<E.length;N++)E[N]=v[N];return Pt.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),y,St.toIntArray(d),St.toIntArray(x),E)}static createDecoderResultFromAmbiguousValues(l,h,d,y,v){let x=new Int32Array(y.length),E=100;for(;E-- >0;){for(let N=0;N<x.length;N++)h[y[N]]=v[N][x[N]];try{return Pt.decodeCodewords(h,l,d)}catch(N){if(!(N instanceof A))throw N}if(x.length===0)throw A.getChecksumInstance();for(let N=0;N<x.length;N++)if(x[N]<v[N].length-1){x[N]++;break}else if(x[N]=0,N===x.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(l){let h=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let y=0;y<h.length;y++)for(let v=0;v<h[y].length;v++)h[y][v]=new ao;let d=0;for(let y of l.getDetectionResultColumns()){if(y!=null){for(let v of y.getCodewords())if(v!=null){let x=v.getRowNumber();if(x>=0){if(x>=h.length)continue;h[x][d].setValue(v.getValue())}}}d++}return h}static isValidBarcodeColumn(l,h){return h>=0&&h<=l.getBarcodeColumnCount()+1}static getStartColumn(l,h,d,y){let v=y?1:-1,x=null;if(Pt.isValidBarcodeColumn(l,h-v)&&(x=l.getDetectionResultColumn(h-v).getCodeword(d)),x!=null)return y?x.getEndX():x.getStartX();if(x=l.getDetectionResultColumn(h).getCodewordNearby(d),x!=null)return y?x.getStartX():x.getEndX();if(Pt.isValidBarcodeColumn(l,h-v)&&(x=l.getDetectionResultColumn(h-v).getCodewordNearby(d)),x!=null)return y?x.getEndX():x.getStartX();let E=0;for(;Pt.isValidBarcodeColumn(l,h-v);){h-=v;for(let N of l.getDetectionResultColumn(h).getCodewords())if(N!=null)return(y?N.getEndX():N.getStartX())+v*E*(N.getEndX()-N.getStartX());E++}return y?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,h,d,y,v,x,E,N){v=Pt.adjustCodewordStartColumn(l,h,d,y,v,x);let L=Pt.getModuleBitCount(l,h,d,y,v,x);if(L==null)return null;let W,Z=wt.sum(L);if(y)W=v+Z;else{for(let de=0;de<L.length/2;de++){let me=L[de];L[de]=L[L.length-1-de],L[L.length-1-de]=me}W=v,v=W-Z}if(!Pt.checkCodewordSkew(Z,E,N))return null;let te=Kr.getDecodedValue(L),le=St.getCodeword(te);return le===-1?null:new _a(v,W,Pt.getCodewordBucketNumber(te),le)}static getModuleBitCount(l,h,d,y,v,x){let E=v,N=new Int32Array(8),L=0,W=y?1:-1,Z=y;for(;(y?E<d:E>=h)&&L<N.length;)l.get(E,x)===Z?(N[L]++,E+=W):(L++,Z=!Z);return L===N.length||E===(y?d:h)&&L===N.length-1?N:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,h,d,y,v,x){let E=v,N=y?-1:1;for(let L=0;L<2;L++){for(;(y?E>=h:E<d)&&y===l.get(E,x);){if(Math.abs(v-E)>Pt.CODEWORD_SKEW_SIZE)return v;E+=N}N=-N,y=!y}return E}static checkCodewordSkew(l,h,d){return h-Pt.CODEWORD_SKEW_SIZE<=l&&l<=d+Pt.CODEWORD_SKEW_SIZE}static decodeCodewords(l,h,d){if(l.length===0)throw O.getFormatInstance();let y=1<<h+1,v=Pt.correctErrors(l,d,y);Pt.verifyCodewordCount(l,y);let x=Ce.decode(l,""+h);return x.setErrorsCorrected(v),x.setErasures(d.length),x}static correctErrors(l,h,d){if(h!=null&&h.length>d/2+Pt.MAX_ERRORS||d<0||d>Pt.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return Pt.errorCorrection.decode(l,d,h)}static verifyCodewordCount(l,h){if(l.length<4)throw O.getFormatInstance();let d=l[0];if(d>l.length)throw O.getFormatInstance();if(d===0)if(h<l.length)l[0]=l.length-h;else throw O.getFormatInstance()}static getBitCountForCodeword(l){let h=new Int32Array(8),d=0,y=h.length-1;for(;!((l&1)!==d&&(d=l&1,y--,y<0));)h[y]++,l>>=1;return h}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Pt.getCodewordBucketNumber(Pt.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let h=new os;for(let d=0;d<l.length;d++){h.format("Row %2d: ",d);for(let y=0;y<l[d].length;y++){let v=l[d][y];v.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",v.getValue()[0],v.getConfidence(v.getValue()[0]))}h.format("%n")}return h.toString()}}Pt.CODEWORD_SKEW_SIZE=2,Pt.MAX_ERRORS=3,Pt.MAX_EC_CODEWORDS=512,Pt.errorCorrection=new ol;class fi{decode(l,h=null){let d=fi.decode(l,h,!1);if(d==null||d.length===0||d[0]==null)throw J.getNotFoundInstance();return d[0]}decodeMultiple(l,h=null){try{return fi.decode(l,h,!0)}catch(d){throw d instanceof O||d instanceof A?J.getNotFoundInstance():d}}static decode(l,h,d){const y=new Array,v=Et.detectMultiple(l,h,d);for(const x of v.getPoints()){const E=Pt.decode(v.getBits(),x[4],x[5],x[6],x[7],fi.getMinCodewordWidth(x),fi.getMaxCodewordWidth(x)),N=new Re(E.getText(),E.getRawBytes(),void 0,x,Me.PDF_417);N.putMetadata(De.ERROR_CORRECTION_LEVEL,E.getECLevel());const L=E.getOther();L!=null&&N.putMetadata(De.PDF417_EXTRA_METADATA,L),y.push(N)}return y.map(x=>x)}static getMaxWidth(l,h){return l==null||h==null?0:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMinWidth(l,h){return l==null||h==null?k.MAX_VALUE:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(fi.getMaxWidth(l[0],l[4]),fi.getMaxWidth(l[6],l[2])*St.MODULES_IN_CODEWORD/St.MODULES_IN_STOP_PATTERN),Math.max(fi.getMaxWidth(l[1],l[5]),fi.getMaxWidth(l[7],l[3])*St.MODULES_IN_CODEWORD/St.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(fi.getMinWidth(l[0],l[4]),fi.getMinWidth(l[6],l[2])*St.MODULES_IN_CODEWORD/St.MODULES_IN_STOP_PATTERN),Math.min(fi.getMinWidth(l[1],l[5]),fi.getMinWidth(l[7],l[3])*St.MODULES_IN_CODEWORD/St.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ca extends u{}Ca.kind="ReaderException";class Jo{constructor(l,h){this.verbose=l===!0,h&&this.setHints(h)}decode(l,h){return h&&this.setHints(h),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const h=!r(l)&&l.get(j.TRY_HARDER)===!0,d=r(l)?null:l.get(j.POSSIBLE_FORMATS),y=new Array;if(!r(d)){const v=d.some(x=>x===Me.UPC_A||x===Me.UPC_E||x===Me.EAN_13||x===Me.EAN_8||x===Me.CODABAR||x===Me.CODE_39||x===Me.CODE_93||x===Me.CODE_128||x===Me.ITF||x===Me.RSS_14||x===Me.RSS_EXPANDED);v&&!h&&y.push(new Qo(l,this.verbose)),d.includes(Me.QR_CODE)&&y.push(new Oi),d.includes(Me.DATA_MATRIX)&&y.push(new bs),d.includes(Me.AZTEC)&&y.push(new Vs),d.includes(Me.PDF_417)&&y.push(new fi),v&&h&&y.push(new Qo(l,this.verbose))}y.length===0&&(h||y.push(new Qo(l,this.verbose)),y.push(new Oi),y.push(new bs),y.push(new Vs),y.push(new fi),h&&y.push(new Qo(l,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Ca("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(l,this.hints)}catch(d){if(d instanceof Ca)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class ll extends xe{constructor(l=null,h=500){const d=new Jo;d.setHints(l),super(d,h)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Kl extends xe{constructor(l=500){super(new fi,l)}}class ru extends xe{constructor(l=500){super(new Oi,l)}}var Yl;(function(Q){Q[Q.ERROR_CORRECTION=0]="ERROR_CORRECTION",Q[Q.CHARACTER_SET=1]="CHARACTER_SET",Q[Q.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Q[Q.MIN_SIZE=3]="MIN_SIZE",Q[Q.MAX_SIZE=4]="MAX_SIZE",Q[Q.MARGIN=5]="MARGIN",Q[Q.PDF417_COMPACT=6]="PDF417_COMPACT",Q[Q.PDF417_COMPACTION=7]="PDF417_COMPACTION",Q[Q.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Q[Q.AZTEC_LAYERS=9]="AZTEC_LAYERS",Q[Q.QR_VERSION=10]="QR_VERSION"})(Yl||(Yl={}));var Rr=Yl;class cl{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new $e(l,Int32Array.from([1])))}buildGenerator(l){const h=this.cachedGenerators;if(l>=h.length){let d=h[h.length-1];const y=this.field;for(let v=h.length;v<=l;v++){const x=d.multiply(new $e(y,Int32Array.from([1,y.exp(v-1+y.getGeneratorBase())])));h.push(x),d=x}}return h[l]}encode(l,h){if(h===0)throw new m("No error correction bytes");const d=l.length-h;if(d<=0)throw new m("No data bytes provided");const y=this.buildGenerator(h),v=new Int32Array(d);T.arraycopy(l,0,v,0,d);let x=new $e(this.field,v);x=x.multiplyByMonomial(h,1);const N=x.divide(y)[1].getCoefficients(),L=h-N.length;for(let W=0;W<L;W++)l[d+W]=0;T.arraycopy(N,0,l,d+L,N.length)}}class Gn{constructor(){}static applyMaskPenaltyRule1(l){return Gn.applyMaskPenaltyRule1Internal(l,!0)+Gn.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let h=0;const d=l.getArray(),y=l.getWidth(),v=l.getHeight();for(let x=0;x<v-1;x++){const E=d[x];for(let N=0;N<y-1;N++){const L=E[N];L===E[N+1]&&L===d[x+1][N]&&L===d[x+1][N+1]&&h++}}return Gn.N2*h}static applyMaskPenaltyRule3(l){let h=0;const d=l.getArray(),y=l.getWidth(),v=l.getHeight();for(let x=0;x<v;x++)for(let E=0;E<y;E++){const N=d[x];E+6<y&&N[E]===1&&N[E+1]===0&&N[E+2]===1&&N[E+3]===1&&N[E+4]===1&&N[E+5]===0&&N[E+6]===1&&(Gn.isWhiteHorizontal(N,E-4,E)||Gn.isWhiteHorizontal(N,E+7,E+11))&&h++,x+6<v&&d[x][E]===1&&d[x+1][E]===0&&d[x+2][E]===1&&d[x+3][E]===1&&d[x+4][E]===1&&d[x+5][E]===0&&d[x+6][E]===1&&(Gn.isWhiteVertical(d,E,x-4,x)||Gn.isWhiteVertical(d,E,x+7,x+11))&&h++}return h*Gn.N3}static isWhiteHorizontal(l,h,d){h=Math.max(h,0),d=Math.min(d,l.length);for(let y=h;y<d;y++)if(l[y]===1)return!1;return!0}static isWhiteVertical(l,h,d,y){d=Math.max(d,0),y=Math.min(y,l.length);for(let v=d;v<y;v++)if(l[v][h]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let h=0;const d=l.getArray(),y=l.getWidth(),v=l.getHeight();for(let N=0;N<v;N++){const L=d[N];for(let W=0;W<y;W++)L[W]===1&&h++}const x=l.getHeight()*l.getWidth();return Math.floor(Math.abs(h*2-x)*10/x)*Gn.N4}static getDataMaskBit(l,h,d){let y,v;switch(l){case 0:y=d+h&1;break;case 1:y=d&1;break;case 2:y=h%3;break;case 3:y=(d+h)%3;break;case 4:y=Math.floor(d/2)+Math.floor(h/3)&1;break;case 5:v=d*h,y=(v&1)+v%3;break;case 6:v=d*h,y=(v&1)+v%3&1;break;case 7:v=d*h,y=v%3+(d+h&1)&1;break;default:throw new m("Invalid mask pattern: "+l)}return y===0}static applyMaskPenaltyRule1Internal(l,h){let d=0;const y=h?l.getHeight():l.getWidth(),v=h?l.getWidth():l.getHeight(),x=l.getArray();for(let E=0;E<y;E++){let N=0,L=-1;for(let W=0;W<v;W++){const Z=h?x[E][W]:x[W][E];Z===L?N++:(N>=5&&(d+=Gn.N1+(N-5)),N=1,L=Z)}N>=5&&(d+=Gn.N1+(N-5))}return d}}Gn.N1=3,Gn.N2=3,Gn.N3=40,Gn.N4=10;class Xl{constructor(l,h){this.width=l,this.height=h;const d=new Array(h);for(let y=0;y!==h;y++)d[y]=new Uint8Array(l);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(l,h){return this.bytes[h][l]}getArray(){return this.bytes}setNumber(l,h,d){this.bytes[h][l]=d}setBoolean(l,h,d){this.bytes[h][l]=d?1:0}clear(l){for(const h of this.bytes)B.fill(h,l)}equals(l){if(!(l instanceof Xl))return!1;const h=l;if(this.width!==h.width||this.height!==h.height)return!1;for(let d=0,y=this.height;d<y;++d){const v=this.bytes[d],x=h.bytes[d];for(let E=0,N=this.width;E<N;++E)if(v[E]!==x[E])return!1}return!0}toString(){const l=new $;for(let h=0,d=this.height;h<d;++h){const y=this.bytes[h];for(let v=0,x=this.width;v<x;++v)switch(y[v]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class as{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new $;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<as.NUM_MASK_PATTERNS}}as.NUM_MASK_PATTERNS=8;class _n extends u{}_n.kind="WriterException";class bt{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,h,d,y,v){bt.clearMatrix(v),bt.embedBasicPatterns(d,v),bt.embedTypeInfo(h,y,v),bt.maybeEmbedVersionInfo(d,v),bt.embedDataBits(l,y,v)}static embedBasicPatterns(l,h){bt.embedPositionDetectionPatternsAndSeparators(h),bt.embedDarkDotAtLeftBottomCorner(h),bt.maybeEmbedPositionAdjustmentPatterns(l,h),bt.embedTimingPatterns(h)}static embedTypeInfo(l,h,d){const y=new V;bt.makeTypeInfoBits(l,h,y);for(let v=0,x=y.getSize();v<x;++v){const E=y.get(y.getSize()-1-v),N=bt.TYPE_INFO_COORDINATES[v],L=N[0],W=N[1];if(d.setBoolean(L,W,E),v<8){const Z=d.getWidth()-v-1;d.setBoolean(Z,8,E)}else{const te=d.getHeight()-7+(v-8);d.setBoolean(8,te,E)}}}static maybeEmbedVersionInfo(l,h){if(l.getVersionNumber()<7)return;const d=new V;bt.makeVersionInfoBits(l,d);let y=17;for(let v=0;v<6;++v)for(let x=0;x<3;++x){const E=d.get(y);y--,h.setBoolean(v,h.getHeight()-11+x,E),h.setBoolean(h.getHeight()-11+x,v,E)}}static embedDataBits(l,h,d){let y=0,v=-1,x=d.getWidth()-1,E=d.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);E>=0&&E<d.getHeight();){for(let N=0;N<2;++N){const L=x-N;if(!bt.isEmpty(d.get(L,E)))continue;let W;y<l.getSize()?(W=l.get(y),++y):W=!1,h!==255&&Gn.getDataMaskBit(h,L,E)&&(W=!W),d.setBoolean(L,E,W)}E+=v}v=-v,E+=v,x-=2}if(y!==l.getSize())throw new _n("Not all bits consumed: "+y+"/"+l.getSize())}static findMSBSet(l){return 32-k.numberOfLeadingZeros(l)}static calculateBCHCode(l,h){if(h===0)throw new m("0 polynomial");const d=bt.findMSBSet(h);for(l<<=d-1;bt.findMSBSet(l)>=d;)l^=h<<bt.findMSBSet(l)-d;return l}static makeTypeInfoBits(l,h,d){if(!as.isValidMaskPattern(h))throw new _n("Invalid mask pattern");const y=l.getBits()<<3|h;d.appendBits(y,5);const v=bt.calculateBCHCode(y,bt.TYPE_INFO_POLY);d.appendBits(v,10);const x=new V;if(x.appendBits(bt.TYPE_INFO_MASK_PATTERN,15),d.xor(x),d.getSize()!==15)throw new _n("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(l,h){h.appendBits(l.getVersionNumber(),6);const d=bt.calculateBCHCode(l.getVersionNumber(),bt.VERSION_INFO_POLY);if(h.appendBits(d,12),h.getSize()!==18)throw new _n("should not happen but we got: "+h.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let h=8;h<l.getWidth()-8;++h){const d=(h+1)%2;bt.isEmpty(l.get(h,6))&&l.setNumber(h,6,d),bt.isEmpty(l.get(6,h))&&l.setNumber(6,h,d)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new _n;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,h,d){for(let y=0;y<8;++y){if(!bt.isEmpty(d.get(l+y,h)))throw new _n;d.setNumber(l+y,h,0)}}static embedVerticalSeparationPattern(l,h,d){for(let y=0;y<7;++y){if(!bt.isEmpty(d.get(l,h+y)))throw new _n;d.setNumber(l,h+y,0)}}static embedPositionAdjustmentPattern(l,h,d){for(let y=0;y<5;++y){const v=bt.POSITION_ADJUSTMENT_PATTERN[y];for(let x=0;x<5;++x)d.setNumber(l+x,h+y,v[x])}}static embedPositionDetectionPattern(l,h,d){for(let y=0;y<7;++y){const v=bt.POSITION_DETECTION_PATTERN[y];for(let x=0;x<7;++x)d.setNumber(l+x,h+y,v[x])}}static embedPositionDetectionPatternsAndSeparators(l){const h=bt.POSITION_DETECTION_PATTERN[0].length;bt.embedPositionDetectionPattern(0,0,l),bt.embedPositionDetectionPattern(l.getWidth()-h,0,l),bt.embedPositionDetectionPattern(0,l.getWidth()-h,l);const d=8;bt.embedHorizontalSeparationPattern(0,d-1,l),bt.embedHorizontalSeparationPattern(l.getWidth()-d,d-1,l),bt.embedHorizontalSeparationPattern(0,l.getWidth()-d,l);const y=7;bt.embedVerticalSeparationPattern(y,0,l),bt.embedVerticalSeparationPattern(l.getHeight()-y-1,0,l),bt.embedVerticalSeparationPattern(y,l.getHeight()-y,l)}static maybeEmbedPositionAdjustmentPatterns(l,h){if(l.getVersionNumber()<2)return;const d=l.getVersionNumber()-1,y=bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let v=0,x=y.length;v!==x;v++){const E=y[v];if(E>=0)for(let N=0;N!==x;N++){const L=y[N];L>=0&&bt.isEmpty(h.get(L,E))&&bt.embedPositionAdjustmentPattern(L-2,E-2,h)}}}}bt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),bt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),bt.VERSION_INFO_POLY=7973,bt.TYPE_INFO_POLY=1335,bt.TYPE_INFO_MASK_PATTERN=21522;class fd{constructor(l,h){this.dataBytes=l,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kn{constructor(){}static calculateMaskPenalty(l){return Gn.applyMaskPenaltyRule1(l)+Gn.applyMaskPenaltyRule2(l)+Gn.applyMaskPenaltyRule3(l)+Gn.applyMaskPenaltyRule4(l)}static encode(l,h,d=null){let y=kn.DEFAULT_BYTE_MODE_ENCODING;const v=d!==null&&d.get(Rr.CHARACTER_SET)!==void 0;v&&(y=d.get(Rr.CHARACTER_SET).toString());const x=this.chooseMode(l,y),E=new V;if(x===vt.BYTE&&(v||kn.DEFAULT_BYTE_MODE_ENCODING!==y)){const Ye=U.getCharacterSetECIByName(y);Ye!==void 0&&this.appendECI(Ye,E)}this.appendModeInfo(x,E);const N=new V;this.appendBytes(l,x,N,y);let L;if(d!==null&&d.get(Rr.QR_VERSION)!==void 0){const Ye=Number.parseInt(d.get(Rr.QR_VERSION).toString(),10);L=tt.getVersionForNumber(Ye);const He=this.calculateBitsNeeded(x,E,N,L);if(!this.willFit(He,L,h))throw new _n("Data too big for requested version")}else L=this.recommendVersion(h,x,E,N);const W=new V;W.appendBitArray(E);const Z=x===vt.BYTE?N.getSizeInBytes():l.length;this.appendLengthInfo(Z,L,x,W),W.appendBitArray(N);const te=L.getECBlocksForLevel(h),le=L.getTotalCodewords()-te.getTotalECCodewords();this.terminateBits(le,W);const de=this.interleaveWithECBytes(W,L.getTotalCodewords(),le,te.getNumBlocks()),me=new as;me.setECLevel(h),me.setMode(x),me.setVersion(L);const be=L.getDimensionForVersion(),Ie=new Xl(be,be),Ke=this.chooseMaskPattern(de,h,L,Ie);return me.setMaskPattern(Ke),bt.buildMatrix(de,h,L,Ke,Ie),me.setMatrix(Ie),me}static recommendVersion(l,h,d,y){const v=this.calculateBitsNeeded(h,d,y,tt.getVersionForNumber(1)),x=this.chooseVersion(v,l),E=this.calculateBitsNeeded(h,d,y,x);return this.chooseVersion(E,l)}static calculateBitsNeeded(l,h,d,y){return h.getSize()+l.getCharacterCountBits(y)+d.getSize()}static getAlphanumericCode(l){return l<kn.ALPHANUMERIC_TABLE.length?kn.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,h=null){if(U.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(l))return vt.KANJI;let d=!1,y=!1;for(let v=0,x=l.length;v<x;++v){const E=l.charAt(v);if(kn.isDigit(E))d=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)y=!0;else return vt.BYTE}return y?vt.ALPHANUMERIC:d?vt.NUMERIC:vt.BYTE}static isOnlyDoubleByteKanji(l){let h;try{h=q.encode(l,U.SJIS)}catch{return!1}const d=h.length;if(d%2!==0)return!1;for(let y=0;y<d;y+=2){const v=h[y]&255;if((v<129||v>159)&&(v<224||v>235))return!1}return!0}static chooseMaskPattern(l,h,d,y){let v=Number.MAX_SAFE_INTEGER,x=-1;for(let E=0;E<as.NUM_MASK_PATTERNS;E++){bt.buildMatrix(l,h,d,E,y);let N=this.calculateMaskPenalty(y);N<v&&(v=N,x=E)}return x}static chooseVersion(l,h){for(let d=1;d<=40;d++){const y=tt.getVersionForNumber(d);if(kn.willFit(l,y,h))return y}throw new _n("Data too big")}static willFit(l,h,d){const y=h.getTotalCodewords(),x=h.getECBlocksForLevel(d).getTotalECCodewords(),E=y-x,N=(l+7)/8;return E>=N}static terminateBits(l,h){const d=l*8;if(h.getSize()>d)throw new _n("data bits cannot fit in the QR Code"+h.getSize()+" > "+d);for(let x=0;x<4&&h.getSize()<d;++x)h.appendBit(!1);const y=h.getSize()&7;if(y>0)for(let x=y;x<8;x++)h.appendBit(!1);const v=l-h.getSizeInBytes();for(let x=0;x<v;++x)h.appendBits((x&1)===0?236:17,8);if(h.getSize()!==d)throw new _n("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,h,d,y,v,x){if(y>=d)throw new _n("Block ID too large");const E=l%d,N=d-E,L=Math.floor(l/d),W=L+1,Z=Math.floor(h/d),te=Z+1,le=L-Z,de=W-te;if(le!==de)throw new _n("EC bytes mismatch");if(d!==N+E)throw new _n("RS blocks mismatch");if(l!==(Z+le)*N+(te+de)*E)throw new _n("Total bytes mismatch");y<N?(v[0]=Z,x[0]=le):(v[0]=te,x[0]=de)}static interleaveWithECBytes(l,h,d,y){if(l.getSizeInBytes()!==d)throw new _n("Number of bits and data bytes does not match");let v=0,x=0,E=0;const N=new Array;for(let W=0;W<y;++W){const Z=new Int32Array(1),te=new Int32Array(1);kn.getNumDataBytesAndNumECBytesForBlockID(h,d,y,W,Z,te);const le=Z[0],de=new Uint8Array(le);l.toBytes(8*v,de,0,le);const me=kn.generateECBytes(de,te[0]);N.push(new fd(de,me)),x=Math.max(x,le),E=Math.max(E,me.length),v+=Z[0]}if(d!==v)throw new _n("Data bytes does not match offset");const L=new V;for(let W=0;W<x;++W)for(const Z of N){const te=Z.getDataBytes();W<te.length&&L.appendBits(te[W],8)}for(let W=0;W<E;++W)for(const Z of N){const te=Z.getErrorCorrectionBytes();W<te.length&&L.appendBits(te[W],8)}if(h!==L.getSizeInBytes())throw new _n("Interleaving error: "+h+" and "+L.getSizeInBytes()+" differ.");return L}static generateECBytes(l,h){const d=l.length,y=new Int32Array(d+h);for(let x=0;x<d;x++)y[x]=l[x]&255;new cl(et.QR_CODE_FIELD_256).encode(y,h);const v=new Uint8Array(h);for(let x=0;x<h;x++)v[x]=y[d+x];return v}static appendModeInfo(l,h){h.appendBits(l.getBits(),4)}static appendLengthInfo(l,h,d,y){const v=d.getCharacterCountBits(h);if(l>=1<<v)throw new _n(l+" is bigger than "+((1<<v)-1));y.appendBits(l,v)}static appendBytes(l,h,d,y){switch(h){case vt.NUMERIC:kn.appendNumericBytes(l,d);break;case vt.ALPHANUMERIC:kn.appendAlphanumericBytes(l,d);break;case vt.BYTE:kn.append8BitBytes(l,d,y);break;case vt.KANJI:kn.appendKanjiBytes(l,d);break;default:throw new _n("Invalid mode: "+h)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const h=kn.getDigit(l);return h>=0&&h<=9}static appendNumericBytes(l,h){const d=l.length;let y=0;for(;y<d;){const v=kn.getDigit(l.charAt(y));if(y+2<d){const x=kn.getDigit(l.charAt(y+1)),E=kn.getDigit(l.charAt(y+2));h.appendBits(v*100+x*10+E,10),y+=3}else if(y+1<d){const x=kn.getDigit(l.charAt(y+1));h.appendBits(v*10+x,7),y+=2}else h.appendBits(v,4),y++}}static appendAlphanumericBytes(l,h){const d=l.length;let y=0;for(;y<d;){const v=kn.getAlphanumericCode(l.charCodeAt(y));if(v===-1)throw new _n;if(y+1<d){const x=kn.getAlphanumericCode(l.charCodeAt(y+1));if(x===-1)throw new _n;h.appendBits(v*45+x,11),y+=2}else h.appendBits(v,6),y++}}static append8BitBytes(l,h,d){let y;try{y=q.encode(l,d)}catch(v){throw new _n(v)}for(let v=0,x=y.length;v!==x;v++){const E=y[v];h.appendBits(E,8)}}static appendKanjiBytes(l,h){let d;try{d=q.encode(l,U.SJIS)}catch(v){throw new _n(v)}const y=d.length;for(let v=0;v<y;v+=2){const x=d[v]&255,E=d[v+1]&255,N=x<<8&4294967295|E;let L=-1;if(N>=33088&&N<=40956?L=N-33088:N>=57408&&N<=60351&&(L=N-49472),L===-1)throw new _n("Invalid byte sequence");const W=(L>>8)*192+(L&255);h.appendBits(W,13)}}static appendECI(l,h){h.appendBits(vt.ECI.getBits(),4),h.appendBits(l.getValue(),8)}}kn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kn.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class lo{write(l,h,d,y=null){if(l.length===0)throw new m("Found empty contents");if(h<0||d<0)throw new m("Requested dimensions are too small: "+h+"x"+d);let v=Jt.L,x=lo.QUIET_ZONE_SIZE;y!==null&&(y.get(Rr.ERROR_CORRECTION)!==void 0&&(v=Jt.fromString(y.get(Rr.ERROR_CORRECTION).toString())),y.get(Rr.MARGIN)!==void 0&&(x=Number.parseInt(y.get(Rr.MARGIN).toString(),10)));const E=kn.encode(l,v,y);return this.renderResult(E,h,d,x)}writeToDom(l,h,d,y,v=null){typeof l=="string"&&(l=document.querySelector(l));const x=this.write(h,d,y,v);l&&l.appendChild(x)}renderResult(l,h,d,y){const v=l.getMatrix();if(v===null)throw new jt;const x=v.getWidth(),E=v.getHeight(),N=x+y*2,L=E+y*2,W=Math.max(h,N),Z=Math.max(d,L),te=Math.min(Math.floor(W/N),Math.floor(Z/L)),le=Math.floor((W-x*te)/2),de=Math.floor((Z-E*te)/2),me=this.createSVGElement(W,Z);for(let be=0,Ie=de;be<E;be++,Ie+=te)for(let Ke=0,Ye=le;Ke<x;Ke++,Ye+=te)if(v.get(Ke,be)===1){const He=this.createSvgRectElement(Ye,Ie,te,te);me.appendChild(He)}return me}createSVGElement(l,h){const d=document.createElementNS(lo.SVG_NS,"svg");return d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",h.toString()),d}createSvgRectElement(l,h,d,y){const v=document.createElementNS(lo.SVG_NS,"rect");return v.setAttributeNS(null,"x",l.toString()),v.setAttributeNS(null,"y",h.toString()),v.setAttributeNS(null,"height",d.toString()),v.setAttributeNS(null,"width",y.toString()),v.setAttributeNS(null,"fill","#000000"),v}}lo.QUIET_ZONE_SIZE=4,lo.SVG_NS="http://www.w3.org/2000/svg";class Yr{encode(l,h,d,y,v){if(l.length===0)throw new m("Found empty contents");if(h!==Me.QR_CODE)throw new m("Can only encode QR_CODE, but got "+h);if(d<0||y<0)throw new m(`Requested dimensions are too small: ${d}x${y}`);let x=Jt.L,E=Yr.QUIET_ZONE_SIZE;v!==null&&(v.get(Rr.ERROR_CORRECTION)!==void 0&&(x=Jt.fromString(v.get(Rr.ERROR_CORRECTION).toString())),v.get(Rr.MARGIN)!==void 0&&(E=Number.parseInt(v.get(Rr.MARGIN).toString(),10)));const N=kn.encode(l,x,v);return Yr.renderResult(N,d,y,E)}static renderResult(l,h,d,y){const v=l.getMatrix();if(v===null)throw new jt;const x=v.getWidth(),E=v.getHeight(),N=x+y*2,L=E+y*2,W=Math.max(h,N),Z=Math.max(d,L),te=Math.min(Math.floor(W/N),Math.floor(Z/L)),le=Math.floor((W-x*te)/2),de=Math.floor((Z-E*te)/2),me=new ce(W,Z);for(let be=0,Ie=de;be<E;be++,Ie+=te)for(let Ke=0,Ye=le;Ke<x;Ke++,Ye+=te)v.get(Ke,be)===1&&me.setRegion(Ye,Ie,te,te);return me}}Yr.QUIET_ZONE_SIZE=4;class hd{encode(l,h,d,y,v){let x;switch(h){case Me.QR_CODE:x=new Yr;break;default:throw new m("No encoder available for format "+h)}return x.encode(l,h,d,y,v)}}class Ws extends re{constructor(l,h,d,y,v,x,E,N){if(super(x,E),this.yuvData=l,this.dataWidth=h,this.dataHeight=d,this.left=y,this.top=v,y+x>h||v+E>d)throw new m("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(x,E)}getRow(l,h){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const d=this.getWidth();(h==null||h.length<d)&&(h=new Uint8ClampedArray(d));const y=(l+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,y,h,0,d),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.yuvData;const d=l*h,y=new Uint8ClampedArray(d);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return T.arraycopy(this.yuvData,v,y,0,d),y;for(let x=0;x<h;x++){const E=x*l;T.arraycopy(this.yuvData,v,y,E,l),v+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,h,d,y){return new Ws(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+h,d,y,!1)}renderThumbnail(){const l=this.getWidth()/Ws.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/Ws.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(l*h),y=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let x=0;x<h;x++){const E=x*l;for(let N=0;N<l;N++){const L=y[v+N*Ws.THUMBNAIL_SCALE_FACTOR]&255;d[E+N]=4278190080|L*65793}v+=this.dataWidth*Ws.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/Ws.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ws.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,h){const d=this.yuvData;for(let y=0,v=this.top*this.dataWidth+this.left;y<h;y++,v+=this.dataWidth){const x=v+l/2;for(let E=v,N=v+l-1;E<x;E++,N--){const L=d[E];d[E]=d[N],d[N]=L}}}invert(){return new pe(this)}}Ws.THUMBNAIL_SCALE_FACTOR=2;class co extends re{constructor(l,h,d,y,v,x,E){if(super(h,d),this.dataWidth=y,this.dataHeight=v,this.left=x,this.top=E,l.BYTES_PER_ELEMENT===4){const N=h*d,L=new Uint8ClampedArray(N);for(let W=0;W<N;W++){const Z=l[W],te=Z>>16&255,le=Z>>7&510,de=Z&255;L[W]=(te+le+de)/4&255}this.luminances=L}else this.luminances=l;if(y===void 0&&(this.dataWidth=h),v===void 0&&(this.dataHeight=d),x===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+d>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(l,h){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const d=this.getWidth();(h==null||h.length<d)&&(h=new Uint8ClampedArray(d));const y=(l+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,y,h,0,d),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.luminances;const d=l*h,y=new Uint8ClampedArray(d);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return T.arraycopy(this.luminances,v,y,0,d),y;for(let x=0;x<h;x++){const E=x*l;T.arraycopy(this.luminances,v,y,E,l),v+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,h,d,y){return new co(this.luminances,d,y,this.dataWidth,this.dataHeight,this.left+l,this.top+h)}invert(){return new pe(this)}}class S extends U{static forName(l){return this.getCharacterSetECIByName(l)}}class z{}z.ISO_8859_1=U.ISO8859_1;class Y{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class ne{static singletonList(l){return[l]}static min(l,h){return l.sort(h)[0]}}class Ee{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Oe extends Ee{constructor(l,h,d){super(l),this.value=h,this.bitCount=d}appendTo(l,h){l.appendBits(this.value,this.bitCount)}add(l,h){return new Oe(this,l,h)}addBinaryShift(l,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Oe(this,l,h)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+k.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class Ze extends Oe{constructor(l,h,d){super(l,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=d}appendTo(l,h){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):d===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(h[this.binaryShiftStart+d],8)}addBinaryShift(l,h){return new Ze(this,l,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Mn(Q,l,h){return new Ze(Q,l,h)}function xr(Q,l,h){return new Oe(Q,l,h)}const dn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ar=0,br=1,Ar=2,Ts=3,qi=4,iu=new Oe(null,0,0),dd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function e1(Q){for(let l of Q)B.fill(l,-1);return Q[ar][qi]=0,Q[br][qi]=0,Q[br][ar]=28,Q[Ts][qi]=0,Q[Ar][qi]=0,Q[Ar][ar]=15,Q}const Hg=e1(B.createInt32Array(6,6));class ls{constructor(l,h,d,y){this.token=l,this.mode=h,this.binaryShiftByteCount=d,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,h){let d=this.bitCount,y=this.token;if(l!==this.mode){let x=dd[this.mode][l];y=xr(y,x&65535,x>>16),d+=x>>16}let v=l===Ar?4:5;return y=xr(y,h,v),new ls(y,l,0,d+v)}shiftAndAppend(l,h){let d=this.token,y=this.mode===Ar?4:5;return d=xr(d,Hg[this.mode][l],y),d=xr(d,h,5),new ls(d,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(l){let h=this.token,d=this.mode,y=this.bitCount;if(this.mode===qi||this.mode===Ar){let E=dd[d][ar];h=xr(h,E&65535,E>>16),y+=E>>16,d=ar}let v=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new ls(h,d,this.binaryShiftByteCount+1,y+v);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(l+1)),x}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=Mn(h,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new ls(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let h=this.bitCount+(dd[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?h+=ls.calculateBinaryShiftCost(l)-ls.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(h+=10),h<=l.bitCount}toBitArray(l){let h=[];for(let y=this.endBinaryShift(l.length).token;y!==null;y=y.getPrevious())h.unshift(y);let d=new V;for(const y of h)y.appendTo(d,l);return d}toString(){return G.format("%s bits=%d bytes=%d",dn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}ls.INITIAL_STATE=new ls(iu,ar,0,0);function NA(Q){const l=G.getCharCode(" "),h=G.getCharCode("."),d=G.getCharCode(",");Q[ar][l]=1;const y=G.getCharCode("Z"),v=G.getCharCode("A");for(let te=v;te<=y;te++)Q[ar][te]=te-v+2;Q[br][l]=1;const x=G.getCharCode("z"),E=G.getCharCode("a");for(let te=E;te<=x;te++)Q[br][te]=te-E+2;Q[Ar][l]=1;const N=G.getCharCode("9"),L=G.getCharCode("0");for(let te=L;te<=N;te++)Q[Ar][te]=te-L+2;Q[Ar][d]=12,Q[Ar][h]=13;const W=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let te=0;te<W.length;te++)Q[Ts][G.getCharCode(W[te])]=te;const Z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let te=0;te<Z.length;te++)G.getCharCode(Z[te])>0&&(Q[qi][G.getCharCode(Z[te])]=te);return Q}const $g=NA(B.createInt32Array(5,256));class _f{constructor(l){this.text=l}encode(){const l=G.getCharCode(" "),h=G.getCharCode(`
`);let d=ne.singletonList(ls.INITIAL_STATE);for(let v=0;v<this.text.length;v++){let x,E=v+1<this.text.length?this.text[v+1]:0;switch(this.text[v]){case G.getCharCode("\r"):x=E===h?2:0;break;case G.getCharCode("."):x=E===l?3:0;break;case G.getCharCode(","):x=E===l?4:0;break;case G.getCharCode(":"):x=E===l?5:0;break;default:x=0}x>0?(d=_f.updateStateListForPair(d,v,x),v++):d=this.updateStateListForChar(d,v)}return ne.min(d,(v,x)=>v.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,h){const d=[];for(let y of l)this.updateStateForChar(y,h,d);return _f.simplifyStates(d)}updateStateForChar(l,h,d){let y=this.text[h]&255,v=$g[l.getMode()][y]>0,x=null;for(let E=0;E<=qi;E++){let N=$g[E][y];if(N>0){if(x==null&&(x=l.endBinaryShift(h)),!v||E===l.getMode()||E===Ar){const L=x.latchAndAppend(E,N);d.push(L)}if(!v&&Hg[l.getMode()][E]>=0){const L=x.shiftAndAppend(E,N);d.push(L)}}}if(l.getBinaryShiftByteCount()>0||$g[l.getMode()][y]===0){let E=l.addBinaryShiftChar(h);d.push(E)}}static updateStateListForPair(l,h,d){const y=[];for(let v of l)this.updateStateForPair(v,h,d,y);return this.simplifyStates(y)}static updateStateForPair(l,h,d,y){let v=l.endBinaryShift(h);if(y.push(v.latchAndAppend(qi,d)),l.getMode()!==qi&&y.push(v.shiftAndAppend(qi,d)),d===3||d===4){let x=v.latchAndAppend(Ar,16-d).latchAndAppend(Ar,1);y.push(x)}if(l.getBinaryShiftByteCount()>0){let x=l.addBinaryShiftChar(h).addBinaryShiftChar(h+1);y.push(x)}}static simplifyStates(l){let h=[];for(const d of l){let y=!0;for(const v of h){if(v.isBetterThanOrEqualTo(d)){y=!1;break}d.isBetterThanOrEqualTo(v)&&(h=h.filter(x=>x!==v))}y&&h.push(d)}return h}}class pn{constructor(){}static encodeBytes(l){return pn.encode(l,pn.DEFAULT_EC_PERCENT,pn.DEFAULT_AZTEC_LAYERS)}static encode(l,h,d){let y=new _f(l).encode(),v=k.truncDivision(y.getSize()*h,100)+11,x=y.getSize()+v,E,N,L,W,Z;if(d!==pn.DEFAULT_AZTEC_LAYERS){if(E=d<0,N=Math.abs(d),N>(E?pn.MAX_NB_BITS_COMPACT:pn.MAX_NB_BITS))throw new m(G.format("Illegal value %s for layers",d));L=pn.totalBitsInLayer(N,E),W=pn.WORD_SIZE[N];let He=L-L%W;if(Z=pn.stuffBits(y,W),Z.getSize()+v>He)throw new m("Data to large for user specified layer");if(E&&Z.getSize()>W*64)throw new m("Data to large for user specified layer")}else{W=0,Z=null;for(let He=0;;He++){if(He>pn.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(E=He<=3,N=E?He+1:He,L=pn.totalBitsInLayer(N,E),x>L)continue;(Z==null||W!==pn.WORD_SIZE[N])&&(W=pn.WORD_SIZE[N],Z=pn.stuffBits(y,W));let tn=L-L%W;if(!(E&&Z.getSize()>W*64)&&Z.getSize()+v<=tn)break}}let te=pn.generateCheckWords(Z,L,W),le=Z.getSize()/W,de=pn.generateModeMessage(E,N,le),me=(E?11:14)+N*4,be=new Int32Array(me),Ie;if(E){Ie=me;for(let He=0;He<be.length;He++)be[He]=He}else{Ie=me+1+2*k.truncDivision(k.truncDivision(me,2)-1,15);let He=k.truncDivision(me,2),tn=k.truncDivision(Ie,2);for(let Ut=0;Ut<He;Ut++){let _s=Ut+k.truncDivision(Ut,15);be[He-Ut-1]=tn-_s-1,be[He+Ut]=tn+_s+1}}let Ke=new ce(Ie);for(let He=0,tn=0;He<N;He++){let Ut=(N-He)*4+(E?9:12);for(let _s=0;_s<Ut;_s++){let Ro=_s*2;for(let hi=0;hi<2;hi++)te.get(tn+Ro+hi)&&Ke.set(be[He*2+hi],be[He*2+_s]),te.get(tn+Ut*2+Ro+hi)&&Ke.set(be[He*2+_s],be[me-1-He*2-hi]),te.get(tn+Ut*4+Ro+hi)&&Ke.set(be[me-1-He*2-hi],be[me-1-He*2-_s]),te.get(tn+Ut*6+Ro+hi)&&Ke.set(be[me-1-He*2-_s],be[He*2+hi])}tn+=Ut*8}if(pn.drawModeMessage(Ke,E,Ie,de),E)pn.drawBullsEye(Ke,k.truncDivision(Ie,2),5);else{pn.drawBullsEye(Ke,k.truncDivision(Ie,2),7);for(let He=0,tn=0;He<k.truncDivision(me,2)-1;He+=15,tn+=16)for(let Ut=k.truncDivision(Ie,2)&1;Ut<Ie;Ut+=2)Ke.set(k.truncDivision(Ie,2)-tn,Ut),Ke.set(k.truncDivision(Ie,2)+tn,Ut),Ke.set(Ut,k.truncDivision(Ie,2)-tn),Ke.set(Ut,k.truncDivision(Ie,2)+tn)}let Ye=new Y;return Ye.setCompact(E),Ye.setSize(Ie),Ye.setLayers(N),Ye.setCodeWords(le),Ye.setMatrix(Ke),Ye}static drawBullsEye(l,h,d){for(let y=0;y<d;y+=2)for(let v=h-y;v<=h+y;v++)l.set(v,h-y),l.set(v,h+y),l.set(h-y,v),l.set(h+y,v);l.set(h-d,h-d),l.set(h-d+1,h-d),l.set(h-d,h-d+1),l.set(h+d,h-d),l.set(h+d,h-d+1),l.set(h+d,h+d-1)}static generateModeMessage(l,h,d){let y=new V;return l?(y.appendBits(h-1,2),y.appendBits(d-1,6),y=pn.generateCheckWords(y,28,4)):(y.appendBits(h-1,5),y.appendBits(d-1,11),y=pn.generateCheckWords(y,40,4)),y}static drawModeMessage(l,h,d,y){let v=k.truncDivision(d,2);if(h)for(let x=0;x<7;x++){let E=v-3+x;y.get(x)&&l.set(E,v-5),y.get(x+7)&&l.set(v+5,E),y.get(20-x)&&l.set(E,v+5),y.get(27-x)&&l.set(v-5,E)}else for(let x=0;x<10;x++){let E=v-5+x+k.truncDivision(x,5);y.get(x)&&l.set(E,v-7),y.get(x+10)&&l.set(v+7,E),y.get(29-x)&&l.set(E,v+7),y.get(39-x)&&l.set(v-7,E)}}static generateCheckWords(l,h,d){let y=l.getSize()/d,v=new cl(pn.getGF(d)),x=k.truncDivision(h,d),E=pn.bitsToWords(l,d,x);v.encode(E,x-y);let N=h%d,L=new V;L.appendBits(0,N);for(const W of Array.from(E))L.appendBits(W,d);return L}static bitsToWords(l,h,d){let y=new Int32Array(d),v,x;for(v=0,x=l.getSize()/h;v<x;v++){let E=0;for(let N=0;N<h;N++)E|=l.get(v*h+N)?1<<h-N-1:0;y[v]=E}return y}static getGF(l){switch(l){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new m("Unsupported word size "+l)}}static stuffBits(l,h){let d=new V,y=l.getSize(),v=(1<<h)-2;for(let x=0;x<y;x+=h){let E=0;for(let N=0;N<h;N++)(x+N>=y||l.get(x+N))&&(E|=1<<h-1-N);(E&v)===v?(d.appendBits(E&v,h),x--):(E&v)===0?(d.appendBits(E|1,h),x--):d.appendBits(E,h)}return d}static totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}pn.DEFAULT_EC_PERCENT=33,pn.DEFAULT_AZTEC_LAYERS=0,pn.MAX_NB_BITS=32,pn.MAX_NB_BITS_COMPACT=4,pn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Cf{encode(l,h,d,y){return this.encodeWithHints(l,h,d,y,null)}encodeWithHints(l,h,d,y,v){let x=z.ISO_8859_1,E=pn.DEFAULT_EC_PERCENT,N=pn.DEFAULT_AZTEC_LAYERS;return v!=null&&(v.has(Rr.CHARACTER_SET)&&(x=S.forName(v.get(Rr.CHARACTER_SET).toString())),v.has(Rr.ERROR_CORRECTION)&&(E=k.parseInt(v.get(Rr.ERROR_CORRECTION).toString())),v.has(Rr.AZTEC_LAYERS)&&(N=k.parseInt(v.get(Rr.AZTEC_LAYERS).toString()))),Cf.encodeLayers(l,h,d,y,x,E,N)}static encodeLayers(l,h,d,y,v,x,E){if(h!==Me.AZTEC)throw new m("Can only encode AZTEC, but got "+h);let N=pn.encode(G.getBytes(l,v),x,E);return Cf.renderResult(N,d,y)}static renderResult(l,h,d){let y=l.getMatrix();if(y==null)throw new jt;let v=y.getWidth(),x=y.getHeight(),E=Math.max(h,v),N=Math.max(d,x),L=Math.min(E/v,N/x),W=(E-v*L)/2,Z=(N-x*L)/2,te=new ce(E,N);for(let le=0,de=Z;le<x;le++,de+=L)for(let me=0,be=W;me<v;me++,be+=L)y.get(me,le)&&te.setRegion(be,de,L,L);return te}}n.AbstractExpandedDecoder=rl,n.ArgumentException=g,n.ArithmeticException=_e,n.AztecCode=Y,n.AztecCodeReader=Vs,n.AztecCodeWriter=Cf,n.AztecDecoder=Kt,n.AztecDetector=$i,n.AztecDetectorResult=wi,n.AztecEncoder=pn,n.AztecHighLevelEncoder=_f,n.AztecPoint=yr,n.BarcodeFormat=Me,n.Binarizer=I,n.BinaryBitmap=w,n.BitArray=V,n.BitMatrix=ce,n.BitSource=Zc,n.BrowserAztecCodeReader=ws,n.BrowserBarcodeReader=ld,n.BrowserCodeReader=xe,n.BrowserDatamatrixCodeReader=zg,n.BrowserMultiFormatReader=ll,n.BrowserPDF417Reader=Kl,n.BrowserQRCodeReader=ru,n.BrowserQRCodeSvgWriter=lo,n.CharacterSetECI=U,n.ChecksumException=A,n.Code128Reader=Qe,n.Code39Reader=Qn,n.DataMatrixDecodedBitStreamParser=Hs,n.DataMatrixReader=bs,n.DecodeHintType=j,n.DecoderResult=Pe,n.DefaultGridSampler=Pr,n.DetectorResult=Tn,n.EAN13Reader=ai,n.EncodeHintType=Rr,n.Exception=u,n.FormatException=O,n.GenericGF=et,n.GenericGFPoly=$e,n.GlobalHistogramBinarizer=oe,n.GridSampler=so,n.GridSamplerInstance=oi,n.HTMLCanvasElementLuminanceSource=we,n.HybridBinarizer=ae,n.ITFReader=un,n.IllegalArgumentException=m,n.IllegalStateException=jt,n.InvertedLuminanceSource=pe,n.LuminanceSource=re,n.MathUtils=wt,n.MultiFormatOneDReader=Qo,n.MultiFormatReader=Jo,n.MultiFormatWriter=hd,n.NotFoundException=J,n.OneDReader=Xn,n.PDF417DecodedBitStreamParser=Ce,n.PDF417DecoderErrorCorrection=ol,n.PDF417Reader=fi,n.PDF417ResultMetadata=ql,n.PerspectiveTransform=cn,n.PlanarYUVLuminanceSource=Ws,n.QRCodeByteMatrix=Xl,n.QRCodeDataMask=Mt,n.QRCodeDecodedBitStreamParser=er,n.QRCodeDecoderErrorCorrectionLevel=Jt,n.QRCodeDecoderFormatInformation=Or,n.QRCodeEncoder=kn,n.QRCodeEncoderQRCode=as,n.QRCodeMaskUtil=Gn,n.QRCodeMatrixUtil=bt,n.QRCodeMode=vt,n.QRCodeReader=Oi,n.QRCodeVersion=tt,n.QRCodeWriter=Yr,n.RGBLuminanceSource=co,n.RSS14Reader=wn,n.RSSExpandedReader=Be,n.ReaderException=Ca,n.ReedSolomonDecoder=Yt,n.ReedSolomonEncoder=cl,n.ReedSolomonException=ht,n.Result=Re,n.ResultMetadataType=De,n.ResultPoint=nt,n.StringUtils=G,n.UnsupportedOperationException=K,n.VideoInputDevice=ue,n.WhiteRectangleDetector=si,n.WriterException=_n,n.ZXingArrays=B,n.ZXingCharset=S,n.ZXingInteger=k,n.ZXingStandardCharsets=z,n.ZXingStringBuilder=$,n.ZXingStringEncoding=q,n.ZXingSystem=T,n.createAbstractExpandedDecoder=ad,Object.defineProperty(n,"__esModule",{value:!0})}))})(Fm,Fm.exports)),Fm.exports}var Tr=lMe();const cMe=On(Tr),uMe=Iz({__proto__:null,default:cMe},[Tr]);var iV=(function(){function t(e,n,r){if(this.formatMap=new Map([[at.QR_CODE,Tr.BarcodeFormat.QR_CODE],[at.AZTEC,Tr.BarcodeFormat.AZTEC],[at.CODABAR,Tr.BarcodeFormat.CODABAR],[at.CODE_39,Tr.BarcodeFormat.CODE_39],[at.CODE_93,Tr.BarcodeFormat.CODE_93],[at.CODE_128,Tr.BarcodeFormat.CODE_128],[at.DATA_MATRIX,Tr.BarcodeFormat.DATA_MATRIX],[at.MAXICODE,Tr.BarcodeFormat.MAXICODE],[at.ITF,Tr.BarcodeFormat.ITF],[at.EAN_13,Tr.BarcodeFormat.EAN_13],[at.EAN_8,Tr.BarcodeFormat.EAN_8],[at.PDF_417,Tr.BarcodeFormat.PDF_417],[at.RSS_14,Tr.BarcodeFormat.RSS_14],[at.RSS_EXPANDED,Tr.BarcodeFormat.RSS_EXPANDED],[at.UPC_A,Tr.BarcodeFormat.UPC_A],[at.UPC_E,Tr.BarcodeFormat.UPC_E],[at.UPC_EAN_EXTENSION,Tr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!uMe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),s=new Map;s.set(Tr.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Tr.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var n=new Tr.MultiFormatReader(this.verbose,this.hints),r=new Tr.HTMLCanvasElementLuminanceSource(e),i=new Tr.BinaryBitmap(new Tr.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:dZ.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),fMe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},hMe=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sV=(function(){function t(e,n,r){if(this.formatMap=new Map([[at.QR_CODE,"qr_code"],[at.AZTEC,"aztec"],[at.CODABAR,"codabar"],[at.CODE_39,"code_39"],[at.CODE_93,"code_93"],[at.CODE_128,"code_128"],[at.DATA_MATRIX,"data_matrix"],[at.ITF,"itf"],[at.EAN_13,"ean_13"],[at.EAN_8,"ean_8"],[at.PDF_417,"pdf417"],[at.UPC_A,"upc_a"],[at.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return fMe(this,void 0,void 0,function(){var n,r;return hMe(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:dZ.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,s=e;i<s.length;i++){var o=s[i],a=o.boundingBox.width*o.boundingBox.height;a>r&&(r=a,n=o)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),oV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},aV=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dMe=(function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&sV.isSupported()?(this.primaryDecoder=new sV(e,r,i),this.secondaryDecoder=new iV(e,r,i)):this.primaryDecoder=new iV(e,r,i)}return t.prototype.decodeAsync=function(e){return oV(this,void 0,void 0,function(){var n;return aV(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return oV(this,void 0,void 0,function(){var n,r;return aV(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),ck=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Vx=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},zx=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yZ=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),pMe=(function(t){ck(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(yZ),gMe=(function(t){ck(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(pMe),mMe=(function(t){ck(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(yZ),yMe=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new gMe(this.track)},t.prototype.torchFeature=function(){return new mMe(this.track)},t})(),vMe=(function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return Vx(this,void 0,void 0,function(){var s,o;return zx(this,function(a){switch(a.label){case 0:return s=new t(e,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:a.sent(),a.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Vx(this,void 0,void 0,function(){return zx(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),s=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(a){e.mediaStream.removeTrack(a),a.stop(),++o,o>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new yMe(this.getFirstTrackOrFail())},t})(),wMe=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return Vx(this,void 0,void 0,function(){return zx(this,function(i){return[2,vMe.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return Vx(this,void 0,void 0,function(){var n,r;return zx(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t})(),lV=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},cV=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},xMe=(function(){function t(){}return t.failIfNotSupported=function(){return lV(this,void 0,void 0,function(){return cV(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return lV(this,void 0,void 0,function(){return cV(this,function(n){return[2,wMe.create(e)]})})},t})(),bMe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},AMe=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},EMe=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=np.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=np.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return bMe(this,void 0,void 0,function(){var e,n,r,i,s,o,a;return AMe(this,function(c){switch(c.label){case 0:return e=function(u){for(var g=u.getVideoTracks(),m=0,w=g;m<w.length;m++){var A=w[m];A.enabled=!1,A.stop(),u.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=c.sent(),i=[],s=0,o=r;s<o.length;s++)a=o[s],a.kind==="videoinput"&&i.push({id:a.deviceId,label:a.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(s){for(var o=[],a=0,c=s;a<c.length;a++){var u=c[a];u.kind==="video"&&o.push({id:u.id,label:u.label})}e(o)},i=MediaStreamTrack;i.getSources(r)})},t})(),Qr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Qr||(Qr={}));var SMe=(function(){function t(){this.state=Qr.NOT_STARTED,this.onGoingTransactionNewState=Qr.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Qr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Qr.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Qr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Qr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Qr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Qr.UNKNOWN:throw"Transition from unknown is not allowed";case Qr.NOT_STARTED:this.failIfNewStateIs(e,[Qr.PAUSED]);break;case Qr.SCANNING:break;case Qr.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),TMe=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Qr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Qr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Qr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Qr.PAUSED},t})(),_Me=(function(){function t(){}return t.create=function(){return new TMe(new SMe)},t})(),CMe=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Lo=(function(t){CMe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(Va),IMe=(function(){function t(e,n){this.logger=n,this.fps=Lo.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Lo.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?mZ.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!yl(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),Hx=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new gZ(this.verbose),this.qrcode=new dMe(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_Me.create()}return t.prototype.start=function(e,n,r,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var a=IMe.create(n,this.logger);this.clearElement();var c=!1;a.videoConstraints&&(a.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:Lo.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var m=this,w=this.stateManagerProxy.startTransition(Qr.SCANNING);return new Promise(function(A,I){var T=u?a.videoConstraints:m.createVideoConstraints(e);if(!T){w.cancel(),I("videoConstraints should be defined");return}var C={};(!u||a.aspectRatio)&&(C.aspectRatio=a.aspectRatio);var R={onRenderSurfaceReady:function(B,k){m.setupUi(B,k,a),m.isScanning=!0,m.foreverScan(a,r,o)}};xMe.failIfNotSupported().then(function(B){B.create(T).then(function(k){return k.render(s.element,C,R).then(function(V){m.renderedCamera=V,w.execute(),A(null)}).catch(function(V){w.cancel(),I(V)})}).catch(function(k){w.cancel(),I(np.errorGettingUserMedia(k))})}).catch(function(B){w.cancel(),I(np.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Qr.PAUSED),this.showPausedState(),(yl(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Qr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Qr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var s=document.getElementById(Lo.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(yl(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var a=o.width,c=o.height,u=document.getElementById(r.elementId),g=u.clientWidth?u.clientWidth:Lo.DEFAULT_WIDTH,m=Math.max(u.clientHeight?u.clientHeight:c,Lo.FILE_SCAN_MIN_HEIGHT),w=r.computeCanvasDrawConfig(a,c,g,m);if(n){var A=r.createCanvasElement(g,m,"qr-canvas-visible");A.style.display="inline-block",u.appendChild(A);var I=A.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=g,I.canvas.height=m,I.drawImage(o,0,0,a,c,w.x,w.y,w.width,w.height)}var T=Lo.FILE_SCAN_HIDDEN_CANVAS_PADDING,C=Math.max(o.width,w.width),R=Math.max(o.height,w.height),B=C+2*T,k=R+2*T,V=r.createCanvasElement(B,k);u.appendChild(V);var D=V.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=B,D.canvas.height=k,D.drawImage(o,0,0,a,c,T,T,C,R);try{r.qrcode.decodeRobustlyAsync(V).then(function(j){i(tV.createFromQrcodeResult(j))}).catch(s)}catch(j){s("QR code parse error, error = ".concat(j))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return EMe.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!mZ.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[at.QR_CODE,at.AZTEC,at.CODABAR,at.CODE_39,at.CODE_93,at.CODE_128,at.DATA_MATRIX,at.MAXICODE,at.ITF,at.EAN_13,at.EAN_8,at.PDF_417,at.RSS_14,at.RSS_EXPANDED,at.UPC_A,at.UPC_E,at.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=e.formatsToSupport;i<s.length;i++){var o=s[i];sMe(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(yl(e))return!0;if(!yl(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(yl(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return yl(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,n,s),a=function(u){if(u<Lo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Lo.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=e),u};a(o.width),a(o.height),o.width=c(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=yl(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&s.height<=n,a={x:0,y:0,width:e,height:n},c=o?this.getShadedRegionBounds(e,n,s):a,u=this.createCanvasElement(c.width,c.height),g={willReadFrequently:!0},m=u.getContext("2d",g);m.canvas.width=c.width,m.canvas.height=c.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,e,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=m,this.canvasElement=u},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=np.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,tV.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=np.codeParseError(i);return n(s,pZ.createFrom(s)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,a=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*o,u=this.qrRegion.height*a,g=this.qrRegion.x*o,m=this.qrRegion.y*a;this.context.drawImage(s,g,m,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(A){!A&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){w()})):w()}).catch(function(A){i.logger.logError("Error happend while scanning context",A),w()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",o=function(I){if(I in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},a=Object.keys(e);if(a.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(a.length," keys");var c=Object.keys(e)[0];if(c!==n&&c!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(c===n){var u=e.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(s in u){if(o(u["".concat(s)]))return{facingMode:{exact:u["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var g=typeof u;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var m=e.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(s in m)return{deviceId:{exact:m["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var w=typeof m;throw"Invalid type of 'deviceId' = ".concat(w)}}}var A=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var s=(r-e)/2,o=(i-n)/2;return{x:s,y:o,width:e,height:n}}else{var a=e,c=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(a,"X").concat(c)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Lo.BORDER_SHADER_MATCH_COLOR:Lo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,s=n,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=yl(r)?"qr-canvas":r,o},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(n-i.width)/2,a=(r-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Lo.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(s,u,c,-c,null,0,!0),this.insertShaderBorders(s,u,c,-c,null,0,!1),this.insertShaderBorders(s,u,c,null,-c,0,!0),this.insertShaderBorders(s,u,c,null,-c,0,!1),this.insertShaderBorders(s,c,u+c,-c,null,-c,!0),this.insertShaderBorders(s,c,u+c,null,-c,-c,!0),this.insertShaderBorders(s,c,u+c,-c,null,-c,!1),this.insertShaderBorders(s,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,n,r,i,s,o,a){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=Lo.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(n,"px"),c.style.height="".concat(r,"px"),i!==null&&(c.style.top="".concat(i,"px")),s!==null&&(c.style.bottom="".concat(s,"px")),a?c.style.left="".concat(o,"px"):c.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),e.appendChild(c)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),uk="data:image/svg+xml;base64,",PMe=uk+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",NMe=uk+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",uV=uk+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",OMe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",fV=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),RMe=(function(){function t(){this.data=fV.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=fV.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),kMe=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=nV.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var s=document.createElement("a");s.innerText=nV.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",s.style.color="white",this.infoDiv.appendChild(s),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),MMe=(function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=uV,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=OMe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=uV,this.infoIcon.style.opacity="0.6")},t})(),DMe=(function(){function t(){var e=this;this.infoDiv=new kMe,this.infoIcon=new MMe(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),LMe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},BMe=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},hV=(function(){function t(){}return t.hasPermissions=function(){return LMe(this,void 0,void 0,function(){var e,n,r,i;return BMe(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=s.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t})(),Cu=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===cf.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===cf.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Va.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Va.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var s=i[r];if(!Va.DEFAULT_SUPPORTED_SCAN_TYPE.includes(s))throw"Unsupported scan type ".concat(s)}return e},t})(),$o=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),Ac=(function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add($o.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t})(),vZ=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(g){try{u(r.next(g))}catch(m){o(m)}}function c(g){try{u(r.throw(g))}catch(m){o(m)}}function u(g){g.done?s(g.value):i(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},wZ=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(g){return c([u,g])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dV=(function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return vZ(this,void 0,void 0,function(){var e,n;return wZ(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Kn.torchOffButton():Kn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Kn.torchOnFailedMessage():Kn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),jMe=(function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Ac.createElement("button",$o.TORCH_BUTTON_ID),this.torchController=new dV(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Kn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(s){return vZ(r,void 0,void 0,function(){return wZ(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove($o.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add($o.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove($o.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add($o.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new dV(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Kn.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var s=new t(n,i);return s.render(e,r),s},t})(),FMe=(function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Ac.createElement("button",$o.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(a){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Ac.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var s=this;this.fileScanInput.addEventListener("change",function(a){if(!(a==null||a.target==null)){var c=a.target;if(!(c.files&&c.files.length===0)){var u=c.files,g=u[0],m=g.name;s.setImageNameToButton(m),r(g)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(a){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),a.stopPropagation(),a.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(a){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder(),a.stopPropagation(),a.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(a){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),a.stopPropagation(),a.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(a){a.stopPropagation(),a.preventDefault(),s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder();var c=a.dataTransfer;if(c){var u=c.files;if(!u||u.length===0)return;for(var g=!1,m=0;m<u.length;++m){var w=u.item(m);if(w){var A=/image.*/;if(w.type.match(A)){g=!0;var I=w.name;s.setImageNameToButton(I),r(w),o.innerText=Kn.dragAndDropMessage();break}}}g||(o.innerText=Kn.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Kn.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,s=e.substring(i-8,i);e="".concat(r,"....").concat(s)}var o=Kn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=o},t.prototype.setInitialValueToButton=function(){var e=Kn.fileSelectionChooseImage()+" - "+Kn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t})(),UMe=(function(){function t(e){this.selectElement=Ac.createElement("select",$o.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Kn.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var s=1,o=0,a=this.cameras;o<a.length;o++){var c=a[o],u=c.id,g=c.label==null?u:c.label;(!g||g==="")&&(g=[Kn.anonymousCameraPrefix(),s++].join(" "));var m=document.createElement("option");m.value=u,m.innerText=g,this.options.push(m),this.selectElement.appendChild(m)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t})(),VMe=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ac.createElement("input",$o.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Kn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Kn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t})(),Bo;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Bo||(Bo={}));function zMe(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function HMe(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var $Me=(function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Cu(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new gZ(this.verbose),this.persistedDataManager=new RMe,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,o){if(e)e(s,o);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage(Kn.lastMatch(s),Bo.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,o){n&&n(s,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Hx(this.getScanRegionId(),HMe(this.config,this.verbose))},t.prototype.pause=function(e){(yl(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(s){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(s){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",s),i(s)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Va.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Va.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Va.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Va.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Va.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Va.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Va.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),Cu.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),s=this.getDashboardId();i.id=s,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new DMe;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Kn.cameraPermissionRequesting());var s=function(){r||i.createPermissionButton(e,n)};Hx.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(e.removeChild(n),i.renderCameraSelection(o)):(i.setHeaderMessage(Kn.noCameraFound(),Bo.STATUS_WARNING),s())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),i.setHeaderMessage(o,Bo.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=Ac.createElement("button",this.getCameraPermissionButtonId());i.innerText=Kn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(Cu.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){hV.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Cu.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=Cu.isFileScanType(this.currentScanType),r=this,i=function(s){if(!r.html5Qrcode)throw"html5Qrcode not defined";Cu.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Kn.loadingImage()),r.html5Qrcode.scanFileV2(s,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,Bo.STATUS_WARNING),r.qrCodeErrorCallback(o,pZ.createFrom(o))}))};this.fileSelectionUi=FMe.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var s=VMe.create(i,!1),o=function(T){var C=T.zoomFeature();if(C.isSupported()){s.setOnCameraZoomValueChangeCallback(function(B){C.apply(B)});var R=1;n.config.defaultZoomValueIfSupported&&(R=n.config.defaultZoomValueIfSupported),R=oMe(R,C.min(),C.max()),s.setValues(C.min(),C.max(),R,C.step()),s.show()}},a=UMe.create(i,e),c=document.createElement("span"),u=Ac.createElement("button",$o.CAMERA_START_BUTTON_ID);u.innerText=Kn.scanButtonStartScanningText(),c.appendChild(u);var g=Ac.createElement("button",$o.CAMERA_STOP_BUTTON_ID);g.innerText=Kn.scanButtonStopScanningText(),g.style.display="none",g.disabled=!0,c.appendChild(g);var m,w=function(T){if(!T.torchFeature().isSupported()){m&&m.hide();return}m?m.updateTorchCapability(T.torchFeature()):m=jMe.create(c,T.torchFeature(),{display:"none",marginLeft:"5px"},function(C){r.setHeaderMessage(C,Bo.STATUS_WARNING)}),m.show()};i.appendChild(c);var A=function(T){T||(u.style.display="none"),u.innerText=Kn.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,T&&(u.style.display="inline-block")};if(u.addEventListener("click",function(T){u.innerText=Kn.scanButtonScanningStarting(),a.disable(),u.disabled=!0,u.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var C=a.getValue();r.persistedDataManager.setLastUsedCameraId(C),r.html5Qrcode.start(C,zMe(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(R){g.disabled=!1,g.style.display="inline-block",A(!1);var B=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&w(B),n.config.showZoomSliderIfSupported===!0&&o(B)}).catch(function(R){r.showHideScanTypeSwapLink(!0),a.enable(),A(!0),r.setHeaderMessage(R,Bo.STATUS_WARNING)})}),a.hasSingleItem()&&u.click(),g.addEventListener("click",function(T){if(!r.html5Qrcode)throw"html5Qrcode not defined";g.disabled=!0,r.html5Qrcode.stop().then(function(C){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),a.enable(),u.disabled=!1,g.style.display="none",u.style.display="inline-block",m&&(m.reset(),m.hide()),s.removeOnCameraZoomValueChangeCallback(),s.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(C){g.disabled=!1,r.setHeaderMessage(C,Bo.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var I=r.persistedDataManager.getLastUsedCameraId();a.hasValue(I)?(a.setValue(I),u.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Kn.textIfCameraScanSelected(),r=Kn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var o=Ac.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Cu.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Cu.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=r,e.currentScanType=cf.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=n,e.currentScanType=cf.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),s.appendChild(o),i.appendChild(s)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){hV.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=Bo.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case Bo.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Bo.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Bo.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=PMe,this.cameraScanImage.alt=Kn.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=NMe,this.fileScanImage.alt=Kn.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return $o.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return $o.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();class GMe{scanner=null;html5QrCode=null;async generateQRCode(e){try{const n=JSON.stringify(e);return await ZU.toDataURL(n,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"H"})}catch(n){throw console.error("Error generating QR code:",n),new Error("Failed to generate QR code")}}async generateQRCodeSVG(e){try{const n=JSON.stringify(e);return await ZU.toString(n,{type:"svg",width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"H"})}catch(n){throw console.error("Error generating QR code SVG:",n),new Error("Failed to generate QR code SVG")}}startScanner(e,n,r){try{this.stopScanner(),this.scanner=new $Me(e,{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,defaultZoomValueIfSupported:2},!1),this.scanner.render((i,s)=>{try{const o=JSON.parse(i);n(i,o)}catch{n(i,{rawText:i})}},r||(i=>{console.warn("QR Scanner error:",i)}))}catch(i){throw console.error("Failed to start QR scanner:",i),new Error("Failed to start QR code scanner")}}stopScanner(){try{this.scanner&&(this.scanner.clear().catch(console.error),this.scanner=null),this.html5QrCode&&(this.html5QrCode.stop().catch(console.error),this.html5QrCode=null)}catch(e){console.error("Error stopping scanner:",e)}}async scanFromFile(e){try{this.html5QrCode||(this.html5QrCode=new Hx("temp-qr-reader"));const n=await this.html5QrCode.scanFile(e,!0);try{return JSON.parse(n)}catch{return{rawText:n}}}catch(n){throw console.error("Failed to scan QR code from file:",n),new Error("Failed to scan QR code from file")}}isValidQRCodeData(e){return e&&typeof e.productId=="string"&&typeof e.name=="string"&&typeof e.farmer=="string"&&typeof e.harvestDate=="string"&&typeof e.location=="string"&&typeof e.timestamp=="number"}createQRCodeData(e,n,r,i,s,o){return{productId:e,name:n,farmer:r,harvestDate:i,location:s,blockchainHash:o,timestamp:Date.now()}}async getScannerCapabilities(){try{const e=await Hx.getCameras();return{cameras:e,hasCamera:e.length>0,supportedFormats:["QR_CODE","DATA_MATRIX","UPC_A","UPC_E","EAN_8","EAN_13"]}}catch(e){return console.error("Failed to get scanner capabilities:",e),{cameras:[],hasCamera:!1,supportedFormats:[]}}}downloadQRCode(e,n="qr-code.png"){try{const r=document.createElement("a");r.href=e,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(r){throw console.error("Failed to download QR code:",r),new Error("Failed to download QR code")}}printQRCode(e){try{const n=window.open("","_blank");n&&(n.document.write(`
          <html>
            <head>
              <title>Print QR Code</title>
              <style>
                body {
                  margin: 0;
                  padding: 20px;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  min-height: 100vh;
                }
                img {
                  max-width: 100%;
                  max-height: 100%;
                }
              </style>
            </head>
            <body>
              <img src="${e}" alt="QR Code" />
            </body>
          </html>
        `),n.document.close(),n.focus(),n.print())}catch(n){throw console.error("Failed to print QR code:",n),new Error("Failed to print QR code")}}}const py=new GMe,WMe=async(t,e,n,r,i,s)=>{const o=py.createQRCodeData(t,e,n,r,i,s);return await py.generateQRCode(o)};function qMe(t,e){return X.useReducer((n,r)=>e[n][r]??n,t)}var SA=t=>{const{present:e,children:n}=t,r=KMe(e),i=typeof n=="function"?n({present:r.isPresent}):X.Children.only(n),s=vi(r.ref,YMe(i));return typeof n=="function"||r.isPresent?X.cloneElement(i,{ref:s}):null};SA.displayName="Presence";function KMe(t){const[e,n]=X.useState(),r=X.useRef(null),i=X.useRef(t),s=X.useRef("none"),o=t?"mounted":"unmounted",[a,c]=qMe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return X.useEffect(()=>{const u=Pv(r.current);s.current=a==="mounted"?u:"none"},[a]),Fs(()=>{const u=r.current,g=i.current;if(g!==t){const w=s.current,A=Pv(u);t?c("MOUNT"):A==="none"||u?.display==="none"?c("UNMOUNT"):c(g&&w!==A?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Fs(()=>{if(e){let u;const g=e.ownerDocument.defaultView??window,m=A=>{const T=Pv(r.current).includes(CSS.escape(A.animationName));if(A.target===e&&T&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",u=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},w=A=>{A.target===e&&(s.current=Pv(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(u),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:X.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Pv(t){return t?.animationName||"none"}function YMe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var TA="Dialog",[xZ,z5e]=Xx(TA),[XMe,tl]=xZ(TA),bZ=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=X.useRef(null),c=X.useRef(null),[u,g]=MI({prop:r,defaultProp:i??!1,onChange:s,caller:TA});return P.jsx(XMe,{scope:e,triggerRef:a,contentRef:c,contentId:lp(),titleId:lp(),descriptionId:lp(),open:u,onOpenChange:g,onOpenToggle:X.useCallback(()=>g(m=>!m),[g]),modal:o,children:n})};bZ.displayName=TA;var AZ="DialogTrigger",EZ=X.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=tl(AZ,n),s=vi(e,i.triggerRef);return P.jsx(cr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dk(i.open),...r,ref:s,onClick:Cr(t.onClick,i.onOpenToggle)})});EZ.displayName=AZ;var fk="DialogPortal",[QMe,SZ]=xZ(fk,{forceMount:void 0}),TZ=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=tl(fk,e);return P.jsx(QMe,{scope:e,forceMount:n,children:X.Children.map(r,o=>P.jsx(SA,{present:n||s.open,children:P.jsx(LO,{asChild:!0,container:i,children:o})}))})};TZ.displayName=fk;var $x="DialogOverlay",_Z=X.forwardRef((t,e)=>{const n=SZ($x,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=tl($x,t.__scopeDialog);return s.modal?P.jsx(SA,{present:r||s.open,children:P.jsx(JMe,{...i,ref:e})}):null});_Z.displayName=$x;var ZMe=Cp("DialogOverlay.RemoveScroll"),JMe=X.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=tl($x,n);return P.jsx(BO,{as:ZMe,allowPinchZoom:!0,shards:[i.contentRef],children:P.jsx(cr.div,{"data-state":dk(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Gh="DialogContent",CZ=X.forwardRef((t,e)=>{const n=SZ(Gh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=tl(Gh,t.__scopeDialog);return P.jsx(SA,{present:r||s.open,children:s.modal?P.jsx(e4e,{...i,ref:e}):P.jsx(t4e,{...i,ref:e})})});CZ.displayName=Gh;var e4e=X.forwardRef((t,e)=>{const n=tl(Gh,t.__scopeDialog),r=X.useRef(null),i=vi(e,n.contentRef,r);return X.useEffect(()=>{const s=r.current;if(s)return AH(s)},[]),P.jsx(IZ,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Cr(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Cr(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Cr(t.onFocusOutside,s=>s.preventDefault())})}),t4e=X.forwardRef((t,e)=>{const n=tl(Gh,t.__scopeDialog),r=X.useRef(!1),i=X.useRef(!1);return P.jsx(IZ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),IZ=X.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=tl(Gh,n),c=X.useRef(null),u=vi(e,c);return Xz(),P.jsxs(P.Fragment,{children:[P.jsx(CO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:P.jsx(_O,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":dk(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(r4e,{titleId:a.titleId}),P.jsx(s4e,{contentRef:c,descriptionId:a.descriptionId})]})]})}),hk="DialogTitle",PZ=X.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=tl(hk,n);return P.jsx(cr.h2,{id:i.titleId,...r,ref:e})});PZ.displayName=hk;var NZ="DialogDescription",n4e=X.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=tl(NZ,n);return P.jsx(cr.p,{id:i.descriptionId,...r,ref:e})});n4e.displayName=NZ;var OZ="DialogClose",RZ=X.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=tl(OZ,n);return P.jsx(cr.button,{type:"button",...r,ref:e,onClick:Cr(t.onClick,()=>i.onOpenChange(!1))})});RZ.displayName=OZ;function dk(t){return t?"open":"closed"}var kZ="DialogTitleWarning",[H5e,MZ]=rne(kZ,{contentName:Gh,titleName:hk,docsSlug:"dialog"}),r4e=({titleId:t})=>{const e=MZ(kZ),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return X.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},i4e="DialogDescriptionWarning",s4e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MZ(i4e).contentName}}.`;return X.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},o4e=bZ,a4e=EZ,l4e=TZ,c4e=_Z,u4e=CZ,f4e=PZ,h4e=RZ;function pk({...t}){return P.jsx(o4e,{"data-slot":"dialog",...t})}function gk({...t}){return P.jsx(a4e,{"data-slot":"dialog-trigger",...t})}function d4e({...t}){return P.jsx(l4e,{"data-slot":"dialog-portal",...t})}function p4e({className:t,...e}){return P.jsx(c4e,{"data-slot":"dialog-overlay",className:Br("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function mk({className:t,children:e,...n}){return P.jsxs(d4e,{"data-slot":"dialog-portal",children:[P.jsx(p4e,{}),P.jsxs(u4e,{"data-slot":"dialog-content",className:Br("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,P.jsxs(h4e,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[P.jsx(HO,{}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function yk({className:t,...e}){return P.jsx("div",{"data-slot":"dialog-header",className:Br("flex flex-col gap-2 text-center sm:text-left",t),...e})}function vk({className:t,...e}){return P.jsx(f4e,{"data-slot":"dialog-title",className:Br("text-lg leading-none font-semibold",t),...e})}function g4e(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const m4e=t=>{switch(t){case"success":return w4e;case"info":return b4e;case"warning":return x4e;case"error":return A4e;default:return null}},y4e=Array(12).fill(0),v4e=({visible:t,className:e})=>se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},se.createElement("div",{className:"sonner-spinner"},y4e.map((n,r)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),w4e=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),x4e=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),b4e=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),A4e=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),E4e=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),S4e=()=>{const[t,e]=se.useState(document.hidden);return se.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let nO=1;class T4e{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:nO++,o=this.toasts.find(c=>c.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:a,title:r}):c):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const a=i.then(async u=>{if(o=["resolve",u],se.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(C4e(u)&&!u.ok){s=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,I=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...I})}else if(u instanceof Error){s=!1;const m=typeof n.error=="function"?await n.error(u):n.error,w=typeof n.description=="function"?await n.description(u):n.description,I=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...I})}else if(n.success!==void 0){s=!1;const m=typeof n.success=="function"?await n.success(u):n.success,w=typeof n.description=="function"?await n.description(u):n.description,I=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:w,...I})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){s=!1;const g=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,A=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...A})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,g)=>a.then(()=>o[0]==="reject"?g(o[1]):u(o[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=n?.id||nO++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yo=new T4e,_4e=(t,e)=>{const n=e?.id||nO++;return yo.addToast({title:t,...e,id:n}),n},C4e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",I4e=_4e,P4e=()=>yo.toasts,N4e=()=>yo.getActiveToasts(),Wt=Object.assign(I4e,{success:yo.success,info:yo.info,warning:yo.warning,error:yo.error,custom:yo.custom,message:yo.message,promise:yo.promise,dismiss:yo.dismiss,loading:yo.loading},{getHistory:P4e,getToasts:N4e});g4e("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Nv(t){return t.label!==void 0}const O4e=3,R4e="24px",k4e="16px",pV=4e3,M4e=356,D4e=14,L4e=45,B4e=200;function ml(...t){return t.filter(Boolean).join(" ")}function j4e(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const F4e=t=>{var e,n,r,i,s,o,a,c,u;const{invert:g,toast:m,unstyled:w,interacting:A,setHeights:I,visibleToasts:T,heights:C,index:R,toasts:B,expanded:k,removeToast:V,defaultRichColors:D,closeButton:j,style:O,cancelButtonStyle:M,actionButtonStyle:U,className:K="",descriptionClassName:q="",duration:G,position:$,gap:ce,expandByDefault:J,classNames:oe,icons:ae,closeButtonAriaLabel:re="Close toast"}=t,[pe,we]=se.useState(null),[ue,he]=se.useState(null),[xe,Re]=se.useState(!1),[Ue,Me]=se.useState(!1),[ke,De]=se.useState(!1),[Pe,je]=se.useState(!1),[$e,_e]=se.useState(!1),[et,ht]=se.useState(0),[jt,Yt]=se.useState(0),kt=se.useRef(m.duration||G||pV),Kt=se.useRef(null),wt=se.useRef(null),ii=R===0,nt=R+1<=T,Tn=m.type,wi=m.dismissible!==!1,si=m.className||"",so=m.descriptionClassName||"",cn=se.useMemo(()=>C.findIndex(At=>At.toastId===m.id)||0,[C,m.id]),Pr=se.useMemo(()=>{var At;return(At=m.closeButton)!=null?At:j},[m.closeButton,j]),oi=se.useMemo(()=>m.duration||G||pV,[m.duration,G]),yr=se.useRef(0),$i=se.useRef(0),Vs=se.useRef(0),ws=se.useRef(null),[Xn,Qe]=$.split("-"),Qn=se.useMemo(()=>C.reduce((At,fn,Zn)=>Zn>=cn?At:At+fn.height,0),[C,cn]),un=S4e(),Bn=m.invert||g,is=Tn==="loading";$i.current=se.useMemo(()=>cn*ce+Qn,[cn,Qn]),se.useEffect(()=>{kt.current=oi},[oi]),se.useEffect(()=>{Re(!0)},[]),se.useEffect(()=>{const At=wt.current;if(At){const fn=At.getBoundingClientRect().height;return Yt(fn),I(Zn=>[{toastId:m.id,height:fn,position:m.position},...Zn]),()=>I(Zn=>Zn.filter(hn=>hn.toastId!==m.id))}},[I,m.id]),se.useLayoutEffect(()=>{if(!xe)return;const At=wt.current,fn=At.style.height;At.style.height="auto";const Zn=At.getBoundingClientRect().height;At.style.height=fn,Yt(Zn),I(hn=>hn.find(Jn=>Jn.toastId===m.id)?hn.map(Jn=>Jn.toastId===m.id?{...Jn,height:Zn}:Jn):[{toastId:m.id,height:Zn,position:m.position},...hn])},[xe,m.title,m.description,I,m.id,m.jsx,m.action,m.cancel]);const Ci=se.useCallback(()=>{Me(!0),ht($i.current),I(At=>At.filter(fn=>fn.toastId!==m.id)),setTimeout(()=>{V(m)},B4e)},[m,V,I,$i]);se.useEffect(()=>{if(m.promise&&Tn==="loading"||m.duration===1/0||m.type==="loading")return;let At;return k||A||un?(()=>{if(Vs.current<yr.current){const hn=new Date().getTime()-yr.current;kt.current=kt.current-hn}Vs.current=new Date().getTime()})():(()=>{kt.current!==1/0&&(yr.current=new Date().getTime(),At=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Ci()},kt.current))})(),()=>clearTimeout(At)},[k,A,m,Tn,un,Ci]),se.useEffect(()=>{m.delete&&(Ci(),m.onDismiss==null||m.onDismiss.call(m,m))},[Ci,m.delete]);function Ta(){var At;if(ae?.loading){var fn;return se.createElement("div",{className:ml(oe?.loader,m==null||(fn=m.classNames)==null?void 0:fn.loader,"sonner-loader"),"data-visible":Tn==="loading"},ae.loading)}return se.createElement(v4e,{className:ml(oe?.loader,m==null||(At=m.classNames)==null?void 0:At.loader),visible:Tn==="loading"})}const Ft=m.icon||ae?.[Tn]||m4e(Tn);var ai,Yo;return se.createElement("li",{tabIndex:0,ref:wt,className:ml(K,si,oe?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,oe?.default,oe?.[Tn],m==null||(n=m.classNames)==null?void 0:n[Tn]),"data-sonner-toast":"","data-rich-colors":(ai=m.richColors)!=null?ai:D,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":xe,"data-promise":!!m.promise,"data-swiped":$e,"data-removed":Ue,"data-visible":nt,"data-y-position":Xn,"data-x-position":Qe,"data-index":R,"data-front":ii,"data-swiping":ke,"data-dismissible":wi,"data-type":Tn,"data-invert":Bn,"data-swipe-out":Pe,"data-swipe-direction":ue,"data-expanded":!!(k||J&&xe),"data-testid":m.testId,style:{"--index":R,"--toasts-before":R,"--z-index":B.length-R,"--offset":`${Ue?et:$i.current}px`,"--initial-height":J?"auto":`${jt}px`,...O,...m.style},onDragEnd:()=>{De(!1),we(null),ws.current=null},onPointerDown:At=>{At.button!==2&&(is||!wi||(Kt.current=new Date,ht($i.current),At.target.setPointerCapture(At.pointerId),At.target.tagName!=="BUTTON"&&(De(!0),ws.current={x:At.clientX,y:At.clientY})))},onPointerUp:()=>{var At,fn,Zn;if(Pe||!wi)return;ws.current=null;const hn=Number(((At=wt.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),li=Number(((fn=wt.current)==null?void 0:fn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jn=new Date().getTime()-((Zn=Kt.current)==null?void 0:Zn.getTime()),Ht=pe==="x"?hn:li,_o=Math.abs(Ht)/Jn;if(Math.abs(Ht)>=L4e||_o>.11){ht($i.current),m.onDismiss==null||m.onDismiss.call(m,m),he(pe==="x"?hn>0?"right":"left":li>0?"down":"up"),Ci(),je(!0);return}else{var Rn,jr;(Rn=wt.current)==null||Rn.style.setProperty("--swipe-amount-x","0px"),(jr=wt.current)==null||jr.style.setProperty("--swipe-amount-y","0px")}_e(!1),De(!1),we(null)},onPointerMove:At=>{var fn,Zn,hn;if(!ws.current||!wi||((fn=window.getSelection())==null?void 0:fn.toString().length)>0)return;const Jn=At.clientY-ws.current.y,Ht=At.clientX-ws.current.x;var _o;const Rn=(_o=t.swipeDirections)!=null?_o:j4e($);!pe&&(Math.abs(Ht)>1||Math.abs(Jn)>1)&&we(Math.abs(Ht)>Math.abs(Jn)?"x":"y");let jr={x:0,y:0};const vr=Wr=>1/(1.5+Math.abs(Wr)/20);if(pe==="y"){if(Rn.includes("top")||Rn.includes("bottom"))if(Rn.includes("top")&&Jn<0||Rn.includes("bottom")&&Jn>0)jr.y=Jn;else{const Wr=Jn*vr(Jn);jr.y=Math.abs(Wr)<Math.abs(Jn)?Wr:Jn}}else if(pe==="x"&&(Rn.includes("left")||Rn.includes("right")))if(Rn.includes("left")&&Ht<0||Rn.includes("right")&&Ht>0)jr.x=Ht;else{const Wr=Ht*vr(Ht);jr.x=Math.abs(Wr)<Math.abs(Ht)?Wr:Ht}(Math.abs(jr.x)>0||Math.abs(jr.y)>0)&&_e(!0),(Zn=wt.current)==null||Zn.style.setProperty("--swipe-amount-x",`${jr.x}px`),(hn=wt.current)==null||hn.style.setProperty("--swipe-amount-y",`${jr.y}px`)}},Pr&&!m.jsx&&Tn!=="loading"?se.createElement("button",{"aria-label":re,"data-disabled":is,"data-close-button":!0,onClick:is||!wi?()=>{}:()=>{Ci(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ml(oe?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Yo=ae?.close)!=null?Yo:E4e):null,(Tn||m.icon||m.promise)&&m.icon!==null&&(ae?.[Tn]!==null||m.icon)?se.createElement("div",{"data-icon":"",className:ml(oe?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ta():null,m.type!=="loading"?Ft:null):null,se.createElement("div",{"data-content":"",className:ml(oe?.content,m==null||(s=m.classNames)==null?void 0:s.content)},se.createElement("div",{"data-title":"",className:ml(oe?.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?se.createElement("div",{"data-description":"",className:ml(q,so,oe?.description,m==null||(a=m.classNames)==null?void 0:a.description)},typeof m.description=="function"?m.description():m.description):null),se.isValidElement(m.cancel)?m.cancel:m.cancel&&Nv(m.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||M,onClick:At=>{Nv(m.cancel)&&wi&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,At),Ci())},className:ml(oe?.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,se.isValidElement(m.action)?m.action:m.action&&Nv(m.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||U,onClick:At=>{Nv(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,At),!At.defaultPrevented&&Ci())},className:ml(oe?.actionButton,m==null||(u=m.classNames)==null?void 0:u.actionButton)},m.action.label):null)};function gV(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function U4e(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?k4e:R4e;function c(u){["top","right","bottom","left"].forEach(g=>{n[`${o}-${g}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}const V4e=se.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:c,className:u,offset:g,mobileOffset:m,theme:w="light",richColors:A,duration:I,style:T,visibleToasts:C=O4e,toastOptions:R,dir:B=gV(),gap:k=D4e,icons:V,containerAriaLabel:D="Notifications"}=e,[j,O]=se.useState([]),M=se.useMemo(()=>r?j.filter(xe=>xe.toasterId===r):j.filter(xe=>!xe.toasterId),[j,r]),U=se.useMemo(()=>Array.from(new Set([s].concat(M.filter(xe=>xe.position).map(xe=>xe.position)))),[M,s]),[K,q]=se.useState([]),[G,$]=se.useState(!1),[ce,J]=se.useState(!1),[oe,ae]=se.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=se.useRef(null),pe=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),we=se.useRef(null),ue=se.useRef(!1),he=se.useCallback(xe=>{O(Re=>{var Ue;return(Ue=Re.find(Me=>Me.id===xe.id))!=null&&Ue.delete||yo.dismiss(xe.id),Re.filter(({id:Me})=>Me!==xe.id)})},[]);return se.useEffect(()=>yo.subscribe(xe=>{if(xe.dismiss){requestAnimationFrame(()=>{O(Re=>Re.map(Ue=>Ue.id===xe.id?{...Ue,delete:!0}:Ue))});return}setTimeout(()=>{qz.flushSync(()=>{O(Re=>{const Ue=Re.findIndex(Me=>Me.id===xe.id);return Ue!==-1?[...Re.slice(0,Ue),{...Re[Ue],...xe},...Re.slice(Ue+1)]:[xe,...Re]})})})}),[j]),se.useEffect(()=>{if(w!=="system"){ae(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;const xe=window.matchMedia("(prefers-color-scheme: dark)");try{xe.addEventListener("change",({matches:Re})=>{ae(Re?"dark":"light")})}catch{xe.addListener(({matches:Ue})=>{try{ae(Ue?"dark":"light")}catch(Me){console.error(Me)}})}},[w]),se.useEffect(()=>{j.length<=1&&$(!1)},[j]),se.useEffect(()=>{const xe=Re=>{var Ue;if(o.every(De=>Re[De]||Re.code===De)){var ke;$(!0),(ke=re.current)==null||ke.focus()}Re.code==="Escape"&&(document.activeElement===re.current||(Ue=re.current)!=null&&Ue.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",xe),()=>document.removeEventListener("keydown",xe)},[o]),se.useEffect(()=>{if(re.current)return()=>{we.current&&(we.current.focus({preventScroll:!0}),we.current=null,ue.current=!1)}},[re.current]),se.createElement("section",{ref:n,"aria-label":`${D} ${pe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((xe,Re)=>{var Ue;const[Me,ke]=xe.split("-");return M.length?se.createElement("ol",{key:xe,dir:B==="auto"?gV():B,tabIndex:-1,ref:re,className:u,"data-sonner-toaster":!0,"data-sonner-theme":oe,"data-y-position":Me,"data-x-position":ke,style:{"--front-toast-height":`${((Ue=K[0])==null?void 0:Ue.height)||0}px`,"--width":`${M4e}px`,"--gap":`${k}px`,...T,...U4e(g,m)},onBlur:De=>{ue.current&&!De.currentTarget.contains(De.relatedTarget)&&(ue.current=!1,we.current&&(we.current.focus({preventScroll:!0}),we.current=null))},onFocus:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,we.current=De.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{ce||$(!1)},onDragEnd:()=>$(!1),onPointerDown:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},M.filter(De=>!De.position&&Re===0||De.position===xe).map((De,Pe)=>{var je,$e;return se.createElement(F4e,{key:De.id,icons:V,index:Pe,toast:De,defaultRichColors:A,duration:(je=R?.duration)!=null?je:I,className:R?.className,descriptionClassName:R?.descriptionClassName,invert:i,visibleToasts:C,closeButton:($e=R?.closeButton)!=null?$e:c,interacting:ce,position:xe,style:R?.style,unstyled:R?.unstyled,classNames:R?.classNames,cancelButtonStyle:R?.cancelButtonStyle,actionButtonStyle:R?.actionButtonStyle,closeButtonAriaLabel:R?.closeButtonAriaLabel,removeToast:he,toasts:M.filter(_e=>_e.position==De.position),heights:K.filter(_e=>_e.position==De.position),setHeights:q,expandByDefault:a,gap:k,expanded:G,swipeDirections:e.swipeDirections})})):null}))});function z4e({onLogout:t}){const[e,n]=X.useState([]),[r,i]=X.useState({name:"",weight:"",harvestDate:"",location:"",expectedPrice:""}),[s,o]=X.useState(!1),[a,c]=X.useState(null),[u,g]=X.useState([]),[m,w]=X.useState(!1),[A,I]=X.useState(!1),[T,C]=X.useState(!1),[R,B]=X.useState(null),{t:k}=$c();X.useEffect(()=>{(async()=>{try{const $=await Bs.connect();I($),$&&Wt.success("Blockchain wallet connected successfully!")}catch($){console.error("Failed to connect to blockchain:",$),Wt.error("Failed to connect to blockchain wallet")}})()},[]);const V=[{name:"Rice",currentPrice:28,myPrice:0},{name:"Wheat",currentPrice:32,myPrice:0},{name:"Corn",currentPrice:22,myPrice:0},{name:"Sugarcane",currentPrice:35,myPrice:0},{name:"Tomato",currentPrice:45,myPrice:0},{name:"Onion",currentPrice:38,myPrice:0},{name:"Potato",currentPrice:25,myPrice:0},{name:"Cotton",currentPrice:65,myPrice:0}],D=G=>{if(i($=>({...$,name:G})),G.length>=2){const $=GPe(G);g($),w($.length>0);const ce=l7(G);ce&&(c(ce),i(J=>({...J,expectedPrice:Math.round(ce.recommendedPrice/100).toString()})))}else w(!1),c(null)},j=G=>{i(ce=>({...ce,name:G})),w(!1);const $=l7(G);$&&(c($),i(ce=>({...ce,expectedPrice:Math.round($.recommendedPrice/100).toString()})))},O=G=>{G.preventDefault();const $=Lke(),ce={id:e.length+1,name:r.name,weight:parseInt(r.weight),harvestDate:r.harvestDate,location:r.location,expectedPrice:parseInt(r.expectedPrice),blockchainId:$,status:"draft"};n([...e,ce]),i({name:"",weight:"",harvestDate:"",location:"",expectedPrice:""}),c(null),o(!1),Wt.info('Crop added to draft. Click "Register on Blockchain" to make it permanent.')},M=()=>V.map(G=>{const $=e.find(ce=>ce.name.toLowerCase()===G.name.toLowerCase());return{...G,myPrice:$?$.expectedPrice:0}}),U=async G=>{if(!A){Wt.error("Please connect your blockchain wallet first");return}C(!0);try{const $=await Bs.registerProduct(G.blockchainId,G.name,G.weight,G.expectedPrice,G.harvestDate,"A",G.location),ce=await Bs.getAddress(),J=await WMe(G.blockchainId,G.name,ce,G.harvestDate,G.location,$),oe=e.map(ae=>ae.id===G.id?{...ae,transactionHash:$,qrCode:J,status:"registered"}:ae);n(oe),Wt.success(`Crop "${G.name}" registered on blockchain successfully!`)}catch($){console.error("Failed to register crop on blockchain:",$);const ce=e.map(J=>J.id===G.id?{...J,status:"error"}:J);n(ce),Wt.error("Failed to register crop on blockchain. Please try again.")}finally{C(!1)}},K=G=>{G.qrCode&&(py.downloadQRCode(G.qrCode,`${G.name}-${G.blockchainId}-QR.png`),Wt.success("QR code downloaded successfully!"))},q=async()=>{try{const G=await Bs.connect();I(G),G&&Wt.success("Blockchain wallet connected successfully!")}catch{Wt.error("Failed to connect to blockchain wallet")}};return P.jsxs(Yu,{type:"farmer",children:[P.jsx(Zu,{}),P.jsx("div",{className:"pt-20 px-4 pb-8",children:P.jsxs("div",{className:"max-w-7xl mx-auto",children:[P.jsxs("div",{className:"flex justify-between items-center mb-8",children:[P.jsxs("div",{children:[P.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[k("farmer")," ",k("dashboard")]}),P.jsx("p",{className:"text-muted-foreground",children:"Manage your crops and track market prices"}),P.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[P.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-green-500":"bg-red-500"}`}),P.jsxs("span",{className:"text-sm text-muted-foreground",children:["Blockchain: ",A?"Connected":"Disconnected"]}),!A&&P.jsxs(Vt,{onClick:q,variant:"outline",size:"sm",children:[P.jsx(Pp,{className:"w-3 h-3 mr-1"}),"Connect Wallet"]})]})]}),P.jsxs(Vt,{onClick:t,variant:"outline",className:"bg-card/80",children:[P.jsx(zO,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Crops"}),P.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length})]}),P.jsx(fp,{className:"w-8 h-8 text-primary"})]})})}),P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Weight"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.reduce((G,$)=>G+$.weight,0)," kg"]})]}),P.jsx(pc,{className:"w-8 h-8 text-green-600"})]})})}),P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Expected Revenue"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["₹",e.reduce((G,$)=>G+$.weight*$.expectedPrice,0).toLocaleString()]})]}),P.jsx(pc,{className:"w-8 h-8 text-lime-600"})]})})})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsxs(ji,{className:"flex items-center gap-2",children:[P.jsx(Vm,{className:"w-5 h-5 text-green-600"}),k("addCrop")]}),P.jsxs(Vt,{onClick:()=>o(!s),variant:"outline",size:"sm",className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border-green-200 dark:border-green-800 hover:from-green-100 hover:to-emerald-100",children:[P.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Add New"]})]})}),s&&P.jsx(Ln,{children:P.jsxs("form",{onSubmit:O,className:"space-y-4",children:[P.jsxs("div",{className:"relative",children:[P.jsx(tr,{htmlFor:"cropName",children:k("cropName")}),P.jsx(Vn,{id:"cropName",value:r.name,onChange:G=>D(G.target.value),onFocus:G=>D(G.target.value),onBlur:()=>setTimeout(()=>w(!1),200),required:!0,className:"bg-input-background",placeholder:"Type crop name (e.g., Rice, Wheat, Tomato)"}),m&&u.length>0&&P.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg max-h-48 overflow-y-auto",children:u.map((G,$)=>P.jsx("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-accent hover:text-accent-foreground transition-colors",onClick:()=>j(G),children:G},$))})]}),a&&P.jsx(Pn,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border-green-200 dark:border-green-800",children:P.jsx(Ln,{className:"p-4",children:P.jsxs("div",{className:"flex items-start gap-3",children:[P.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:P.jsx(VO,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsxs("div",{className:"flex items-center justify-between mb-2",children:[P.jsxs("h4",{className:"font-medium text-green-800 dark:text-green-200",children:["Price Recommendation for ",a.cropName]}),P.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.marketTrend==="up"&&P.jsx(pc,{className:"w-3 h-3 text-green-600"}),a.marketTrend==="down"&&P.jsx(i$,{className:"w-3 h-3 text-red-600"}),a.marketTrend==="stable"&&P.jsx(ooe,{className:"w-3 h-3 text-gray-600"}),P.jsx("span",{className:`font-medium ${a.marketTrend==="up"?"text-green-600":a.marketTrend==="down"?"text-red-600":"text-gray-600"}`,children:a.marketTrend})]})]}),P.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"Recommended Price"}),P.jsxs("p",{className:"font-bold text-green-700 dark:text-green-300",children:["₹",a.recommendedPrice.toLocaleString()," ",a.unit]})]}),P.jsxs("div",{children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Market"}),P.jsxs("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["₹",a.marketPrice.toLocaleString()," ",a.unit]})]})]}),P.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:P.jsxs("p",{children:["Price Range: ₹",a.priceRange.min," - ₹",a.priceRange.max," ",a.unit]})}),P.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground",children:[P.jsx(r$,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),P.jsxs("div",{children:[P.jsx("p",{className:"font-medium mb-1",children:"Market Factors:"}),P.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:a.factors.map((G,$)=>P.jsx("li",{children:G},$))})]})]})]})]})})}),P.jsxs("div",{children:[P.jsxs(tr,{htmlFor:"weight",children:[k("totalWeight")," (kg)"]}),P.jsx(Vn,{id:"weight",type:"number",value:r.weight,onChange:G=>i($=>({...$,weight:G.target.value})),required:!0,className:"bg-input-background",placeholder:"Enter weight in kg"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"harvestDate",children:k("harvestDate")}),P.jsx(Vn,{id:"harvestDate",type:"date",value:r.harvestDate,onChange:G=>i($=>({...$,harvestDate:G.target.value})),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"location",children:"Location"}),P.jsx(Vn,{id:"location",value:r.location,onChange:G=>i($=>({...$,location:G.target.value})),required:!0,className:"bg-input-background",placeholder:"Farm location (Village, District, State)"})]}),P.jsxs("div",{children:[P.jsxs(tr,{htmlFor:"expectedPrice",children:[k("expectedPrice")," (₹/kg)"]}),P.jsx(Vn,{id:"expectedPrice",type:"number",value:r.expectedPrice,onChange:G=>i($=>({...$,expectedPrice:G.target.value})),required:!0,className:"bg-input-background",placeholder:"Price per kg"})]}),P.jsxs(Vt,{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-700 hover:to-emerald-600 text-white",children:[P.jsx(Vm,{className:"w-4 h-4 mr-2"}),k("addCrop")]})]})})]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsxs(ji,{className:"flex items-center gap-2",children:[P.jsx(pc,{className:"w-5 h-5 text-green-600"}),k("marketPrices")]})}),P.jsx(Ln,{children:P.jsx(OP,{width:"100%",height:380,children:P.jsxs(wX,{data:M(),children:[P.jsx(V3,{strokeDasharray:"3 3",stroke:"var(--border)"}),P.jsx(Vy,{dataKey:"name",stroke:"var(--muted-foreground)",angle:-60,textAnchor:"end",height:100,interval:0,fontSize:12}),P.jsx(zy,{stroke:"var(--muted-foreground)"}),P.jsx(da,{contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"6px"}}),P.jsx(Vl,{dataKey:"currentPrice",fill:"#16a34a",name:"Market Price"}),P.jsx(Vl,{dataKey:"myPrice",fill:"#22c55e",name:"My Price"})]})})})]})]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsxs(ji,{className:"flex items-center gap-2",children:[P.jsx(cw,{className:"w-5 h-5 text-green-600"}),k("transactionHistory")]})}),P.jsx(Ln,{children:P.jsxs(kw,{children:[P.jsx(Mw,{children:P.jsxs(Uu,{children:[P.jsx(Wn,{children:"Blockchain ID"}),P.jsx(Wn,{children:"Crop"}),P.jsx(Wn,{children:"Weight (kg)"}),P.jsx(Wn,{children:"Harvest Date"}),P.jsx(Wn,{children:"Expected Price (₹/kg)"}),P.jsx(Wn,{children:"Status"}),P.jsx(Wn,{children:"Actions"})]})}),P.jsx(Dw,{children:e.map(G=>P.jsxs(Uu,{children:[P.jsx(qn,{className:"font-mono text-primary",children:G.blockchainId}),P.jsx(qn,{children:G.name}),P.jsx(qn,{children:G.weight}),P.jsx(qn,{children:G.harvestDate}),P.jsxs(qn,{children:["₹",G.expectedPrice]}),P.jsx(qn,{children:P.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${G.status==="registered"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":G.status==="error"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:G.status==="registered"?"On Blockchain":G.status==="error"?"Failed":"Draft"})}),P.jsx(qn,{children:P.jsxs("div",{className:"flex items-center gap-2",children:[G.status==="draft"&&P.jsxs(Vt,{onClick:()=>U(G),disabled:!A||T,variant:"outline",size:"sm",className:"bg-green-50 hover:bg-green-100 border-green-200",children:[P.jsx(Pp,{className:"w-3 h-3 mr-1"}),"Register"]}),G.status==="registered"&&G.qrCode&&P.jsxs(P.Fragment,{children:[P.jsxs(pk,{children:[P.jsx(gk,{asChild:!0,children:P.jsxs(Vt,{variant:"outline",size:"sm",children:[P.jsx(yh,{className:"w-3 h-3 mr-1"}),"View QR"]})}),P.jsxs(mk,{className:"max-w-md",children:[P.jsx(yk,{children:P.jsxs(vk,{children:["Product QR Code - ",G.name]})}),P.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[P.jsx("img",{src:G.qrCode,alt:"Product QR Code",className:"w-64 h-64"}),P.jsxs("div",{className:"text-center space-y-2",children:[P.jsxs("p",{className:"text-sm font-medium",children:["Product ID: ",G.blockchainId]}),P.jsx("p",{className:"text-xs text-muted-foreground",children:"Scan this QR code to track the product"})]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsxs(Vt,{onClick:()=>K(G),variant:"outline",children:[P.jsx(RD,{className:"w-4 h-4 mr-2"}),"Download"]}),P.jsx(Vt,{onClick:()=>py.printQRCode(G.qrCode),variant:"outline",children:"Print"})]})]})]})]}),P.jsxs(Vt,{onClick:()=>K(G),variant:"outline",size:"sm",children:[P.jsx(RD,{className:"w-3 h-3 mr-1"}),"Download"]})]}),G.transactionHash&&P.jsxs(Vt,{onClick:()=>window.open(`https://etherscan.io/tx/${G.transactionHash}`,"_blank"),variant:"outline",size:"sm",className:"text-blue-600",children:[P.jsx(UO,{className:"w-3 h-3 mr-1"}),"View Tx"]})]})})]},G.id))})]})})]})]})})]})}function H4e({data:t}){const e=r=>{switch(r){case"completed":return P.jsx(rh,{className:"w-4 h-4 text-secondary"});case"in-progress":return P.jsx(zse,{className:"w-4 h-4 text-primary"});default:return P.jsx(Use,{className:"w-4 h-4 text-muted-foreground"})}},n=r=>{switch(r){case"completed":return"border-secondary bg-secondary/10";case"in-progress":return"border-primary bg-primary/10";default:return"border-muted-foreground bg-muted"}};return P.jsx("div",{className:"space-y-4",children:t.map((r,i)=>P.jsxs("div",{className:"flex gap-4",children:[P.jsxs("div",{className:"flex flex-col items-center",children:[P.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center ${n(r.status)}`,children:e(r.status)}),i<t.length-1&&P.jsx("div",{className:"w-0.5 h-8 bg-border mt-2"})]}),P.jsxs("div",{className:"flex-1 pb-4",children:[P.jsxs("div",{className:"flex justify-between items-start mb-1",children:[P.jsx("h4",{className:"font-medium text-foreground",children:r.title}),P.jsx("span",{className:"text-xs text-muted-foreground",children:r.date})]}),r.description&&P.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]})]},i))})}function $4e({onLogout:t}){const[e,n]=X.useState([]),[r,i]=X.useState({productId:"",purchaseDate:"",handlingCost:"",transportDetails:""}),[s,o]=X.useState(!1),[a,c]=X.useState(!1),[u,g]=X.useState(!1),[m,w]=X.useState(!1),[A,I]=X.useState(null),{t:T}=$c();X.useEffect(()=>{(async()=>{try{const D=await Bs.connect();c(D),D&&Wt.success("Blockchain wallet connected successfully!")}catch(D){console.error("Failed to connect to blockchain:",D),Wt.error("Failed to connect to blockchain wallet")}})()},[]);const C=async V=>{V.preventDefault();try{let D=A;if(!D&&(D=await Bs.getProduct(r.productId),!D||!D.exists)){Wt.error("Product not found on blockchain. Please scan or enter a valid Product ID.");return}const j={id:e.length+1,productId:r.productId,product:D,cropName:D.name,weight:Number(D.quantity),purchaseDate:r.purchaseDate,handlingCost:parseInt(r.handlingCost),transportDetails:r.transportDetails,distributorId:`DIST${String(e.length+3).padStart(3,"0")}`,status:"draft"};n([...e,j]),i({productId:"",purchaseDate:"",handlingCost:"",transportDetails:""}),I(null),o(!1),Wt.info('Purchase added to draft. Click "Update Blockchain" to make it permanent.')}catch{Wt.error("Unable to add purchase. Please try again.")}},R=async V=>{if(!a){Wt.error("Please connect your blockchain wallet first");return}g(!0);try{const D=await Bs.updateAsDistributor(V.productId,V.handlingCost,V.transportDetails),j=e.map(O=>O.id===V.id?{...O,transactionHash:D,status:"registered"}:O);n(j),Wt.success(`Purchase "${V.cropName}" updated on blockchain successfully!`)}catch(D){console.error("Failed to update blockchain:",D);const j=e.map(O=>O.id===V.id?{...O,status:"error"}:O);n(j),Wt.error("Failed to update blockchain. Please try again.")}finally{g(!1)}},B=async()=>{try{const V=await Bs.connect();c(V),V&&Wt.success("Blockchain wallet connected successfully!")}catch{Wt.error("Failed to connect to blockchain wallet")}},k=[];return P.jsxs(Yu,{type:"distributor",children:[P.jsx(Zu,{}),P.jsx("div",{className:"pt-20 px-4 pb-8",children:P.jsxs("div",{className:"max-w-7xl mx-auto",children:[P.jsxs("div",{className:"flex justify-between items-center mb-8",children:[P.jsxs("div",{children:[P.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[T("distributor")," ",T("dashboard")]}),P.jsx("p",{className:"text-muted-foreground",children:"Manage supply chain logistics and track shipments"}),P.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[P.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),P.jsxs("span",{className:"text-sm text-muted-foreground",children:["Blockchain: ",a?"Connected":"Disconnected"]}),!a&&P.jsxs(Vt,{onClick:B,variant:"outline",size:"sm",children:[P.jsx(Pp,{className:"w-3 h-3 mr-1"}),"Connect Wallet"]})]})]}),P.jsxs(Vt,{onClick:t,variant:"outline",className:"bg-card/80",children:[P.jsx(zO,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Purchases"}),P.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length})]}),P.jsx(fp,{className:"w-8 h-8 text-primary"})]})})}),P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Weight Handled"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.reduce((V,D)=>V+D.weight,0)," kg"]})]}),P.jsx(d0,{className:"w-8 h-8 text-secondary"})]})})}),P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Investment"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["₹",e.reduce((V,D)=>V+D.handlingCost,0).toLocaleString()]})]}),P.jsx(pc,{className:"w-8 h-8 text-lime-600"})]})})})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx(ji,{children:"Record New Purchase"}),P.jsxs(Vt,{onClick:()=>o(!s),variant:"outline",size:"sm",children:[P.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Add Purchase"]})]})}),s&&P.jsx(Ln,{children:P.jsxs("form",{onSubmit:C,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(tr,{children:"Product Identification"}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx(Vn,{value:r.productId,onChange:V=>i(D=>({...D,productId:V.target.value})),placeholder:"Product ID or scan QR code",required:!0,className:"bg-input-background flex-1"}),P.jsxs(pk,{open:m,onOpenChange:w,children:[P.jsx(gk,{asChild:!0,children:P.jsx(Vt,{type:"button",variant:"outline",children:P.jsx(yh,{className:"w-4 h-4"})})}),P.jsxs(mk,{className:"max-w-md",children:[P.jsx(yk,{children:P.jsx(vk,{children:"Scan QR Code"})}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs(Vt,{type:"button",className:"w-full",disabled:!0,children:[P.jsx(FO,{className:"w-4 h-4 mr-2"}),"Open Camera (Demo)"]}),P.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Camera scanning not available in demo. Use manual entry with Product ID."})]})]})]})]}),A&&P.jsxs("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[P.jsxs("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[P.jsx(rh,{className:"w-4 h-4"}),P.jsx("span",{className:"font-medium",children:"Product Found"})]}),P.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[A.name," - ",A.quantity.toString(),"kg"]})]})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"purchaseDate",children:"Date of Purchase"}),P.jsx(Vn,{id:"purchaseDate",type:"date",value:r.purchaseDate,onChange:V=>i(D=>({...D,purchaseDate:V.target.value})),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"handlingCost",children:"Handling Cost (₹)"}),P.jsx(Vn,{id:"handlingCost",type:"number",value:r.handlingCost,onChange:V=>i(D=>({...D,handlingCost:V.target.value})),placeholder:"Transportation and handling charges",required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"transportDetails",children:"Transport Details"}),P.jsx(Vn,{id:"transportDetails",value:r.transportDetails,onChange:V=>i(D=>({...D,transportDetails:V.target.value})),placeholder:"Vehicle, driver, route, storage conditions",required:!0,className:"bg-input-background"})]}),P.jsx(Vt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",children:"Record Purchase"})]})})]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(Bi,{children:[P.jsx(ji,{children:"Supply Chain Timeline"}),P.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest shipment: DIST001"})]}),P.jsx(Ln,{children:P.jsx(H4e,{data:k})})]})]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsxs(ji,{className:"flex items-center gap-2",children:[P.jsx(cw,{className:"w-5 h-5"}),"Purchase History"]})}),P.jsx(Ln,{children:P.jsxs(kw,{children:[P.jsx(Mw,{children:P.jsxs(Uu,{children:[P.jsx(Wn,{children:"Distributor ID"}),P.jsx(Wn,{children:"Product ID"}),P.jsx(Wn,{children:"Crop"}),P.jsx(Wn,{children:"Weight (kg)"}),P.jsx(Wn,{children:"Purchase Date"}),P.jsx(Wn,{children:"Handling Cost (₹)"}),P.jsx(Wn,{children:"Transport Details"}),P.jsx(Wn,{children:"Status"}),P.jsx(Wn,{children:"Actions"})]})}),P.jsx(Dw,{children:e.map(V=>P.jsxs(Uu,{children:[P.jsx(qn,{className:"font-mono text-primary",children:V.distributorId}),P.jsx(qn,{className:"font-mono text-secondary",children:V.productId}),P.jsx(qn,{children:V.cropName}),P.jsx(qn,{children:V.weight}),P.jsx(qn,{children:V.purchaseDate}),P.jsxs(qn,{children:["₹",V.handlingCost]}),P.jsx(qn,{className:"max-w-[200px] truncate",children:V.transportDetails}),P.jsx(qn,{children:P.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.status==="registered"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":V.status==="error"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:V.status==="registered"?"On Blockchain":V.status==="error"?"Failed":"Draft"})}),P.jsx(qn,{children:P.jsxs("div",{className:"flex items-center gap-2",children:[V.status==="draft"&&P.jsxs(Vt,{onClick:()=>R(V),disabled:!a||u,variant:"outline",size:"sm",className:"bg-green-50 hover:bg-green-100 border-green-200",children:[P.jsx(Pp,{className:"w-3 h-3 mr-1"}),"Update Blockchain"]}),V.transactionHash&&P.jsxs(Vt,{onClick:()=>window.open(`https://etherscan.io/tx/${V.transactionHash}`,"_blank"),variant:"outline",size:"sm",className:"text-blue-600",children:[P.jsx(UO,{className:"w-3 h-3 mr-1"}),"View Tx"]})]})})]},V.id))})]})})]})]})})]})}function G4e({onLogout:t}){const[e,n]=X.useState([]),[r,i]=X.useState({productId:"",purchaseDate:"",retailMargin:"",storeDetails:""}),[s,o]=X.useState(!1),[a,c]=X.useState(!1),[u,g]=X.useState(!1),[m,w]=X.useState(!1),[A,I]=X.useState(null),{t:T}=$c();X.useEffect(()=>{(async()=>{try{const j=await Bs.connect();c(j),j&&Wt.success("Blockchain wallet connected successfully!")}catch(j){console.error("Failed to connect to blockchain:",j),Wt.error("Failed to connect to blockchain wallet")}})()},[]);const C=async D=>{D.preventDefault();try{let j=A;if(!j&&(j=await Bs.getProduct(r.productId),!j||!j.exists)){Wt.error("Product not found on blockchain. Please scan or enter a valid Product ID.");return}const O={id:e.length+1,productId:r.productId,product:j,cropName:j.name,weight:Number(j.quantity),purchaseDate:r.purchaseDate,retailMargin:parseInt(r.retailMargin),storeDetails:r.storeDetails,retailerId:`RET${String(e.length+3).padStart(3,"0")}`,status:"draft"};n([...e,O]),i({productId:"",purchaseDate:"",retailMargin:"",storeDetails:""}),I(null),o(!1),Wt.info('Sale added to draft. Click "Update Blockchain" to make it permanent.')}catch{Wt.error("Unable to add sale. Please try again.")}},R=async D=>{if(!a){Wt.error("Please connect your blockchain wallet first");return}g(!0);try{const j=await Bs.updateAsRetailer(D.productId,D.retailMargin,D.storeDetails),O=e.map(M=>M.id===D.id?{...M,transactionHash:j,status:"registered"}:M);n(O),Wt.success(`Sale "${D.cropName}" updated on blockchain successfully!`)}catch(j){console.error("Failed to update blockchain:",j);const O=e.map(M=>M.id===D.id?{...M,status:"error"}:M);n(O),Wt.error("Failed to update blockchain. Please try again.")}finally{g(!1)}},B=async()=>{try{const D=await Bs.connect();c(D),D&&Wt.success("Blockchain wallet connected successfully!")}catch{Wt.error("Failed to connect to blockchain wallet")}},k=e.map(D=>({name:D.cropName,margin:D.retailMargin,weight:D.weight})),V=[{name:"Margin",value:e.reduce((D,j)=>D+j.retailMargin,0),color:"#138808"},{name:"Weight",value:e.reduce((D,j)=>D+j.weight,0),color:"#ff6b35"}];return P.jsxs(Yu,{type:"retailer",children:[P.jsx(Zu,{}),P.jsx("div",{className:"pt-20 px-4 pb-8",children:P.jsxs("div",{className:"max-w-7xl mx-auto",children:[P.jsxs("div",{className:"flex justify-between items-center mb-8",children:[P.jsxs("div",{children:[P.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[T("retailer")," ",T("dashboard")]}),P.jsx("p",{className:"text-muted-foreground",children:"Manage inventory and track sales performance"}),P.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[P.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),P.jsxs("span",{className:"text-sm text-muted-foreground",children:["Blockchain: ",a?"Connected":"Disconnected"]}),!a&&P.jsxs(Vt,{onClick:B,variant:"outline",size:"sm",children:[P.jsx(Pp,{className:"w-3 h-3 mr-1"}),"Connect Wallet"]})]})]}),P.jsxs(Vt,{onClick:t,variant:"outline",className:"bg-card/80",children:[P.jsx(zO,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Products"}),P.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length})]}),P.jsx(fp,{className:"w-8 h-8 text-primary"})]})})}),P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Margin"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["₹",e.reduce((D,j)=>D+j.retailMargin,0).toLocaleString()]})]}),P.jsx($se,{className:"w-8 h-8 text-secondary"})]})})}),P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Total Weight"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[e.reduce((D,j)=>D+j.weight,0).toLocaleString()," kg"]})]}),P.jsx(pc,{className:"w-8 h-8 text-lime-600"})]})})}),P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:P.jsx(Ln,{className:"p-6",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-muted-foreground",children:"Avg Margin"}),P.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["₹",Math.round(e.reduce((D,j)=>D+j.retailMargin,0)/e.length||0)]})]}),P.jsx(h0,{className:"w-8 h-8 text-green-600"})]})})})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx(ji,{children:"Record New Purchase"}),P.jsxs(Vt,{onClick:()=>o(!s),variant:"outline",size:"sm",children:[P.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Add Purchase"]})]})}),s&&P.jsx(Ln,{children:P.jsxs("form",{onSubmit:C,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(tr,{children:"Product Identification"}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx(Vn,{value:r.productId,onChange:D=>i(j=>({...j,productId:D.target.value})),placeholder:"Product ID or scan QR code",required:!0,className:"bg-input-background flex-1"}),P.jsxs(pk,{open:m,onOpenChange:w,children:[P.jsx(gk,{asChild:!0,children:P.jsx(Vt,{type:"button",variant:"outline",children:P.jsx(yh,{className:"w-4 h-4"})})}),P.jsxs(mk,{className:"max-w-md",children:[P.jsx(yk,{children:P.jsx(vk,{children:"Scan QR Code"})}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs(Vt,{type:"button",className:"w-full",disabled:!0,children:[P.jsx(FO,{className:"w-4 h-4 mr-2"}),"Open Camera (Demo)"]}),P.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Camera scanning not available in demo. Use manual entry with Product ID."})]})]})]})]}),A&&P.jsxs("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[P.jsxs("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[P.jsx(rh,{className:"w-4 h-4"}),P.jsx("span",{className:"font-medium",children:"Product Found"})]}),P.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[A.name," - ",A.quantity.toString(),"kg"]})]})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"purchaseDate",children:"Date of Purchase"}),P.jsx(Vn,{id:"purchaseDate",type:"date",value:r.purchaseDate,onChange:D=>i(j=>({...j,purchaseDate:D.target.value})),required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"retailMargin",children:"Retail Margin (₹)"}),P.jsx(Vn,{id:"retailMargin",type:"number",value:r.retailMargin,onChange:D=>i(j=>({...j,retailMargin:D.target.value})),placeholder:"Additional margin for retail",required:!0,className:"bg-input-background"})]}),P.jsxs("div",{children:[P.jsx(tr,{htmlFor:"storeDetails",children:"Store Details"}),P.jsx(Vn,{id:"storeDetails",value:r.storeDetails,onChange:D=>i(j=>({...j,storeDetails:D.target.value})),placeholder:"Aisle, storage conditions, expiry date",required:!0,className:"bg-input-background"})]}),P.jsx(Vt,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",children:"Record Purchase"})]})})]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsx(ji,{children:"Revenue Distribution"})}),P.jsxs(Ln,{children:[P.jsx(OP,{width:"100%",height:300,children:P.jsxs($Pe,{children:[P.jsx(Kc,{data:V,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"value",children:V.map((D,j)=>P.jsx(Bb,{fill:D.color},`cell-${j}`))}),P.jsx(da,{formatter:D=>[`₹${D.toLocaleString()}`,""],contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"6px"}})]})}),P.jsx("div",{className:"flex justify-center gap-4 mt-4",children:V.map((D,j)=>P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:D.color}}),P.jsx("span",{className:"text-sm text-muted-foreground",children:D.name})]},j))})]})]})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsx(ji,{children:"Retail Margin Analysis"})}),P.jsx(Ln,{children:P.jsx(OP,{width:"100%",height:300,children:P.jsxs(wX,{data:k,children:[P.jsx(V3,{strokeDasharray:"3 3",stroke:"var(--border)"}),P.jsx(Vy,{dataKey:"name",stroke:"var(--muted-foreground)"}),P.jsx(zy,{stroke:"var(--muted-foreground)"}),P.jsx(da,{contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"6px"}}),P.jsx(Vl,{dataKey:"margin",fill:"var(--primary)",name:"Retail Margin"}),P.jsx(Vl,{dataKey:"weight",fill:"var(--secondary)",name:"Weight (kg)"})]})})})]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsxs(ji,{className:"flex items-center gap-2",children:[P.jsx(cw,{className:"w-5 h-5"}),"Recent Sales"]})}),P.jsx(Ln,{children:P.jsxs(kw,{children:[P.jsx(Mw,{children:P.jsxs(Uu,{children:[P.jsx(Wn,{children:"Product"}),P.jsx(Wn,{children:"Weight"}),P.jsx(Wn,{children:"Margin"}),P.jsx(Wn,{children:"Status"})]})}),P.jsx(Dw,{children:e.map(D=>P.jsxs(Uu,{children:[P.jsx(qn,{children:D.cropName}),P.jsxs(qn,{children:[D.weight," kg"]}),P.jsxs(qn,{className:"text-secondary",children:["₹",D.retailMargin]}),P.jsx(qn,{children:P.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.status==="registered"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":D.status==="error"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:D.status==="registered"?"On Blockchain":D.status==="error"?"Failed":"Draft"})})]},D.id))})]})})]})]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsx(Bi,{children:P.jsxs(ji,{className:"flex items-center gap-2",children:[P.jsx(cw,{className:"w-5 h-5"}),"Complete Sales History"]})}),P.jsx(Ln,{children:P.jsxs(kw,{children:[P.jsx(Mw,{children:P.jsxs(Uu,{children:[P.jsx(Wn,{children:"Retailer ID"}),P.jsx(Wn,{children:"Product ID"}),P.jsx(Wn,{children:"Product"}),P.jsx(Wn,{children:"Weight (kg)"}),P.jsx(Wn,{children:"Purchase Date"}),P.jsx(Wn,{children:"Retail Margin (₹)"}),P.jsx(Wn,{children:"Store Details"}),P.jsx(Wn,{children:"Status"}),P.jsx(Wn,{children:"Actions"})]})}),P.jsx(Dw,{children:e.map(D=>P.jsxs(Uu,{children:[P.jsx(qn,{className:"font-mono text-primary",children:D.retailerId}),P.jsx(qn,{className:"font-mono text-secondary",children:D.productId}),P.jsx(qn,{children:D.cropName}),P.jsx(qn,{children:D.weight}),P.jsx(qn,{children:D.purchaseDate}),P.jsxs(qn,{children:["₹",D.retailMargin]}),P.jsx(qn,{className:"max-w-[200px] truncate",children:D.storeDetails}),P.jsx(qn,{children:P.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.status==="registered"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":D.status==="error"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:D.status==="registered"?"On Blockchain":D.status==="error"?"Failed":"Draft"})}),P.jsx(qn,{children:P.jsxs("div",{className:"flex items-center gap-2",children:[D.status==="draft"&&P.jsxs(Vt,{onClick:()=>R(D),disabled:!a||u,variant:"outline",size:"sm",className:"bg-green-50 hover:bg-green-100 border-green-200",children:[P.jsx(Pp,{className:"w-3 h-3 mr-1"}),"Update Blockchain"]}),D.transactionHash&&P.jsxs(Vt,{onClick:()=>window.open(`https://etherscan.io/tx/${D.transactionHash}`,"_blank"),variant:"outline",size:"sm",className:"text-blue-600",children:[P.jsx(UO,{className:"w-3 h-3 mr-1"}),"View Tx"]})]})})]},D.id))})]})})]})]})})]})}const W4e=Lz("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function q4e({className:t,variant:e,asChild:n=!1,...r}){const i=n?Mz:"span";return P.jsx(i,{"data-slot":"badge",className:Br(W4e({variant:e}),t),...r})}function K4e({transactions:t,currentPrice:e,productName:n}){const i=(()=>{const o=[],a=[...t].sort((g,m)=>Number(g.timestamp)-Number(m.timestamp));let c=0,u=0;return a.forEach((g,m)=>{const w=parseFloat(i0(g.newPrice)),A=w-u;c=w;let I={};g.action.toLowerCase().includes("register")||g.action.toLowerCase().includes("farmer")?I={step:"Farmer",actor:"Farmer",icon:P.jsx(uw,{className:"w-4 h-4"}),color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",description:"Base price from farmer"}:g.action.toLowerCase().includes("distributor")||g.action.toLowerCase().includes("transport")?I={step:"Distributor",actor:"Distributor",icon:P.jsx(d0,{className:"w-4 h-4"}),color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",description:"Added transport & handling cost"}:g.action.toLowerCase().includes("retailer")||g.action.toLowerCase().includes("retail")?I={step:"Retailer",actor:"Retailer",icon:P.jsx(h0,{className:"w-4 h-4"}),color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",description:"Added retail margin"}:I={step:g.action,actor:"Supply Chain",icon:P.jsx(pc,{className:"w-4 h-4"}),color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",description:"Additional cost"},o.push({step:I.step||"Unknown",actor:I.actor||"Unknown",price:w,cumulativePrice:c,addedCost:A,icon:I.icon||P.jsx(r$,{className:"w-4 h-4"}),color:I.color||"bg-gray-100 text-gray-800",description:I.description||"Price update"}),u=w}),o})(),s=parseFloat(i0(e));if(i.length===0){const o=parseFloat(i0(e)),a=o*.6,c=o*.2,u=o*.2;i.push({step:"Farmer",actor:"Farmer",price:a,cumulativePrice:a,addedCost:a,icon:P.jsx(uw,{className:"w-4 h-4"}),color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",description:"Base price from farmer"},{step:"Distributor",actor:"Distributor",price:a+c,cumulativePrice:a+c,addedCost:c,icon:P.jsx(d0,{className:"w-4 h-4"}),color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",description:"Added transport & handling cost"},{step:"Retailer",actor:"Retailer",price:o,cumulativePrice:o,addedCost:u,icon:P.jsx(h0,{className:"w-4 h-4"}),color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",description:"Added retail margin"})}return P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(Bi,{children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(Pse,{className:"w-5 h-5 text-primary"}),P.jsx(ji,{className:"text-xl",children:"Price Breakdown"})]}),P.jsx("p",{className:"text-sm text-muted-foreground",children:"Actual deal prices recorded on blockchain at each supply chain step"})]}),P.jsxs(Ln,{className:"space-y-4",children:[P.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg p-4 border border-primary/20",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"Final Price"}),P.jsxs("p",{className:"text-2xl font-bold text-primary",children:["₹",s.toFixed(2)]})]}),P.jsxs("div",{className:"text-right",children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"per kg"}),P.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})]})}),P.jsx("div",{className:"space-y-3",children:i.map((o,a)=>P.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/30 border border-border/50",children:[P.jsx("div",{className:`p-2 rounded-full ${o.color}`,children:o.icon}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[P.jsx("h4",{className:"font-semibold text-foreground",children:o.step}),P.jsx(q4e,{variant:"outline",className:"text-xs",children:o.actor})]}),P.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:o.description}),P.jsxs("div",{className:"space-y-2",children:[P.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx(VO,{className:"w-3 h-3 text-muted-foreground"}),P.jsxs("span",{className:"font-medium",children:["Deal Price: ₹",o.cumulativePrice.toFixed(2)]})]}),o.addedCost>0&&P.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[P.jsx(pc,{className:"w-3 h-3"}),P.jsxs("span",{className:"text-xs",children:["Added: +₹",o.addedCost.toFixed(2)]})]})]}),P.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[P.jsx("span",{children:"📋"}),P.jsx("span",{children:"Blockchain transaction recorded"})]})]})]}),P.jsx("div",{className:"flex-shrink-0",children:P.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:P.jsx("span",{className:"text-sm font-semibold text-primary",children:a+1})})})]},a))}),P.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 border border-border/50",children:[P.jsxs("div",{className:"flex items-center justify-between text-sm",children:[P.jsx("span",{className:"text-muted-foreground",children:"Total Supply Chain Steps:"}),P.jsx("span",{className:"font-semibold",children:i.length})]}),P.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[P.jsx("span",{className:"text-muted-foreground",children:"Price Transparency:"}),P.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"100%"})]}),P.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[P.jsx("span",{className:"text-muted-foreground",children:"Blockchain Verified:"}),P.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"✓ All Deals"})]})]})]})]})}function Y4e({onBack:t}){const[e,n]=X.useState(null),[r,i]=X.useState(""),[s,o]=X.useState(!1),[a,c]=X.useState(!1),[u,g]=X.useState(!1),m=X.useRef(null),{t:w}=$c();X.useEffect(()=>{(async()=>{try{const O=await Bs.connect();g(O)}catch(O){console.error("Failed to connect to blockchain:",O)}})()},[]);const A={QR001:{product:{id:"QR001",name:"Organic Rice",quantity:BigInt(500),basePrice:BigInt("25000000000000000000"),currentPrice:BigInt("35000000000000000000"),harvestDate:"2024-01-15",quality:"Premium",status:"Ready for Sale",farmer:"0x1234567890123456789012345678901234567890",distributor:"0x2345678901234567890123456789012345678901",retailer:"0x3456789012345678901234567890123456789012",location:"Village Rampur, Uttar Pradesh",timestamp:BigInt(1705276800),exists:!0},transactions:[{productId:"QR001",actor:"0x1234567890123456789012345678901234567890",action:"Product Registered",newPrice:BigInt("25000000000000000000"),details:"Organic Rice harvested and registered",timestamp:BigInt(1705276800),blockNumber:BigInt(12345)},{productId:"QR001",actor:"0x2345678901234567890123456789012345678901",action:"Distributor Update",newPrice:BigInt("28000000000000000000"),details:"Quality check passed, stored in temperature controlled warehouse",timestamp:BigInt(1705536e3),blockNumber:BigInt(12350)},{productId:"QR001",actor:"0x3456789012345678901234567890123456789012",action:"Retailer Update",newPrice:BigInt("35000000000000000000"),details:"Product ready for sale at Fresh Mart Store",timestamp:BigInt(1705795200),blockNumber:BigInt(12355)}],verification:{verified:!0,totalSteps:3,actors:["0x1234567890123456789012345678901234567890","0x2345678901234567890123456789012345678901","0x3456789012345678901234567890123456789012"],actions:["Product Registered","Distributor Update","Retailer Update"],timestamps:[BigInt(1705276800),BigInt(1705536e3),BigInt(1705795200)]}},QR002:{product:{id:"QR002",name:"Fresh Wheat",quantity:BigInt(300),basePrice:BigInt("30000000000000000000"),currentPrice:BigInt("40000000000000000000"),harvestDate:"2024-01-20",quality:"Grade A",status:"Ready for Sale",farmer:"0x4567890123456789012345678901234567890123",distributor:"0x5678901234567890123456789012345678901234",retailer:"0x6789012345678901234567890123456789012345",location:"Village Khetri, Rajasthan",timestamp:BigInt(1705708800),exists:!0},transactions:[{productId:"QR002",actor:"0x4567890123456789012345678901234567890123",action:"Product Registered",newPrice:BigInt("30000000000000000000"),details:"Fresh Wheat harvested and registered",timestamp:BigInt(1705708800),blockNumber:BigInt(12360)},{productId:"QR002",actor:"0x5678901234567890123456789012345678901234",action:"Distributor Update",newPrice:BigInt("32000000000000000000"),details:"Grade A quality, processed and stored",timestamp:BigInt(1705968e3),blockNumber:BigInt(12365)},{productId:"QR002",actor:"0x6789012345678901234567890123456789012345",action:"Retailer Update",newPrice:BigInt("40000000000000000000"),details:"Product ready for sale at Super Bazaar",timestamp:BigInt(1706227200),blockNumber:BigInt(12370)}],verification:{verified:!0,totalSteps:3,actors:["0x4567890123456789012345678901234567890123","0x5678901234567890123456789012345678901234","0x6789012345678901234567890123456789012345"],actions:["Product Registered","Distributor Update","Retailer Update"],timestamps:[BigInt(1705708800),BigInt(1705968e3),BigInt(1706227200)]}}},I=async j=>{const O=A[j];if(O){Wt.success("Demo product data loaded successfully!"),n(O);return}if(!u){Wt.error("Blockchain not connected. Please try demo QR codes: QR001 or QR002");return}c(!0);try{const M=await Bs.getProduct(j);if(!M||!M.exists){Wt.error("Product not found on blockchain. Please check the product ID.");return}const U=await Bs.getProductHistory(j),K=await Bs.verifyProduct(j);n({product:M,transactions:U,verification:K}),Wt.success("Product data loaded from blockchain successfully!")}catch(M){console.error("Failed to fetch product from blockchain:",M),Wt.error("Failed to fetch product data from blockchain.")}finally{c(!1)}},T=()=>{r.trim()&&I(r.trim())},C=async j=>{"productId"in j?await I(j.productId):"rawText"in j&&await I(j.rawText)},R=async j=>{const O=j.target.files?.[0];if(O)try{c(!0);const M=await py.scanFromFile(O);await C(M)}catch(M){console.error("Failed to scan QR code from file:",M),Wt.error("Failed to scan QR code from image. Please try again.")}finally{c(!1)}},B=j=>j.includes("Registered")?"text-green-600":j.includes("Transportation")?"text-blue-600":j.includes("Store")?"text-purple-600":j.includes("Delivered")?"text-orange-600":"text-muted-foreground",k=j=>j.includes("Registered")?uw:j.includes("Transportation")?d0:j.includes("Store")?h0:(j.includes("Delivered"),fp),V=j=>j.includes("Registered")?"bg-green-100 dark:bg-green-900 border-green-200 dark:border-green-800":j.includes("Transportation")?"bg-blue-100 dark:bg-blue-900 border-blue-200 dark:border-blue-800":j.includes("Store")?"bg-purple-100 dark:bg-purple-900 border-purple-200 dark:border-purple-800":j.includes("Delivered")?"bg-orange-100 dark:bg-orange-900 border-orange-200 dark:border-orange-800":"bg-card border-border",D=j=>new Date(Number(j)*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?P.jsxs(Yu,{type:"customer",children:[P.jsx(Zu,{}),P.jsx("div",{className:"pt-20 px-4 pb-8",children:P.jsxs("div",{className:"max-w-4xl mx-auto",children:[P.jsxs(Vt,{variant:"ghost",onClick:()=>n(null),className:"mb-4 text-foreground hover:bg-card/20",children:[P.jsx(lw,{className:"w-4 h-4 mr-2"}),"Scan Another QR"]}),P.jsx(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50 mb-8",children:P.jsx(Bi,{children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx(ji,{className:"text-2xl text-foreground",children:e.product.name}),P.jsx("p",{className:"text-muted-foreground",children:e.product.location}),P.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Harvest Date: ",e.product.harvestDate," • Quality: ",e.product.quality]})]}),P.jsxs("div",{className:"text-right space-y-2",children:[P.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 px-3 py-1 rounded-full",children:[P.jsx(rh,{className:"w-4 h-4"}),P.jsx("span",{className:"text-sm font-medium",children:e.product.status})]}),P.jsxs("div",{className:"text-sm",children:[P.jsx("p",{className:"text-muted-foreground",children:"Current Price"}),P.jsxs("p",{className:"font-bold text-foreground",children:["₹",i0(e.product.currentPrice)]})]})]})]})})}),P.jsx(K4e,{transactions:e.transactions,currentPrice:e.product.currentPrice,productName:e.product.name}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50 mb-8",children:[P.jsx(Bi,{children:P.jsxs(ji,{className:"flex items-center gap-2",children:[P.jsx(goe,{className:"w-5 h-5 text-green-600"}),"Blockchain Verification"]})}),P.jsx(Ln,{children:P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[P.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[P.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[P.jsx(rh,{className:"w-5 h-5 text-green-600"}),P.jsx("span",{className:"font-medium text-green-800 dark:text-green-200",children:"Verified"})]}),P.jsx("p",{className:"text-sm text-muted-foreground",children:"Product authenticity confirmed on blockchain"})]}),P.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Steps"}),P.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.verification.totalSteps})]}),P.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:"Product ID"}),P.jsx("p",{className:"text-sm font-mono text-purple-600 break-all",children:e.product.id})]})]})})]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(Bi,{children:[P.jsxs(ji,{className:"flex items-center gap-2",children:[P.jsx(fp,{className:"w-5 h-5 text-green-600"}),"Complete Supply Chain Trail"]}),P.jsx("p",{className:"text-muted-foreground",children:"Track the journey from farm to your table"})]}),P.jsxs(Ln,{children:[P.jsx("div",{className:"space-y-6",children:e.transactions.map((j,O)=>{const M=k(j.action);return P.jsxs("div",{className:"flex gap-4",children:[P.jsxs("div",{className:"flex flex-col items-center",children:[P.jsx("div",{className:`w-12 h-12 rounded-full border-2 flex items-center justify-center ${V(j.action)} ${B(j.action)}`,children:P.jsx(M,{className:"w-6 h-6"})}),O<e.transactions.length-1&&P.jsx("div",{className:"w-0.5 h-16 bg-gradient-to-b from-green-300 to-emerald-300 mt-2"})]}),P.jsx("div",{className:"flex-1",children:P.jsxs("div",{className:"bg-card/60 rounded-lg p-4 border border-border/50",children:[P.jsxs("div",{className:"flex justify-between items-start mb-2",children:[P.jsxs("div",{children:[P.jsx("h3",{className:"font-semibold text-foreground",children:j.action}),P.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Actor: ",j.actor.substring(0,6),"...",j.actor.substring(38)]}),P.jsx("p",{className:"text-xs text-muted-foreground",children:j.details})]}),P.jsxs("div",{className:"text-right",children:[P.jsx("p",{className:"text-sm text-muted-foreground",children:D(j.timestamp)}),P.jsxs("p",{className:"text-xs font-mono text-primary",children:["Block #",j.blockNumber.toString()]})]})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[P.jsxs("div",{className:"bg-muted/50 rounded px-3 py-2",children:[P.jsx("p",{className:"text-xs text-muted-foreground",children:"Price at this step"}),P.jsxs("p",{className:"text-sm font-medium text-foreground",children:["₹",i0(j.newPrice)]})]}),P.jsxs("div",{className:"bg-muted/50 rounded px-3 py-2",children:[P.jsx("p",{className:"text-xs text-muted-foreground",children:"Transaction Hash"}),P.jsxs("p",{className:"text-xs font-mono text-foreground break-all",children:[j.actor.substring(0,10),"..."]})]})]})]})})]},O)})}),P.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[P.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-2",children:[P.jsx(rh,{className:"w-5 h-5"}),P.jsx("span",{className:"font-medium",children:"Blockchain Verified"})]}),P.jsx("p",{className:"text-sm text-muted-foreground",children:"This product's authenticity and supply chain trail has been verified on the blockchain. All information is tamper-proof and transparent."})]})]})]})]})})]}):P.jsxs(Yu,{type:"customer",children:[P.jsx(Zu,{}),P.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",children:P.jsxs("div",{className:"w-full max-w-md",children:[P.jsxs(Vt,{variant:"ghost",onClick:t,className:"mb-4 text-foreground hover:bg-card/20",children:[P.jsx(lw,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),P.jsxs(Pn,{className:"bg-card/90 backdrop-blur-sm border-border/50",children:[P.jsxs(Bi,{children:[P.jsxs(ji,{className:"text-center flex items-center justify-center gap-2",children:[P.jsx(yh,{className:"w-6 h-6 text-green-600"}),w("scanQR")]}),P.jsx("p",{className:"text-center text-muted-foreground",children:"Scan or upload QR code to trace product journey"})]}),P.jsxs(Ln,{className:"space-y-6",children:[P.jsxs(Vt,{onClick:()=>o(!s),className:"w-full bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-700 hover:to-emerald-600 text-white",disabled:a,children:[a?P.jsx(kD,{className:"w-4 h-4 mr-2 animate-spin"}):P.jsx(FO,{className:"w-4 h-4 mr-2"}),a?"Processing...":"Open Camera Scanner"]}),P.jsx("p",{className:"text-xs text-center text-muted-foreground",children:u?"Connected to blockchain for real-time verification":"Camera access not available in this demo"}),P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"absolute inset-0 flex items-center",children:P.jsx("span",{className:"w-full border-t border-border"})}),P.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:P.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),P.jsxs("div",{children:[P.jsx("input",{type:"file",ref:m,onChange:R,accept:"image/*",className:"hidden"}),P.jsxs(Vt,{onClick:()=>m.current?.click(),variant:"outline",className:"w-full bg-card/80 border-green-200 dark:border-green-800 hover:bg-green-50 dark:hover:bg-green-950/20",children:[P.jsx(Eoe,{className:"w-4 h-4 mr-2"}),"Upload QR Code Image"]})]}),P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"absolute inset-0 flex items-center",children:P.jsx("span",{className:"w-full border-t border-border"})}),P.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:P.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"text-sm font-medium text-foreground",children:"Enter QR Code Manually"}),P.jsx(Vn,{value:r,onChange:j=>i(j.target.value),placeholder:"e.g., QR001",className:"bg-input-background"})]}),P.jsxs(Vt,{onClick:T,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white",disabled:!r.trim()||a,children:[a?P.jsx(kD,{className:"w-4 h-4 mr-2 animate-spin"}):P.jsx(yh,{className:"w-4 h-4 mr-2"}),a?"Loading...":"Trace Product"]})]}),P.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[P.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[P.jsx(yh,{className:"w-4 h-4 text-blue-600"}),P.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Try Demo Products"})]}),P.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Enter these demo QR codes to see how the system works:"}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("button",{onClick:()=>i("QR001"),className:"block w-full text-left text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 hover:underline",children:"🌾 QR001 - Organic Rice (₹25 → ₹28 → ₹35)"}),P.jsx("button",{onClick:()=>i("QR002"),className:"block w-full text-left text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 hover:underline",children:"🌾 QR002 - Fresh Wheat (₹30 → ₹32 → ₹40)"})]})]}),P.jsx("div",{className:"space-y-3",children:P.jsxs("div",{className:`p-3 rounded-lg border ${u?"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800":"bg-yellow-50 dark:bg-yellow-950/20 border-yellow-200 dark:border-yellow-800"}`,children:[P.jsxs("div",{className:"flex items-center gap-2",children:[u?P.jsx(rh,{className:"w-4 h-4 text-green-600"}):P.jsx(Bse,{className:"w-4 h-4 text-yellow-600"}),P.jsxs("span",{className:"text-sm font-medium",children:["Blockchain: ",u?"Connected":"Using Mock Data"]})]}),P.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u?"Real-time blockchain verification active":"Connect MetaMask for live blockchain data"})]})})]})]})]})})]})}function X4e(){const[t,e]=X.useState(!1),[n,r]=X.useState([{text:"Hello! I'm here to help you with KrishiChain. How can I assist you today?",isBot:!0}]),[i,s]=X.useState(""),{t:o}=$c(),a=()=>{if(!i.trim())return;const u={text:i,isBot:!1};r(g=>[...g,u]),setTimeout(()=>{const g={text:"Thank you for your message. Our support team will get back to you soon. For immediate help, please check our FAQ section.",isBot:!0};r(m=>[...m,g])},1e3),s("")},c=u=>{u.key==="Enter"&&a()};return P.jsxs(P.Fragment,{children:[P.jsx(Vt,{onClick:()=>e(!0),className:"fixed bottom-6 left-6 w-14 h-14 rounded-full bg-primary hover:bg-primary/90 shadow-lg z-50",size:"icon",children:P.jsx(ioe,{className:"w-6 h-6"})}),t&&P.jsxs(Pn,{className:"fixed bottom-24 left-6 w-80 h-96 shadow-xl z-50 flex flex-col",children:[P.jsx(Bi,{className:"pb-2",children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx(ji,{className:"text-sm",children:"KrishiChain Assistant"}),P.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"h-6 w-6",children:P.jsx(HO,{className:"w-4 h-4"})})]})}),P.jsxs(Ln,{className:"flex-1 flex flex-col p-3",children:[P.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 mb-3",children:n.map((u,g)=>P.jsx("div",{className:`flex ${u.isBot?"justify-start":"justify-end"}`,children:P.jsx("div",{className:`max-w-[70%] p-2 rounded-lg text-sm ${u.isBot?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:u.text})},g))}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx(Vn,{value:i,onChange:u=>s(u.target.value),onKeyPress:c,placeholder:"Type your message...",className:"flex-1"}),P.jsx(Vt,{size:"icon",onClick:a,children:P.jsx(doe,{className:"w-4 h-4"})})]})]})]})]})}const wk=X.createContext({});function xk(t){const e=X.useRef(null);return e.current===null&&(e.current=t()),e.current}const bk=typeof window<"u",DZ=bk?X.useLayoutEffect:X.useEffect,_A=X.createContext(null);function Ak(t,e){t.indexOf(e)===-1&&t.push(e)}function Ek(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const zc=(t,e,n)=>n>e?e:n<t?t:n;let Sk=()=>{};const Hc={},LZ=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function BZ(t){return typeof t=="object"&&t!==null}const jZ=t=>/^0[^.\s]+$/u.test(t);function Tk(t){let e;return()=>(e===void 0&&(e=t()),e)}const ba=t=>t,Q4e=(t,e)=>n=>e(t(n)),Xy=(...t)=>t.reduce(Q4e),gy=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class _k{constructor(){this.subscriptions=[]}add(e){return Ak(this.subscriptions,e),()=>Ek(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kl=t=>t*1e3,Ml=t=>t/1e3;function FZ(t,e){return e?t*(1e3/e):0}const UZ=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Z4e=1e-7,J4e=12;function eDe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=UZ(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Z4e&&++a<J4e);return o}function Qy(t,e,n,r){if(t===e&&n===r)return ba;const i=s=>eDe(s,0,1,t,n);return s=>s===0||s===1?s:UZ(i(s),e,r)}const VZ=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zZ=t=>e=>1-t(1-e),HZ=Qy(.33,1.53,.69,.99),Ck=zZ(HZ),$Z=VZ(Ck),GZ=t=>(t*=2)<1?.5*Ck(t):.5*(2-Math.pow(2,-10*(t-1))),Ik=t=>1-Math.sin(Math.acos(t)),WZ=zZ(Ik),qZ=VZ(Ik),tDe=Qy(.42,0,1,1),nDe=Qy(0,0,.58,1),KZ=Qy(.42,0,.58,1),rDe=t=>Array.isArray(t)&&typeof t[0]!="number",YZ=t=>Array.isArray(t)&&typeof t[0]=="number",iDe={linear:ba,easeIn:tDe,easeInOut:KZ,easeOut:nDe,circIn:Ik,circInOut:qZ,circOut:WZ,backIn:Ck,backInOut:$Z,backOut:HZ,anticipate:GZ},sDe=t=>typeof t=="string",mV=t=>{if(YZ(t)){Sk(t.length===4);const[e,n,r,i]=t;return Qy(e,n,r,i)}else if(sDe(t))return iDe[t];return t},Ov=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oDe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(g){o.has(g)&&(u.schedule(g),t()),g(a)}const u={schedule:(g,m=!1,w=!1)=>{const I=w&&i?n:r;return m&&o.add(g),I.has(g)||I.add(g),g},cancel:g=>{r.delete(g),o.delete(g)},process:g=>{if(a=g,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,u.process(g))}};return u}const aDe=40;function XZ(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ov.reduce((k,V)=>(k[V]=oDe(s),k),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:g,update:m,preRender:w,render:A,postRender:I}=o,T=()=>{const k=Hc.useManualTiming?i.timestamp:performance.now();n=!1,Hc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,aDe),1)),i.timestamp=k,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),g.process(i),m.process(i),w.process(i),A.process(i),I.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(T))},C=()=>{n=!0,r=!0,i.isProcessing||t(T)};return{schedule:Ov.reduce((k,V)=>{const D=o[V];return k[V]=(j,O=!1,M=!1)=>(n||C(),D.schedule(j,O,M)),k},{}),cancel:k=>{for(let V=0;V<Ov.length;V++)o[Ov[V]].cancel(k)},state:i,steps:o}}const{schedule:Lr,cancel:uf,state:ds,steps:hI}=XZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:ba,!0);let Jv;function lDe(){Jv=void 0}const Ao={now:()=>(Jv===void 0&&Ao.set(ds.isProcessing||Hc.useManualTiming?ds.timestamp:performance.now()),Jv),set:t=>{Jv=t,queueMicrotask(lDe)}},QZ=t=>e=>typeof e=="string"&&e.startsWith(t),Pk=QZ("--"),cDe=QZ("var(--"),Nk=t=>cDe(t)?uDe.test(t.split("/*")[0].trim()):!1,uDe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},my={...Fg,transform:t=>zc(0,1,t)},Rv={...Fg,default:1},s0=t=>Math.round(t*1e5)/1e5,Ok=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fDe(t){return t==null}const hDe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rk=(t,e)=>n=>!!(typeof n=="string"&&hDe.test(n)&&n.startsWith(t)||e&&!fDe(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZZ=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Ok);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},dDe=t=>zc(0,255,t),dI={...Fg,transform:t=>Math.round(dDe(t))},gh={test:Rk("rgb","red"),parse:ZZ("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dI.transform(t)+", "+dI.transform(e)+", "+dI.transform(n)+", "+s0(my.transform(r))+")"};function pDe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const rO={test:Rk("#"),parse:pDe,transform:gh.transform},Zy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nu=Zy("deg"),Dl=Zy("%"),Dt=Zy("px"),gDe=Zy("vh"),mDe=Zy("vw"),yV={...Dl,parse:t=>Dl.parse(t)/100,transform:t=>Dl.transform(t*100)},rp={test:Rk("hsl","hue"),parse:ZZ("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Dl.transform(s0(e))+", "+Dl.transform(s0(n))+", "+s0(my.transform(r))+")"},Ei={test:t=>gh.test(t)||rO.test(t)||rp.test(t),parse:t=>gh.test(t)?gh.parse(t):rp.test(t)?rp.parse(t):rO.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?gh.transform(t):rp.transform(t),getAnimatableNone:t=>{const e=Ei.parse(t);return e.alpha=0,Ei.transform(e)}},yDe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vDe(t){return isNaN(t)&&typeof t=="string"&&(t.match(Ok)?.length||0)+(t.match(yDe)?.length||0)>0}const JZ="number",eJ="color",wDe="var",xDe="var(",vV="${}",bDe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(bDe,c=>(Ei.test(c)?(r.color.push(s),i.push(eJ),n.push(Ei.parse(c))):c.startsWith(xDe)?(r.var.push(s),i.push(wDe),n.push(c)):(r.number.push(s),i.push(JZ),n.push(parseFloat(c))),++s,vV)).split(vV);return{values:n,split:a,indexes:r,types:i}}function tJ(t){return yy(t).values}function nJ(t){const{split:e,types:n}=yy(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===JZ?s+=s0(i[o]):a===eJ?s+=Ei.transform(i[o]):s+=i[o]}return s}}const ADe=t=>typeof t=="number"?0:Ei.test(t)?Ei.getAnimatableNone(t):t;function EDe(t){const e=tJ(t);return nJ(t)(e.map(ADe))}const ff={test:vDe,parse:tJ,createTransformer:nJ,getAnimatableNone:EDe};function pI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function SDe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=pI(c,a,t+1/3),s=pI(c,a,t),o=pI(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Gx(t,e){return n=>n>0?e:t}const $r=(t,e,n)=>t+(e-t)*n,gI=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},TDe=[rO,gh,rp],_De=t=>TDe.find(e=>e.test(t));function wV(t){const e=_De(t);if(!e)return!1;let n=e.parse(t);return e===rp&&(n=SDe(n)),n}const xV=(t,e)=>{const n=wV(t),r=wV(e);if(!n||!r)return Gx(t,e);const i={...n};return s=>(i.red=gI(n.red,r.red,s),i.green=gI(n.green,r.green,s),i.blue=gI(n.blue,r.blue,s),i.alpha=$r(n.alpha,r.alpha,s),gh.transform(i))},iO=new Set(["none","hidden"]);function CDe(t,e){return iO.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function IDe(t,e){return n=>$r(t,e,n)}function kk(t){return typeof t=="number"?IDe:typeof t=="string"?Nk(t)?Gx:Ei.test(t)?xV:ODe:Array.isArray(t)?rJ:typeof t=="object"?Ei.test(t)?xV:PDe:Gx}function rJ(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>kk(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function PDe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=kk(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function NDe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const ODe=(t,e)=>{const n=ff.createTransformer(e),r=yy(t),i=yy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?iO.has(t)&&!i.values.length||iO.has(e)&&!r.values.length?CDe(t,e):Xy(rJ(NDe(r,i),i.values),n):Gx(t,e)};function iJ(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$r(t,e,n):kk(t)(t,e)}const RDe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Lr.update(e,n),stop:()=>uf(e),now:()=>ds.isProcessing?ds.timestamp:Ao.now()}},sJ=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Wx=2e4;function Mk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Wx;)e+=n,r=t.next(e);return e>=Wx?1/0:e}function kDe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Mk(r),Wx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ml(i)}}const MDe=5;function oJ(t,e,n){const r=Math.max(e-MDe,0);return FZ(n-t(r),e-r)}const Jr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mI=.001;function DDe({duration:t=Jr.duration,bounce:e=Jr.bounce,velocity:n=Jr.velocity,mass:r=Jr.mass}){let i,s,o=1-e;o=zc(Jr.minDamping,Jr.maxDamping,o),t=zc(Jr.minDuration,Jr.maxDuration,Ml(t)),o<1?(i=u=>{const g=u*o,m=g*t,w=g-n,A=sO(u,o),I=Math.exp(-m);return mI-w/A*I},s=u=>{const m=u*o*t,w=m*n+n,A=Math.pow(o,2)*Math.pow(u,2)*t,I=Math.exp(-m),T=sO(Math.pow(u,2),o);return(-i(u)+mI>0?-1:1)*((w-A)*I)/T}):(i=u=>{const g=Math.exp(-u*t),m=(u-n)*t+1;return-mI+g*m},s=u=>{const g=Math.exp(-u*t),m=(n-u)*(t*t);return g*m});const a=5/t,c=BDe(i,s,a);if(t=kl(t),isNaN(c))return{stiffness:Jr.stiffness,damping:Jr.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const LDe=12;function BDe(t,e,n){let r=n;for(let i=1;i<LDe;i++)r=r-t(r)/e(r);return r}function sO(t,e){return t*Math.sqrt(1-e*e)}const jDe=["duration","bounce"],FDe=["stiffness","damping","mass"];function bV(t,e){return e.some(n=>t[n]!==void 0)}function UDe(t){let e={velocity:Jr.velocity,stiffness:Jr.stiffness,damping:Jr.damping,mass:Jr.mass,isResolvedFromDuration:!1,...t};if(!bV(t,FDe)&&bV(t,jDe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*zc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Jr.mass,stiffness:i,damping:s}}else{const n=DDe(t);e={...e,...n,mass:Jr.mass},e.isResolvedFromDuration=!0}return e}function qx(t=Jr.visualDuration,e=Jr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:g,duration:m,velocity:w,isResolvedFromDuration:A}=UDe({...n,velocity:-Ml(n.velocity||0)}),I=w||0,T=u/(2*Math.sqrt(c*g)),C=o-s,R=Ml(Math.sqrt(c/g)),B=Math.abs(C)<5;r||(r=B?Jr.restSpeed.granular:Jr.restSpeed.default),i||(i=B?Jr.restDelta.granular:Jr.restDelta.default);let k;if(T<1){const D=sO(R,T);k=j=>{const O=Math.exp(-T*R*j);return o-O*((I+T*R*C)/D*Math.sin(D*j)+C*Math.cos(D*j))}}else if(T===1)k=D=>o-Math.exp(-R*D)*(C+(I+R*C)*D);else{const D=R*Math.sqrt(T*T-1);k=j=>{const O=Math.exp(-T*R*j),M=Math.min(D*j,300);return o-O*((I+T*R*C)*Math.sinh(M)+D*C*Math.cosh(M))/D}}const V={calculatedDuration:A&&m||null,next:D=>{const j=k(D);if(A)a.done=D>=m;else{let O=D===0?I:0;T<1&&(O=D===0?kl(I):oJ(k,D,j));const M=Math.abs(O)<=r,U=Math.abs(o-j)<=i;a.done=M&&U}return a.value=a.done?o:j,a},toString:()=>{const D=Math.min(Mk(V),Wx),j=sJ(O=>V.next(D*O).value,D,30);return D+"ms "+j},toTransition:()=>{}};return V}qx.applyToOptions=t=>{const e=kDe(t,100,qx);return t.ease=e.ease,t.duration=kl(e.duration),t.type="keyframes",t};function oO({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:g}){const m=t[0],w={done:!1,value:m},A=M=>a!==void 0&&M<a||c!==void 0&&M>c,I=M=>a===void 0?c:c===void 0||Math.abs(a-M)<Math.abs(c-M)?a:c;let T=n*e;const C=m+T,R=o===void 0?C:o(C);R!==C&&(T=R-m);const B=M=>-T*Math.exp(-M/r),k=M=>R+B(M),V=M=>{const U=B(M),K=k(M);w.done=Math.abs(U)<=u,w.value=w.done?R:K};let D,j;const O=M=>{A(w.value)&&(D=M,j=qx({keyframes:[w.value,I(w.value)],velocity:oJ(k,M,w.value),damping:i,stiffness:s,restDelta:u,restSpeed:g}))};return O(0),{calculatedDuration:null,next:M=>{let U=!1;return!j&&D===void 0&&(U=!0,V(M),O(M)),D!==void 0&&M>=D?j.next(M-D):(!U&&V(M),w)}}}function VDe(t,e,n){const r=[],i=n||Hc.mix||iJ,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ba:e;a=Xy(c,a)}r.push(a)}return r}function zDe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Sk(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=VDe(e,r,i),c=a.length,u=g=>{if(o&&g<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(g<t[m+1]);m++);const w=gy(t[m],t[m+1],g);return a[m](w)};return n?g=>u(zc(t[0],t[s-1],g)):u}function HDe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=gy(0,e,r);t.push($r(n,1,i))}}function $De(t){const e=[0];return HDe(e,t.length-1),e}function GDe(t,e){return t.map(n=>n*e)}function WDe(t,e){return t.map(()=>e||KZ).splice(0,t.length-1)}function o0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=rDe(r)?r.map(mV):mV(r),s={done:!1,value:e[0]},o=GDe(n&&n.length===e.length?n:$De(e),t),a=zDe(o,e,{ease:Array.isArray(i)?i:WDe(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const qDe=t=>t!==null;function Dk(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(qDe),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const KDe={decay:oO,inertia:oO,tween:o0,keyframes:o0,spring:qx};function aJ(t){typeof t.type=="string"&&(t.type=KDe[t.type])}class Lk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const YDe=t=>t/100;class Bk extends Lk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ao.now()&&this.tick(Ao.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aJ(e);const{type:n=o0,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=n||o0;c!==o0&&typeof a[0]!="number"&&(this.mixKeyframes=Xy(YDe,iJ(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Mk(u));const{calculatedDuration:g}=u;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:g,repeat:m,repeatType:w,repeatDelay:A,type:I,onUpdate:T,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-u*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?R<0:R>i;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,V=r;if(m){const M=Math.min(this.currentTime,i)/a;let U=Math.floor(M),K=M%1;!K&&M>=1&&(K=1),K===1&&U--,U=Math.min(U,m+1),!!(U%2)&&(w==="reverse"?(K=1-K,A&&(K-=A/a)):w==="mirror"&&(V=o)),k=zc(0,1,K)*a}const D=B?{done:!1,value:g[0]}:V.next(k);s&&(D.value=s(D.value));let{done:j}=D;!B&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return O&&I!==oO&&(D.value=Dk(g,this.options,C,this.speed)),T&&T(D.value),O&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Ml(this.calculatedDuration)}get time(){return Ml(this.currentTime)}set time(e){e=kl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ao.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ml(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RDe,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ao.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function XDe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const mh=t=>t*180/Math.PI,aO=t=>{const e=mh(Math.atan2(t[1],t[0]));return lO(e)},QDe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:aO,rotateZ:aO,skewX:t=>mh(Math.atan(t[1])),skewY:t=>mh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lO=t=>(t=t%360,t<0&&(t+=360),t),AV=aO,EV=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),SV=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZDe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:EV,scaleY:SV,scale:t=>(EV(t)+SV(t))/2,rotateX:t=>lO(mh(Math.atan2(t[6],t[5]))),rotateY:t=>lO(mh(Math.atan2(-t[2],t[0]))),rotateZ:AV,rotate:AV,skewX:t=>mh(Math.atan(t[4])),skewY:t=>mh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cO(t){return t.includes("scale")?1:0}function uO(t,e){if(!t||t==="none")return cO(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=ZDe,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QDe,i=a}if(!i)return cO(e);const s=r[e],o=i[1].split(",").map(e8e);return typeof s=="function"?s(o):o[s]}const JDe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return uO(n,e)};function e8e(t){return parseFloat(t.trim())}const Ug=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vg=new Set(Ug),TV=t=>t===Fg||t===Dt,t8e=new Set(["x","y","z"]),n8e=Ug.filter(t=>!t8e.has(t));function r8e(t){const e=[];return n8e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Eh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uO(e,"x"),y:(t,{transform:e})=>uO(e,"y")};Eh.translateX=Eh.x;Eh.translateY=Eh.y;const Sh=new Set;let fO=!1,hO=!1,dO=!1;function lJ(){if(hO){const t=Array.from(Sh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=r8e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hO=!1,fO=!1,Sh.forEach(t=>t.complete(dO)),Sh.clear()}function cJ(){Sh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hO=!0)})}function i8e(){dO=!0,cJ(),lJ(),dO=!1}class jk{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Sh.add(this),fO||(fO=!0,Lr.read(cJ),Lr.resolveKeyframes(lJ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}XDe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Sh.delete(this)}cancel(){this.state==="scheduled"&&(Sh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const s8e=t=>t.startsWith("--");function o8e(t,e,n){s8e(e)?t.style.setProperty(e,n):t.style[e]=n}const a8e=Tk(()=>window.ScrollTimeline!==void 0),l8e={};function c8e(t,e){const n=Tk(t);return()=>l8e[e]??n()}const uJ=c8e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Um=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,_V={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Um([0,.65,.55,1]),circOut:Um([.55,0,1,.45]),backIn:Um([.31,.01,.66,-.59]),backOut:Um([.33,1.53,.69,.99])};function fJ(t,e){if(t)return typeof t=="function"?uJ()?sJ(t,e):"ease-out":YZ(t)?Um(t):Array.isArray(t)?t.map(n=>fJ(n,e)||_V.easeOut):_V[t]}function u8e(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const g={[e]:n};c&&(g.offset=c);const m=fJ(a,i);Array.isArray(m)&&(g.easing=m);const w={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(w.pseudoElement=u),t.animate(g,w)}function hJ(t){return typeof t=="function"&&"applyToOptions"in t}function f8e({type:t,...e}){return hJ(t)&&uJ()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class h8e extends Lk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Sk(typeof e.type!="string");const u=f8e(e);this.animation=u8e(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const g=Dk(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(g):o8e(n,r,g),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ml(Number(e))}get time(){return Ml(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=kl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&a8e()?(this.animation.timeline=e,ba):n(this)}}const dJ={anticipate:GZ,backInOut:$Z,circInOut:qZ};function d8e(t){return t in dJ}function p8e(t){typeof t.ease=="string"&&d8e(t.ease)&&(t.ease=dJ[t.ease])}const CV=10;class g8e extends h8e{constructor(e){p8e(e),aJ(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Bk({...o,autoplay:!1}),c=kl(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-CV).value,a.sample(c).value,CV),a.stop()}}const IV=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ff.test(t)||t==="0")&&!t.startsWith("url("));function m8e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function y8e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=IV(i,e),a=IV(s,e);return!o||!a?!1:m8e(t)||(n==="spring"||hJ(n))&&r}function pO(t){t.duration=0,t.type}const v8e=new Set(["opacity","clipPath","filter","transform"]),w8e=Tk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x8e(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return w8e()&&n&&v8e.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const b8e=40;class A8e extends Lk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:g,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ao.now();const w={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:g,...m},A=g?.KeyframeResolver||jk;this.keyframeResolver=new A(a,(I,T,C)=>this.onKeyframesResolved(I,T,w,!C),c,u,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:g}=r;this.resolvedAt=Ao.now(),y8e(e,s,o,a)||((Hc.instantAnimations||!c)&&g?.(Dk(e,r,n)),e[0]=e[e.length-1],pO(r),r.repeat=0);const w={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>b8e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!u&&x8e(w)?new g8e({...w,element:w.motionValue.owner.current}):new Bk(w);A.finished.then(()=>this.notifyFinished()).catch(ba),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),i8e()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const E8e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S8e(t){const e=E8e.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function pJ(t,e,n=1){const[r,i]=S8e(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return LZ(o)?parseFloat(o):o}return Nk(i)?pJ(i,e,n+1):i}function Fk(t,e){return t?.[e]??t?.default??t}const gJ=new Set(["width","height","top","left","right","bottom",...Ug]),T8e={test:t=>t==="auto",parse:t=>t},mJ=t=>e=>e.test(t),yJ=[Fg,Dt,Dl,Nu,mDe,gDe,T8e],PV=t=>yJ.find(mJ(t));function _8e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jZ(t):!0}const C8e=new Set(["brightness","contrast","saturate","opacity"]);function I8e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ok)||[];if(!r)return t;const i=n.replace(r,"");let s=C8e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const P8e=/\b([a-z-]*)\(.*?\)/gu,gO={...ff,getAnimatableNone:t=>{const e=t.match(P8e);return e?e.map(I8e).join(" "):t}},NV={...Fg,transform:Math.round},N8e={rotate:Nu,rotateX:Nu,rotateY:Nu,rotateZ:Nu,scale:Rv,scaleX:Rv,scaleY:Rv,scaleZ:Rv,skew:Nu,skewX:Nu,skewY:Nu,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:my,originX:yV,originY:yV,originZ:Dt},Uk={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,backgroundPositionX:Dt,backgroundPositionY:Dt,...N8e,zIndex:NV,fillOpacity:my,strokeOpacity:my,numOctaves:NV},O8e={...Uk,color:Ei,backgroundColor:Ei,outlineColor:Ei,fill:Ei,stroke:Ei,borderColor:Ei,borderTopColor:Ei,borderRightColor:Ei,borderBottomColor:Ei,borderLeftColor:Ei,filter:gO,WebkitFilter:gO},vJ=t=>O8e[t];function wJ(t,e){let n=vJ(t);return n!==gO&&(n=ff),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const R8e=new Set(["auto","none","0"]);function k8e(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!R8e.has(s)&&yy(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=wJ(n,i)}class M8e extends jk{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Nk(u))){const g=pJ(u,n.current);g!==void 0&&(e[c]=g),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!gJ.has(r)||e.length!==2)return;const[i,s]=e,o=PV(i),a=PV(s);if(o!==a)if(TV(o)&&TV(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Eh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||_8e(e[i]))&&r.push(i);r.length&&k8e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Eh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Eh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,c])=>{e.getValue(a).set(c)}),this.resolveNoneKeyframes()}}function D8e(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const xJ=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bJ(t){return BZ(t)&&"offsetHeight"in t}const OV=30,L8e=t=>!isNaN(parseFloat(t));class B8e{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ao.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ao.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=L8e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _k);const r=this.events[e].add(n);return e==="change"?()=>{r(),Lr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ao.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>OV)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,OV);return FZ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pg(t,e){return new B8e(t,e)}const{schedule:Vk}=XZ(queueMicrotask,!1),Ba={x:!1,y:!1};function AJ(){return Ba.x||Ba.y}function j8e(t){return t==="x"||t==="y"?Ba[t]?null:(Ba[t]=!0,()=>{Ba[t]=!1}):Ba.x||Ba.y?null:(Ba.x=Ba.y=!0,()=>{Ba.x=Ba.y=!1})}function EJ(t,e){const n=D8e(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function RV(t){return!(t.pointerType==="touch"||AJ())}function F8e(t,e,n={}){const[r,i,s]=EJ(t,n),o=a=>{if(!RV(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const g=m=>{RV(m)&&(u(m),c.removeEventListener("pointerleave",g))};c.addEventListener("pointerleave",g,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const SJ=(t,e)=>e?t===e?!0:SJ(t,e.parentElement):!1,zk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,U8e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function V8e(t){return U8e.has(t.tagName)||t.tabIndex!==-1}const ew=new WeakSet;function kV(t){return e=>{e.key==="Enter"&&t(e)}}function yI(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const z8e=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=kV(()=>{if(ew.has(n))return;yI(n,"down");const i=kV(()=>{yI(n,"up")}),s=()=>yI(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function MV(t){return zk(t)&&!AJ()}function H8e(t,e,n={}){const[r,i,s]=EJ(t,n),o=a=>{const c=a.currentTarget;if(!MV(a))return;ew.add(c);const u=e(c,a),g=(A,I)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",w),ew.has(c)&&ew.delete(c),MV(A)&&typeof u=="function"&&u(A,{success:I})},m=A=>{g(A,c===window||c===document||n.useGlobalTarget||SJ(c,A.target))},w=A=>{g(A,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",w,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),bJ(a)&&(a.addEventListener("focus",u=>z8e(u,i)),!V8e(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function TJ(t){return BZ(t)&&"ownerSVGElement"in t}function $8e(t){return TJ(t)&&t.tagName==="svg"}const js=t=>!!(t&&t.getVelocity),G8e=[...yJ,Ei,ff],W8e=t=>G8e.find(mJ(t)),Hk=X.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class q8e extends X.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=bJ(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function K8e({children:t,isPresent:e,anchorX:n,root:r}){const i=X.useId(),s=X.useRef(null),o=X.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=X.useContext(Hk);return X.useInsertionEffect(()=>{const{width:c,height:u,top:g,left:m,right:w}=o.current;if(e||!s.current||!c||!u)return;const A=n==="left"?`left: ${m}`:`right: ${w}`;s.current.dataset.motionPopId=i;const I=document.createElement("style");a&&(I.nonce=a);const T=r??document.head;return T.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${A}px !important;
            top: ${g}px !important;
          }
        `),()=>{T.contains(I)&&T.removeChild(I)}},[e]),P.jsx(q8e,{isPresent:e,childRef:s,sizeRef:o,children:X.cloneElement(t,{ref:s})})}const Y8e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const u=xk(X8e),g=X.useId();let m=!0,w=X.useMemo(()=>(m=!1,{id:g,initial:e,isPresent:n,custom:i,onExitComplete:A=>{u.set(A,!0);for(const I of u.values())if(!I)return;r&&r()},register:A=>(u.set(A,!1),()=>u.delete(A))}),[n,u,r]);return s&&m&&(w={...w}),X.useMemo(()=>{u.forEach((A,I)=>u.set(I,!1))},[n]),X.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=P.jsx(K8e,{isPresent:n,anchorX:a,root:c,children:t})),P.jsx(_A.Provider,{value:w,children:t})};function X8e(){return new Map}function _J(t=!0){const e=X.useContext(_A);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=X.useId();X.useEffect(()=>{if(t)return i(s)},[t]);const o=X.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const kv=t=>t.key||"";function DV(t){const e=[];return X.Children.forEach(t,n=>{X.isValidElement(n)&&e.push(n)}),e}const Q8e=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[u,g]=_J(o),m=X.useMemo(()=>DV(t),[t]),w=o&&!u?[]:m.map(kv),A=X.useRef(!0),I=X.useRef(m),T=xk(()=>new Map),[C,R]=X.useState(m),[B,k]=X.useState(m);DZ(()=>{A.current=!1,I.current=m;for(let j=0;j<B.length;j++){const O=kv(B[j]);w.includes(O)?T.delete(O):T.get(O)!==!0&&T.set(O,!1)}},[B,w.length,w.join("-")]);const V=[];if(m!==C){let j=[...m];for(let O=0;O<B.length;O++){const M=B[O],U=kv(M);w.includes(U)||(j.splice(O,0,M),V.push(M))}return s==="wait"&&V.length&&(j=V),k(DV(j)),R(m),null}const{forceRender:D}=X.useContext(wk);return P.jsx(P.Fragment,{children:B.map(j=>{const O=kv(j),M=o&&!u?!1:m===B||w.includes(O),U=()=>{if(T.has(O))T.set(O,!0);else return;let K=!0;T.forEach(q=>{q||(K=!1)}),K&&(D?.(),k(I.current),o&&g?.(),r&&r())};return P.jsx(Y8e,{isPresent:M,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:M?void 0:U,anchorX:a,children:j},O)})})},CJ=X.createContext({strict:!1}),LV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gg={};for(const t in LV)gg[t]={isEnabled:e=>LV[t].some(n=>!!e[n])};function Z8e(t){for(const e in t)gg[e]={...gg[e],...t[e]}}const J8e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||J8e.has(t)}let IJ=t=>!Kx(t);function e6e(t){typeof t=="function"&&(IJ=e=>e.startsWith("on")?!Kx(e):t(e))}try{e6e(require("@emotion/is-prop-valid").default)}catch{}function t6e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(IJ(i)||n===!0&&Kx(i)||!e&&!Kx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const CA=X.createContext({});function IA(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vy(t){return typeof t=="string"||Array.isArray(t)}const $k=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gk=["initial",...$k];function PA(t){return IA(t.animate)||Gk.some(e=>vy(t[e]))}function PJ(t){return!!(PA(t)||t.variants)}function n6e(t,e){if(PA(t)){const{initial:n,animate:r}=t;return{initial:n===!1||vy(n)?n:void 0,animate:vy(r)?r:void 0}}return t.inherit!==!1?e:{}}function r6e(t){const{initial:e,animate:n}=n6e(t,X.useContext(CA));return X.useMemo(()=>({initial:e,animate:n}),[BV(e),BV(n)])}function BV(t){return Array.isArray(t)?t.join(" "):t}const wy={};function i6e(t){for(const e in t)wy[e]=t[e],Pk(e)&&(wy[e].isCSSVariable=!0)}function NJ(t,{layout:e,layoutId:n}){return Vg.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wy[t]||t==="opacity")}const s6e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o6e=Ug.length;function a6e(t,e,n){let r="",i=!0;for(let s=0;s<o6e;s++){const o=Ug[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=xJ(a,Uk[o]);if(!c){i=!1;const g=s6e[o]||o;r+=`${g}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Wk(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Vg.has(c)){o=!0;continue}else if(Pk(c)){i[c]=u;continue}else{const g=xJ(u,Uk[c]);c.startsWith("origin")?(a=!0,s[c]=g):r[c]=g}}if(e.transform||(o||n?r.transform=a6e(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:g=0}=s;r.transformOrigin=`${c} ${u} ${g}`}}const qk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OJ(t,e,n){for(const r in e)!js(e[r])&&!NJ(r,n)&&(t[r]=e[r])}function l6e({transformTemplate:t},e){return X.useMemo(()=>{const n=qk();return Wk(n,e,t),Object.assign({},n.vars,n.style)},[e])}function c6e(t,e){const n=t.style||{},r={};return OJ(r,n,t),Object.assign(r,l6e(t,e)),r}function u6e(t,e){const n={},r=c6e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const f6e={offset:"stroke-dashoffset",array:"stroke-dasharray"},h6e={offset:"strokeDashoffset",array:"strokeDasharray"};function d6e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?f6e:h6e;t[s.offset]=Dt.transform(-r);const o=Dt.transform(e),a=Dt.transform(n);t[s.array]=`${o} ${a}`}function RJ(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,u,g){if(Wk(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:w}=t;m.transform&&(w.transform=m.transform,delete m.transform),(w.transform||m.transformOrigin)&&(w.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&d6e(m,i,s,o,!1)}const kJ=()=>({...qk(),attrs:{}}),MJ=t=>typeof t=="string"&&t.toLowerCase()==="svg";function p6e(t,e,n,r){const i=X.useMemo(()=>{const s=kJ();return RJ(s,e,MJ(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};OJ(s,t.style,t),i.style={...s,...i.style}}return i}const g6e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kk(t){return typeof t!="string"||t.includes("-")?!1:!!(g6e.indexOf(t)>-1||/[A-Z]/u.test(t))}function m6e(t,e,n,{latestValues:r},i,s=!1){const a=(Kk(t)?p6e:u6e)(e,r,i,t),c=t6e(e,typeof t=="string",s),u=t!==X.Fragment?{...c,...a,ref:n}:{},{children:g}=e,m=X.useMemo(()=>js(g)?g.get():g,[g]);return X.createElement(t,{...u,children:m})}function jV(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Yk(t,e,n,r){if(typeof e=="function"){const[i,s]=jV(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=jV(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function tw(t){return js(t)?t.get():t}function y6e({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:v6e(n,r,i,t),renderState:e()}}function v6e(t,e,n,r){const i={},s=r(t,{});for(const w in s)i[w]=tw(s[w]);let{initial:o,animate:a}=t;const c=PA(t),u=PJ(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let g=n?n.initial===!1:!1;g=g||o===!1;const m=g?a:o;if(m&&typeof m!="boolean"&&!IA(m)){const w=Array.isArray(m)?m:[m];for(let A=0;A<w.length;A++){const I=Yk(t,w[A]);if(I){const{transitionEnd:T,transition:C,...R}=I;for(const B in R){let k=R[B];if(Array.isArray(k)){const V=g?k.length-1:0;k=k[V]}k!==null&&(i[B]=k)}for(const B in T)i[B]=T[B]}}}return i}const DJ=t=>(e,n)=>{const r=X.useContext(CA),i=X.useContext(_A),s=()=>y6e(t,e,r,i);return n?s():xk(s)};function Xk(t,e,n){const{style:r}=t,i={};for(const s in r)(js(r[s])||e.style&&js(e.style[s])||NJ(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const w6e=DJ({scrapeMotionValuesFromProps:Xk,createRenderState:qk});function LJ(t,e,n){const r=Xk(t,e,n);for(const i in t)if(js(t[i])||js(e[i])){const s=Ug.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const x6e=DJ({scrapeMotionValuesFromProps:LJ,createRenderState:kJ}),b6e=Symbol.for("motionComponentSymbol");function ip(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function A6e(t,e,n){return X.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ip(n)&&(n.current=r))},[e])}const Qk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),E6e="framerAppearId",BJ="data-"+Qk(E6e),jJ=X.createContext({});function S6e(t,e,n,r,i){const{visualElement:s}=X.useContext(CA),o=X.useContext(CJ),a=X.useContext(_A),c=X.useContext(Hk).reducedMotion,u=X.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const g=u.current,m=X.useContext(jJ);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&T6e(u.current,n,i,m);const w=X.useRef(!1);X.useInsertionEffect(()=>{g&&w.current&&g.update(n,a)});const A=n[BJ],I=X.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return DZ(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),I.current&&g.animationState&&g.animationState.animateChanges())}),X.useEffect(()=>{g&&(!I.current&&g.animationState&&g.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),I.current=!1),g.enteringChildren=void 0)}),g}function T6e(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:FJ(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ip(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:c,layoutRoot:u})}function FJ(t){if(t)return t.options.allowProjection!==!1?t.projection:FJ(t.parent)}function vI(t,{forwardMotionProps:e=!1}={},n,r){n&&Z8e(n);const i=Kk(t)?x6e:w6e;function s(a,c){let u;const g={...X.useContext(Hk),...a,layoutId:_6e(a)},{isStatic:m}=g,w=r6e(a),A=i(a,m);if(!m&&bk){C6e();const I=I6e(g);u=I.MeasureLayout,w.visualElement=S6e(t,A,g,r,I.ProjectionNode)}return P.jsxs(CA.Provider,{value:w,children:[u&&w.visualElement?P.jsx(u,{visualElement:w.visualElement,...g}):null,m6e(t,a,A6e(A,w.visualElement,c),A,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=X.forwardRef(s);return o[b6e]=t,o}function _6e({layoutId:t}){const e=X.useContext(wk).id;return e&&t!==void 0?e+"-"+t:t}function C6e(t,e){X.useContext(CJ).strict}function I6e(t){const{drag:e,layout:n}=gg;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function P6e(t,e){if(typeof Proxy>"u")return vI;const n=new Map,r=(s,o)=>vI(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,vI(o,void 0,t,e)),n.get(o))})}function UJ({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function N6e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function O6e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wI(t){return t===void 0||t===1}function mO({scale:t,scaleX:e,scaleY:n}){return!wI(t)||!wI(e)||!wI(n)}function Qf(t){return mO(t)||VJ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function VJ(t){return FV(t.x)||FV(t.y)}function FV(t){return t&&t!=="0%"}function Yx(t,e,n){const r=t-n,i=e*r;return n+i}function UV(t,e,n,r,i){return i!==void 0&&(t=Yx(t,i,r)),Yx(t,n,r)+e}function yO(t,e=0,n=1,r,i){t.min=UV(t.min,e,n,r,i),t.max=UV(t.max,e,n,r,i)}function zJ(t,{x:e,y:n}){yO(t.x,e.translate,e.scale,e.originPoint),yO(t.y,n.translate,n.scale,n.originPoint)}const VV=.999999999999,zV=1.0000000000001;function R6e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&op(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,zJ(t,o)),r&&Qf(s.latestValues)&&op(t,s.latestValues))}e.x<zV&&e.x>VV&&(e.x=1),e.y<zV&&e.y>VV&&(e.y=1)}function sp(t,e){t.min=t.min+e,t.max=t.max+e}function HV(t,e,n,r,i=.5){const s=$r(t.min,t.max,i);yO(t,e,n,s,r)}function op(t,e){HV(t.x,e.x,e.scaleX,e.scale,e.originX),HV(t.y,e.y,e.scaleY,e.scale,e.originY)}function HJ(t,e){return UJ(O6e(t.getBoundingClientRect(),e))}function k6e(t,e,n){const r=HJ(t,n),{scroll:i}=e;return i&&(sp(r.x,i.offset.x),sp(r.y,i.offset.y)),r}const $V=()=>({translate:0,scale:1,origin:0,originPoint:0}),ap=()=>({x:$V(),y:$V()}),GV=()=>({min:0,max:0}),pi=()=>({x:GV(),y:GV()}),vO={current:null},$J={current:!1};function M6e(){if($J.current=!0,!!bk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vO.current=t.matches;t.addEventListener("change",e),e()}else vO.current=!1}const D6e=new WeakMap;function L6e(t,e,n){for(const r in e){const i=e[r],s=n[r];if(js(i))t.addValue(r,i);else if(js(s))t.addValue(r,pg(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,pg(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const WV=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class B6e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ao.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Lr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=PA(n),this.isVariantNode=PJ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in m){const A=m[w];c[w]!==void 0&&js(A)&&A.set(c[w])}}mount(e){this.current=e,D6e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$J.current||M6e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vO.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),uf(this.notifyUpdate),uf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Vg.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Lr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gg){const n=gg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WV.length;r++){const i=WV[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=L6e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=pg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(LZ(r)||jZ(r))?r=parseFloat(r):!W8e(r)&&ff.test(n)&&(r=wJ(e,n)),this.setBaseTarget(e,js(r)?r.get():r)),js(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=Yk(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!js(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _k),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Vk.render(this.render)}}class GJ extends B6e{constructor(){super(...arguments),this.KeyframeResolver=M8e}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;js(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WJ(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function j6e(t){return window.getComputedStyle(t)}class F6e extends GJ{constructor(){super(...arguments),this.type="html",this.renderInstance=WJ}readValueFromInstance(e,n){if(Vg.has(n))return this.projection?.isProjecting?cO(n):JDe(e,n);{const r=j6e(e),i=(Pk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HJ(e,n)}build(e,n,r){Wk(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Xk(e,n,r)}}const qJ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function U6e(t,e,n,r){WJ(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(qJ.has(i)?i:Qk(i),e.attrs[i])}class V6e extends GJ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vg.has(n)){const r=vJ(n);return r&&r.default||0}return n=qJ.has(n)?n:Qk(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LJ(e,n,r)}build(e,n,r){RJ(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){U6e(e,n,r,i)}mount(e){this.isSVGTag=MJ(e.tagName),super.mount(e)}}const z6e=(t,e)=>Kk(t)?new V6e(e):new F6e(e,{allowProjection:t!==X.Fragment});function _p(t,e,n){const r=t.getProps();return Yk(r,e,n!==void 0?n:r.custom,t)}const wO=t=>Array.isArray(t);function H6e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,pg(n))}function $6e(t){return wO(t)?t[t.length-1]||0:t}function G6e(t,e){const n=_p(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=$6e(s[o]);H6e(t,o,a)}}function W6e(t){return!!(js(t)&&t.add)}function xO(t,e){const n=t.getValue("willChange");if(W6e(n))return n.add(e);if(!n&&Hc.WillChange){const r=new Hc.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function KJ(t){return t.props[BJ]}const q6e=t=>t!==null;function K6e(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(q6e),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Y6e={type:"spring",stiffness:500,damping:25,restSpeed:10},X6e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Q6e={type:"keyframes",duration:.8},Z6e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J6e=(t,{keyframes:e})=>e.length>2?Q6e:Vg.has(t)?t.startsWith("scale")?X6e(e[1]):Y6e:Z6e;function eLe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...g}){return!!Object.keys(g).length}const Zk=(t,e,n,r={},i,s)=>o=>{const a=Fk(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-kl(c);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:w=>{e.set(w),a.onUpdate&&a.onUpdate(w)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};eLe(a)||Object.assign(g,J6e(t,g)),g.duration&&(g.duration=kl(g.duration)),g.repeatDelay&&(g.repeatDelay=kl(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let m=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(pO(g),g.delay===0&&(m=!0)),(Hc.instantAnimations||Hc.skipAnimations)&&(m=!0,pO(g),g.delay=0),g.allowFlatten=!a.type&&!a.ease,m&&!s&&e.get()!==void 0){const w=K6e(g.keyframes,a);if(w!==void 0){Lr.update(()=>{g.onUpdate(w),g.onComplete()});return}}return a.isSync?new Bk(g):new A8e(g)};function tLe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function YJ(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const g in a){const m=t.getValue(g,t.latestValues[g]??null),w=a[g];if(w===void 0||u&&tLe(u,g))continue;const A={delay:n,...Fk(s||{},g)},I=m.get();if(I!==void 0&&!m.isAnimating&&!Array.isArray(w)&&w===I&&!A.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const R=KJ(t);if(R){const B=window.MotionHandoffAnimation(R,g,Lr);B!==null&&(A.startTime=B,T=!0)}}xO(t,g),m.start(Zk(g,m,w,t.shouldReduceMotion&&gJ.has(g)?{type:!1}:A,t,T));const C=m.animation;C&&c.push(C)}return o&&Promise.all(c).then(()=>{Lr.update(()=>{o&&G6e(t,o)})}),c}function XJ(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,g)=>u.sortNodePosition(g)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function bO(t,e,n={}){const r=_p(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(YJ(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:g,staggerDirection:m}=i;return nLe(t,e,c,u,g,m,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function nLe(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(bO(c,e,{...o,delay:n+(typeof r=="function"?0:r)+XJ(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function rLe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>bO(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=bO(t,e,n);else{const i=typeof e=="function"?_p(t,e,n.custom):e;r=Promise.all(YJ(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function QJ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const iLe=Gk.length;function ZJ(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZJ(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<iLe;n++){const r=Gk[n],i=t.props[r];(vy(i)||i===!1)&&(e[r]=i)}return e}const sLe=[...$k].reverse(),oLe=$k.length;function aLe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rLe(t,n,r)))}function lLe(t){let e=aLe(t),n=qV(),r=!0;const i=c=>(u,g)=>{const m=_p(t,g,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:w,transitionEnd:A,...I}=m;u={...u,...I,...A}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,g=ZJ(t.parent)||{},m=[],w=new Set;let A={},I=1/0;for(let C=0;C<oLe;C++){const R=sLe[C],B=n[R],k=u[R]!==void 0?u[R]:g[R],V=vy(k),D=R===c?B.isActive:null;D===!1&&(I=C);let j=k===g[R]&&k!==u[R]&&V;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),B.protectedKeys={...A},!B.isActive&&D===null||!k&&!B.prevProp||IA(k)||typeof k=="boolean")continue;const O=cLe(B.prevProp,k);let M=O||R===c&&B.isActive&&!j&&V||C>I&&V,U=!1;const K=Array.isArray(k)?k:[k];let q=K.reduce(i(R),{});D===!1&&(q={});const{prevResolvedValues:G={}}=B,$={...G,...q},ce=ae=>{M=!0,w.has(ae)&&(U=!0,w.delete(ae)),B.needsAnimating[ae]=!0;const re=t.getValue(ae);re&&(re.liveStyle=!1)};for(const ae in $){const re=q[ae],pe=G[ae];if(A.hasOwnProperty(ae))continue;let we=!1;wO(re)&&wO(pe)?we=!QJ(re,pe):we=re!==pe,we?re!=null?ce(ae):w.add(ae):re!==void 0&&w.has(ae)?ce(ae):B.protectedKeys[ae]=!0}B.prevProp=k,B.prevResolvedValues=q,B.isActive&&(A={...A,...q}),r&&t.blockInitialAnimation&&(M=!1);const J=j&&O;M&&(!J||U)&&m.push(...K.map(ae=>{const re={type:R};if(typeof ae=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,we=_p(pe,ae);if(pe.enteringChildren&&we){const{delayChildren:ue}=we.transition||{};re.delay=XJ(pe.enteringChildren,t,ue)}}return{animation:ae,options:re}}))}if(w.size){const C={};if(typeof u.initial!="boolean"){const R=_p(t,Array.isArray(u.initial)?u.initial[0]:u.initial);R&&R.transition&&(C.transition=R.transition)}w.forEach(R=>{const B=t.getBaseTarget(R),k=t.getValue(R);k&&(k.liveStyle=!0),C[R]=B??null}),m.push({animation:C})}let T=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(m):Promise.resolve()}function a(c,u){if(n[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,u)),n[c].isActive=u;const g=o(c);for(const m in n)n[m].protectedKeys={};return g}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=qV(),r=!0}}}function cLe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!QJ(e,t):!1}function Wf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qV(){return{animate:Wf(!0),whileInView:Wf(),whileHover:Wf(),whileTap:Wf(),whileDrag:Wf(),whileFocus:Wf(),exit:Wf()}}class bf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uLe extends bf{constructor(e){super(e),e.animationState||(e.animationState=lLe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();IA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fLe=0;class hLe extends bf{constructor(){super(...arguments),this.id=fLe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dLe={animation:{Feature:uLe},exit:{Feature:hLe}};function xy(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Jy(t){return{point:{x:t.pageX,y:t.pageY}}}const pLe=t=>e=>zk(e)&&t(e,Jy(e));function a0(t,e,n,r){return xy(t,e,pLe(n),r)}const JJ=1e-4,gLe=1-JJ,mLe=1+JJ,eee=.01,yLe=0-eee,vLe=0+eee;function ro(t){return t.max-t.min}function wLe(t,e,n){return Math.abs(t-e)<=n}function KV(t,e,n,r=.5){t.origin=r,t.originPoint=$r(e.min,e.max,t.origin),t.scale=ro(n)/ro(e),t.translate=$r(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gLe&&t.scale<=mLe||isNaN(t.scale))&&(t.scale=1),(t.translate>=yLe&&t.translate<=vLe||isNaN(t.translate))&&(t.translate=0)}function l0(t,e,n,r){KV(t.x,e.x,n.x,r?r.originX:void 0),KV(t.y,e.y,n.y,r?r.originY:void 0)}function YV(t,e,n){t.min=n.min+e.min,t.max=t.min+ro(e)}function xLe(t,e,n){YV(t.x,e.x,n.x),YV(t.y,e.y,n.y)}function XV(t,e,n){t.min=e.min-n.min,t.max=t.min+ro(e)}function c0(t,e,n){XV(t.x,e.x,n.x),XV(t.y,e.y,n.y)}function fa(t){return[t("x"),t("y")]}const tee=({current:t})=>t?t.ownerDocument.defaultView:null,QV=(t,e)=>Math.abs(t-e);function bLe(t,e){const n=QV(t.x,e.x),r=QV(t.y,e.y);return Math.sqrt(n**2+r**2)}class nee{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=bI(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,I=bLe(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!I)return;const{point:T}=w,{timestamp:C}=ds;this.history.push({...T,timestamp:C});const{onStart:R,onMove:B}=this.handlers;A||(R&&R(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,w)},this.handlePointerMove=(w,A)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=xI(A,this.transformPagePoint),Lr.update(this.updatePoint,!0)},this.handlePointerUp=(w,A)=>{this.end();const{onEnd:I,onSessionEnd:T,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=bI(w.type==="pointercancel"?this.lastMoveEventInfo:xI(A,this.transformPagePoint),this.history);this.startEvent&&I&&I(w,R),T&&T(w,R)},!zk(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Jy(e),c=xI(a,this.transformPagePoint),{point:u}=c,{timestamp:g}=ds;this.history=[{...u,timestamp:g}];const{onSessionStart:m}=n;m&&m(e,bI(c,this.history)),this.removeListeners=Xy(a0(this.contextWindow,"pointermove",this.handlePointerMove),a0(this.contextWindow,"pointerup",this.handlePointerUp),a0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uf(this.updatePoint)}}function xI(t,e){return e?{point:e(t.point)}:t}function ZV(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bI({point:t},e){return{point:t,delta:ZV(t,ree(e)),offset:ZV(t,ALe(e)),velocity:ELe(e,.1)}}function ALe(t){return t[0]}function ree(t){return t[t.length-1]}function ELe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ree(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>kl(e)));)n--;if(!r)return{x:0,y:0};const s=Ml(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function SLe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$r(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$r(n,t,r.max):Math.min(t,n)),t}function JV(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TLe(t,{top:e,left:n,bottom:r,right:i}){return{x:JV(t.x,n,i),y:JV(t.y,e,r)}}function ez(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _Le(t,e){return{x:ez(t.x,e.x),y:ez(t.y,e.y)}}function CLe(t,e){let n=.5;const r=ro(t),i=ro(e);return i>r?n=gy(e.min,e.max-r,t.min):r>i&&(n=gy(t.min,t.max-i,e.min)),zc(0,1,n)}function ILe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const AO=.35;function PLe(t=AO){return t===!1?t=0:t===!0&&(t=AO),{x:tz(t,"left","right"),y:tz(t,"top","bottom")}}function tz(t,e,n){return{min:nz(t,e),max:nz(t,n)}}function nz(t,e){return typeof t=="number"?t:t[e]||0}const NLe=new WeakMap;class OLe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jy(m).point)},o=(m,w)=>{const{drag:A,dragPropagation:I,onDragStart:T}=this.getProps();if(A&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j8e(A),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fa(R=>{let B=this.getAxisMotionValue(R).get()||0;if(Dl.test(B)){const{projection:k}=this.visualElement;if(k&&k.layout){const V=k.layout.layoutBox[R];V&&(B=ro(V)*(parseFloat(B)/100))}}this.originPoint[R]=B}),T&&Lr.postRender(()=>T(m,w)),xO(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},a=(m,w)=>{this.latestPointerEvent=m,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:I,onDirectionLock:T,onDrag:C}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:R}=w;if(I&&this.currentDirection===null){this.currentDirection=RLe(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,R),this.updateAxis("y",w.point,R),this.visualElement.render(),C&&C(m,w)},c=(m,w)=>{this.latestPointerEvent=m,this.latestPanInfo=w,this.stop(m,w),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>fa(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new nee(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:tee(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Lr.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Mv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=SLe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&ip(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=TLe(r.layoutBox,e):this.constraints=!1,this.elastic=PLe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fa(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ILe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ip(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=k6e(r,i.root,this.visualElement.getTransformPagePoint());let o=_Le(i.layout.layoutBox,s);if(n){const a=n(N6e(o));this.hasMutatedConstraints=!!a,a&&(o=UJ(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=fa(g=>{if(!Mv(g,n,this.currentDirection))return;let m=c&&c[g]||{};o&&(m={min:0,max:0});const w=i?200:1e6,A=i?40:1e7,I={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(g,I)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return xO(this.visualElement,e),r.start(Zk(e,r,0,n,this.visualElement,!1))}stopAnimation(){fa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fa(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fa(n=>{const{drag:r}=this.getProps();if(!Mv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-$r(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ip(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fa(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=CLe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fa(o=>{if(!Mv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set($r(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;NLe.set(this.visualElement,this);const e=this.visualElement.current,n=a0(e,"pointerdown",c=>{const{drag:u,dragListener:g=!0}=this.getProps();u&&g&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ip(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Lr.read(r);const o=xy(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(fa(g=>{const m=this.getAxisMotionValue(g);m&&(this.originPoint[g]+=c[g].translate,m.set(m.get()+c[g].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=AO,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Mv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function RLe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kLe extends bf{constructor(e){super(e),this.removeGroupControls=ba,this.removeListeners=ba,this.controls=new OLe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ba}unmount(){this.removeGroupControls(),this.removeListeners()}}const rz=t=>(e,n)=>{t&&Lr.postRender(()=>t(e,n))};class MLe extends bf{constructor(){super(...arguments),this.removePointerDownListener=ba}onPointerDown(e){this.session=new nee(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tee(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:rz(e),onStart:rz(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Lr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=a0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iz(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _m={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Dt.test(t))t=parseFloat(t);else return t;const n=iz(t,e.target.x),r=iz(t,e.target.y);return`${n}% ${r}%`}},DLe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ff.parse(t);if(i.length>5)return r;const s=ff.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=$r(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let AI=!1;class LLe extends X.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;i6e(BLe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),AI&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),nw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,AI=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Lr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Vk.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;AI=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iee(t){const[e,n]=_J(),r=X.useContext(wk);return P.jsx(LLe,{...t,layoutGroup:r,switchLayoutGroup:X.useContext(jJ),isPresent:e,safeToRemove:n})}const BLe={borderRadius:{..._m,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_m,borderTopRightRadius:_m,borderBottomLeftRadius:_m,borderBottomRightRadius:_m,boxShadow:DLe};function jLe(t,e,n){const r=js(t)?t:pg(t);return r.start(Zk("",r,e,n)),r.animation}const FLe=(t,e)=>t.depth-e.depth;class ULe{constructor(){this.children=[],this.isDirty=!1}add(e){Ak(this.children,e),this.isDirty=!0}remove(e){Ek(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FLe),this.isDirty=!1,this.children.forEach(e)}}function VLe(t,e){const n=Ao.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(uf(r),t(s-e))};return Lr.setup(r,!0),()=>uf(r)}const see=["TopLeft","TopRight","BottomLeft","BottomRight"],zLe=see.length,sz=t=>typeof t=="string"?parseFloat(t):t,oz=t=>typeof t=="number"||Dt.test(t);function HLe(t,e,n,r,i,s){i?(t.opacity=$r(0,n.opacity??1,$Le(r)),t.opacityExit=$r(e.opacity??1,0,GLe(r))):s&&(t.opacity=$r(e.opacity??1,n.opacity??1,r));for(let o=0;o<zLe;o++){const a=`border${see[o]}Radius`;let c=az(e,a),u=az(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||oz(c)===oz(u)?(t[a]=Math.max($r(sz(c),sz(u),r),0),(Dl.test(u)||Dl.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=$r(e.rotate||0,n.rotate||0,r))}function az(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $Le=oee(0,.5,WZ),GLe=oee(.5,.95,ba);function oee(t,e,n){return r=>r<t?0:r>e?1:n(gy(t,e,r))}function lz(t,e){t.min=e.min,t.max=e.max}function ua(t,e){lz(t.x,e.x),lz(t.y,e.y)}function cz(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function uz(t,e,n,r,i){return t-=e,t=Yx(t,1/n,r),i!==void 0&&(t=Yx(t,1/i,r)),t}function WLe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Dl.test(e)&&(e=parseFloat(e),e=$r(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=$r(s.min,s.max,r);t===s&&(a-=e),t.min=uz(t.min,e,n,a,i),t.max=uz(t.max,e,n,a,i)}function fz(t,e,[n,r,i],s,o){WLe(t,e[n],e[r],e[i],e.scale,s,o)}const qLe=["x","scaleX","originX"],KLe=["y","scaleY","originY"];function hz(t,e,n,r){fz(t.x,e,qLe,n?n.x:void 0,r?r.x:void 0),fz(t.y,e,KLe,n?n.y:void 0,r?r.y:void 0)}function dz(t){return t.translate===0&&t.scale===1}function aee(t){return dz(t.x)&&dz(t.y)}function pz(t,e){return t.min===e.min&&t.max===e.max}function YLe(t,e){return pz(t.x,e.x)&&pz(t.y,e.y)}function gz(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lee(t,e){return gz(t.x,e.x)&&gz(t.y,e.y)}function mz(t){return ro(t.x)/ro(t.y)}function yz(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class XLe{constructor(){this.members=[]}add(e){Ak(this.members,e),e.scheduleRender()}remove(e){if(Ek(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QLe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:g,rotateX:m,rotateY:w,skewX:A,skewY:I}=n;u&&(r=`perspective(${u}px) ${r}`),g&&(r+=`rotate(${g}deg) `),m&&(r+=`rotateX(${m}deg) `),w&&(r+=`rotateY(${w}deg) `),A&&(r+=`skewX(${A}deg) `),I&&(r+=`skewY(${I}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const EI=["","X","Y","Z"],ZLe=1e3;let JLe=0;function SI(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cee(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=KJ(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Lr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cee(r)}function uee({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=JLe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(n5e),this.nodes.forEach(o5e),this.nodes.forEach(a5e),this.nodes.forEach(r5e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ULe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _k),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=TJ(o)&&!$8e(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let g,m=0;const w=()=>this.root.updateBlockedByResize=!1;Lr.read(()=>{m=window.innerWidth}),t(o,()=>{const A=window.innerWidth;A!==m&&(m=A,this.root.updateBlockedByResize=!0,g&&g(),g=VLe(w,250),nw.hasAnimatedSinceResize&&(nw.hasAnimatedSinceResize=!1,this.nodes.forEach(xz)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:m,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||u.getDefaultTransition()||h5e,{onLayoutAnimationStart:T,onLayoutAnimationComplete:C}=u.getProps(),R=!this.targetLayout||!lee(this.targetLayout,A),B=!m&&w;if(this.options.layoutRoot||this.resumeFrom||B||m&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Fk(I,"layout"),onPlay:T,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(g,B)}else m||xz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),uf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(l5e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cee(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const m=this.path[g];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vz);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wz);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(s5e),this.nodes.forEach(e5e),this.nodes.forEach(t5e)):this.nodes.forEach(wz),this.clearAllSnapshots();const a=Ao.now();ds.delta=zc(0,1e3/60,a-ds.timestamp),ds.timestamp=a,ds.isProcessing=!0,hI.update.process(ds),hI.preRender.process(ds),hI.render.process(ds),ds.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i5e),this.sharedNodes.forEach(c5e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ro(this.snapshot.measuredBox.x)&&!ro(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!aee(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,g=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Qf(this.latestValues)||g)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),d5e(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return pi();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(p5e))){const{scroll:u}=this.root;u&&(sp(a.x,u.offset.x),sp(a.y,u.offset.y))}return a}removeElementScroll(o){const a=pi();if(ua(a,o),this.scroll?.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:g,options:m}=u;u!==this.root&&g&&m.layoutScroll&&(g.wasRoot&&ua(a,o),sp(a.x,g.offset.x),sp(a.y,g.offset.y))}return a}applyTransform(o,a=!1){const c=pi();ua(c,o);for(let u=0;u<this.path.length;u++){const g=this.path[u];!a&&g.options.layoutScroll&&g.scroll&&g!==g.root&&op(c,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Qf(g.latestValues)&&op(c,g.latestValues)}return Qf(this.latestValues)&&op(c,this.latestValues),c}removeTransform(o){const a=pi();ua(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Qf(u.latestValues))continue;mO(u.latestValues)&&u.updateSnapshot();const g=pi(),m=u.measurePageBox();ua(g,m),hz(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,g)}return Qf(this.latestValues)&&hz(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ds.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:m}=this.options;if(!(!this.layout||!(g||m))){if(this.resolvedRelativeTargetAt=ds.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pi(),this.relativeTargetOrigin=pi(),c0(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ua(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pi(),this.targetWithTransforms=pi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xLe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ua(this.target,this.layout.layoutBox),zJ(this.target,this.targetDelta)):ua(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pi(),this.relativeTargetOrigin=pi(),c0(this.relativeTargetOrigin,this.target,w.target),ua(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mO(this.parent.latestValues)||VJ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ds.timestamp&&(c=!1),c)return;const{layout:u,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||g))return;ua(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,w=this.treeScale.y;R6e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pi());const{target:A}=o;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cz(this.prevProjectionDelta.x,this.projectionDelta.x),cz(this.prevProjectionDelta.y,this.projectionDelta.y)),l0(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==w||!yz(this.projectionDelta.x,this.prevProjectionDelta.x)||!yz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ap(),this.projectionDelta=ap(),this.projectionDeltaWithTransform=ap()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},g={...this.latestValues},m=ap();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const w=pi(),A=c?c.source:void 0,I=this.layout?this.layout.source:void 0,T=A!==I,C=this.getStack(),R=!C||C.members.length<=1,B=!!(T&&!R&&this.options.crossfade===!0&&!this.path.some(f5e));this.animationProgress=0;let k;this.mixTargetDelta=V=>{const D=V/1e3;bz(m.x,o.x,D),bz(m.y,o.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(c0(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),u5e(this.relativeTarget,this.relativeTargetOrigin,w,D),k&&YLe(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=pi()),ua(k,this.relativeTarget)),T&&(this.animationValues=g,HLe(g,u,this.latestValues,D,B,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(uf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lr.update(()=>{nw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pg(0)),this.currentAnimation=jLe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZLe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:g}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&fee(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||pi();const m=ro(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const w=ro(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+w}ua(a,c),op(a,g),l0(this.projectionDeltaWithTransform,this.layoutCorrected,a,g)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new XLe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&SI("z",o,u,this.animationValues);for(let g=0;g<EI.length;g++)SI(`rotate${EI[g]}`,o,u,this.animationValues),SI(`skew${EI[g]}`,o,u,this.animationValues);o.render();for(const g in u)o.setStaticValue(g,u[g]),this.animationValues&&(this.animationValues[g]=u[g]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=tw(a?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=tw(a?.pointerEvents)||""),this.hasProjected&&!Qf(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const g=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=QLe(this.projectionDeltaWithTransform,this.treeScale,g);c&&(m=c(g,m)),o.transform=m;const{x:w,y:A}=this.projectionDelta;o.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,u.animationValues?o.opacity=u===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:o.opacity=u===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in wy){if(g[I]===void 0)continue;const{correct:T,applyTo:C,isCSSVariable:R}=wy[I],B=m==="none"?g[I]:T(g[I],u);if(C){const k=C.length;for(let V=0;V<k;V++)o[C[V]]=B}else R?this.options.visualElement.renderState.vars[I]=B:o[I]=B}this.options.layoutId&&(o.pointerEvents=u===this?tw(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(vz),this.root.sharedNodes.clear()}}}function e5e(t){t.updateLayout()}function t5e(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?fa(g=>{const m=s?e.measuredBox[g]:e.layoutBox[g],w=ro(m);m.min=n[g].min,m.max=m.min+w}):fee(i,e.layoutBox,n)&&fa(g=>{const m=s?e.measuredBox[g]:e.layoutBox[g],w=ro(n[g]);m.max=m.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const o=ap();l0(o,n,e.layoutBox);const a=ap();s?l0(a,t.applyTransform(r,!0),e.measuredBox):l0(a,n,e.layoutBox);const c=!aee(o);let u=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:m,layout:w}=g;if(m&&w){const A=pi();c0(A,e.layoutBox,m.layoutBox);const I=pi();c0(I,n,w.layoutBox),lee(A,I)||(u=!0),g.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function n5e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function r5e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function i5e(t){t.clearSnapshot()}function vz(t){t.clearMeasurements()}function wz(t){t.isLayoutDirty=!1}function s5e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xz(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o5e(t){t.resolveTargetDelta()}function a5e(t){t.calcProjection()}function l5e(t){t.resetSkewAndRotation()}function c5e(t){t.removeLeadSnapshot()}function bz(t,e,n){t.translate=$r(e.translate,0,n),t.scale=$r(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Az(t,e,n,r){t.min=$r(e.min,n.min,r),t.max=$r(e.max,n.max,r)}function u5e(t,e,n,r){Az(t.x,e.x,n.x,r),Az(t.y,e.y,n.y,r)}function f5e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const h5e={duration:.45,ease:[.4,0,.1,1]},Ez=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Sz=Ez("applewebkit/")&&!Ez("chrome/")?Math.round:ba;function Tz(t){t.min=Sz(t.min),t.max=Sz(t.max)}function d5e(t){Tz(t.x),Tz(t.y)}function fee(t,e,n){return t==="position"||t==="preserve-aspect"&&!wLe(mz(e),mz(n),.2)}function p5e(t){return t!==t.root&&t.scroll?.wasRoot}const g5e=uee({attachResizeListener:(t,e)=>xy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),TI={current:void 0},hee=uee({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!TI.current){const t=new g5e({});t.mount(window),t.setOptions({layoutScroll:!0}),TI.current=t}return TI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),m5e={pan:{Feature:MLe},drag:{Feature:kLe,ProjectionNode:hee,MeasureLayout:iee}};function _z(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Lr.postRender(()=>s(e,Jy(e)))}class y5e extends bf{mount(){const{current:e}=this.node;e&&(this.unmount=F8e(e,(n,r)=>(_z(this.node,r,"Start"),i=>_z(this.node,i,"End"))))}unmount(){}}class v5e extends bf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xy(xy(this.node.current,"focus",()=>this.onFocus()),xy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Cz(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Lr.postRender(()=>s(e,Jy(e)))}class w5e extends bf{mount(){const{current:e}=this.node;e&&(this.unmount=H8e(e,(n,r)=>(Cz(this.node,r,"Start"),(i,{success:s})=>Cz(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const EO=new WeakMap,_I=new WeakMap,x5e=t=>{const e=EO.get(t.target);e&&e(t)},b5e=t=>{t.forEach(x5e)};function A5e({root:t,...e}){const n=t||document;_I.has(n)||_I.set(n,{});const r=_I.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(b5e,{root:t,...e})),r[i]}function E5e(t,e,n){const r=A5e(e);return EO.set(t,n),r.observe(t),()=>{EO.delete(t),r.unobserve(t)}}const S5e={some:0,all:1};class T5e extends bf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:S5e[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:g,onViewportLeave:m}=this.node.getProps(),w=u?g:m;w&&w(c)};return E5e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_5e(e,n))&&this.startObserver()}unmount(){}}function _5e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const C5e={inView:{Feature:T5e},tap:{Feature:w5e},focus:{Feature:v5e},hover:{Feature:y5e}},I5e={layout:{ProjectionNode:hee,MeasureLayout:iee}},P5e={...dLe,...C5e,...m5e,...I5e},N5e=P6e(P5e,z6e);function O5e({isVisible:t,onClose:e}){const[n,r]=X.useState(0),i=[{crop:"Tomato",trend:"up",price:2800,change:"+15%",message:"Prices rising due to cold storage shortage. Good time to sell!",icon:"🍅"},{crop:"Rice",trend:"up",price:2650,change:"+8%",message:"High demand in urban markets. Export opportunities available.",icon:"🌾"},{crop:"Onion",trend:"down",price:1100,change:"-5%",message:"Oversupply in market. Consider cold storage options.",icon:"🧅"}];X.useEffect(()=>{if(!t)return;const o=setInterval(()=>{r(a=>(a+1)%i.length)},5e3);return()=>clearInterval(o)},[t,i.length]);const s=i[n];return P.jsx(Q8e,{children:t&&P.jsx(N5e.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},className:"fixed bottom-4 right-4 z-50 max-w-sm",children:P.jsx(Pn,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border-green-200 dark:border-green-800 shadow-lg",children:P.jsxs(Ln,{className:"p-4",children:[P.jsxs("div",{className:"flex items-start justify-between",children:[P.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[P.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900 dark:to-emerald-900 flex items-center justify-center",children:P.jsx(Jse,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[P.jsx("span",{className:"text-lg",children:s.icon}),P.jsxs("h4",{className:"font-semibold text-green-800 dark:text-green-200",children:[s.crop," Price Alert"]}),P.jsxs("div",{className:"flex items-center gap-1",children:[s.trend==="up"?P.jsx(pc,{className:"w-3 h-3 text-green-600"}):P.jsx(i$,{className:"w-3 h-3 text-red-600"}),P.jsx("span",{className:`text-xs font-medium ${s.trend==="up"?"text-green-600":"text-red-600"}`,children:s.change})]})]}),P.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[P.jsx(VO,{className:"w-4 h-4 text-muted-foreground"}),P.jsxs("span",{className:"font-bold text-lg text-foreground",children:["₹",s.price.toLocaleString()]}),P.jsx("span",{className:"text-sm text-muted-foreground",children:"per quintal"})]}),P.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:s.message}),P.jsx(Vt,{size:"sm",className:"w-full bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-700 hover:to-emerald-600 text-white",children:"View Details"})]})]}),P.jsx(Vt,{variant:"ghost",size:"sm",onClick:e,className:"flex-shrink-0 h-6 w-6 p-0 hover:bg-red-100 dark:hover:bg-red-900",children:P.jsx(HO,{className:"w-3 h-3"})})]}),P.jsx("div",{className:"flex gap-1 mt-3",children:i.map((o,a)=>P.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors ${a===n?"bg-green-600":"bg-gray-200 dark:bg-gray-700"}`},a))})]})})})})}var R5e=(t,e,n,r,i,s,o,a)=>{let c=document.documentElement,u=["light","dark"];function g(A){(Array.isArray(t)?t:[t]).forEach(I=>{let T=I==="class",C=T&&s?i.map(R=>s[R]||R):i;T?(c.classList.remove(...C),c.classList.add(s&&s[A]?s[A]:A)):c.setAttribute(I,A)}),m(A)}function m(A){a&&u.includes(A)&&(c.style.colorScheme=A)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let A=localStorage.getItem(e)||n,I=o&&A==="system"?w():A;g(I)}catch{}},k5e=X.createContext(void 0),M5e={setTheme:t=>{},themes:[]},D5e=()=>{var t;return(t=X.useContext(k5e))!=null?t:M5e};X.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:c,scriptProps:u})=>{let g=JSON.stringify([n,e,s,t,a,o,r,i]).slice(1,-1);return X.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${R5e.toString()})(${g})`}})});const L5e=({...t})=>{const{theme:e="system"}=D5e();return P.jsx(V4e,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function B5e(){const[t,e]=X.useState({currentPage:"home",selectedRole:null,isAuthenticated:!1,userData:null}),[n,r]=X.useState(!1);X.useEffect(()=>{const w=Ege(async A=>{if(A)try{const I=await Sge(A.uid);I&&e(T=>({...T,isAuthenticated:!0,userData:I,selectedRole:I.role,currentPage:"dashboard"}))}catch(I){console.error("Error fetching user data:",I)}else e(I=>({...I,isAuthenticated:!1,userData:null,selectedRole:null,currentPage:"home"}))});return()=>w()},[]),X.useEffect(()=>{if(t.selectedRole==="farmer"&&t.isAuthenticated){const w=setTimeout(()=>{r(!0)},3e3);return()=>clearTimeout(w)}else r(!1)},[t.selectedRole,t.isAuthenticated]);const i=w=>{e(w==="customer"?{...t,selectedRole:w,currentPage:"qr-scanner"}:{...t,selectedRole:w,currentPage:"login"})},s=async(w,A)=>{try{Wt.loading("Signing you in...",{id:"auth-loading"}),await eq(w,A),Wt.dismiss("auth-loading"),Wt.success("Welcome back! You're now logged in.",{duration:4e3,style:{background:"var(--forest-green)",color:"white",border:"1px solid var(--deep-green)"}})}catch(I){Wt.dismiss("auth-loading"),Wt.error(`Login failed: ${I.message}`,{duration:5e3})}},o=async w=>{try{Wt.loading("Creating your account...",{id:"signup-loading"}),await bge(w.email,w.password,{role:t.selectedRole,name:w.name,phone:w.mobile,address:w.address||`${w.village||""}, ${w.district||""}, ${w.state||""}`.replace(/^,\s*|,\s*$/g,"")}),Wt.dismiss("signup-loading"),Wt.success(`🎉 Account created successfully! Welcome to KrishiChain, ${w.name}!`,{duration:5e3,style:{background:"var(--forest-green)",color:"white",border:"1px solid var(--deep-green)"}})}catch(A){Wt.dismiss("signup-loading"),Wt.error(`Signup failed: ${A.message}`,{duration:5e3})}},a=async()=>{try{await Age(),e({currentPage:"home",selectedRole:null,isAuthenticated:!1,userData:null})}catch(w){console.error("Logout error:",w)}},c=()=>{e({currentPage:"home",selectedRole:null,isAuthenticated:!1,userData:null})},u=()=>{e({...t,currentPage:"signup"})},g=()=>{e({...t,currentPage:"login"})},m=()=>{switch(t.currentPage){case"home":return P.jsx(J1,{onRoleSelect:i});case"login":return P.jsx(Tge,{role:t.selectedRole,onBack:c,onLogin:s,onSignupRedirect:u});case"signup":return P.jsx(_ge,{role:t.selectedRole,onBack:c,onSignup:o,onLoginRedirect:g});case"dashboard":if(!t.isAuthenticated)return P.jsx(J1,{onRoleSelect:i});switch(t.selectedRole){case"farmer":return P.jsx(z4e,{onLogout:a});case"distributor":return P.jsx($4e,{onLogout:a});case"retailer":return P.jsx(G4e,{onLogout:a});default:return P.jsx(J1,{onRoleSelect:i})}case"qr-scanner":return P.jsx(Y4e,{onBack:c});default:return P.jsx(J1,{onRoleSelect:i})}};return P.jsx(hte,{children:P.jsx(gte,{children:P.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[m(),P.jsx(X4e,{}),P.jsx(O5e,{isVisible:n,onClose:()=>r(!1)}),P.jsx(L5e,{position:"top-right",richColors:!0,closeButton:!0})]})})})}fte.createRoot(document.getElementById("root")).render(P.jsx(B5e,{}));
